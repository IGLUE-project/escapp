<script type="text/javascript">
  window.SCENE_MAKER_OPTIONS = (function(){
    var options = {};

    var configuration = {};
    //Paths
    configuration["ImagesPath"] = "/scene_maker/images/";
    configuration["StylesheetsPath"] = "/scene_maker/stylesheets/";
    configuration["PreviewPath"] = "/scene_maker/preview";
    configuration["UploadScenePath"] = "/escapeRooms/<%= escapeRoomId %>/scenes";
    options["configuration"] = configuration;

    // Options to initialize Scene Maker
    options["developping"] = false;

    //Exit URL
    options.exitURL = window.location.origin + "/escapeRooms/<%= escapeRoomId %>/team";

    //Specify a default language
    options["lang"] = '<%=lang%>';

    //Specify number of puzzles (Only used by the editor)
    options["nPuzzles"] = parseInt('<%=nPuzzles%>');

    //Escapp client settings
    options["escapp"] = {
      endpoint: window.location.origin + "/api/escapeRooms/<%= escapeRoomId %>",
    };

    //User credentials
    options["user"] = {
      email: "<%=user.username%>", 
      token: "<%=user.token%>",
    }

    if((typeof window !== "undefined")&&(window.console) && (window.console.log)){
      console.log("Scene Maker options", options);
    }

    return options;
  })();
</script>