(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{136:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(70),s=n.n(i),r=(n(80),n(25)),l=n(39),c=n(26),p=n(27),m=n(29),u=n(28),d=n(30),h=n(19),g=n(40),f=n(71),b={en:{translation:{title:"Digital Lock",settings:"Settings",save:"Save",download:"Download",scormVersion:"SCORM Version",tip:"Guess the right code",config:{title:"Title",showUsername:"Show username",timeout:"Time limit",theme:"Theme",mode:"Puzzle type",tip:"Tip",escapp:"Are you using escapp to host your escape room?",escapeRoomId:"Escape Room",puzzleId:"Puzzle",Padlock:"Padlock",CombinationLock:"Combination Lock",answer:"Solution",puzzleLength:"Puzzle length",good:"Success message",bad:"Fail message",CombinationLockImage:"Picture",nonMetallic:"Metallic effect"},Symbol:"Symbol",AlphaNumeric:"Alphanumeric",CombinationLock:"Combination Lock",Padlock:"Padlock",Pattern:"Pattern"}},es:{translation:{title:"Candado digital",settings:"Configuraci\xf3n",save:"Guardar",download:"Descargar",scormVersion:"Versi\xf3n de SCORM",tip:"Adivina el c\xf3digo correcto",config:{title:"T\xedtulo",showUsername:"Mostrar usuario",timeout:"L\xedmite de tiempo",theme:"Tema",mode:"Tipo de reto",tip:"Mensaje de ayuda",escapp:"Vas a usar escapp para tu escape room?",escapeRoomId:"Escape Room",puzzleId:"Reto",Padlock:"Candado",CombinationLock:"Caja fuerte",answer:"Soluci\xf3n",puzzleLength:"N\xfamero de cifras",good:"Mensaje de \xe9xito",bad:"Mensaje de error",CombinationLockImage:"Imagen",nonMetallic:"Efecto met\xe1lico"},Symbol:"S\xedmbolo",AlphaNumeric:"Alfanum\xe9rico",CombinationLock:"Caja fuerte",Padlock:"Candado",Pattern:"Patr\xf3n"}}};g.a.use(f.a).init({whitelist:["es","en"],fallbackLng:"en",attributes:["t","i18n"],resources:b,debug:!1});var C=g.a,v=function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=[{name:"title",value:this.props.title,type:"text",callback:function(t){e.props.onConfigChange("title",t.target.value)}},{name:"timeout",value:this.props.timeout,type:"number",min:0,callback:function(t){e.props.onConfigChange("timeout",parseInt(t.target.value))}},{name:"theme",value:this.props.theme,type:"select",options:["cerulean","journal","sketchy","darkly","cyborg","cosmo","flatly","lumen","litera","lux","materia","minty","pulse","sandstone","simplex","slate","solar","spacelab","superhero","united","yeti"],callback:function(t){e.props.onConfigChange("theme",t.target.value)}},{name:"mode",value:this.props.mode,type:"select",options:["Symbol","AlphaNumeric","Pattern","Padlock"],callback:function(t){if(e.props.onConfigChange("mode",t.target.value),e.props.embeddedInEscapp){var n=e.props.escapeRoomId||e.props.erOptions[0].id,a=e.props.puzzleOptions[n][0],o=a.id;e.props.onConfigChange("escapeRoomId",n),e.props.onConfigChange("puzzleId",o),"Padlock"===e.props.mode||"CombinationLock"===e.props.mode?e.props.onConfigChange("answer",a.answer):(e.props.onConfigChange("puzzleLength",a.answer.length),e.props.onConfigChange("answer",void 0))}}},{name:"tip",value:this.props.tip,type:"text",callback:function(t){e.props.onConfigChange("tip",t.target.value)}}];return this.props.escapp?this.props.embeddedInEscapp?(t.push({name:"escapp",value:this.props.escapp,type:"checkbox",callback:function(){e.props.onConfigChange("escapp",!e.props.escapp)}}),t.push({name:"escapeRoomId",value:this.props.escapeRoomId||this.props.erOptions[0].id,type:"select",options:this.props.erOptions||[],callback:function(t){var n=parseInt(t.target.value),a=e.props.puzzleOptions[n][0],o=a.id;e.props.onConfigChange("escapeRoomId",n),e.props.onConfigChange("puzzleId",o),"Padlock"===e.props.mode||"CombinationLock"===e.props.mode?e.props.onConfigChange("answer",a.answer):(e.props.onConfigChange("puzzleLength",a.answer.length),e.props.onConfigChange("answer",void 0))}}),t.push({name:"puzzleId",friendlyName:"puzzleId",value:this.props.puzzleId||this.props.puzzleOptions[this.props.escapeRoomId||this.props.erOptions[0].id][0].id,type:"select",options:this.props.puzzleOptions[this.props.escapeRoomId]||[],callback:function(t){var n=parseInt(t.target.value);e.props.onConfigChange("puzzleId",n);var a=e.props.puzzleOptions[e.props.escapeRoomId||e.props.erOptions[0].id].find(function(e){return e.id===n});"Padlock"===e.props.mode||"CombinationLock"===e.props.mode?e.props.onConfigChange("answer",a.answer):(e.props.onConfigChange("puzzleLength",a.answer.length),e.props.onConfigChange("answer",void 0))}})):(t.push({name:"escapeRoomId",value:this.props.escapeRoomId,type:"number",min:0,callback:function(t){e.props.onConfigChange("escapeRoomId",parseInt(t.target.value))}}),t.push({name:"puzzleId",value:this.props.puzzleId,type:"number",min:0,callback:function(t){e.props.onConfigChange("puzzleId",parseInt(t.target.value))}}),"Padlock"===this.props.mode||"CombinationLock"===this.props.mode?t.push({name:"answer",value:this.props.answer,type:"text",callback:function(t){e.props.onConfigChange("answer",t.target.value)}}):t.push({name:"puzzleLength",value:this.props.puzzleLength,type:"number",min:0,callback:function(t){e.props.onConfigChange("puzzleLength",parseInt(t.target.value))}})):(t.push({name:"escapp",value:this.props.escapp,type:"checkbox",callback:function(){e.props.onConfigChange("escapp",!e.props.escapp)}}),t.push({name:"answer",value:this.props.answer,type:"text",callback:function(t){e.props.onConfigChange("answer",t.target.value)}}),t.push({name:"good",value:this.props.good,type:"text",callback:function(t){e.props.onConfigChange("good",t.target.value)}}),t.push({name:"bad",value:this.props.bad,type:"text",callback:function(t){e.props.onConfigChange("bad",t.target.value)}})),"CombinationLock"===this.props.mode?t.splice(5,0,{name:"CombinationLockImage",value:void 0,type:"file",callback:function(t){e.readFile(t.target.files[0],function(t){return e.props.onConfigChange("CombinationLockImage",t)},!0)}}):"Padlock"===this.props.mode&&t.splice(5,0,{name:"nonMetallic",value:!this.props.nonMetallic,type:"checkbox",callback:function(){e.props.onConfigChange("nonMetallic",!e.props.nonMetallic)}}),o.a.createElement("div",{className:"config"},t.map(function(e,t){return e?[o.a.createElement("div",{className:"form-group",key:e.name},o.a.createElement("label",{htmlFor:e.name},o.a.createElement("b",null,C.t("config."+e.name))),"select"===e.type?o.a.createElement("select",{name:e.name,onChange:e.callback,value:e.value},e.options.map(function(e){return"string"===typeof e?o.a.createElement("option",{key:e,value:e},C.t(e)):o.a.createElement("option",{key:e.id,value:e.id},e.name)})):o.a.createElement("input",{name:e.name,type:e.type,value:"file"===e.type?void 0:e.value,min:e.min,checked:e.value,onChange:e.callback})),e.noBreak?null:o.a.createElement("br",{key:"br-"+t})]:null}),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"scormVersion"},o.a.createElement("b",null,C.t("scormVersion"),":")),o.a.createElement("p",null),o.a.createElement("label",{htmlFor:"scormVersion"},"SCORM 1.2"),o.a.createElement("input",{name:"scormVersion",type:"radio",value:"1.2",checked:"1.2"===this.props.scormVersion,onChange:function(t){e.props.onConfigChange("scormVersion","1.2")}}),o.a.createElement("label",{htmlFor:"scormVersion"},"SCORM 2004"),o.a.createElement("input",{name:"scormVersion",type:"radio",value:"1.2",checked:"2004"===this.props.scormVersion,onChange:function(t){e.props.onConfigChange("scormVersion","2004")}})))}},{key:"readFile",value:function(e,t){try{var n=new FileReader;n.onload=function(e){return t(e.target.result)},n.onerror=function(e){return t("")},n.readAsDataURL(e)}catch(a){t("")}}}]),t}(a.Component),k=n(2),y=n(3),w=n(10),z=n(12),I=n(13),E=function(e){function t(){return Object(k.a)(this,t),Object(w.a)(this,Object(z.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:this.props.show?"modal":"modal hidden"},o.a.createElement("div",{className:"overlay"}),o.a.createElement("div",{className:"modal-body"},o.a.createElement("button",{className:"modal-close",onClick:this.props.hide},o.a.createElement("i",{className:"material-icons"},"close")),o.a.createElement("h2",null,"About"),o.a.createElement("br",{style:{clear:"both"}}),o.a.createElement("div",{className:"modal-content"},"This website allows you to customize your very own lock application and generate a SCORM package so you can upload it to your preferred LMS.    ",o.a.createElement("h4",null,"Author"),o.a.createElement("hr",null),"This project was developed by ",o.a.createElement("a",{href:"http://github.com/adelabat",rel:"noopener noreferrer",target:"_blank"},"@adelabat")," using ",o.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"https://github.com/agordillo/RESCORM"},"RESCORM"),".")))}}]),t}(a.Component),L=(n(82),n(72)),O=n.n(L),R=n(73),j=n.n(R),S=n(74),M=n.n(S),N=function(e){j.a.getBinaryContent("/apps/digitalLock"+("2004"===e.scormVersion?"/scorm2004.zip":"/scorm12.zip"),function(t,n){if(t)throw t;O.a.loadAsync(n).then(function(t){var n=function(e){var t=e.title,n=e.showUsername,a=e.timeout,o=e.tip,i=e.CombinationLockImage,s=e.mode,r=e.theme,l=e.good,c=e.bad,p=e.answer,m=e.escapp,u=e.puzzleId,d=e.escapeRoomId,h=e.puzzleLength,g=e.scormVersion,f=e.nonMetallic,b=e.PUBLIC_URL,C=JSON.stringify({title:t,showUsername:n,timeout:a,tip:o,CombinationLockImage:i,mode:s,theme:r,good:l,bad:c,answer:p,escapp:m,puzzleId:u,escapeRoomId:d,puzzleLength:h,scormVersion:g,nonMetallic:f,PUBLIC_URL:"http://localhost:3000"+b});return'<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <title>'.concat(t||"Digital Lock",'</title>\n    <meta name="viewport" content="width=device-width, initial-scale=1">\n        <link href="https://fonts.googleapis.com/icon?family=Material+Icons"\n        rel="stylesheet">\n    <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">\n </head>\n<body>\n<div id="root"></div>\n<script> window.config=JSON.parse(\'').concat(C,'\');<\/script>\n<script type="text/javascript" src="bundle.js"><\/script>\n</body>\n</html>')}(e);t.file("index.html",n),t.generateAsync({type:"blob"}).then(function(t){M.a.saveAs(t,e.title.toLowerCase().replace(/\s/g,"")+Math.round(+new Date/1e3)+("2004"===e.scormVersion?"_2004":"_1.2")+".zip")})})})};var P=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(m.a)(this,Object(u.a)(t).call(this,e))).state=Object(l.a)({title:C.t("title"),showUsername:!1,timeout:0,tip:C.t("tip"),CombinationLockImage:"./../assets/images/CajaFuerte.png",mode:"Pattern",theme:"journal",good:"Enhorabuena, lo has logrado!!",bad:"Lo siento, se acab\xf3 tu tiempo",escapp:!0,puzzleId:5,escapeRoomId:1,puzzleLength:4,scormVersion:"1.2",PUBLIC_URL:"./..",embeddedInEscapp:!1},window.state,{template:null}),n.onSubmit=n.onSubmit.bind(Object(h.a)(Object(h.a)(n))),n}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"App"},this.state.embeddedInEscapp?null:o.a.createElement("header",{id:"appHeader"},o.a.createElement("button",{className:"info",onClick:function(){e.setState({showInfoModal:!0})}},o.a.createElement("i",{className:"material-icons"},"info")),o.a.createElement("h1",null,o.a.createElement("i",{className:"material-icons"},"lock"),C.t("title"))),o.a.createElement("div",{className:"content"},o.a.createElement("div",{className:"content-col left"},o.a.createElement("form",{action:this.state.action,method:"POST",onSubmit:this.onSubmit},o.a.createElement("h1",null,C.t(this.state.embeddedInEscapp?"title":"settings")),o.a.createElement(v,Object.assign({},this.state,{onConfigChange:function(t,n){e.setState(Object(r.a)({},t,n),e.preview)}})),o.a.createElement("div",{className:"buttons"},this.state.embeddedInEscapp?o.a.createElement("button",{type:"submit"},o.a.createElement("i",{className:"material-icons"},"cloud_upload"),C.t("save")):null,o.a.createElement("button",{type:"button",onClick:this.download.bind(this)},o.a.createElement("i",{className:"material-icons"},"cloud_download"),C.t("download"))),o.a.createElement("input",{type:"hidden",id:"configInput",name:"config",value:""}))),o.a.createElement("div",{className:"content-col right"},o.a.createElement("iframe",{id:"visor",title:"app"}))),o.a.createElement(E,{show:this.state.showInfoModal,hide:function(){e.setState({showInfoModal:!1})}}))}},{key:"preview",value:function(){this.onloadend(this.state.template)}},{key:"onSubmit",value:function(){var e=this.state,t={title:e.title,showUsername:e.showUsername,timeout:e.timeout,tip:e.tip,CombinationLockImage:e.CombinationLockImage,mode:e.mode,theme:e.theme,good:e.good,bad:e.bad,answer:e.answer,escapp:e.escapp,puzzleId:e.puzzleId,escapeRoomId:e.escapeRoomId,puzzleLength:e.puzzleLength,scormVersion:e.scormVersion,nonMetallic:e.nonMetallic};return document.getElementById("configInput").value=JSON.stringify(t),!0}},{key:"onloadend",value:function(e){var t=e.replace('<div id="root"></div>',"\n      <div id='root'></div>\n      <script>\n        window._babelPolyfill = false;\n        window.config=JSON.parse('".concat(JSON.stringify(Object(l.a)({},this.state,{template:void 0,dev:!0})),"');\n      <\/script>"));t=t.replace("bundle.js","/apps/digitalLock/scorm12/bundle.js");var n=document.getElementById("visor");n.contentWindow.document.open(),n.contentWindow.document.write(t),n.contentWindow.document.close()}},{key:"download",value:function(){N(this.state)}},{key:"componentDidMount",value:function(){var e=this;fetch("/apps/digitalLock/scorm12/index.html").then(function(e){return e.text()}).then(function(t){e.setState({template:t}),e.preview()})}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(P,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},75:function(e,t,n){e.exports=n(136)},80:function(e,t,n){},82:function(e,t,n){},88:function(e,t){},90:function(e,t){}},[[75,2,1]]]);
//# sourceMappingURL=main.82717ac0.chunk.js.map