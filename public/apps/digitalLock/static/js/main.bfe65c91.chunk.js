(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{126:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),l=n(61),r=n.n(l),i=(n(70),n(22)),c=n(23),s=n(9),m=n(10),p=n(12),u=n(11),h=n(13),d=function(e){function t(){return Object(s.a)(this,t),Object(p.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e,t,n=this,a=[{name:"title:",value:this.props.title,type:"text",callback:function(e){n.props.onConfigChange("title",e.target.value)}},{name:"showUsername",noBreak:!0,value:this.props.showUsername,type:"checkbox",callback:function(e){n.props.onConfigChange("showUsername",!n.props.showUsername)}},{name:"timeout",friendlyName:"Timeout",value:this.props.timeout,type:"number",callback:function(e){n.props.onConfigChange("timeout",parseInt(e.target.value))}},{name:"successMessage:",value:this.props.good,type:"text",callback:function(e){n.props.onConfigChange("good",e.target.value)}},{name:"failMessage:",value:this.props.bad,type:"text",callback:function(e){n.props.onConfigChange("bad",e.target.value)}},{name:"Using Escapp??",value:this.props.escapp,type:"checkbox",callback:function(e){n.props.onConfigChange("escapp",!n.props.escapp)}},{name:"Theme",value:this.props.theme,type:"select",options:["dark","lux","cerulean","cyborg","pulse","sketchy","superhero"],callback:function(e){n.props.onConfigChange("theme",e.target.value)}},{name:"Quest Type",value:this.props.theme,type:"select",options:["Symbol","AlphaNumeric","Pattern","CombinationLock"],callback:function(e){n.props.onConfigChange("mode",e.target.value)}}];return"CombinationLock"===this.props.mode&&(e=o.a.createElement("div",null,o.a.createElement("label",{htmlFor:"CombinationLockImage"},o.a.createElement("b",null,"Combination Lock Image: ")),o.a.createElement("input",{name:"CombinationLockImage:",type:"file",value:void 0,onChange:function(e){n.readFile(e.target.files[0],function(e){return n.props.onConfigChange("CombinationLockImage",e)},!0)}}),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("label",{htmlFor:"answer"},o.a.createElement("b",null,"Combination Lock Answer:")),o.a.createElement("input",{name:"Answer:",type:"text",value:this.props.answer,onChange:function(e){n.props.onConfigChange("answer",e.target.value)}}),o.a.createElement("br",null))),"Pattern"===this.props.mode&&(e=o.a.createElement("div",null,o.a.createElement("label",{htmlFor:"tip"},o.a.createElement("b",null,"Tip:")," "),o.a.createElement("input",{name:"Tip:",type:"text",value:this.props.tip,onChange:function(e){n.props.onConfigChange("tip",e.target.value)}}))),this.props.escapp?t=o.a.createElement("div",null,o.a.createElement("br",null),o.a.createElement("label",{htmlFor:"puzzleId"},o.a.createElement("b",null,"Puzzle Id:")),"\xa0",o.a.createElement("input",{name:"puzzleId:",type:"number",value:this.props.puzzleId,onChange:function(e){n.props.onConfigChange("puzzleId",e.target.value)}}),"\xa0",o.a.createElement("label",{htmlFor:"escapeRoomId"},o.a.createElement("b",null,"Escape Room Id:")),"\xa0",o.a.createElement("input",{name:"escapeRoomId:",type:"number",value:this.props.escapeRoomId,onChange:function(e){n.props.onConfigChange("escapeRoomId",e.target.value)}}),o.a.createElement("p",null),o.a.createElement("label",{htmlFor:"puzzleLength"},o.a.createElement("b",null,"Answer Length:")),"\xa0",o.a.createElement("input",{name:"puzzleLength:",type:"number",value:this.props.puzzleLength,onChange:function(e){n.props.onConfigChange("puzzleLength",e.target.value)}})):(this.props.mode,t=o.a.createElement("div",null,o.a.createElement("p",null),o.a.createElement("label",{htmlFor:"answer"},o.a.createElement("b",null,"Answer:")),o.a.createElement("p",null),o.a.createElement("input",{name:"Answer:",type:"text",value:this.props.answer,onChange:function(e){n.props.onConfigChange("answer",e.target.value)}}))),o.a.createElement("div",{className:"config"},a.map(function(e){return[o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:e.name},o.a.createElement("b",null,e.friendlyName||n.humanize(e.name))),"select"==e.type?o.a.createElement("select",{name:e.name,onChange:e.callback},e.options.map(function(t){return o.a.createElement("option",{value:t,selected:t===e.value},n.humanize(t))})):o.a.createElement("input",{name:e.name,type:e.type,value:"file"===e.type?void 0:e.value,min:e.min,checked:e.value,onChange:e.callback})),e.noBreak?null:o.a.createElement("br",null)]}),o.a.createElement("br",null),e,t,o.a.createElement("br",null),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"scormVersion"},o.a.createElement("b",null,"SCORM Version:")),o.a.createElement("p",null),o.a.createElement("label",{htmlFor:"scormVersion"},"SCORM 1.2"),o.a.createElement("input",{name:"scormVersion",type:"radio",value:"1.2",checked:"1.2"===this.props.scormVersion,onChange:function(e){n.props.onConfigChange("scormVersion","1.2")}}),o.a.createElement("label",{htmlFor:"scormVersion"},"SCORM 2004"),o.a.createElement("input",{name:"scormVersion",type:"radio",value:"1.2",checked:"2004"===this.props.scormVersion,onChange:function(e){n.props.onConfigChange("scormVersion","2004")}})))}},{key:"readFile",value:function(e,t,n){try{var a=new FileReader;a.onload=function(e){return t(e.target.result)},a.onerror=function(e){return t("")},a.readAsDataURL(e)}catch(o){t("")}}},{key:"humanize",value:function(e){return e.replace(/([A-Z])/g," $1").replace(/^./,function(e){return e.toUpperCase()})}}]),t}(a.Component),g=function(e){function t(){return Object(s.a)(this,t),Object(p.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:this.props.show?"modal":"modal hidden"},o.a.createElement("div",{className:"overlay"}),o.a.createElement("div",{className:"modal-body"},o.a.createElement("button",{className:"modal-close",onClick:this.props.hide},o.a.createElement("i",{className:"material-icons"},"close")),o.a.createElement("h3",null,"About"),o.a.createElement("br",{style:{clear:"both"}}),o.a.createElement("div",{className:"modal-content"},"This website allows you to customize your very own quiz application and generate a SCORM package so you can upload it to your preferred LMS.",o.a.createElement("h4",null,"Author"),o.a.createElement("hr",null),"This project was developed by ",o.a.createElement("a",{href:"http://github.com/adelabat",rel:"noopener noreferrer",target:"_blank"},"@adelabat")," using ",o.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"https://github.com/agordillo/RESCORM"},"RESCORM"),".")))}}]),t}(a.Component),f=(n(72),n(62)),b=n.n(f),v=n(63),E=n.n(v),C=n(64),y=n.n(C),w=function(e){E.a.getBinaryContent("2004"===e.scormVersion?"scorm2004.zip":"scorm12.zip",function(t,n){if(t)throw t;b.a.loadAsync(n).then(function(t){var n,a=function(e){var t=JSON.stringify(Object(i.a)({},e,{content:void 0,moodleXmlPath:e.moodleXmlPath?"assets/quiz.xml":void 0}));return'<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <title>'.concat(e.title||"Quiz",'</title>\n    <meta name="viewport" content="width=device-width, initial-scale=1">\n        <link href="https://fonts.googleapis.com/icon?family=Material+Icons"\n      rel="stylesheet">\n    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro" rel="stylesheet">\n </head>\n<body>\n<div id="root"></div>\n<script> window.config=JSON.parse(\'').concat(t,'\');<\/script>\n<script type="text/javascript" src="bundle.js"><\/script>\n</body>\n</html>')}(e);t.file("index.html",a),e.moodleXmlPath&&t.file("assets/quiz.xml",(n=e.moodleXmlPath,decodeURIComponent(window.atob(n.slice(21)).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join("")))),t.generateAsync({type:"blob"}).then(function(t){y.a.saveAs(t,e.title.toLowerCase().replace(/\s/g,"")+Math.round(+new Date/1e3)+("2004"===e.scormVersion?"_2004":"_1.2")+".zip")})})})};var k=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(p.a)(this,Object(u.a)(t).call(this,e))).state=window.state||{title:"DIGITAL LOCK",showUsername:"true",timeout:"",answer:"01",tip:"Select the top 3 points starting from the left",CombinationLockImage:"./../assets/images/CajaFuerte.png",modes:["Symbol","AlphaNumeric","Pattern","CombinationLock"],mode:"Pattern",themes:["dark","lux","cerulean","cyborg","pulse","sketchy","superhero"],theme:"sketchy",good:"Enhorabuena, lo has logrado!!",bad:"Lo siento, se acab\xf3 tu tiempo",escapp:!0,puzzleId:5,escapeRoomId:1,puzzleLength:4,scormVersion:"1.2"},n}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"App"},o.a.createElement("header",null,o.a.createElement("button",{className:"info",onClick:function(){e.setState({showInfoModal:!0})}},o.a.createElement("i",{className:"material-icons"},"???")),o.a.createElement("h1",null,o.a.createElement("i",{className:"material-icons"},"lock"),"DIGITAL LOCK")),o.a.createElement("div",{className:"content"},o.a.createElement("div",{className:"content-col left"},o.a.createElement("h1",null,"Configuration"),o.a.createElement(d,Object.assign({},this.state,{onConfigChange:function(t,n){e.setState(Object(c.a)({},t,n)),e.preview()}})),o.a.createElement("div",{className:"buttons"},o.a.createElement("button",{onClick:this.download.bind(this)},o.a.createElement("i",{className:"material-icons"},"cloud_download"),"Dowload"))),o.a.createElement("div",{className:"content-col right"},o.a.createElement("iframe",{id:"visor",title:"app"}))),o.a.createElement(g,{show:this.state.showInfoModal,hide:function(){e.setState({showInfoModal:!1})}}))}},{key:"preview",value:function(){var e=this;fetch("/apps/digitalLock/scorm12/index.html").then(function(e){return e.text()}).then(function(t){e.onloadend(t)})}},{key:"onloadend",value:function(e){var t=e.replace('<div id="root"></div>',"\n      <div id='root'></div>\n      <script>\n        window._babelPolyfill = false;\n        window.config=JSON.parse('".concat(JSON.stringify(Object(i.a)({},this.state,{dev:!0})),"');\n      <\/script>"));t=t.replace("bundle.js","/apps/digitalLock/scorm12/bundle.js");var n=document.getElementById("visor");n.contentWindow.document.open(),n.contentWindow.document.write(t),n.contentWindow.document.close()}},{key:"download",value:function(){w(this.state)}},{key:"componentDidMount",value:function(){this.preview()}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},65:function(e,t,n){e.exports=n(126)},70:function(e,t,n){},72:function(e,t,n){},78:function(e,t){},80:function(e,t){}},[[65,2,1]]]);
//# sourceMappingURL=main.bfe65c91.chunk.js.map