(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{126:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),l=n(61),i=n.n(l),r=(n(70),n(22)),c=n(23),s=n(9),p=n(10),m=n(12),u=n(11),h=n(13),d=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=[{name:"title:",value:this.props.title,type:"text",callback:function(t){e.props.onConfigChange("title",t.target.value)}},{name:"showUsername",noBreak:!0,value:this.props.showUsername,type:"checkbox",callback:function(t){e.props.onConfigChange("showUsername",!e.props.showUsername)}},{name:"Timeout",friendlyName:"Timeout",value:this.props.timeout,type:"number",min:0,callback:function(t){e.props.onConfigChange("timeout",parseInt(t.target.value))}},{name:"Theme",value:this.props.theme,type:"select",options:["cerulean","journal","sketchy","darkly","cyborg","cosmo","flatly","lumen","litera","lux","materia","minty","pulse","sandstone","simplex","slate","solar","spacelab","superhero","united","yeti"],callback:function(t){e.props.onConfigChange("theme",t.target.value)}},{name:"Puzzle Type",value:this.props.theme,type:"select",options:["Symbol","AlphaNumeric","Pattern","CombinationLock","Padlock"],callback:function(t){e.props.onConfigChange("mode",t.target.value)}},{name:"Tip",value:this.props.tip,type:"text",callback:function(t){e.props.onConfigChange("tip",t.target.value)}},{name:"Using Escapp??",value:this.props.escapp,type:"checkbox",callback:function(){e.props.onConfigChange("escapp",!e.props.escapp)}}];return this.props.escapp?(t.push({name:"EscapeRoomId",friendlyName:"Escape Room Id",value:this.props.escapeRoomId,type:"number",min:0,callback:function(t){e.props.onConfigChange("escapeRoomId",parseInt(t.target.value))}}),t.push({name:"PuzzleId",friendlyName:"Puzzle Id",value:this.props.puzzleId,type:"number",min:0,callback:function(t){e.props.onConfigChange("puzzleId",parseInt(t.target.value))}}),"Padlock"===this.props.mode||"CombinationLock"===this.props.mode?t.push({name:"Solution",value:this.props.answer,type:"text",callback:function(t){e.props.onConfigChange("answer",t.target.value)}}):t.push({name:"PuzzleLength",friendlyName:"Puzzle Length",value:this.props.puzzleLength,type:"number",min:0,callback:function(t){e.props.onConfigChange("puzzleLength",parseInt(t.target.value))}})):(t.push({name:"Solution",value:this.props.answer,type:"text",callback:function(t){e.props.onConfigChange("answer",t.target.value)}}),t.push({name:"Success Message:",value:this.props.good,type:"text",callback:function(t){e.props.onConfigChange("good",t.target.value)}}),t.push({name:"Fail Message:",value:this.props.bad,type:"text",callback:function(t){e.props.onConfigChange("bad",t.target.value)}})),"CombinationLock"===this.props.mode?t.splice(5,0,{name:"CombinationLockImage",value:void 0,type:"file",callback:function(t){e.readFile(t.target.files[0],function(t){return e.props.onConfigChange("CombinationLockImage",t)},!0)}}):"Padlock"===this.props.mode&&t.splice(5,0,{name:"Metalic effect",value:!this.props.nonMetallic,type:"checkbox",callback:function(){e.props.onConfigChange("nonMetallic",!e.props.nonMetallic)}}),o.a.createElement("div",{className:"config"},t.map(function(t,n){return t?[o.a.createElement("div",{className:"form-group",key:t.name},o.a.createElement("label",{htmlFor:t.name},o.a.createElement("b",null,t.friendlyName||e.humanize(t.name))),"select"===t.type?o.a.createElement("select",{name:t.name,onChange:t.callback,value:t.value},t.options.map(function(t){return o.a.createElement("option",{key:t,value:t},e.humanize(t))})):o.a.createElement("input",{name:t.name,type:t.type,value:"file"===t.type?void 0:t.value,min:t.min,checked:t.value,onChange:t.callback})),t.noBreak?null:o.a.createElement("br",{key:"br-"+n})]:null}),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"scormVersion"},o.a.createElement("b",null,"SCORM Version:")),o.a.createElement("p",null),o.a.createElement("label",{htmlFor:"scormVersion"},"SCORM 1.2"),o.a.createElement("input",{name:"scormVersion",type:"radio",value:"1.2",checked:"1.2"===this.props.scormVersion,onChange:function(t){e.props.onConfigChange("scormVersion","1.2")}}),o.a.createElement("label",{htmlFor:"scormVersion"},"SCORM 2004"),o.a.createElement("input",{name:"scormVersion",type:"radio",value:"1.2",checked:"2004"===this.props.scormVersion,onChange:function(t){e.props.onConfigChange("scormVersion","2004")}})))}},{key:"readFile",value:function(e,t,n){try{var a=new FileReader;a.onload=function(e){return t(e.target.result)},a.onerror=function(e){return t("")},a.readAsDataURL(e)}catch(o){t("")}}},{key:"humanize",value:function(e){return e.replace(/([A-Z])/g," $1").replace(/^./,function(e){return e.toUpperCase()})}}]),t}(a.Component),f=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:this.props.show?"modal":"modal hidden"},o.a.createElement("div",{className:"overlay"}),o.a.createElement("div",{className:"modal-body"},o.a.createElement("button",{className:"modal-close",onClick:this.props.hide},o.a.createElement("i",{className:"material-icons"},"close")),o.a.createElement("h2",null,"About"),o.a.createElement("br",{style:{clear:"both"}}),o.a.createElement("div",{className:"modal-content"},"This website allows you to customize your very own lock application and generate a SCORM package so you can upload it to your preferred LMS.    ",o.a.createElement("h4",null,"Author"),o.a.createElement("hr",null),"This project was developed by ",o.a.createElement("a",{href:"http://github.com/adelabat",rel:"noopener noreferrer",target:"_blank"},"@adelabat")," using ",o.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"https://github.com/agordillo/RESCORM"},"RESCORM"),".")))}}]),t}(a.Component),g=(n(72),n(62)),b=n.n(g),v=n(63),y=n.n(v),C=n(64),k=n.n(C),w=function(e){y.a.getBinaryContent("2004"===e.scormVersion?"scorm2004.zip":"scorm12.zip",function(t,n){if(t)throw t;b.a.loadAsync(n).then(function(t){var n,a=function(e){var t=JSON.stringify(Object(r.a)({},e,{content:void 0,moodleXmlPath:e.moodleXmlPath?"assets/quiz.xml":void 0}));return'<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <title>'.concat(e.title||"Quiz",'</title>\n    <meta name="viewport" content="width=device-width, initial-scale=1">\n        <link href="https://fonts.googleapis.com/icon?family=Material+Icons"\n      rel="stylesheet">\n    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro" rel="stylesheet">\n </head>\n<body>\n<div id="root"></div>\n<script> window.config=JSON.parse(\'').concat(t,'\');<\/script>\n<script type="text/javascript" src="bundle.js"><\/script>\n</body>\n</html>')}(e);t.file("index.html",a),e.moodleXmlPath&&t.file("assets/quiz.xml",(n=e.moodleXmlPath,decodeURIComponent(window.atob(n.slice(21)).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join("")))),t.generateAsync({type:"blob"}).then(function(t){k.a.saveAs(t,e.title.toLowerCase().replace(/\s/g,"")+Math.round(+new Date/1e3)+("2004"===e.scormVersion?"_2004":"_1.2")+".zip")})})})};var E=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(m.a)(this,Object(u.a)(t).call(this,e))).state=window.state||{title:"DIGITAL LOCK",showUsername:!0,timeout:0,answer:"8132",tip:"Select the top 3 points starting from the left",CombinationLockImage:"./../assets/images/CajaFuerte.png",mode:"Pattern",theme:"sketchy",good:"Enhorabuena, lo has logrado!!",bad:"Lo siento, se acab\xf3 tu tiempo",escapp:!0,puzzleId:5,escapeRoomId:1,puzzleLength:4,scormVersion:"1.2"},n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"App"},o.a.createElement("header",{id:"appHeader"},o.a.createElement("button",{className:"info",onClick:function(){e.setState({showInfoModal:!0})}},o.a.createElement("i",{className:"material-icons"},"info")),o.a.createElement("h1",null,o.a.createElement("i",{className:"material-icons"},"lock"),"DIGITAL LOCK")),o.a.createElement("div",{className:"content"},o.a.createElement("div",{className:"content-col left"},o.a.createElement("h1",null,"Configuration"),o.a.createElement(d,Object.assign({},this.state,{onConfigChange:function(t,n){e.setState(Object(c.a)({},t,n)),e.preview()}})),o.a.createElement("div",{className:"buttons"},o.a.createElement("button",{onClick:this.download.bind(this)},o.a.createElement("i",{className:"material-icons"},"cloud_download"),"Dowload"))),o.a.createElement("div",{className:"content-col right"},o.a.createElement("iframe",{id:"visor",title:"app"}))),o.a.createElement(f,{show:this.state.showInfoModal,hide:function(){e.setState({showInfoModal:!1})}}))}},{key:"preview",value:function(){var e=this;fetch("/apps/digitalLock/scorm12/index.html").then(function(e){return e.text()}).then(function(t){e.onloadend(t)})}},{key:"onloadend",value:function(e){var t=e.replace('<div id="root"></div>',"\n      <div id='root'></div>\n      <script>\n        window._babelPolyfill = false;\n        window.config=JSON.parse('".concat(JSON.stringify(Object(r.a)({},this.state,{dev:!0})),"');\n      <\/script>"));t=t.replace("bundle.js","/apps/digitalLock/scorm12/bundle.js");var n=document.getElementById("visor");n.contentWindow.document.open(),n.contentWindow.document.write(t),n.contentWindow.document.close()}},{key:"download",value:function(){w(this.state)}},{key:"componentDidMount",value:function(){this.preview()}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},65:function(e,t,n){e.exports=n(126)},70:function(e,t,n){},72:function(e,t,n){},78:function(e,t){},80:function(e,t){}},[[65,2,1]]]);
//# sourceMappingURL=main.b6f2129e.chunk.js.map