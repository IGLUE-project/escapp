{"version":3,"sources":["Config.js","InfoModal.jsx","generatePackage.js","App.js","serviceWorker.js","index.js"],"names":["App","_this","this","options","name","value","props","title","type","callback","e","onConfigChange","target","noBreak","showUsername","friendlyName","timeout","min","parseInt","theme","tip","escapp","push","escapeRoomId","puzzleId","mode","answer","puzzleLength","good","bad","splice","undefined","readFile","files","res","nonMetallic","react_default","a","createElement","className","map","opt","i","key","htmlFor","humanize","onChange","op","checked","scormVersion","file","isImage","reader","FileReader","onload","event","result","onerror","error","readAsDataURL","str","replace","toUpperCase","Component","InfoModal","show","onClick","hide","style","clear","href","rel","generatePackage","state","JSZipUtils","getBinaryContent","err","data","JSZip","loadAsync","then","zip","input","indexContent","parsedState","JSON","stringify","Object","objectSpread","content","moodleXmlPath","concat","generateIndex","decodeURIComponent","window","atob","slice","split","c","charCodeAt","toString","join","generateAsync","blob","FileSaver","saveAs","toLowerCase","Math","round","Date","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","CombinationLockImage","_this2","setState","showInfoModal","Config_App","assign","prop","defineProperty","preview","download","bind","id","InfoModal_InfoModal","_this3","fetch","process","text","response","onloadend","dev","el","document","getElementById","contentWindow","open","write","close","Boolean","location","hostname","match","ReactDOM","render","src_App_0","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.0b0c470a.chunk.js","sourcesContent":["import React, { Component } from 'react';\n\nexport default class App extends Component {\n\n\trender(){\n\t\tconst options = [\n\t\t\t{ name: \"title:\", value: this.props.title, type: \"text\", callback: (e) => {this.props.onConfigChange(\"title\", e.target.value)}},\n\t\t\t{ name: \"showUsername\",  noBreak: true, value: this.props.showUsername, type: \"checkbox\", callback: (e) => {this.props.onConfigChange(\"showUsername\", !this.props.showUsername,)}},\n\t\t\t{ name: \"Timeout\", friendlyName: \"Timeout\", value: this.props.timeout, type: \"number\", min: 0, callback: (e) => {this.props.onConfigChange(\"timeout\", parseInt(e.target.value))}},\n\t\t\t{ name: \"Theme\", value: this.props.theme, type: \"select\", options: [\"cerulean\", \"journal\", \"sketchy\", \"darkly\", \"cyborg\", \"cosmo\", \"flatly\", \"lumen\", \"litera\", \"lux\", \"materia\", \"minty\", \"pulse\", \"sandstone\", \"simplex\", \"slate\", \"solar\", \"spacelab\", \"superhero\", \"united\", \"yeti\"], callback: (e) => {this.props.onConfigChange(\"theme\", e.target.value)}},\n\t\t\t{ name: \"Puzzle Type\", value: this.props.theme, type: \"select\", options:[\"Symbol\", \"AlphaNumeric\", \"Pattern\", \"CombinationLock\", \"Padlock\"], callback: (e) => {this.props.onConfigChange(\"mode\", e.target.value)}},\n\t\t\t{ name: \"Tip\", value: this.props.tip, type: \"text\", callback: (e) => {this.props.onConfigChange(\"tip\", e.target.value)}},\n\t\t\t{ name: \"Using Escapp??\", value: this.props.escapp, type: \"checkbox\", callback: () => {this.props.onConfigChange(\"escapp\", !this.props.escapp)}},\n\t\t];\n\n\t\tif (this.props.escapp) { \n\t\t\toptions.push({ name: \"EscapeRoomId\", friendlyName: \"Escape Room Id\", value: this.props.escapeRoomId, type: \"number\", min: 0, callback: (e) => {this.props.onConfigChange(\"escapeRoomId\", parseInt(e.target.value))}})\n\t\t\toptions.push({ name: \"PuzzleId\", friendlyName: \"Puzzle Id\", value: this.props.puzzleId, type: \"number\", min: 0, callback: (e) => {this.props.onConfigChange(\"puzzleId\", parseInt(e.target.value))}})\n\t\t\tif (this.props.mode === \"Padlock\" || this.props.mode === \"CombinationLock\") {\n\t\t\t\toptions.push({ name: \"Solution\", value: this.props.answer, type: \"text\", callback: (e) => {this.props.onConfigChange(\"answer\", e.target.value)}});\n\t\t\t} else {\n\t\t\t\toptions.push({ name: \"PuzzleLength\", friendlyName: \"Puzzle Length\", value: this.props.puzzleLength, type: \"number\", min: 0, callback: (e) => {this.props.onConfigChange(\"puzzleLength\", parseInt(e.target.value))}})\n\t\t\t}\n\t\t} else {\n\t\t\toptions.push({ name: \"Solution\", value: this.props.answer, type: \"text\", callback: (e) => {this.props.onConfigChange(\"answer\", e.target.value)}});\n\t\t\toptions.push({ name: \"Success Message:\", value: this.props.good, type: \"text\", callback: (e) => {this.props.onConfigChange(\"good\", e.target.value)}});\n\t\t\toptions.push({ name: \"Fail Message:\", value: this.props.bad, type: \"text\", callback: (e) => {this.props.onConfigChange(\"bad\", e.target.value)}});\n\t\t}\n\t\tif (this.props.mode === \"CombinationLock\") {\n\t\t\toptions.splice(5, 0, { name: \"CombinationLockImage\", value: undefined, type: \"file\", callback: (e) => {this.readFile(e.target.files[0], res => this.props.onConfigChange(\"CombinationLockImage\", res),true) }});\n\t\t} else if (this.props.mode === \"Padlock\") {\n\t\t\toptions.splice(5, 0, { name: \"Metalic effect\", value: !this.props.nonMetallic, type: \"checkbox\", callback: () => {this.props.onConfigChange(\"nonMetallic\", !this.props.nonMetallic)}});\n\t\t}\n\n\n\t\treturn <div className=\"config\">\n\t\t\t{options.map((opt, i)=>{\n\t\t\t\treturn opt ? [<div className=\"form-group\" key={opt.name}>\n\t\t\t\t<label htmlFor={opt.name}><b>{opt.friendlyName || this.humanize(opt.name)}</b></label>\n\t\t\t\t{opt.type === \"select\" ?\n\t\t\t\t<select name={opt.name} onChange={opt.callback} value={opt.value}>\n\t\t\t\t\t{opt.options.map(op=><option key={op} value={op} >{this.humanize(op)}</option>)}\n\t\t\t\t</select>:\n\t\t\t\t<input name={opt.name} type={opt.type} value={opt.type === \"file\"? undefined: opt.value} min={opt.min} checked={opt.value} onChange={opt.callback}/>\n\t\t\t\t}\n\t\t\t</div>, opt.noBreak ? null: <br key={\"br-\"+i}/>] : null\n\n\t\t\t})}\n\t\t\t<br/>\n\n\t\t\t<br/>\n\t\t\t<div className=\"form-group\">\n\t\t\t\t<label htmlFor=\"scormVersion\"><b>SCORM Version:</b></label><p/>\n\t\t\t\t<label htmlFor=\"scormVersion\">{\"SCORM 1.2\"}</label>\n\t\t\t\t<input name=\"scormVersion\" type=\"radio\" value={\"1.2\"} checked={this.props.scormVersion === \"1.2\"} onChange={(e) => {this.props.onConfigChange(\"scormVersion\", \"1.2\")}}/>\n\t\t\t\t<label htmlFor=\"scormVersion\">{\"SCORM 2004\"}</label>\n\t\t\t\t<input name=\"scormVersion\" type=\"radio\" value={\"1.2\"} checked={this.props.scormVersion === \"2004\"} onChange={(e) => {this.props.onConfigChange(\"scormVersion\", \"2004\")}}/>\n\n\t\t\t</div>\n\n\n\t\t</div>\n\t}\n\n\treadFile(file, callback, isImage) {\n\t\ttry {\n\t\t\tconst reader = new FileReader()\n\t\t\treader.onload = event => callback(event.target.result);\n\t\t\treader.onerror = error => callback(\"\");\n\t\t\treader.readAsDataURL(file);\n\t\t} catch (e) {\n\t\t\tcallback(\"\");\n\t\t}\n\n\t}\n\n\thumanize(str) {\n\t\treturn str\n\t\t    .replace(/([A-Z])/g, ' $1')\n\t\t    .replace(/^./, function(str){ return str.toUpperCase(); })\n\t}\n}\n","import React, { Component } from 'react';\n\nexport default class InfoModal extends Component {\n\n\trender(){\n\t\treturn <div className={this.props.show ? \"modal\" : \"modal hidden\"}>\n\t\t\t<div className=\"overlay\"/>\n\t\t\t<div className=\"modal-body\">\n\t\t\t\t<button className=\"modal-close\" onClick={this.props.hide}>\n\t\t\t\t  <i className=\"material-icons\">close</i>\n\t\t\t\t</button>\n\t\t\t\t<h2>About</h2>\n\t\t\t\t<br style={{clear: 'both'}}/>\n\t\t\t\t<div className=\"modal-content\">\n\t\t\t\tThis website allows you to customize your very own lock application and generate a SCORM package so you can upload it to your preferred LMS.\t\t\t\t<h4>Author</h4>\n\t\t\t\t\t<hr/>\n\t\t\t\t\tThis project was developed by <a href=\"http://github.com/adelabat\" rel=\"noopener noreferrer\" target=\"_blank\">@adelabat</a> using <a rel=\"noopener noreferrer\" target=\"_blank\" href=\"https://github.com/agordillo/RESCORM\">RESCORM</a>.\n\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t}\n\n}\n","import JSZip from 'jszip';\nimport JSZipUtils from 'jszip-utils';\nimport FileSaver from 'file-saver';\n\nexport const generatePackage  = (state) => {\n    JSZipUtils.getBinaryContent(state.scormVersion === \"2004\" ? \"scorm2004.zip\":\"scorm12.zip\", function(err, data) {\n        if (err) {\n            throw err; // or handle err\n        }\n        JSZip.loadAsync(data).then(function(zip) {\n        \tlet indexContent = generateIndex(state)\n\t\t\tzip.file('index.html', indexContent);\n            if (state.moodleXmlPath) {\n                zip.file(\"assets/quiz.xml\", decode(state.moodleXmlPath));\n            } \n\t\t\tzip.generateAsync({ type: \"blob\" }).then(function(blob) {\n                FileSaver.saveAs(blob, state.title.toLowerCase().replace(/\\s/g, '') + Math.round(+new Date() / 1000) + (state.scormVersion === \"2004\" ? \"_2004\" : \"_1.2\") + \".zip\");\n            });\n        }) \n    });\n \n\n}\nfunction decode(input) {\n    return decodeURIComponent(window.atob(input.slice(21)).split('').map(function(c) {\n        return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\n    }).join(''))\n}\n\nfunction generateIndex(state) {\n    let parsedState = JSON.stringify({...state, content: undefined, moodleXmlPath: state.moodleXmlPath ? \"assets/quiz.xml\" : undefined});\n    return `<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <title>${state.title || \"Quiz\"}</title>\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n        <link href=\"https://fonts.googleapis.com/icon?family=Material+Icons\"\n      rel=\"stylesheet\">\n    <link href=\"https://fonts.googleapis.com/css?family=Source+Sans+Pro\" rel=\"stylesheet\">\n </head>\n<body>\n<div id=\"root\"></div>\n<script> window.config=JSON.parse('${parsedState}');</script>\n<script type=\"text/javascript\" src=\"bundle.js\"></script>\n</body>\n</html>`;\n}","import React, { Component } from 'react';\nimport Config from './Config';\nimport InfoModal from './InfoModal';\nimport './App.css';\nimport {generatePackage} from './generatePackage';\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state =  window.state || {\n      title: \"DIGITAL LOCK\",\n      showUsername: true,\n      timeout: 0,\n      answer:\"8132\",\n      tip:\"Select the top 3 points starting from the left\",\n      CombinationLockImage:\"./../assets/images/CajaFuerte.png\",\n      mode:\"Pattern\",\n      theme:\"sketchy\",\n      good:\"Enhorabuena, lo has logrado!!\",\n      bad:\"Lo siento, se acabó tu tiempo\",\n      escapp: true,\n      puzzleId: 5,\n      escapeRoomId: 1,\n      puzzleLength: 4,\n      scormVersion: \"1.2\",\n\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <header>\n          <button className=\"info\" onClick={()=>{this.setState({showInfoModal: true})}}>\n            <i className=\"material-icons\">info</i>\n          </button>\n          <h1>\n            <i className=\"material-icons\">lock</i>DIGITAL LOCK\n          </h1>\n        </header>\n        <div className=\"content\">\n          <div className=\"content-col left\">\n            <h1>Configuration</h1>\n            <Config {...this.state} onConfigChange={(prop,value)=>{this.setState({[prop]:value}); this.preview();}}/>\n            <div className=\"buttons\">\n              <button onClick={this.download.bind(this)}>\n                <i className=\"material-icons\">cloud_download</i>Dowload\n              </button>\n            </div>\n          </div>\n          <div className=\"content-col right\">\n            {/*<h2>Preview</h2>*/}\n            <iframe id=\"visor\" title=\"app\" />\n          </div>\n        </div>\n        <InfoModal show={this.state.showInfoModal} hide={()=>{this.setState({showInfoModal: false})}}/>\n      </div>\n\n    );\n  }\n  preview(){\n    fetch(process.env.PUBLIC_URL + \"/scorm12/index.html\").then(res=>res.text()).then(response=>{\n        this.onloadend(response);\n    })\n\n  }\n\n  onloadend(res) {\n    let content = res.replace('<div id=\"root\"></div>',`\n      <div id='root'></div>\n      <script>\n        window._babelPolyfill = false;\n        window.config=JSON.parse('${JSON.stringify({...this.state, dev: true})}');\n      </script>`)\n    content = content.replace(\"bundle.js\", process.env.PUBLIC_URL + \"/scorm12/bundle.js\")\n    let el = document.getElementById('visor')\n    el.contentWindow.document.open();\n    el.contentWindow.document.write(content);\n    el.contentWindow.document.close();\n  }\n  download() {\n    generatePackage(this.state);\n  }\n  componentDidMount(){\n    this.preview();\n  }\n\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}