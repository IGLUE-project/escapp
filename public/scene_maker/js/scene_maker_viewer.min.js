var SceneMaker=SceneMaker||{};SceneMaker.VERSION="1.0.0",SceneMaker.getOptions=function(){try{if(window.parent.SCENE_MAKER_OPTIONS_PREVIEW)return window.parent.SCENE_MAKER_OPTIONS_PREVIEW;if(window.SCENE_MAKER_OPTIONS)return window.SCENE_MAKER_OPTIONS;if(window.parent.SCENE_MAKER_OPTIONS)return window.parent.SCENE_MAKER_OPTIONS}catch(n){}};/*! jQuery v1.7.2 jquery.com | jquery.org/license */(function(n,T){function A(s){return d.isWindow(s)?s:s.nodeType===9?s.defaultView||s.parentWindow:!1}function c(s){if(!Fi[s]){var f=Gt.body,x=d("<"+s+">").appendTo(f),k=x.css("display");x.remove(),(k==="none"||k==="")&&(Xi||(Xi=Gt.createElement("iframe"),Xi.frameBorder=Xi.width=Xi.height=0),f.appendChild(Xi),(!fr||!Xi.createElement)&&(fr=(Xi.contentWindow||Xi.contentDocument).document,fr.write((d.support.boxModel?"<!doctype html>":"")+"<html><body>"),fr.close()),x=fr.createElement(s),fr.body.appendChild(x),k=d.css(x,"display"),f.removeChild(Xi)),Fi[s]=k}return Fi[s]}function p(s,f){var x={};return d.each(Qi.concat.apply([],Qi.slice(0,f)),function(){x[this]=s}),x}function v(){Ki=T}function g(){return setTimeout(v,0),Ki=d.now()}function M(){try{return new n.ActiveXObject("Microsoft.XMLHTTP")}catch(s){}}function y(){try{return new n.XMLHttpRequest}catch(s){}}function E(s,f){s.dataFilter&&(f=s.dataFilter(f,s.dataType));var x=s.dataTypes,k={},L,X,it=x.length,dt,Nt=x[0],Et,Qt,Ht,Vt,ne;for(L=1;L<it;L++){if(L===1)for(X in s.converters)typeof X=="string"&&(k[X.toLowerCase()]=s.converters[X]);if(Et=Nt,Nt=x[L],Nt==="*")Nt=Et;else if(Et!=="*"&&Et!==Nt){if(Qt=Et+" "+Nt,Ht=k[Qt]||k["* "+Nt],!Ht){ne=T;for(Vt in k)if(dt=Vt.split(" "),(dt[0]===Et||dt[0]==="*")&&(ne=k[dt[1]+" "+Nt],ne)){Vt=k[Vt],Vt===!0?Ht=ne:ne===!0&&(Ht=Vt);break}}!Ht&&!ne&&d.error("No conversion from "+Qt.replace(" "," to ")),Ht!==!0&&(f=Ht?Ht(f):ne(Vt(f)))}}return f}function F(s,f,x){var k=s.contents,L=s.dataTypes,X=s.responseFields,it,dt,Nt,Et;for(dt in X)dt in x&&(f[X[dt]]=x[dt]);for(;L[0]==="*";)L.shift(),it===T&&(it=s.mimeType||f.getResponseHeader("content-type"));if(it){for(dt in k)if(k[dt]&&k[dt].test(it)){L.unshift(dt);break}}if(L[0]in x)Nt=L[0];else{for(dt in x){if(!L[0]||s.converters[dt+" "+L[0]]){Nt=dt;break}Et||(Et=dt)}Nt=Nt||Et}if(Nt)return Nt!==L[0]&&L.unshift(Nt),x[Nt]}function et(s,f,x,k){if(d.isArray(f))d.each(f,function(X,it){x||ri.test(s)?k(s,it):et(s+"["+(typeof it=="object"?X:"")+"]",it,x,k)});else if(!x&&d.type(f)==="object")for(var L in f)et(s+"["+L+"]",f[L],x,k);else k(s,f)}function H(s,f){var x,k,L=d.ajaxSettings.flatOptions||{};for(x in f)f[x]!==T&&((L[x]?s:k||(k={}))[x]=f[x]);k&&d.extend(!0,s,k)}function at(s,f,x,k,L,X){L=L||f.dataTypes[0],X=X||{},X[L]=!0;for(var it=s[L],dt=0,Nt=it?it.length:0,Et=s===In,Qt;dt<Nt&&(Et||!Qt);dt++)Qt=it[dt](f,x,k),typeof Qt=="string"&&(!Et||X[Qt]?Qt=T:(f.dataTypes.unshift(Qt),Qt=at(s,f,x,k,Qt,X)));return(Et||!Qt)&&!X["*"]&&(Qt=at(s,f,x,k,"*",X)),Qt}function z(s){return function(f,x){if(typeof f!="string"&&(x=f,f="*"),d.isFunction(x))for(var k=f.toLowerCase().split($i),L=0,X=k.length,it,dt,Nt;L<X;L++)it=k[L],Nt=/^\+/.test(it),Nt&&(it=it.substr(1)||"*"),dt=s[it]=s[it]||[],dt[Nt?"unshift":"push"](x)}}function S(s,f,x){var k=f==="width"?s.offsetWidth:s.offsetHeight,L=f==="width"?1:0,X=4;if(k>0){if(x!=="border")for(;L<X;L+=2)x||(k-=parseFloat(d.css(s,"padding"+On[L]))||0),x==="margin"?k+=parseFloat(d.css(s,x+On[L]))||0:k-=parseFloat(d.css(s,"border"+On[L]+"Width"))||0;return k+"px"}if(k=Dn(s,f),(k<0||k==null)&&(k=s.style[f]),We.test(k))return k;if(k=parseFloat(k)||0,x)for(;L<X;L+=2)k+=parseFloat(d.css(s,"padding"+On[L]))||0,x!=="padding"&&(k+=parseFloat(d.css(s,"border"+On[L]+"Width"))||0),x==="margin"&&(k+=parseFloat(d.css(s,x+On[L]))||0);return k+"px"}function q(s){var f=Gt.createElement("div");return ze.appendChild(f),f.innerHTML=s.outerHTML,f.firstChild}function V(s){var f=(s.nodeName||"").toLowerCase();f==="input"?tt(s):f!=="script"&&typeof s.getElementsByTagName!="undefined"&&d.grep(s.getElementsByTagName("input"),tt)}function tt(s){(s.type==="checkbox"||s.type==="radio")&&(s.defaultChecked=s.checked)}function rt(s){return typeof s.getElementsByTagName!="undefined"?s.getElementsByTagName("*"):typeof s.querySelectorAll!="undefined"?s.querySelectorAll("*"):[]}function At(s,f){var x;f.nodeType===1&&(f.clearAttributes&&f.clearAttributes(),f.mergeAttributes&&f.mergeAttributes(s),x=f.nodeName.toLowerCase(),x==="object"?f.outerHTML=s.outerHTML:x!=="input"||s.type!=="checkbox"&&s.type!=="radio"?x==="option"?f.selected=s.defaultSelected:x==="input"||x==="textarea"?f.defaultValue=s.defaultValue:x==="script"&&f.text!==s.text&&(f.text=s.text):(s.checked&&(f.defaultChecked=f.checked=s.checked),f.value!==s.value&&(f.value=s.value)),f.removeAttribute(d.expando),f.removeAttribute("_submit_attached"),f.removeAttribute("_change_attached"))}function ut(s,f){if(f.nodeType===1&&d.hasData(s)){var x,k,L,X=d._data(s),it=d._data(f,X),dt=X.events;if(dt){delete it.handle,it.events={};for(x in dt)for(k=0,L=dt[x].length;k<L;k++)d.event.add(f,x,dt[x][k])}it.data&&(it.data=d.extend({},it.data))}}function ft(s,f){return d.nodeName(s,"table")?s.getElementsByTagName("tbody")[0]||s.appendChild(s.ownerDocument.createElement("tbody")):s}function G(s){var f=sn.split("|"),x=s.createDocumentFragment();if(x.createElement)for(;f.length;)x.createElement(f.pop());return x}function Ct(s,f,x){if(f=f||0,d.isFunction(f))return d.grep(s,function(L,X){var it=!!f.call(L,X,L);return it===x});if(f.nodeType)return d.grep(s,function(L,X){return L===f===x});if(typeof f=="string"){var k=d.grep(s,function(L){return L.nodeType===1});if(Ze.test(f))return d.filter(f,k,!x);f=d.filter(f,k)}return d.grep(s,function(L,X){return d.inArray(L,f)>=0===x})}function St(s){return!s||!s.parentNode||s.parentNode.nodeType===11}function te(){return!0}function m(){return!1}function kt(s,f,x){var k=f+"defer",L=f+"queue",X=f+"mark",it=d._data(s,k);it&&(x==="queue"||!d._data(s,L))&&(x==="mark"||!d._data(s,X))&&setTimeout(function(){!d._data(s,L)&&!d._data(s,X)&&(d.removeData(s,k,!0),it.fire())},0)}function zt(s){for(var f in s)if(!(f==="data"&&d.isEmptyObject(s[f]))&&f!=="toJSON")return!1;return!0}function R(s,f,x){if(x===T&&s.nodeType===1){var k="data-"+f.replace(Ie,"-$1").toLowerCase();if(x=s.getAttribute(k),typeof x=="string"){try{x=x==="true"?!0:x==="false"?!1:x==="null"?null:d.isNumeric(x)?+x:Le.test(x)?d.parseJSON(x):x}catch(L){}d.data(s,f,x)}else x=T}return x}function xn(s){var f=pe[s]={},x,k;for(s=s.split(/\s+/),x=0,k=s.length;x<k;x++)f[s[x]]=!0;return f}var Gt=n.document,Q=n.navigator,wt=n.location,d=(function(){function s(){if(!f.isReady){try{Gt.documentElement.doScroll("left")}catch(yt){setTimeout(s,1);return}f.ready()}}var f=function(yt,ce){return new f.fn.init(yt,ce,L)},x=n.jQuery,k=n.$,L,X=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,it=/\S/,dt=/^\s+/,Nt=/\s+$/,Et=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,Qt=/^[\],:{}\s]*$/,Ht=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,Vt=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,ne=/(?:^|:|,)(?:\s*\[)+/g,wn=/(webkit)[ \/]([\w.]+)/,en=/(opera)(?:.*version)?[ \/]([\w.]+)/,ln=/(msie) ([\w.]+)/,Tn=/(mozilla)(?:.*? rv:([\w.]+))?/,Di=/-([a-z]|[0-9])/ig,Ni=/^-ms-/,Fn=function(yt,ce){return(ce+"").toUpperCase()},ot=Q.userAgent,ht,Rt,Jt,ye=Object.prototype.toString,ue=Object.prototype.hasOwnProperty,Ne=Array.prototype.push,Ve=Array.prototype.slice,Qe=String.prototype.trim,Nn=Array.prototype.indexOf,ci={};return f.fn=f.prototype={constructor:f,init:function(yt,ce,qe){var De,Ue,di,r;if(!yt)return this;if(yt.nodeType)return this.context=this[0]=yt,this.length=1,this;if(yt==="body"&&!ce&&Gt.body)return this.context=Gt,this[0]=Gt.body,this.selector=yt,this.length=1,this;if(typeof yt=="string"){if(yt.charAt(0)!=="<"||yt.charAt(yt.length-1)!==">"||yt.length<3?De=X.exec(yt):De=[null,yt,null],De&&(De[1]||!ce)){if(De[1])return ce=ce instanceof f?ce[0]:ce,r=ce?ce.ownerDocument||ce:Gt,di=Et.exec(yt),di?f.isPlainObject(ce)?(yt=[Gt.createElement(di[1])],f.fn.attr.call(yt,ce,!0)):yt=[r.createElement(di[1])]:(di=f.buildFragment([De[1]],[r]),yt=(di.cacheable?f.clone(di.fragment):di.fragment).childNodes),f.merge(this,yt);if(Ue=Gt.getElementById(De[2]),Ue&&Ue.parentNode){if(Ue.id!==De[2])return qe.find(yt);this.length=1,this[0]=Ue}return this.context=Gt,this.selector=yt,this}return!ce||ce.jquery?(ce||qe).find(yt):this.constructor(ce).find(yt)}return f.isFunction(yt)?qe.ready(yt):(yt.selector!==T&&(this.selector=yt.selector,this.context=yt.context),f.makeArray(yt,this))},selector:"",jquery:"1.7.2",length:0,size:function(){return this.length},toArray:function(){return Ve.call(this,0)},get:function(yt){return yt==null?this.toArray():yt<0?this[this.length+yt]:this[yt]},pushStack:function(yt,ce,qe){var De=this.constructor();return f.isArray(yt)?Ne.apply(De,yt):f.merge(De,yt),De.prevObject=this,De.context=this.context,ce==="find"?De.selector=this.selector+(this.selector?" ":"")+qe:ce&&(De.selector=this.selector+"."+ce+"("+qe+")"),De},each:function(yt,ce){return f.each(this,yt,ce)},ready:function(yt){return f.bindReady(),Rt.add(yt),this},eq:function(yt){return yt=+yt,yt===-1?this.slice(yt):this.slice(yt,yt+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(Ve.apply(this,arguments),"slice",Ve.call(arguments).join(","))},map:function(yt){return this.pushStack(f.map(this,function(ce,qe){return yt.call(ce,qe,ce)}))},end:function(){return this.prevObject||this.constructor(null)},push:Ne,sort:[].sort,splice:[].splice},f.fn.init.prototype=f.fn,f.extend=f.fn.extend=function(){var yt,ce,qe,De,Ue,di,r=arguments[0]||{},u=1,_=arguments.length,C=!1;for(typeof r=="boolean"&&(C=r,r=arguments[1]||{},u=2),typeof r!="object"&&!f.isFunction(r)&&(r={}),_===u&&(r=this,--u);u<_;u++)if((yt=arguments[u])!=null)for(ce in yt)qe=r[ce],De=yt[ce],r!==De&&(C&&De&&(f.isPlainObject(De)||(Ue=f.isArray(De)))?(Ue?(Ue=!1,di=qe&&f.isArray(qe)?qe:[]):di=qe&&f.isPlainObject(qe)?qe:{},r[ce]=f.extend(C,di,De)):De!==T&&(r[ce]=De));return r},f.extend({noConflict:function(yt){return n.$===f&&(n.$=k),yt&&n.jQuery===f&&(n.jQuery=x),f},isReady:!1,readyWait:1,holdReady:function(yt){yt?f.readyWait++:f.ready(!0)},ready:function(yt){if(yt===!0&&!--f.readyWait||yt!==!0&&!f.isReady){if(!Gt.body)return setTimeout(f.ready,1);if(f.isReady=!0,yt!==!0&&--f.readyWait>0)return;Rt.fireWith(Gt,[f]),f.fn.trigger&&f(Gt).trigger("ready").off("ready")}},bindReady:function(){if(!Rt){if(Rt=f.Callbacks("once memory"),Gt.readyState==="complete")return setTimeout(f.ready,1);if(Gt.addEventListener)Gt.addEventListener("DOMContentLoaded",Jt,!1),n.addEventListener("load",f.ready,!1);else if(Gt.attachEvent){Gt.attachEvent("onreadystatechange",Jt),n.attachEvent("onload",f.ready);var yt=!1;try{yt=n.frameElement==null}catch(ce){}Gt.documentElement.doScroll&&yt&&s()}}},isFunction:function(yt){return f.type(yt)==="function"},isArray:Array.isArray||function(yt){return f.type(yt)==="array"},isWindow:function(yt){return yt!=null&&yt==yt.window},isNumeric:function(yt){return!isNaN(parseFloat(yt))&&isFinite(yt)},type:function(yt){return yt==null?String(yt):ci[ye.call(yt)]||"object"},isPlainObject:function(yt){if(!yt||f.type(yt)!=="object"||yt.nodeType||f.isWindow(yt))return!1;try{if(yt.constructor&&!ue.call(yt,"constructor")&&!ue.call(yt.constructor.prototype,"isPrototypeOf"))return!1}catch(qe){return!1}var ce;for(ce in yt);return ce===T||ue.call(yt,ce)},isEmptyObject:function(yt){for(var ce in yt)return!1;return!0},error:function(yt){throw new Error(yt)},parseJSON:function(yt){if(typeof yt!="string"||!yt)return null;if(yt=f.trim(yt),n.JSON&&n.JSON.parse)return n.JSON.parse(yt);if(Qt.test(yt.replace(Ht,"@").replace(Vt,"]").replace(ne,"")))return new Function("return "+yt)();f.error("Invalid JSON: "+yt)},parseXML:function(yt){if(typeof yt!="string"||!yt)return null;var ce,qe;try{n.DOMParser?(qe=new DOMParser,ce=qe.parseFromString(yt,"text/xml")):(ce=new ActiveXObject("Microsoft.XMLDOM"),ce.async="false",ce.loadXML(yt))}catch(De){ce=T}return(!ce||!ce.documentElement||ce.getElementsByTagName("parsererror").length)&&f.error("Invalid XML: "+yt),ce},noop:function(){},globalEval:function(yt){yt&&it.test(yt)&&(n.execScript||function(ce){n.eval.call(n,ce)})(yt)},camelCase:function(yt){return yt.replace(Ni,"ms-").replace(Di,Fn)},nodeName:function(yt,ce){return yt.nodeName&&yt.nodeName.toUpperCase()===ce.toUpperCase()},each:function(yt,ce,qe){var De,Ue=0,di=yt.length,r=di===T||f.isFunction(yt);if(qe)if(r){for(De in yt)if(ce.apply(yt[De],qe)===!1)break}else for(;Ue<di&&ce.apply(yt[Ue++],qe)!==!1;);else if(r){for(De in yt)if(ce.call(yt[De],De,yt[De])===!1)break}else for(;Ue<di&&ce.call(yt[Ue],Ue,yt[Ue++])!==!1;);return yt},trim:Qe?function(yt){return yt==null?"":Qe.call(yt)}:function(yt){return yt==null?"":(yt+"").replace(dt,"").replace(Nt,"")},makeArray:function(yt,ce){var qe=ce||[];if(yt!=null){var De=f.type(yt);yt.length==null||De==="string"||De==="function"||De==="regexp"||f.isWindow(yt)?Ne.call(qe,yt):f.merge(qe,yt)}return qe},inArray:function(yt,ce,qe){var De;if(ce){if(Nn)return Nn.call(ce,yt,qe);for(De=ce.length,qe=qe?qe<0?Math.max(0,De+qe):qe:0;qe<De;qe++)if(qe in ce&&ce[qe]===yt)return qe}return-1},merge:function(yt,ce){var qe=yt.length,De=0;if(typeof ce.length=="number")for(var Ue=ce.length;De<Ue;De++)yt[qe++]=ce[De];else for(;ce[De]!==T;)yt[qe++]=ce[De++];return yt.length=qe,yt},grep:function(yt,ce,qe){var De=[],Ue;qe=!!qe;for(var di=0,r=yt.length;di<r;di++)Ue=!!ce(yt[di],di),qe!==Ue&&De.push(yt[di]);return De},map:function(yt,ce,qe){var De,Ue,di=[],r=0,u=yt.length,_=yt instanceof f||u!==T&&typeof u=="number"&&(u>0&&yt[0]&&yt[u-1]||u===0||f.isArray(yt));if(_)for(;r<u;r++)De=ce(yt[r],r,qe),De!=null&&(di[di.length]=De);else for(Ue in yt)De=ce(yt[Ue],Ue,qe),De!=null&&(di[di.length]=De);return di.concat.apply([],di)},guid:1,proxy:function(yt,ce){if(typeof ce=="string"){var qe=yt[ce];ce=yt,yt=qe}if(!f.isFunction(yt))return T;var De=Ve.call(arguments,2),Ue=function(){return yt.apply(ce,De.concat(Ve.call(arguments)))};return Ue.guid=yt.guid=yt.guid||Ue.guid||f.guid++,Ue},access:function(yt,ce,qe,De,Ue,di,r){var u,_=qe==null,C=0,B=yt.length;if(qe&&typeof qe=="object"){for(C in qe)f.access(yt,ce,C,qe[C],1,di,De);Ue=1}else if(De!==T){if(u=r===T&&f.isFunction(De),_&&(u?(u=ce,ce=function(U,nt,xt){return u.call(f(U),xt)}):(ce.call(yt,De),ce=null)),ce)for(;C<B;C++)ce(yt[C],qe,u?De.call(yt[C],C,ce(yt[C],qe)):De,r);Ue=1}return Ue?yt:_?ce.call(yt):B?ce(yt[0],qe):di},now:function(){return new Date().getTime()},uaMatch:function(yt){yt=yt.toLowerCase();var ce=wn.exec(yt)||en.exec(yt)||ln.exec(yt)||yt.indexOf("compatible")<0&&Tn.exec(yt)||[];return{browser:ce[1]||"",version:ce[2]||"0"}},sub:function(){function yt(qe,De){return new yt.fn.init(qe,De)}f.extend(!0,yt,this),yt.superclass=this,yt.fn=yt.prototype=this(),yt.fn.constructor=yt,yt.sub=this.sub,yt.fn.init=function(qe,De){return De&&De instanceof f&&!(De instanceof yt)&&(De=yt(De)),f.fn.init.call(this,qe,De,ce)},yt.fn.init.prototype=yt.fn;var ce=yt(Gt);return yt},browser:{}}),f.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(yt,ce){ci["[object "+ce+"]"]=ce.toLowerCase()}),ht=f.uaMatch(ot),ht.browser&&(f.browser[ht.browser]=!0,f.browser.version=ht.version),f.browser.webkit&&(f.browser.safari=!0),it.test("\xA0")&&(dt=/^[\s\xA0]+/,Nt=/[\s\xA0]+$/),L=f(Gt),Gt.addEventListener?Jt=function(){Gt.removeEventListener("DOMContentLoaded",Jt,!1),f.ready()}:Gt.attachEvent&&(Jt=function(){Gt.readyState==="complete"&&(Gt.detachEvent("onreadystatechange",Jt),f.ready())}),f})(),pe={};d.Callbacks=function(s){s=s?pe[s]||xn(s):{};var f=[],x=[],k,L,X,it,dt,Nt,Et=function(Vt){var ne,wn,en,ln,Tn;for(ne=0,wn=Vt.length;ne<wn;ne++)en=Vt[ne],ln=d.type(en),ln==="array"?Et(en):ln==="function"&&(!s.unique||!Ht.has(en))&&f.push(en)},Qt=function(Vt,ne){for(ne=ne||[],k=!s.memory||[Vt,ne],L=!0,X=!0,Nt=it||0,it=0,dt=f.length;f&&Nt<dt;Nt++)if(f[Nt].apply(Vt,ne)===!1&&s.stopOnFalse){k=!0;break}X=!1,f&&(s.once?k===!0?Ht.disable():f=[]:x&&x.length&&(k=x.shift(),Ht.fireWith(k[0],k[1])))},Ht={add:function(){if(f){var Vt=f.length;Et(arguments),X?dt=f.length:k&&k!==!0&&(it=Vt,Qt(k[0],k[1]))}return this},remove:function(){if(f)for(var Vt=arguments,ne=0,wn=Vt.length;ne<wn;ne++)for(var en=0;en<f.length&&!(Vt[ne]===f[en]&&(X&&en<=dt&&(dt--,en<=Nt&&Nt--),f.splice(en--,1),s.unique));en++);return this},has:function(Vt){if(f){for(var ne=0,wn=f.length;ne<wn;ne++)if(Vt===f[ne])return!0}return!1},empty:function(){return f=[],this},disable:function(){return f=x=k=T,this},disabled:function(){return!f},lock:function(){return x=T,(!k||k===!0)&&Ht.disable(),this},locked:function(){return!x},fireWith:function(Vt,ne){return x&&(X?s.once||x.push([Vt,ne]):(!s.once||!k)&&Qt(Vt,ne)),this},fire:function(){return Ht.fireWith(this,arguments),this},fired:function(){return!!L}};return Ht};var ve=[].slice;d.extend({Deferred:function(s){var f=d.Callbacks("once memory"),x=d.Callbacks("once memory"),k=d.Callbacks("memory"),L="pending",X={resolve:f,reject:x,notify:k},it={done:f.add,fail:x.add,progress:k.add,state:function(){return L},isResolved:f.fired,isRejected:x.fired,then:function(Et,Qt,Ht){return dt.done(Et).fail(Qt).progress(Ht),this},always:function(){return dt.done.apply(dt,arguments).fail.apply(dt,arguments),this},pipe:function(Et,Qt,Ht){return d.Deferred(function(Vt){d.each({done:[Et,"resolve"],fail:[Qt,"reject"],progress:[Ht,"notify"]},function(ne,wn){var en=wn[0],ln=wn[1],Tn;d.isFunction(en)?dt[ne](function(){Tn=en.apply(this,arguments),Tn&&d.isFunction(Tn.promise)?Tn.promise().then(Vt.resolve,Vt.reject,Vt.notify):Vt[ln+"With"](this===dt?Vt:this,[Tn])}):dt[ne](Vt[ln])})}).promise()},promise:function(Et){if(Et==null)Et=it;else for(var Qt in it)Et[Qt]=it[Qt];return Et}},dt=it.promise({}),Nt;for(Nt in X)dt[Nt]=X[Nt].fire,dt[Nt+"With"]=X[Nt].fireWith;return dt.done(function(){L="resolved"},x.disable,k.lock).fail(function(){L="rejected"},f.disable,k.lock),s&&s.call(dt,dt),dt},when:function(s){function f(Ht){return function(Vt){it[Ht]=arguments.length>1?ve.call(arguments,0):Vt,Et.notifyWith(Qt,it)}}function x(Ht){return function(Vt){k[Ht]=arguments.length>1?ve.call(arguments,0):Vt,--dt||Et.resolveWith(Et,k)}}var k=ve.call(arguments,0),L=0,X=k.length,it=Array(X),dt=X,Nt=X,Et=X<=1&&s&&d.isFunction(s.promise)?s:d.Deferred(),Qt=Et.promise();if(X>1){for(;L<X;L++)k[L]&&k[L].promise&&d.isFunction(k[L].promise)?k[L].promise().then(x(L),Et.reject,f(L)):--dt;dt||Et.resolveWith(Et,k)}else Et!==s&&Et.resolveWith(Et,X?[s]:[]);return Qt}}),d.support=(function(){var s,f,x,k,L,X,it,dt,Nt,Et,Qt,Ht,Vt=Gt.createElement("div"),ne=Gt.documentElement;if(Vt.setAttribute("className","t"),Vt.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>",f=Vt.getElementsByTagName("*"),x=Vt.getElementsByTagName("a")[0],!f||!f.length||!x)return{};k=Gt.createElement("select"),L=k.appendChild(Gt.createElement("option")),X=Vt.getElementsByTagName("input")[0],s={leadingWhitespace:Vt.firstChild.nodeType===3,tbody:!Vt.getElementsByTagName("tbody").length,htmlSerialize:!!Vt.getElementsByTagName("link").length,style:/top/.test(x.getAttribute("style")),hrefNormalized:x.getAttribute("href")==="/a",opacity:/^0.55/.test(x.style.opacity),cssFloat:!!x.style.cssFloat,checkOn:X.value==="on",optSelected:L.selected,getSetAttribute:Vt.className!=="t",enctype:!!Gt.createElement("form").enctype,html5Clone:Gt.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,pixelMargin:!0},d.boxModel=s.boxModel=Gt.compatMode==="CSS1Compat",X.checked=!0,s.noCloneChecked=X.cloneNode(!0).checked,k.disabled=!0,s.optDisabled=!L.disabled;try{delete Vt.test}catch(wn){s.deleteExpando=!1}if(!Vt.addEventListener&&Vt.attachEvent&&Vt.fireEvent&&(Vt.attachEvent("onclick",function(){s.noCloneEvent=!1}),Vt.cloneNode(!0).fireEvent("onclick")),X=Gt.createElement("input"),X.value="t",X.setAttribute("type","radio"),s.radioValue=X.value==="t",X.setAttribute("checked","checked"),X.setAttribute("name","t"),Vt.appendChild(X),it=Gt.createDocumentFragment(),it.appendChild(Vt.lastChild),s.checkClone=it.cloneNode(!0).cloneNode(!0).lastChild.checked,s.appendChecked=X.checked,it.removeChild(X),it.appendChild(Vt),Vt.attachEvent)for(Qt in{submit:1,change:1,focusin:1})Et="on"+Qt,Ht=Et in Vt,Ht||(Vt.setAttribute(Et,"return;"),Ht=typeof Vt[Et]=="function"),s[Qt+"Bubbles"]=Ht;return it.removeChild(Vt),it=k=L=Vt=X=null,d(function(){var wn,en,ln,Tn,Di,Ni,Fn,ot,ht,Rt,Jt,ye,ue,Ne=Gt.getElementsByTagName("body")[0];!Ne||(ot=1,ue="padding:0;margin:0;border:",Jt="position:absolute;top:0;left:0;width:1px;height:1px;",ye=ue+"0;visibility:hidden;",ht="style='"+Jt+ue+"5px solid #000;",Rt="<div "+ht+"display:block;'><div style='"+ue+"0;display:block;overflow:hidden;'></div></div><table "+ht+"' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>",wn=Gt.createElement("div"),wn.style.cssText=ye+"width:0;height:0;position:static;top:0;margin-top:"+ot+"px",Ne.insertBefore(wn,Ne.firstChild),Vt=Gt.createElement("div"),wn.appendChild(Vt),Vt.innerHTML="<table><tr><td style='"+ue+"0;display:none'></td><td>t</td></tr></table>",dt=Vt.getElementsByTagName("td"),Ht=dt[0].offsetHeight===0,dt[0].style.display="",dt[1].style.display="none",s.reliableHiddenOffsets=Ht&&dt[0].offsetHeight===0,n.getComputedStyle&&(Vt.innerHTML="",Fn=Gt.createElement("div"),Fn.style.width="0",Fn.style.marginRight="0",Vt.style.width="2px",Vt.appendChild(Fn),s.reliableMarginRight=(parseInt((n.getComputedStyle(Fn,null)||{marginRight:0}).marginRight,10)||0)===0),typeof Vt.style.zoom!="undefined"&&(Vt.innerHTML="",Vt.style.width=Vt.style.padding="1px",Vt.style.border=0,Vt.style.overflow="hidden",Vt.style.display="inline",Vt.style.zoom=1,s.inlineBlockNeedsLayout=Vt.offsetWidth===3,Vt.style.display="block",Vt.style.overflow="visible",Vt.innerHTML="<div style='width:5px;'></div>",s.shrinkWrapBlocks=Vt.offsetWidth!==3),Vt.style.cssText=Jt+ye,Vt.innerHTML=Rt,en=Vt.firstChild,ln=en.firstChild,Di=en.nextSibling.firstChild.firstChild,Ni={doesNotAddBorder:ln.offsetTop!==5,doesAddBorderForTableAndCells:Di.offsetTop===5},ln.style.position="fixed",ln.style.top="20px",Ni.fixedPosition=ln.offsetTop===20||ln.offsetTop===15,ln.style.position=ln.style.top="",en.style.overflow="hidden",en.style.position="relative",Ni.subtractsBorderForOverflowNotVisible=ln.offsetTop===-5,Ni.doesNotIncludeMarginInBodyOffset=Ne.offsetTop!==ot,n.getComputedStyle&&(Vt.style.marginTop="1%",s.pixelMargin=(n.getComputedStyle(Vt,null)||{marginTop:0}).marginTop!=="1%"),typeof wn.style.zoom!="undefined"&&(wn.style.zoom=1),Ne.removeChild(wn),Fn=Vt=wn=null,d.extend(s,Ni))}),s})();var Le=/^(?:\{.*\}|\[.*\])$/,Ie=/([A-Z])/g;d.extend({cache:{},uuid:0,expando:"jQuery"+(d.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(s){return s=s.nodeType?d.cache[s[d.expando]]:s[d.expando],!!s&&!zt(s)},data:function(s,f,x,k){if(d.acceptData(s)){var L,X,it,dt=d.expando,Nt=typeof f=="string",Et=s.nodeType,Qt=Et?d.cache:s,Ht=Et?s[dt]:s[dt]&&dt,Vt=f==="events";return(!Ht||!Qt[Ht]||!Vt&&!k&&!Qt[Ht].data)&&Nt&&x===T?void 0:(Ht||(Et?s[dt]=Ht=++d.uuid:Ht=dt),Qt[Ht]||(Qt[Ht]={},Et||(Qt[Ht].toJSON=d.noop)),(typeof f=="object"||typeof f=="function")&&(k?Qt[Ht]=d.extend(Qt[Ht],f):Qt[Ht].data=d.extend(Qt[Ht].data,f)),L=X=Qt[Ht],k||(X.data||(X.data={}),X=X.data),x!==T&&(X[d.camelCase(f)]=x),Vt&&!X[f]?L.events:(Nt?(it=X[f],it==null&&(it=X[d.camelCase(f)])):it=X,it))}},removeData:function(s,f,x){if(d.acceptData(s)){var k,L,X,it=d.expando,dt=s.nodeType,Nt=dt?d.cache:s,Et=dt?s[it]:it;if(!Nt[Et])return;if(f&&(k=x?Nt[Et]:Nt[Et].data,k)){for(d.isArray(f)||(f in k?f=[f]:(f=d.camelCase(f),f in k?f=[f]:f=f.split(" "))),L=0,X=f.length;L<X;L++)delete k[f[L]];if(!(x?zt:d.isEmptyObject)(k))return}if(!x&&(delete Nt[Et].data,!zt(Nt[Et])))return;d.support.deleteExpando||!Nt.setInterval?delete Nt[Et]:Nt[Et]=null,dt&&(d.support.deleteExpando?delete s[it]:s.removeAttribute?s.removeAttribute(it):s[it]=null)}},_data:function(s,f,x){return d.data(s,f,x,!0)},acceptData:function(s){if(s.nodeName){var f=d.noData[s.nodeName.toLowerCase()];if(f)return f!==!0&&s.getAttribute("classid")===f}return!0}}),d.fn.extend({data:function(s,f){var x,k,L,X,it,dt=this[0],Nt=0,Et=null;if(s===T){if(this.length&&(Et=d.data(dt),dt.nodeType===1&&!d._data(dt,"parsedAttrs"))){for(L=dt.attributes,it=L.length;Nt<it;Nt++)X=L[Nt].name,X.indexOf("data-")===0&&(X=d.camelCase(X.substring(5)),R(dt,X,Et[X]));d._data(dt,"parsedAttrs",!0)}return Et}return typeof s=="object"?this.each(function(){d.data(this,s)}):(x=s.split(".",2),x[1]=x[1]?"."+x[1]:"",k=x[1]+"!",d.access(this,function(Qt){if(Qt===T)return Et=this.triggerHandler("getData"+k,[x[0]]),Et===T&&dt&&(Et=d.data(dt,s),Et=R(dt,s,Et)),Et===T&&x[1]?this.data(x[0]):Et;x[1]=Qt,this.each(function(){var Ht=d(this);Ht.triggerHandler("setData"+k,x),d.data(this,s,Qt),Ht.triggerHandler("changeData"+k,x)})},null,f,arguments.length>1,null,!1))},removeData:function(s){return this.each(function(){d.removeData(this,s)})}}),d.extend({_mark:function(s,f){s&&(f=(f||"fx")+"mark",d._data(s,f,(d._data(s,f)||0)+1))},_unmark:function(s,f,x){if(s!==!0&&(x=f,f=s,s=!1),f){x=x||"fx";var k=x+"mark",L=s?0:(d._data(f,k)||1)-1;L?d._data(f,k,L):(d.removeData(f,k,!0),kt(f,x,"mark"))}},queue:function(s,f,x){var k;if(s)return f=(f||"fx")+"queue",k=d._data(s,f),x&&(!k||d.isArray(x)?k=d._data(s,f,d.makeArray(x)):k.push(x)),k||[]},dequeue:function(s,f){f=f||"fx";var x=d.queue(s,f),k=x.shift(),L={};k==="inprogress"&&(k=x.shift()),k&&(f==="fx"&&x.unshift("inprogress"),d._data(s,f+".run",L),k.call(s,function(){d.dequeue(s,f)},L)),x.length||(d.removeData(s,f+"queue "+f+".run",!0),kt(s,f,"queue"))}}),d.fn.extend({queue:function(s,f){var x=2;return typeof s!="string"&&(f=s,s="fx",x--),arguments.length<x?d.queue(this[0],s):f===T?this:this.each(function(){var k=d.queue(this,s,f);s==="fx"&&k[0]!=="inprogress"&&d.dequeue(this,s)})},dequeue:function(s){return this.each(function(){d.dequeue(this,s)})},delay:function(s,f){return s=d.fx&&d.fx.speeds[s]||s,f=f||"fx",this.queue(f,function(x,k){var L=setTimeout(x,s);k.stop=function(){clearTimeout(L)}})},clearQueue:function(s){return this.queue(s||"fx",[])},promise:function(s,f){function x(){--it||k.resolveWith(L,[L])}typeof s!="string"&&(f=s,s=T),s=s||"fx";for(var k=d.Deferred(),L=this,X=L.length,it=1,dt=s+"defer",Nt=s+"queue",Et=s+"mark",Qt;X--;)(Qt=d.data(L[X],dt,T,!0)||(d.data(L[X],Nt,T,!0)||d.data(L[X],Et,T,!0))&&d.data(L[X],dt,d.Callbacks("once memory"),!0))&&(it++,Qt.add(x));return x(),k.promise(f)}});var vn=/[\n\t\r]/g,Cn=/\s+/,an=/\r/g,si=/^(?:button|input)$/i,$n=/^(?:button|input|object|select|textarea)$/i,Ii=/^a(?:rea)?$/i,qi=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Bt=d.support.getSetAttribute,be,on,Bn;d.fn.extend({attr:function(s,f){return d.access(this,d.attr,s,f,arguments.length>1)},removeAttr:function(s){return this.each(function(){d.removeAttr(this,s)})},prop:function(s,f){return d.access(this,d.prop,s,f,arguments.length>1)},removeProp:function(s){return s=d.propFix[s]||s,this.each(function(){try{this[s]=T,delete this[s]}catch(f){}})},addClass:function(s){var f,x,k,L,X,it,dt;if(d.isFunction(s))return this.each(function(Nt){d(this).addClass(s.call(this,Nt,this.className))});if(s&&typeof s=="string"){for(f=s.split(Cn),x=0,k=this.length;x<k;x++)if(L=this[x],L.nodeType===1)if(!L.className&&f.length===1)L.className=s;else{for(X=" "+L.className+" ",it=0,dt=f.length;it<dt;it++)~X.indexOf(" "+f[it]+" ")||(X+=f[it]+" ");L.className=d.trim(X)}}return this},removeClass:function(s){var f,x,k,L,X,it,dt;if(d.isFunction(s))return this.each(function(Nt){d(this).removeClass(s.call(this,Nt,this.className))});if(s&&typeof s=="string"||s===T){for(f=(s||"").split(Cn),x=0,k=this.length;x<k;x++)if(L=this[x],L.nodeType===1&&L.className)if(s){for(X=(" "+L.className+" ").replace(vn," "),it=0,dt=f.length;it<dt;it++)X=X.replace(" "+f[it]+" "," ");L.className=d.trim(X)}else L.className=""}return this},toggleClass:function(s,f){var x=typeof s,k=typeof f=="boolean";return d.isFunction(s)?this.each(function(L){d(this).toggleClass(s.call(this,L,this.className,f),f)}):this.each(function(){if(x==="string")for(var L,X=0,it=d(this),dt=f,Nt=s.split(Cn);L=Nt[X++];)dt=k?dt:!it.hasClass(L),it[dt?"addClass":"removeClass"](L);else(x==="undefined"||x==="boolean")&&(this.className&&d._data(this,"__className__",this.className),this.className=this.className||s===!1?"":d._data(this,"__className__")||"")})},hasClass:function(s){for(var f=" "+s+" ",x=0,k=this.length;x<k;x++)if(this[x].nodeType===1&&(" "+this[x].className+" ").replace(vn," ").indexOf(f)>-1)return!0;return!1},val:function(s){var f,x,k,L=this[0];{if(arguments.length)return k=d.isFunction(s),this.each(function(X){var it=d(this),dt;this.nodeType===1&&(k?dt=s.call(this,X,it.val()):dt=s,dt==null?dt="":typeof dt=="number"?dt+="":d.isArray(dt)&&(dt=d.map(dt,function(Nt){return Nt==null?"":Nt+""})),f=d.valHooks[this.type]||d.valHooks[this.nodeName.toLowerCase()],(!f||!("set"in f)||f.set(this,dt,"value")===T)&&(this.value=dt))});if(L)return f=d.valHooks[L.type]||d.valHooks[L.nodeName.toLowerCase()],f&&"get"in f&&(x=f.get(L,"value"))!==T?x:(x=L.value,typeof x=="string"?x.replace(an,""):x==null?"":x)}}}),d.extend({valHooks:{option:{get:function(s){var f=s.attributes.value;return!f||f.specified?s.value:s.text}},select:{get:function(s){var f,x,k,L,X=s.selectedIndex,it=[],dt=s.options,Nt=s.type==="select-one";if(X<0)return null;for(x=Nt?X:0,k=Nt?X+1:dt.length;x<k;x++)if(L=dt[x],L.selected&&(d.support.optDisabled?!L.disabled:L.getAttribute("disabled")===null)&&(!L.parentNode.disabled||!d.nodeName(L.parentNode,"optgroup"))){if(f=d(L).val(),Nt)return f;it.push(f)}return Nt&&!it.length&&dt.length?d(dt[X]).val():it},set:function(s,f){var x=d.makeArray(f);return d(s).find("option").each(function(){this.selected=d.inArray(d(this).val(),x)>=0}),x.length||(s.selectedIndex=-1),x}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(s,f,x,k){var L,X,it,dt=s.nodeType;if(s&&dt!==3&&dt!==8&&dt!==2){if(k&&f in d.attrFn)return d(s)[f](x);if(typeof s.getAttribute=="undefined")return d.prop(s,f,x);if(it=dt!==1||!d.isXMLDoc(s),it&&(f=f.toLowerCase(),X=d.attrHooks[f]||(qi.test(f)?on:be)),x!==T){if(x===null){d.removeAttr(s,f);return}return X&&"set"in X&&it&&(L=X.set(s,x,f))!==T?L:(s.setAttribute(f,""+x),x)}return X&&"get"in X&&it&&(L=X.get(s,f))!==null?L:(L=s.getAttribute(f),L===null?T:L)}},removeAttr:function(s,f){var x,k,L,X,it,dt=0;if(f&&s.nodeType===1)for(k=f.toLowerCase().split(Cn),X=k.length;dt<X;dt++)L=k[dt],L&&(x=d.propFix[L]||L,it=qi.test(L),it||d.attr(s,L,""),s.removeAttribute(Bt?L:x),it&&x in s&&(s[x]=!1))},attrHooks:{type:{set:function(s,f){if(si.test(s.nodeName)&&s.parentNode)d.error("type property can't be changed");else if(!d.support.radioValue&&f==="radio"&&d.nodeName(s,"input")){var x=s.value;return s.setAttribute("type",f),x&&(s.value=x),f}}},value:{get:function(s,f){return be&&d.nodeName(s,"button")?be.get(s,f):f in s?s.value:null},set:function(s,f,x){if(be&&d.nodeName(s,"button"))return be.set(s,f,x);s.value=f}}},propFix:{tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(s,f,x){var k,L,X,it=s.nodeType;if(s&&it!==3&&it!==8&&it!==2)return X=it!==1||!d.isXMLDoc(s),X&&(f=d.propFix[f]||f,L=d.propHooks[f]),x!==T?L&&"set"in L&&(k=L.set(s,x,f))!==T?k:s[f]=x:L&&"get"in L&&(k=L.get(s,f))!==null?k:s[f]},propHooks:{tabIndex:{get:function(s){var f=s.getAttributeNode("tabindex");return f&&f.specified?parseInt(f.value,10):$n.test(s.nodeName)||Ii.test(s.nodeName)&&s.href?0:T}}}}),d.attrHooks.tabindex=d.propHooks.tabIndex,on={get:function(s,f){var x,k=d.prop(s,f);return k===!0||typeof k!="boolean"&&(x=s.getAttributeNode(f))&&x.nodeValue!==!1?f.toLowerCase():T},set:function(s,f,x){var k;return f===!1?d.removeAttr(s,x):(k=d.propFix[x]||x,k in s&&(s[k]=!0),s.setAttribute(x,x.toLowerCase())),x}},Bt||(Bn={name:!0,id:!0,coords:!0},be=d.valHooks.button={get:function(s,f){var x;return x=s.getAttributeNode(f),x&&(Bn[f]?x.nodeValue!=="":x.specified)?x.nodeValue:T},set:function(s,f,x){var k=s.getAttributeNode(x);return k||(k=Gt.createAttribute(x),s.setAttributeNode(k)),k.nodeValue=f+""}},d.attrHooks.tabindex.set=be.set,d.each(["width","height"],function(s,f){d.attrHooks[f]=d.extend(d.attrHooks[f],{set:function(x,k){if(k==="")return x.setAttribute(f,"auto"),k}})}),d.attrHooks.contenteditable={get:be.get,set:function(s,f,x){f===""&&(f="false"),be.set(s,f,x)}}),d.support.hrefNormalized||d.each(["href","src","width","height"],function(s,f){d.attrHooks[f]=d.extend(d.attrHooks[f],{get:function(x){var k=x.getAttribute(f,2);return k===null?T:k}})}),d.support.style||(d.attrHooks.style={get:function(s){return s.style.cssText.toLowerCase()||T},set:function(s,f){return s.style.cssText=""+f}}),d.support.optSelected||(d.propHooks.selected=d.extend(d.propHooks.selected,{get:function(s){var f=s.parentNode;return f&&(f.selectedIndex,f.parentNode&&f.parentNode.selectedIndex),null}})),d.support.enctype||(d.propFix.enctype="encoding"),d.support.checkOn||d.each(["radio","checkbox"],function(){d.valHooks[this]={get:function(s){return s.getAttribute("value")===null?"on":s.value}}}),d.each(["radio","checkbox"],function(){d.valHooks[this]=d.extend(d.valHooks[this],{set:function(s,f){if(d.isArray(f))return s.checked=d.inArray(d(s).val(),f)>=0}})});var Si=/^(?:textarea|input|select)$/i,Li=/^([^\.]*)?(?:\.(.+))?$/,It=/(?:^|\s)hover(\.\S+)?\b/,Zt=/^key/,he=/^(?:mouse|contextmenu)|click/,Ee=/^(?:focusinfocus|focusoutblur)$/,je=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,se=function(s){var f=je.exec(s);return f&&(f[1]=(f[1]||"").toLowerCase(),f[3]=f[3]&&new RegExp("(?:^|\\s)"+f[3]+"(?:\\s|$)")),f},mt=function(s,f){var x=s.attributes||{};return(!f[1]||s.nodeName.toLowerCase()===f[1])&&(!f[2]||(x.id||{}).value===f[2])&&(!f[3]||f[3].test((x.class||{}).value))},Pt=function(s){return d.event.special.hover?s:s.replace(It,"mouseenter$1 mouseleave$1")};d.event={add:function(s,f,x,k,L){var X,it,dt,Nt,Et,Qt,Ht,Vt,ne,wn,en,ln;if(!(s.nodeType===3||s.nodeType===8||!f||!x||!(X=d._data(s)))){for(x.handler&&(ne=x,x=ne.handler,L=ne.selector),x.guid||(x.guid=d.guid++),dt=X.events,dt||(X.events=dt={}),it=X.handle,it||(X.handle=it=function(Tn){return typeof d!="undefined"&&(!Tn||d.event.triggered!==Tn.type)?d.event.dispatch.apply(it.elem,arguments):T},it.elem=s),f=d.trim(Pt(f)).split(" "),Nt=0;Nt<f.length;Nt++)Et=Li.exec(f[Nt])||[],Qt=Et[1],Ht=(Et[2]||"").split(".").sort(),ln=d.event.special[Qt]||{},Qt=(L?ln.delegateType:ln.bindType)||Qt,ln=d.event.special[Qt]||{},Vt=d.extend({type:Qt,origType:Et[1],data:k,handler:x,guid:x.guid,selector:L,quick:L&&se(L),namespace:Ht.join(".")},ne),en=dt[Qt],en||(en=dt[Qt]=[],en.delegateCount=0,(!ln.setup||ln.setup.call(s,k,Ht,it)===!1)&&(s.addEventListener?s.addEventListener(Qt,it,!1):s.attachEvent&&s.attachEvent("on"+Qt,it))),ln.add&&(ln.add.call(s,Vt),Vt.handler.guid||(Vt.handler.guid=x.guid)),L?en.splice(en.delegateCount++,0,Vt):en.push(Vt),d.event.global[Qt]=!0;s=null}},global:{},remove:function(s,f,x,k,L){var X=d.hasData(s)&&d._data(s),it,dt,Nt,Et,Qt,Ht,Vt,ne,wn,en,ln,Tn;if(X&&(ne=X.events)){for(f=d.trim(Pt(f||"")).split(" "),it=0;it<f.length;it++){if(dt=Li.exec(f[it])||[],Nt=Et=dt[1],Qt=dt[2],!Nt){for(Nt in ne)d.event.remove(s,Nt+f[it],x,k,!0);continue}for(wn=d.event.special[Nt]||{},Nt=(k?wn.delegateType:wn.bindType)||Nt,ln=ne[Nt]||[],Ht=ln.length,Qt=Qt?new RegExp("(^|\\.)"+Qt.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null,Vt=0;Vt<ln.length;Vt++)Tn=ln[Vt],(L||Et===Tn.origType)&&(!x||x.guid===Tn.guid)&&(!Qt||Qt.test(Tn.namespace))&&(!k||k===Tn.selector||k==="**"&&Tn.selector)&&(ln.splice(Vt--,1),Tn.selector&&ln.delegateCount--,wn.remove&&wn.remove.call(s,Tn));ln.length===0&&Ht!==ln.length&&((!wn.teardown||wn.teardown.call(s,Qt)===!1)&&d.removeEvent(s,Nt,X.handle),delete ne[Nt])}d.isEmptyObject(ne)&&(en=X.handle,en&&(en.elem=null),d.removeData(s,["events","handle"],!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(s,f,x,k){if(!x||x.nodeType!==3&&x.nodeType!==8){var L=s.type||s,X=[],it,dt,Nt,Et,Qt,Ht,Vt,ne,wn,en;if(Ee.test(L+d.event.triggered)||(L.indexOf("!")>=0&&(L=L.slice(0,-1),dt=!0),L.indexOf(".")>=0&&(X=L.split("."),L=X.shift(),X.sort()),(!x||d.event.customEvent[L])&&!d.event.global[L]))return;if(s=typeof s=="object"?s[d.expando]?s:new d.Event(L,s):new d.Event(L),s.type=L,s.isTrigger=!0,s.exclusive=dt,s.namespace=X.join("."),s.namespace_re=s.namespace?new RegExp("(^|\\.)"+X.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,Ht=L.indexOf(":")<0?"on"+L:"",!x){it=d.cache;for(Nt in it)it[Nt].events&&it[Nt].events[L]&&d.event.trigger(s,f,it[Nt].handle.elem,!0);return}if(s.result=T,s.target||(s.target=x),f=f!=null?d.makeArray(f):[],f.unshift(s),Vt=d.event.special[L]||{},Vt.trigger&&Vt.trigger.apply(x,f)===!1)return;if(wn=[[x,Vt.bindType||L]],!k&&!Vt.noBubble&&!d.isWindow(x)){for(en=Vt.delegateType||L,Et=Ee.test(en+L)?x:x.parentNode,Qt=null;Et;Et=Et.parentNode)wn.push([Et,en]),Qt=Et;Qt&&Qt===x.ownerDocument&&wn.push([Qt.defaultView||Qt.parentWindow||n,en])}for(Nt=0;Nt<wn.length&&!s.isPropagationStopped();Nt++)Et=wn[Nt][0],s.type=wn[Nt][1],ne=(d._data(Et,"events")||{})[s.type]&&d._data(Et,"handle"),ne&&ne.apply(Et,f),ne=Ht&&Et[Ht],ne&&d.acceptData(Et)&&ne.apply(Et,f)===!1&&s.preventDefault();return s.type=L,!k&&!s.isDefaultPrevented()&&(!Vt._default||Vt._default.apply(x.ownerDocument,f)===!1)&&(L!=="click"||!d.nodeName(x,"a"))&&d.acceptData(x)&&Ht&&x[L]&&(L!=="focus"&&L!=="blur"||s.target.offsetWidth!==0)&&!d.isWindow(x)&&(Qt=x[Ht],Qt&&(x[Ht]=null),d.event.triggered=L,x[L](),d.event.triggered=T,Qt&&(x[Ht]=Qt)),s.result}},dispatch:function(s){s=d.event.fix(s||n.event);var f=(d._data(this,"events")||{})[s.type]||[],x=f.delegateCount,k=[].slice.call(arguments,0),L=!s.exclusive&&!s.namespace,X=d.event.special[s.type]||{},it=[],dt,Nt,Et,Qt,Ht,Vt,ne,wn,en,ln,Tn;if(k[0]=s,s.delegateTarget=this,!X.preDispatch||X.preDispatch.call(this,s)!==!1){if(x&&(!s.button||s.type!=="click")){for(Qt=d(this),Qt.context=this.ownerDocument||this,Et=s.target;Et!=this;Et=Et.parentNode||this)if(Et.disabled!==!0){for(Vt={},wn=[],Qt[0]=Et,dt=0;dt<x;dt++)en=f[dt],ln=en.selector,Vt[ln]===T&&(Vt[ln]=en.quick?mt(Et,en.quick):Qt.is(ln)),Vt[ln]&&wn.push(en);wn.length&&it.push({elem:Et,matches:wn})}}for(f.length>x&&it.push({elem:this,matches:f.slice(x)}),dt=0;dt<it.length&&!s.isPropagationStopped();dt++)for(ne=it[dt],s.currentTarget=ne.elem,Nt=0;Nt<ne.matches.length&&!s.isImmediatePropagationStopped();Nt++)en=ne.matches[Nt],(L||!s.namespace&&!en.namespace||s.namespace_re&&s.namespace_re.test(en.namespace))&&(s.data=en.data,s.handleObj=en,Ht=((d.event.special[en.origType]||{}).handle||en.handler).apply(ne.elem,k),Ht!==T&&(s.result=Ht,Ht===!1&&(s.preventDefault(),s.stopPropagation())));return X.postDispatch&&X.postDispatch.call(this,s),s.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(s,f){return s.which==null&&(s.which=f.charCode!=null?f.charCode:f.keyCode),s}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(s,f){var x,k,L,X=f.button,it=f.fromElement;return s.pageX==null&&f.clientX!=null&&(x=s.target.ownerDocument||Gt,k=x.documentElement,L=x.body,s.pageX=f.clientX+(k&&k.scrollLeft||L&&L.scrollLeft||0)-(k&&k.clientLeft||L&&L.clientLeft||0),s.pageY=f.clientY+(k&&k.scrollTop||L&&L.scrollTop||0)-(k&&k.clientTop||L&&L.clientTop||0)),!s.relatedTarget&&it&&(s.relatedTarget=it===s.target?f.toElement:it),!s.which&&X!==T&&(s.which=X&1?1:X&2?3:X&4?2:0),s}},fix:function(s){if(s[d.expando])return s;var f,x,k=s,L=d.event.fixHooks[s.type]||{},X=L.props?this.props.concat(L.props):this.props;for(s=d.Event(k),f=X.length;f;)x=X[--f],s[x]=k[x];return s.target||(s.target=k.srcElement||Gt),s.target.nodeType===3&&(s.target=s.target.parentNode),s.metaKey===T&&(s.metaKey=s.ctrlKey),L.filter?L.filter(s,k):s},special:{ready:{setup:d.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(s,f,x){d.isWindow(this)&&(this.onbeforeunload=x)},teardown:function(s,f){this.onbeforeunload===f&&(this.onbeforeunload=null)}}},simulate:function(s,f,x,k){var L=d.extend(new d.Event,x,{type:s,isSimulated:!0,originalEvent:{}});k?d.event.trigger(L,null,f):d.event.dispatch.call(f,L),L.isDefaultPrevented()&&x.preventDefault()}},d.event.handle=d.event.dispatch,d.removeEvent=Gt.removeEventListener?function(s,f,x){s.removeEventListener&&s.removeEventListener(f,x,!1)}:function(s,f,x){s.detachEvent&&s.detachEvent("on"+f,x)},d.Event=function(s,f){if(!(this instanceof d.Event))return new d.Event(s,f);s&&s.type?(this.originalEvent=s,this.type=s.type,this.isDefaultPrevented=s.defaultPrevented||s.returnValue===!1||s.getPreventDefault&&s.getPreventDefault()?te:m):this.type=s,f&&d.extend(this,f),this.timeStamp=s&&s.timeStamp||d.now(),this[d.expando]=!0},d.Event.prototype={preventDefault:function(){this.isDefaultPrevented=te;var s=this.originalEvent;!s||(s.preventDefault?s.preventDefault():s.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=te;var s=this.originalEvent;!s||(s.stopPropagation&&s.stopPropagation(),s.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=te,this.stopPropagation()},isDefaultPrevented:m,isPropagationStopped:m,isImmediatePropagationStopped:m},d.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(s,f){d.event.special[s]={delegateType:f,bindType:f,handle:function(x){var k=this,L=x.relatedTarget,X=x.handleObj,it=X.selector,dt;return(!L||L!==k&&!d.contains(k,L))&&(x.type=X.origType,dt=X.handler.apply(this,arguments),x.type=f),dt}}}),d.support.submitBubbles||(d.event.special.submit={setup:function(){if(d.nodeName(this,"form"))return!1;d.event.add(this,"click._submit keypress._submit",function(s){var f=s.target,x=d.nodeName(f,"input")||d.nodeName(f,"button")?f.form:T;x&&!x._submit_attached&&(d.event.add(x,"submit._submit",function(k){k._submit_bubble=!0}),x._submit_attached=!0)})},postDispatch:function(s){s._submit_bubble&&(delete s._submit_bubble,this.parentNode&&!s.isTrigger&&d.event.simulate("submit",this.parentNode,s,!0))},teardown:function(){if(d.nodeName(this,"form"))return!1;d.event.remove(this,"._submit")}}),d.support.changeBubbles||(d.event.special.change={setup:function(){if(Si.test(this.nodeName))return(this.type==="checkbox"||this.type==="radio")&&(d.event.add(this,"propertychange._change",function(s){s.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),d.event.add(this,"click._change",function(s){this._just_changed&&!s.isTrigger&&(this._just_changed=!1,d.event.simulate("change",this,s,!0))})),!1;d.event.add(this,"beforeactivate._change",function(s){var f=s.target;Si.test(f.nodeName)&&!f._change_attached&&(d.event.add(f,"change._change",function(x){this.parentNode&&!x.isSimulated&&!x.isTrigger&&d.event.simulate("change",this.parentNode,x,!0)}),f._change_attached=!0)})},handle:function(s){var f=s.target;if(this!==f||s.isSimulated||s.isTrigger||f.type!=="radio"&&f.type!=="checkbox")return s.handleObj.handler.apply(this,arguments)},teardown:function(){return d.event.remove(this,"._change"),Si.test(this.nodeName)}}),d.support.focusinBubbles||d.each({focus:"focusin",blur:"focusout"},function(s,f){var x=0,k=function(L){d.event.simulate(f,L.target,d.event.fix(L),!0)};d.event.special[f]={setup:function(){x++===0&&Gt.addEventListener(s,k,!0)},teardown:function(){--x===0&&Gt.removeEventListener(s,k,!0)}}}),d.fn.extend({on:function(s,f,x,k,L){var X,it;if(typeof s=="object"){typeof f!="string"&&(x=x||f,f=T);for(it in s)this.on(it,f,x,s[it],L);return this}if(x==null&&k==null?(k=f,x=f=T):k==null&&(typeof f=="string"?(k=x,x=T):(k=x,x=f,f=T)),k===!1)k=m;else if(!k)return this;return L===1&&(X=k,k=function(dt){return d().off(dt),X.apply(this,arguments)},k.guid=X.guid||(X.guid=d.guid++)),this.each(function(){d.event.add(this,s,k,x,f)})},one:function(s,f,x,k){return this.on(s,f,x,k,1)},off:function(s,f,x){if(s&&s.preventDefault&&s.handleObj){var k=s.handleObj;return d(s.delegateTarget).off(k.namespace?k.origType+"."+k.namespace:k.origType,k.selector,k.handler),this}if(typeof s=="object"){for(var L in s)this.off(L,f,s[L]);return this}return(f===!1||typeof f=="function")&&(x=f,f=T),x===!1&&(x=m),this.each(function(){d.event.remove(this,s,x,f)})},bind:function(s,f,x){return this.on(s,null,f,x)},unbind:function(s,f){return this.off(s,null,f)},live:function(s,f,x){return d(this.context).on(s,this.selector,f,x),this},die:function(s,f){return d(this.context).off(s,this.selector||"**",f),this},delegate:function(s,f,x,k){return this.on(f,s,x,k)},undelegate:function(s,f,x){return arguments.length==1?this.off(s,"**"):this.off(f,s,x)},trigger:function(s,f){return this.each(function(){d.event.trigger(s,f,this)})},triggerHandler:function(s,f){if(this[0])return d.event.trigger(s,f,this[0],!0)},toggle:function(s){var f=arguments,x=s.guid||d.guid++,k=0,L=function(X){var it=(d._data(this,"lastToggle"+s.guid)||0)%k;return d._data(this,"lastToggle"+s.guid,it+1),X.preventDefault(),f[it].apply(this,arguments)||!1};for(L.guid=x;k<f.length;)f[k++].guid=x;return this.click(L)},hover:function(s,f){return this.mouseenter(s).mouseleave(f||s)}}),d.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(s,f){d.fn[f]=function(x,k){return k==null&&(k=x,x=null),arguments.length>0?this.on(f,null,x,k):this.trigger(f)},d.attrFn&&(d.attrFn[f]=!0),Zt.test(f)&&(d.event.fixHooks[f]=d.event.keyHooks),he.test(f)&&(d.event.fixHooks[f]=d.event.mouseHooks)}),(function(){function s(ot,ht,Rt,Jt,ye,ue){for(var Ne=0,Ve=Jt.length;Ne<Ve;Ne++){var Qe=Jt[Ne];if(Qe){var Nn=!1;for(Qe=Qe[ot];Qe;){if(Qe[k]===Rt){Nn=Jt[Qe.sizset];break}if(Qe.nodeType===1){if(ue||(Qe[k]=Rt,Qe.sizset=Ne),typeof ht!="string"){if(Qe===ht){Nn=!0;break}}else if(Ht.filter(ht,[Qe]).length>0){Nn=Qe;break}}Qe=Qe[ot]}Jt[Ne]=Nn}}}function f(ot,ht,Rt,Jt,ye,ue){for(var Ne=0,Ve=Jt.length;Ne<Ve;Ne++){var Qe=Jt[Ne];if(Qe){var Nn=!1;for(Qe=Qe[ot];Qe;){if(Qe[k]===Rt){Nn=Jt[Qe.sizset];break}if(Qe.nodeType===1&&!ue&&(Qe[k]=Rt,Qe.sizset=Ne),Qe.nodeName.toLowerCase()===ht){Nn=Qe;break}Qe=Qe[ot]}Jt[Ne]=Nn}}}var x=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,k="sizcache"+(Math.random()+"").replace(".",""),L=0,X=Object.prototype.toString,it=!1,dt=!0,Nt=/\\/g,Et=/\r\n/g,Qt=/\W/;[0,0].sort(function(){return dt=!1,0});var Ht=function(ot,ht,Rt,Jt){Rt=Rt||[],ht=ht||Gt;var ye=ht;if(ht.nodeType!==1&&ht.nodeType!==9)return[];if(!ot||typeof ot!="string")return Rt;var ue,Ne,Ve,Qe,Nn,ci,yt,ce,qe=!0,De=Ht.isXML(ht),Ue=[],di=ot;do if(x.exec(""),ue=x.exec(di),ue&&(di=ue[3],Ue.push(ue[1]),ue[2])){Qe=ue[3];break}while(ue);if(Ue.length>1&&wn.exec(ot))if(Ue.length===2&&ne.relative[Ue[0]])Ne=Fn(Ue[0]+Ue[1],ht,Jt);else for(Ne=ne.relative[Ue[0]]?[ht]:Ht(Ue.shift(),ht);Ue.length;)ot=Ue.shift(),ne.relative[ot]&&(ot+=Ue.shift()),Ne=Fn(ot,Ne,Jt);else if(!Jt&&Ue.length>1&&ht.nodeType===9&&!De&&ne.match.ID.test(Ue[0])&&!ne.match.ID.test(Ue[Ue.length-1])&&(Nn=Ht.find(Ue.shift(),ht,De),ht=Nn.expr?Ht.filter(Nn.expr,Nn.set)[0]:Nn.set[0]),ht)for(Nn=Jt?{expr:Ue.pop(),set:Tn(Jt)}:Ht.find(Ue.pop(),Ue.length===1&&(Ue[0]==="~"||Ue[0]==="+")&&ht.parentNode?ht.parentNode:ht,De),Ne=Nn.expr?Ht.filter(Nn.expr,Nn.set):Nn.set,Ue.length>0?Ve=Tn(Ne):qe=!1;Ue.length;)ci=Ue.pop(),yt=ci,ne.relative[ci]?yt=Ue.pop():ci="",yt==null&&(yt=ht),ne.relative[ci](Ve,yt,De);else Ve=Ue=[];if(Ve||(Ve=Ne),Ve||Ht.error(ci||ot),X.call(Ve)==="[object Array]")if(!qe)Rt.push.apply(Rt,Ve);else if(ht&&ht.nodeType===1)for(ce=0;Ve[ce]!=null;ce++)Ve[ce]&&(Ve[ce]===!0||Ve[ce].nodeType===1&&Ht.contains(ht,Ve[ce]))&&Rt.push(Ne[ce]);else for(ce=0;Ve[ce]!=null;ce++)Ve[ce]&&Ve[ce].nodeType===1&&Rt.push(Ne[ce]);else Tn(Ve,Rt);return Qe&&(Ht(Qe,ye,Rt,Jt),Ht.uniqueSort(Rt)),Rt};Ht.uniqueSort=function(ot){if(Di&&(it=dt,ot.sort(Di),it))for(var ht=1;ht<ot.length;ht++)ot[ht]===ot[ht-1]&&ot.splice(ht--,1);return ot},Ht.matches=function(ot,ht){return Ht(ot,null,null,ht)},Ht.matchesSelector=function(ot,ht){return Ht(ht,null,null,[ot]).length>0},Ht.find=function(ot,ht,Rt){var Jt,ye,ue,Ne,Ve,Qe;if(!ot)return[];for(ye=0,ue=ne.order.length;ye<ue;ye++)if(Ve=ne.order[ye],(Ne=ne.leftMatch[Ve].exec(ot))&&(Qe=Ne[1],Ne.splice(1,1),Qe.substr(Qe.length-1)!=="\\"&&(Ne[1]=(Ne[1]||"").replace(Nt,""),Jt=ne.find[Ve](Ne,ht,Rt),Jt!=null))){ot=ot.replace(ne.match[Ve],"");break}return Jt||(Jt=typeof ht.getElementsByTagName!="undefined"?ht.getElementsByTagName("*"):[]),{set:Jt,expr:ot}},Ht.filter=function(ot,ht,Rt,Jt){for(var ye,ue,Ne,Ve,Qe,Nn,ci,yt,ce,qe=ot,De=[],Ue=ht,di=ht&&ht[0]&&Ht.isXML(ht[0]);ot&&ht.length;){for(Ne in ne.filter)if((ye=ne.leftMatch[Ne].exec(ot))!=null&&ye[2]){if(Nn=ne.filter[Ne],ci=ye[1],ue=!1,ye.splice(1,1),ci.substr(ci.length-1)==="\\")continue;if(Ue===De&&(De=[]),ne.preFilter[Ne]){if(ye=ne.preFilter[Ne](ye,Ue,Rt,De,Jt,di),!ye)ue=Ve=!0;else if(ye===!0)continue}if(ye)for(yt=0;(Qe=Ue[yt])!=null;yt++)Qe&&(Ve=Nn(Qe,ye,yt,Ue),ce=Jt^Ve,Rt&&Ve!=null?ce?ue=!0:Ue[yt]=!1:ce&&(De.push(Qe),ue=!0));if(Ve!==T){if(Rt||(Ue=De),ot=ot.replace(ne.match[Ne],""),!ue)return[];break}}if(ot===qe)if(ue==null)Ht.error(ot);else break;qe=ot}return Ue},Ht.error=function(ot){throw new Error("Syntax error, unrecognized expression: "+ot)};var Vt=Ht.getText=function(ot){var ht,Rt,Jt=ot.nodeType,ye="";if(Jt){if(Jt===1||Jt===9||Jt===11){if(typeof ot.textContent=="string")return ot.textContent;if(typeof ot.innerText=="string")return ot.innerText.replace(Et,"");for(ot=ot.firstChild;ot;ot=ot.nextSibling)ye+=Vt(ot)}else if(Jt===3||Jt===4)return ot.nodeValue}else for(ht=0;Rt=ot[ht];ht++)Rt.nodeType!==8&&(ye+=Vt(Rt));return ye},ne=Ht.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{class:"className",for:"htmlFor"},attrHandle:{href:function(ot){return ot.getAttribute("href")},type:function(ot){return ot.getAttribute("type")}},relative:{"+":function(ot,ht){var Rt=typeof ht=="string",Jt=Rt&&!Qt.test(ht),ye=Rt&&!Jt;Jt&&(ht=ht.toLowerCase());for(var ue=0,Ne=ot.length,Ve;ue<Ne;ue++)if(Ve=ot[ue]){for(;(Ve=Ve.previousSibling)&&Ve.nodeType!==1;);ot[ue]=ye||Ve&&Ve.nodeName.toLowerCase()===ht?Ve||!1:Ve===ht}ye&&Ht.filter(ht,ot,!0)},">":function(ot,ht){var Rt,Jt=typeof ht=="string",ye=0,ue=ot.length;if(Jt&&!Qt.test(ht)){for(ht=ht.toLowerCase();ye<ue;ye++)if(Rt=ot[ye],Rt){var Ne=Rt.parentNode;ot[ye]=Ne.nodeName.toLowerCase()===ht?Ne:!1}}else{for(;ye<ue;ye++)Rt=ot[ye],Rt&&(ot[ye]=Jt?Rt.parentNode:Rt.parentNode===ht);Jt&&Ht.filter(ht,ot,!0)}},"":function(ot,ht,Rt){var Jt,ye=L++,ue=s;typeof ht=="string"&&!Qt.test(ht)&&(ht=ht.toLowerCase(),Jt=ht,ue=f),ue("parentNode",ht,ye,ot,Jt,Rt)},"~":function(ot,ht,Rt){var Jt,ye=L++,ue=s;typeof ht=="string"&&!Qt.test(ht)&&(ht=ht.toLowerCase(),Jt=ht,ue=f),ue("previousSibling",ht,ye,ot,Jt,Rt)}},find:{ID:function(ot,ht,Rt){if(typeof ht.getElementById!="undefined"&&!Rt){var Jt=ht.getElementById(ot[1]);return Jt&&Jt.parentNode?[Jt]:[]}},NAME:function(ot,ht){if(typeof ht.getElementsByName!="undefined"){for(var Rt=[],Jt=ht.getElementsByName(ot[1]),ye=0,ue=Jt.length;ye<ue;ye++)Jt[ye].getAttribute("name")===ot[1]&&Rt.push(Jt[ye]);return Rt.length===0?null:Rt}},TAG:function(ot,ht){if(typeof ht.getElementsByTagName!="undefined")return ht.getElementsByTagName(ot[1])}},preFilter:{CLASS:function(ot,ht,Rt,Jt,ye,ue){if(ot=" "+ot[1].replace(Nt,"")+" ",ue)return ot;for(var Ne=0,Ve;(Ve=ht[Ne])!=null;Ne++)Ve&&(ye^(Ve.className&&(" "+Ve.className+" ").replace(/[\t\n\r]/g," ").indexOf(ot)>=0)?Rt||Jt.push(Ve):Rt&&(ht[Ne]=!1));return!1},ID:function(ot){return ot[1].replace(Nt,"")},TAG:function(ot,ht){return ot[1].replace(Nt,"").toLowerCase()},CHILD:function(ot){if(ot[1]==="nth"){ot[2]||Ht.error(ot[0]),ot[2]=ot[2].replace(/^\+|\s*/g,"");var ht=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(ot[2]==="even"&&"2n"||ot[2]==="odd"&&"2n+1"||!/\D/.test(ot[2])&&"0n+"+ot[2]||ot[2]);ot[2]=ht[1]+(ht[2]||1)-0,ot[3]=ht[3]-0}else ot[2]&&Ht.error(ot[0]);return ot[0]=L++,ot},ATTR:function(ot,ht,Rt,Jt,ye,ue){var Ne=ot[1]=ot[1].replace(Nt,"");return!ue&&ne.attrMap[Ne]&&(ot[1]=ne.attrMap[Ne]),ot[4]=(ot[4]||ot[5]||"").replace(Nt,""),ot[2]==="~="&&(ot[4]=" "+ot[4]+" "),ot},PSEUDO:function(ot,ht,Rt,Jt,ye){if(ot[1]==="not")if((x.exec(ot[3])||"").length>1||/^\w/.test(ot[3]))ot[3]=Ht(ot[3],null,null,ht);else{var ue=Ht.filter(ot[3],ht,Rt,!0^ye);return Rt||Jt.push.apply(Jt,ue),!1}else if(ne.match.POS.test(ot[0])||ne.match.CHILD.test(ot[0]))return!0;return ot},POS:function(ot){return ot.unshift(!0),ot}},filters:{enabled:function(ot){return ot.disabled===!1&&ot.type!=="hidden"},disabled:function(ot){return ot.disabled===!0},checked:function(ot){return ot.checked===!0},selected:function(ot){return ot.parentNode&&ot.parentNode.selectedIndex,ot.selected===!0},parent:function(ot){return!!ot.firstChild},empty:function(ot){return!ot.firstChild},has:function(ot,ht,Rt){return!!Ht(Rt[3],ot).length},header:function(ot){return/h\d/i.test(ot.nodeName)},text:function(ot){var ht=ot.getAttribute("type"),Rt=ot.type;return ot.nodeName.toLowerCase()==="input"&&Rt==="text"&&(ht===Rt||ht===null)},radio:function(ot){return ot.nodeName.toLowerCase()==="input"&&ot.type==="radio"},checkbox:function(ot){return ot.nodeName.toLowerCase()==="input"&&ot.type==="checkbox"},file:function(ot){return ot.nodeName.toLowerCase()==="input"&&ot.type==="file"},password:function(ot){return ot.nodeName.toLowerCase()==="input"&&ot.type==="password"},submit:function(ot){var ht=ot.nodeName.toLowerCase();return(ht==="input"||ht==="button")&&ot.type==="submit"},image:function(ot){return ot.nodeName.toLowerCase()==="input"&&ot.type==="image"},reset:function(ot){var ht=ot.nodeName.toLowerCase();return(ht==="input"||ht==="button")&&ot.type==="reset"},button:function(ot){var ht=ot.nodeName.toLowerCase();return ht==="input"&&ot.type==="button"||ht==="button"},input:function(ot){return/input|select|textarea|button/i.test(ot.nodeName)},focus:function(ot){return ot===ot.ownerDocument.activeElement}},setFilters:{first:function(ot,ht){return ht===0},last:function(ot,ht,Rt,Jt){return ht===Jt.length-1},even:function(ot,ht){return ht%2===0},odd:function(ot,ht){return ht%2===1},lt:function(ot,ht,Rt){return ht<Rt[3]-0},gt:function(ot,ht,Rt){return ht>Rt[3]-0},nth:function(ot,ht,Rt){return Rt[3]-0===ht},eq:function(ot,ht,Rt){return Rt[3]-0===ht}},filter:{PSEUDO:function(ot,ht,Rt,Jt){var ye=ht[1],ue=ne.filters[ye];if(ue)return ue(ot,Rt,ht,Jt);if(ye==="contains")return(ot.textContent||ot.innerText||Vt([ot])||"").indexOf(ht[3])>=0;if(ye==="not"){for(var Ne=ht[3],Ve=0,Qe=Ne.length;Ve<Qe;Ve++)if(Ne[Ve]===ot)return!1;return!0}Ht.error(ye)},CHILD:function(ot,ht){var Rt,Jt,ye,ue,Ne,Ve,Qe,Nn=ht[1],ci=ot;switch(Nn){case"only":case"first":for(;ci=ci.previousSibling;)if(ci.nodeType===1)return!1;if(Nn==="first")return!0;ci=ot;case"last":for(;ci=ci.nextSibling;)if(ci.nodeType===1)return!1;return!0;case"nth":if(Rt=ht[2],Jt=ht[3],Rt===1&&Jt===0)return!0;if(ye=ht[0],ue=ot.parentNode,ue&&(ue[k]!==ye||!ot.nodeIndex)){for(Ve=0,ci=ue.firstChild;ci;ci=ci.nextSibling)ci.nodeType===1&&(ci.nodeIndex=++Ve);ue[k]=ye}return Qe=ot.nodeIndex-Jt,Rt===0?Qe===0:Qe%Rt===0&&Qe/Rt>=0}},ID:function(ot,ht){return ot.nodeType===1&&ot.getAttribute("id")===ht},TAG:function(ot,ht){return ht==="*"&&ot.nodeType===1||!!ot.nodeName&&ot.nodeName.toLowerCase()===ht},CLASS:function(ot,ht){return(" "+(ot.className||ot.getAttribute("class"))+" ").indexOf(ht)>-1},ATTR:function(ot,ht){var Rt=ht[1],Jt=Ht.attr?Ht.attr(ot,Rt):ne.attrHandle[Rt]?ne.attrHandle[Rt](ot):ot[Rt]!=null?ot[Rt]:ot.getAttribute(Rt),ye=Jt+"",ue=ht[2],Ne=ht[4];return Jt==null?ue==="!=":!ue&&Ht.attr?Jt!=null:ue==="="?ye===Ne:ue==="*="?ye.indexOf(Ne)>=0:ue==="~="?(" "+ye+" ").indexOf(Ne)>=0:Ne?ue==="!="?ye!==Ne:ue==="^="?ye.indexOf(Ne)===0:ue==="$="?ye.substr(ye.length-Ne.length)===Ne:ue==="|="?ye===Ne||ye.substr(0,Ne.length+1)===Ne+"-":!1:ye&&Jt!==!1},POS:function(ot,ht,Rt,Jt){var ye=ht[2],ue=ne.setFilters[ye];if(ue)return ue(ot,Rt,ht,Jt)}}},wn=ne.match.POS,en=function(ot,ht){return"\\"+(ht-0+1)};for(var ln in ne.match)ne.match[ln]=new RegExp(ne.match[ln].source+/(?![^\[]*\])(?![^\(]*\))/.source),ne.leftMatch[ln]=new RegExp(/(^(?:.|\r|\n)*?)/.source+ne.match[ln].source.replace(/\\(\d+)/g,en));ne.match.globalPOS=wn;var Tn=function(ot,ht){return ot=Array.prototype.slice.call(ot,0),ht?(ht.push.apply(ht,ot),ht):ot};try{Array.prototype.slice.call(Gt.documentElement.childNodes,0)[0].nodeType}catch(ot){Tn=function(ht,Rt){var Jt=0,ye=Rt||[];if(X.call(ht)==="[object Array]")Array.prototype.push.apply(ye,ht);else if(typeof ht.length=="number")for(var ue=ht.length;Jt<ue;Jt++)ye.push(ht[Jt]);else for(;ht[Jt];Jt++)ye.push(ht[Jt]);return ye}}var Di,Ni;Gt.documentElement.compareDocumentPosition?Di=function(ot,ht){return ot===ht?(it=!0,0):!ot.compareDocumentPosition||!ht.compareDocumentPosition?ot.compareDocumentPosition?-1:1:ot.compareDocumentPosition(ht)&4?-1:1}:(Di=function(ot,ht){if(ot===ht)return it=!0,0;if(ot.sourceIndex&&ht.sourceIndex)return ot.sourceIndex-ht.sourceIndex;var Rt,Jt,ye=[],ue=[],Ne=ot.parentNode,Ve=ht.parentNode,Qe=Ne;if(Ne===Ve)return Ni(ot,ht);if(!Ne)return-1;if(!Ve)return 1;for(;Qe;)ye.unshift(Qe),Qe=Qe.parentNode;for(Qe=Ve;Qe;)ue.unshift(Qe),Qe=Qe.parentNode;Rt=ye.length,Jt=ue.length;for(var Nn=0;Nn<Rt&&Nn<Jt;Nn++)if(ye[Nn]!==ue[Nn])return Ni(ye[Nn],ue[Nn]);return Nn===Rt?Ni(ot,ue[Nn],-1):Ni(ye[Nn],ht,1)},Ni=function(ot,ht,Rt){if(ot===ht)return Rt;for(var Jt=ot.nextSibling;Jt;){if(Jt===ht)return-1;Jt=Jt.nextSibling}return 1}),(function(){var ot=Gt.createElement("div"),ht="script"+new Date().getTime(),Rt=Gt.documentElement;ot.innerHTML="<a name='"+ht+"'/>",Rt.insertBefore(ot,Rt.firstChild),Gt.getElementById(ht)&&(ne.find.ID=function(Jt,ye,ue){if(typeof ye.getElementById!="undefined"&&!ue){var Ne=ye.getElementById(Jt[1]);return Ne?Ne.id===Jt[1]||typeof Ne.getAttributeNode!="undefined"&&Ne.getAttributeNode("id").nodeValue===Jt[1]?[Ne]:T:[]}},ne.filter.ID=function(Jt,ye){var ue=typeof Jt.getAttributeNode!="undefined"&&Jt.getAttributeNode("id");return Jt.nodeType===1&&ue&&ue.nodeValue===ye}),Rt.removeChild(ot),Rt=ot=null})(),(function(){var ot=Gt.createElement("div");ot.appendChild(Gt.createComment("")),ot.getElementsByTagName("*").length>0&&(ne.find.TAG=function(ht,Rt){var Jt=Rt.getElementsByTagName(ht[1]);if(ht[1]==="*"){for(var ye=[],ue=0;Jt[ue];ue++)Jt[ue].nodeType===1&&ye.push(Jt[ue]);Jt=ye}return Jt}),ot.innerHTML="<a href='#'></a>",ot.firstChild&&typeof ot.firstChild.getAttribute!="undefined"&&ot.firstChild.getAttribute("href")!=="#"&&(ne.attrHandle.href=function(ht){return ht.getAttribute("href",2)}),ot=null})(),Gt.querySelectorAll&&(function(){var ot=Ht,ht=Gt.createElement("div"),Rt="__sizzle__";if(ht.innerHTML="<p class='TEST'></p>",!ht.querySelectorAll||ht.querySelectorAll(".TEST").length!==0){Ht=function(ye,ue,Ne,Ve){if(ue=ue||Gt,!Ve&&!Ht.isXML(ue)){var Qe=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(ye);if(Qe&&(ue.nodeType===1||ue.nodeType===9)){if(Qe[1])return Tn(ue.getElementsByTagName(ye),Ne);if(Qe[2]&&ne.find.CLASS&&ue.getElementsByClassName)return Tn(ue.getElementsByClassName(Qe[2]),Ne)}if(ue.nodeType===9){if(ye==="body"&&ue.body)return Tn([ue.body],Ne);if(Qe&&Qe[3]){var Nn=ue.getElementById(Qe[3]);if(!Nn||!Nn.parentNode)return Tn([],Ne);if(Nn.id===Qe[3])return Tn([Nn],Ne)}try{return Tn(ue.querySelectorAll(ye),Ne)}catch(Ue){}}else if(ue.nodeType===1&&ue.nodeName.toLowerCase()!=="object"){var ci=ue,yt=ue.getAttribute("id"),ce=yt||Rt,qe=ue.parentNode,De=/^\s*[+~]/.test(ye);yt?ce=ce.replace(/'/g,"\\$&"):ue.setAttribute("id",ce),De&&qe&&(ue=ue.parentNode);try{if(!De||qe)return Tn(ue.querySelectorAll("[id='"+ce+"'] "+ye),Ne)}catch(Ue){}finally{yt||ci.removeAttribute("id")}}}return ot(ye,ue,Ne,Ve)};for(var Jt in ot)Ht[Jt]=ot[Jt];ht=null}})(),(function(){var ot=Gt.documentElement,ht=ot.matchesSelector||ot.mozMatchesSelector||ot.webkitMatchesSelector||ot.msMatchesSelector;if(ht){var Rt=!ht.call(Gt.createElement("div"),"div"),Jt=!1;try{ht.call(Gt.documentElement,"[test!='']:sizzle")}catch(ye){Jt=!0}Ht.matchesSelector=function(ye,ue){if(ue=ue.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']"),!Ht.isXML(ye))try{if(Jt||!ne.match.PSEUDO.test(ue)&&!/!=/.test(ue)){var Ne=ht.call(ye,ue);if(Ne||!Rt||ye.document&&ye.document.nodeType!==11)return Ne}}catch(Ve){}return Ht(ue,null,null,[ye]).length>0}}})(),(function(){var ot=Gt.createElement("div");if(ot.innerHTML="<div class='test e'></div><div class='test'></div>",ot.getElementsByClassName&&ot.getElementsByClassName("e").length!==0){if(ot.lastChild.className="e",ot.getElementsByClassName("e").length===1)return;ne.order.splice(1,0,"CLASS"),ne.find.CLASS=function(ht,Rt,Jt){if(typeof Rt.getElementsByClassName!="undefined"&&!Jt)return Rt.getElementsByClassName(ht[1])},ot=null}})(),Gt.documentElement.contains?Ht.contains=function(ot,ht){return ot!==ht&&(ot.contains?ot.contains(ht):!0)}:Gt.documentElement.compareDocumentPosition?Ht.contains=function(ot,ht){return!!(ot.compareDocumentPosition(ht)&16)}:Ht.contains=function(){return!1},Ht.isXML=function(ot){var ht=(ot?ot.ownerDocument||ot:0).documentElement;return ht?ht.nodeName!=="HTML":!1};var Fn=function(ot,ht,Rt){for(var Jt,ye=[],ue="",Ne=ht.nodeType?[ht]:ht;Jt=ne.match.PSEUDO.exec(ot);)ue+=Jt[0],ot=ot.replace(ne.match.PSEUDO,"");ot=ne.relative[ot]?ot+"*":ot;for(var Ve=0,Qe=Ne.length;Ve<Qe;Ve++)Ht(ot,Ne[Ve],ye,Rt);return Ht.filter(ue,ye)};Ht.attr=d.attr,Ht.selectors.attrMap={},d.find=Ht,d.expr=Ht.selectors,d.expr[":"]=d.expr.filters,d.unique=Ht.uniqueSort,d.text=Ht.getText,d.isXMLDoc=Ht.isXML,d.contains=Ht.contains})();var le=/Until$/,Oe=/^(?:parents|prevUntil|prevAll)/,Xt=/,/,Ze=/^.[^:#\[\.,]*$/,Je=Array.prototype.slice,yn=d.expr.match.globalPOS,Ln={children:!0,contents:!0,next:!0,prev:!0};d.fn.extend({find:function(s){var f=this,x,k;if(typeof s!="string")return d(s).filter(function(){for(x=0,k=f.length;x<k;x++)if(d.contains(f[x],this))return!0});var L=this.pushStack("","find",s),X,it,dt;for(x=0,k=this.length;x<k;x++)if(X=L.length,d.find(s,this[x],L),x>0){for(it=X;it<L.length;it++)for(dt=0;dt<X;dt++)if(L[dt]===L[it]){L.splice(it--,1);break}}return L},has:function(s){var f=d(s);return this.filter(function(){for(var x=0,k=f.length;x<k;x++)if(d.contains(this,f[x]))return!0})},not:function(s){return this.pushStack(Ct(this,s,!1),"not",s)},filter:function(s){return this.pushStack(Ct(this,s,!0),"filter",s)},is:function(s){return!!s&&(typeof s=="string"?yn.test(s)?d(s,this.context).index(this[0])>=0:d.filter(s,this).length>0:this.filter(s).length>0)},closest:function(s,f){var x=[],k,L,X=this[0];if(d.isArray(s)){for(var it=1;X&&X.ownerDocument&&X!==f;){for(k=0;k<s.length;k++)d(X).is(s[k])&&x.push({selector:s[k],elem:X,level:it});X=X.parentNode,it++}return x}var dt=yn.test(s)||typeof s!="string"?d(s,f||this.context):0;for(k=0,L=this.length;k<L;k++)for(X=this[k];X;){if(dt?dt.index(X)>-1:d.find.matchesSelector(X,s)){x.push(X);break}if(X=X.parentNode,!X||!X.ownerDocument||X===f||X.nodeType===11)break}return x=x.length>1?d.unique(x):x,this.pushStack(x,"closest",s)},index:function(s){return s?typeof s=="string"?d.inArray(this[0],d(s)):d.inArray(s.jquery?s[0]:s,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(s,f){var x=typeof s=="string"?d(s,f):d.makeArray(s&&s.nodeType?[s]:s),k=d.merge(this.get(),x);return this.pushStack(St(x[0])||St(k[0])?k:d.unique(k))},andSelf:function(){return this.add(this.prevObject)}}),d.each({parent:function(s){var f=s.parentNode;return f&&f.nodeType!==11?f:null},parents:function(s){return d.dir(s,"parentNode")},parentsUntil:function(s,f,x){return d.dir(s,"parentNode",x)},next:function(s){return d.nth(s,2,"nextSibling")},prev:function(s){return d.nth(s,2,"previousSibling")},nextAll:function(s){return d.dir(s,"nextSibling")},prevAll:function(s){return d.dir(s,"previousSibling")},nextUntil:function(s,f,x){return d.dir(s,"nextSibling",x)},prevUntil:function(s,f,x){return d.dir(s,"previousSibling",x)},siblings:function(s){return d.sibling((s.parentNode||{}).firstChild,s)},children:function(s){return d.sibling(s.firstChild)},contents:function(s){return d.nodeName(s,"iframe")?s.contentDocument||s.contentWindow.document:d.makeArray(s.childNodes)}},function(s,f){d.fn[s]=function(x,k){var L=d.map(this,f,x);return le.test(s)||(k=x),k&&typeof k=="string"&&(L=d.filter(k,L)),L=this.length>1&&!Ln[s]?d.unique(L):L,(this.length>1||Xt.test(k))&&Oe.test(s)&&(L=L.reverse()),this.pushStack(L,s,Je.call(arguments).join(","))}}),d.extend({filter:function(s,f,x){return x&&(s=":not("+s+")"),f.length===1?d.find.matchesSelector(f[0],s)?[f[0]]:[]:d.find.matches(s,f)},dir:function(s,f,x){for(var k=[],L=s[f];L&&L.nodeType!==9&&(x===T||L.nodeType!==1||!d(L).is(x));)L.nodeType===1&&k.push(L),L=L[f];return k},nth:function(s,f,x,k){f=f||1;for(var L=0;s&&!(s.nodeType===1&&++L===f);s=s[x]);return s},sibling:function(s,f){for(var x=[];s;s=s.nextSibling)s.nodeType===1&&s!==f&&x.push(s);return x}});var sn="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",_n=/ jQuery\d+="(?:\d+|null)"/g,pi=/^\s+/,zi=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,Mt=/<([\w:]+)/,ai=/<tbody/i,tn=/<|&#?\w+;/,Pi=/<(?:script|style)/i,_t=/<(?:script|object|embed|option|style)/i,gt=new RegExp("<(?:"+sn+")[\\s/>]","i"),Lt=/checked\s*(?:[^=]|=\s*.checked.)/i,de=/\/(java|ecma)script/i,Ce=/^\s*<!(?:\[CDATA\[|\-\-)/,ge={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},ze=G(Gt);ge.optgroup=ge.option,ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead,ge.th=ge.td,d.support.htmlSerialize||(ge._default=[1,"div<div>","</div>"]),d.fn.extend({text:function(s){return d.access(this,function(f){return f===T?d.text(this):this.empty().append((this[0]&&this[0].ownerDocument||Gt).createTextNode(f))},null,s,arguments.length)},wrapAll:function(s){if(d.isFunction(s))return this.each(function(x){d(this).wrapAll(s.call(this,x))});if(this[0]){var f=d(s,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&f.insertBefore(this[0]),f.map(function(){for(var x=this;x.firstChild&&x.firstChild.nodeType===1;)x=x.firstChild;return x}).append(this)}return this},wrapInner:function(s){return d.isFunction(s)?this.each(function(f){d(this).wrapInner(s.call(this,f))}):this.each(function(){var f=d(this),x=f.contents();x.length?x.wrapAll(s):f.append(s)})},wrap:function(s){var f=d.isFunction(s);return this.each(function(x){d(this).wrapAll(f?s.call(this,x):s)})},unwrap:function(){return this.parent().each(function(){d.nodeName(this,"body")||d(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(s){this.nodeType===1&&this.appendChild(s)})},prepend:function(){return this.domManip(arguments,!0,function(s){this.nodeType===1&&this.insertBefore(s,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(f){this.parentNode.insertBefore(f,this)});if(arguments.length){var s=d.clean(arguments);return s.push.apply(s,this.toArray()),this.pushStack(s,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(f){this.parentNode.insertBefore(f,this.nextSibling)});if(arguments.length){var s=this.pushStack(this,"after",arguments);return s.push.apply(s,d.clean(arguments)),s}},remove:function(s,f){for(var x=0,k;(k=this[x])!=null;x++)(!s||d.filter(s,[k]).length)&&(!f&&k.nodeType===1&&(d.cleanData(k.getElementsByTagName("*")),d.cleanData([k])),k.parentNode&&k.parentNode.removeChild(k));return this},empty:function(){for(var s=0,f;(f=this[s])!=null;s++)for(f.nodeType===1&&d.cleanData(f.getElementsByTagName("*"));f.firstChild;)f.removeChild(f.firstChild);return this},clone:function(s,f){return s=s==null?!1:s,f=f==null?s:f,this.map(function(){return d.clone(this,s,f)})},html:function(s){return d.access(this,function(f){var x=this[0]||{},k=0,L=this.length;if(f===T)return x.nodeType===1?x.innerHTML.replace(_n,""):null;if(typeof f=="string"&&!Pi.test(f)&&(d.support.leadingWhitespace||!pi.test(f))&&!ge[(Mt.exec(f)||["",""])[1].toLowerCase()]){f=f.replace(zi,"<$1></$2>");try{for(;k<L;k++)x=this[k]||{},x.nodeType===1&&(d.cleanData(x.getElementsByTagName("*")),x.innerHTML=f);x=0}catch(X){}}x&&this.empty().append(f)},null,s,arguments.length)},replaceWith:function(s){return this[0]&&this[0].parentNode?d.isFunction(s)?this.each(function(f){var x=d(this),k=x.html();x.replaceWith(s.call(this,f,k))}):(typeof s!="string"&&(s=d(s).detach()),this.each(function(){var f=this.nextSibling,x=this.parentNode;d(this).remove(),f?d(f).before(s):d(x).append(s)})):this.length?this.pushStack(d(d.isFunction(s)?s():s),"replaceWith",s):this},detach:function(s){return this.remove(s,!0)},domManip:function(s,f,x){var k,L,X,it,dt=s[0],Nt=[];if(!d.support.checkClone&&arguments.length===3&&typeof dt=="string"&&Lt.test(dt))return this.each(function(){d(this).domManip(s,f,x,!0)});if(d.isFunction(dt))return this.each(function(Vt){var ne=d(this);s[0]=dt.call(this,Vt,f?ne.html():T),ne.domManip(s,f,x)});if(this[0]){if(it=dt&&dt.parentNode,d.support.parentNode&&it&&it.nodeType===11&&it.childNodes.length===this.length?k={fragment:it}:k=d.buildFragment(s,this,Nt),X=k.fragment,X.childNodes.length===1?L=X=X.firstChild:L=X.firstChild,L){f=f&&d.nodeName(L,"tr");for(var Et=0,Qt=this.length,Ht=Qt-1;Et<Qt;Et++)x.call(f?ft(this[Et],L):this[Et],k.cacheable||Qt>1&&Et<Ht?d.clone(X,!0,!0):X)}Nt.length&&d.each(Nt,function(Vt,ne){ne.src?d.ajax({type:"GET",global:!1,url:ne.src,async:!1,dataType:"script"}):d.globalEval((ne.text||ne.textContent||ne.innerHTML||"").replace(Ce,"/*$0*/")),ne.parentNode&&ne.parentNode.removeChild(ne)})}return this}}),d.buildFragment=function(s,f,x){var k,L,X,it,dt=s[0];return f&&f[0]&&(it=f[0].ownerDocument||f[0]),it.createDocumentFragment||(it=Gt),s.length===1&&typeof dt=="string"&&dt.length<512&&it===Gt&&dt.charAt(0)==="<"&&!_t.test(dt)&&(d.support.checkClone||!Lt.test(dt))&&(d.support.html5Clone||!gt.test(dt))&&(L=!0,X=d.fragments[dt],X&&X!==1&&(k=X)),k||(k=it.createDocumentFragment(),d.clean(s,it,k,x)),L&&(d.fragments[dt]=X?k:1),{fragment:k,cacheable:L}},d.fragments={},d.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(s,f){d.fn[s]=function(x){var k=[],L=d(x),X=this.length===1&&this[0].parentNode;if(X&&X.nodeType===11&&X.childNodes.length===1&&L.length===1)return L[f](this[0]),this;for(var it=0,dt=L.length;it<dt;it++){var Nt=(it>0?this.clone(!0):this).get();d(L[it])[f](Nt),k=k.concat(Nt)}return this.pushStack(k,s,L.selector)}}),d.extend({clone:function(s,f,x){var k,L,X,it=d.support.html5Clone||d.isXMLDoc(s)||!gt.test("<"+s.nodeName+">")?s.cloneNode(!0):q(s);if((!d.support.noCloneEvent||!d.support.noCloneChecked)&&(s.nodeType===1||s.nodeType===11)&&!d.isXMLDoc(s))for(At(s,it),k=rt(s),L=rt(it),X=0;k[X];++X)L[X]&&At(k[X],L[X]);if(f&&(ut(s,it),x))for(k=rt(s),L=rt(it),X=0;k[X];++X)ut(k[X],L[X]);return k=L=null,it},clean:function(s,f,x,k){var L,X,it,dt=[];f=f||Gt,typeof f.createElement=="undefined"&&(f=f.ownerDocument||f[0]&&f[0].ownerDocument||Gt);for(var Nt=0,Et;(Et=s[Nt])!=null;Nt++)if(typeof Et=="number"&&(Et+=""),!!Et){if(typeof Et=="string")if(!tn.test(Et))Et=f.createTextNode(Et);else{Et=Et.replace(zi,"<$1></$2>");var Qt=(Mt.exec(Et)||["",""])[1].toLowerCase(),Ht=ge[Qt]||ge._default,Vt=Ht[0],ne=f.createElement("div"),wn=ze.childNodes,en;for(f===Gt?ze.appendChild(ne):G(f).appendChild(ne),ne.innerHTML=Ht[1]+Et+Ht[2];Vt--;)ne=ne.lastChild;if(!d.support.tbody){var ln=ai.test(Et),Tn=Qt==="table"&&!ln?ne.firstChild&&ne.firstChild.childNodes:Ht[1]==="<table>"&&!ln?ne.childNodes:[];for(it=Tn.length-1;it>=0;--it)d.nodeName(Tn[it],"tbody")&&!Tn[it].childNodes.length&&Tn[it].parentNode.removeChild(Tn[it])}!d.support.leadingWhitespace&&pi.test(Et)&&ne.insertBefore(f.createTextNode(pi.exec(Et)[0]),ne.firstChild),Et=ne.childNodes,ne&&(ne.parentNode.removeChild(ne),wn.length>0&&(en=wn[wn.length-1],en&&en.parentNode&&en.parentNode.removeChild(en)))}var Di;if(!d.support.appendChecked)if(Et[0]&&typeof(Di=Et.length)=="number")for(it=0;it<Di;it++)V(Et[it]);else V(Et);Et.nodeType?dt.push(Et):dt=d.merge(dt,Et)}if(x)for(L=function(Fn){return!Fn.type||de.test(Fn.type)},Nt=0;dt[Nt];Nt++)if(X=dt[Nt],k&&d.nodeName(X,"script")&&(!X.type||de.test(X.type)))k.push(X.parentNode?X.parentNode.removeChild(X):X);else{if(X.nodeType===1){var Ni=d.grep(X.getElementsByTagName("script"),L);dt.splice.apply(dt,[Nt+1,0].concat(Ni))}x.appendChild(X)}return dt},cleanData:function(s){for(var f,x,k=d.cache,L=d.event.special,X=d.support.deleteExpando,it=0,dt;(dt=s[it])!=null;it++)if(!(dt.nodeName&&d.noData[dt.nodeName.toLowerCase()])&&(x=dt[d.expando],x)){if(f=k[x],f&&f.events){for(var Nt in f.events)L[Nt]?d.event.remove(dt,Nt):d.removeEvent(dt,Nt,f.handle);f.handle&&(f.handle.elem=null)}X?delete dt[d.expando]:dt.removeAttribute&&dt.removeAttribute(d.expando),delete k[x]}}});var Me=/alpha\([^)]*\)/i,Fe=/opacity=([^)]*)/,bn=/([A-Z]|^ms)/g,Ge=/^[\-+]?(?:\d*\.)?\d+$/i,We=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,Jn=/^([\-+])=([\-+.\de]+)/,zn=/^margin/,jn={position:"absolute",visibility:"hidden",display:"block"},On=["Top","Right","Bottom","Left"],Dn,vi,_i;d.fn.css=function(s,f){return d.access(this,function(x,k,L){return L!==T?d.style(x,k,L):d.css(x,k)},s,f,arguments.length>1)},d.extend({cssHooks:{opacity:{get:function(s,f){if(f){var x=Dn(s,"opacity");return x===""?"1":x}return s.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:d.support.cssFloat?"cssFloat":"styleFloat"},style:function(s,f,x,k){if(s&&s.nodeType!==3&&s.nodeType!==8&&s.style){var L,X,it=d.camelCase(f),dt=s.style,Nt=d.cssHooks[it];if(f=d.cssProps[it]||it,x===T)return Nt&&"get"in Nt&&(L=Nt.get(s,!1,k))!==T?L:dt[f];if(X=typeof x,X==="string"&&(L=Jn.exec(x))&&(x=+(L[1]+1)*+L[2]+parseFloat(d.css(s,f)),X="number"),x==null||X==="number"&&isNaN(x))return;if(X==="number"&&!d.cssNumber[it]&&(x+="px"),!Nt||!("set"in Nt)||(x=Nt.set(s,x))!==T)try{dt[f]=x}catch(Et){}}},css:function(s,f,x){var k,L;if(f=d.camelCase(f),L=d.cssHooks[f],f=d.cssProps[f]||f,f==="cssFloat"&&(f="float"),L&&"get"in L&&(k=L.get(s,!0,x))!==T)return k;if(Dn)return Dn(s,f)},swap:function(s,f,x){var k={},L,X;for(X in f)k[X]=s.style[X],s.style[X]=f[X];L=x.call(s);for(X in f)s.style[X]=k[X];return L}}),d.curCSS=d.css,Gt.defaultView&&Gt.defaultView.getComputedStyle&&(vi=function(s,f){var x,k,L,X,it=s.style;return f=f.replace(bn,"-$1").toLowerCase(),(k=s.ownerDocument.defaultView)&&(L=k.getComputedStyle(s,null))&&(x=L.getPropertyValue(f),x===""&&!d.contains(s.ownerDocument.documentElement,s)&&(x=d.style(s,f))),!d.support.pixelMargin&&L&&zn.test(f)&&We.test(x)&&(X=it.width,it.width=x,x=L.width,it.width=X),x}),Gt.documentElement.currentStyle&&(_i=function(s,f){var x,k,L,X=s.currentStyle&&s.currentStyle[f],it=s.style;return X==null&&it&&(L=it[f])&&(X=L),We.test(X)&&(x=it.left,k=s.runtimeStyle&&s.runtimeStyle.left,k&&(s.runtimeStyle.left=s.currentStyle.left),it.left=f==="fontSize"?"1em":X,X=it.pixelLeft+"px",it.left=x,k&&(s.runtimeStyle.left=k)),X===""?"auto":X}),Dn=vi||_i,d.each(["height","width"],function(s,f){d.cssHooks[f]={get:function(x,k,L){if(k)return x.offsetWidth!==0?S(x,f,L):d.swap(x,jn,function(){return S(x,f,L)})},set:function(x,k){return Ge.test(k)?k+"px":k}}}),d.support.opacity||(d.cssHooks.opacity={get:function(s,f){return Fe.test((f&&s.currentStyle?s.currentStyle.filter:s.style.filter)||"")?parseFloat(RegExp.$1)/100+"":f?"1":""},set:function(s,f){var x=s.style,k=s.currentStyle,L=d.isNumeric(f)?"alpha(opacity="+f*100+")":"",X=k&&k.filter||x.filter||"";x.zoom=1,!(f>=1&&d.trim(X.replace(Me,""))===""&&(x.removeAttribute("filter"),k&&!k.filter))&&(x.filter=Me.test(X)?X.replace(Me,L):X+" "+L)}}),d(function(){d.support.reliableMarginRight||(d.cssHooks.marginRight={get:function(s,f){return d.swap(s,{display:"inline-block"},function(){return f?Dn(s,"margin-right"):s.style.marginRight})}})}),d.expr&&d.expr.filters&&(d.expr.filters.hidden=function(s){var f=s.offsetWidth,x=s.offsetHeight;return f===0&&x===0||!d.support.reliableHiddenOffsets&&(s.style&&s.style.display||d.css(s,"display"))==="none"},d.expr.filters.visible=function(s){return!d.expr.filters.hidden(s)}),d.each({margin:"",padding:"",border:"Width"},function(s,f){d.cssHooks[s+f]={expand:function(x){var k,L=typeof x=="string"?x.split(" "):[x],X={};for(k=0;k<4;k++)X[s+On[k]+f]=L[k]||L[k-2]||L[0];return X}}});var gi=/%20/g,ri=/\[\]$/,Un=/\r?\n/g,ti=/#.*$/,li=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,ei=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,mi=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,xi=/^(?:GET|HEAD)$/,Bi=/^\/\//,Ui=/\?/,ir=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,er=/^(?:select|textarea)/i,$i=/\s+/,Mi=/([?&])_=[^&]*/,me=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,hn=d.fn.load,In={},gn={},Mn,Xn,Gi="*/*";try{Mn=wt.href}catch(s){Mn=Gt.createElement("a"),Mn.href="",Mn=Mn.href}Xn=me.exec(Mn.toLowerCase())||[],d.fn.extend({load:function(s,f,x){if(typeof s!="string"&&hn)return hn.apply(this,arguments);if(!this.length)return this;var k=s.indexOf(" ");if(k>=0){var L=s.slice(k,s.length);s=s.slice(0,k)}var X="GET";f&&(d.isFunction(f)?(x=f,f=T):typeof f=="object"&&(f=d.param(f,d.ajaxSettings.traditional),X="POST"));var it=this;return d.ajax({url:s,type:X,dataType:"html",data:f,complete:function(dt,Nt,Et){Et=dt.responseText,dt.isResolved()&&(dt.done(function(Qt){Et=Qt}),it.html(L?d("<div>").append(Et.replace(ir,"")).find(L):Et)),x&&it.each(x,[Et,Nt,dt])}}),this},serialize:function(){return d.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?d.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||er.test(this.nodeName)||ei.test(this.type))}).map(function(s,f){var x=d(this).val();return x==null?null:d.isArray(x)?d.map(x,function(k,L){return{name:f.name,value:k.replace(Un,`\r
`)}}):{name:f.name,value:x.replace(Un,`\r
`)}}).get()}}),d.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(s,f){d.fn[f]=function(x){return this.on(f,x)}}),d.each(["get","post"],function(s,f){d[f]=function(x,k,L,X){return d.isFunction(k)&&(X=X||L,L=k,k=T),d.ajax({type:f,url:x,data:k,success:L,dataType:X})}}),d.extend({getScript:function(s,f){return d.get(s,T,f,"script")},getJSON:function(s,f,x){return d.get(s,f,x,"json")},ajaxSetup:function(s,f){return f?H(s,d.ajaxSettings):(f=s,s=d.ajaxSettings),H(s,f),s},ajaxSettings:{url:Mn,isLocal:mi.test(Xn[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Gi},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":n.String,"text html":!0,"text json":d.parseJSON,"text xml":d.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:z(In),ajaxTransport:z(gn),ajax:function(s,f){function x(Rt,Jt,ye,ue){if(Tn!==2){Tn=2,en&&clearTimeout(en),wn=T,Vt=ue||"",Fn.readyState=Rt>0?4:0;var Ne,Ve,Qe,Nn=Jt,ci=ye?F(k,Fn,ye):T,yt,ce;if(Rt>=200&&Rt<300||Rt===304)if(k.ifModified&&((yt=Fn.getResponseHeader("Last-Modified"))&&(d.lastModified[Et]=yt),(ce=Fn.getResponseHeader("Etag"))&&(d.etag[Et]=ce)),Rt===304)Nn="notmodified",Ne=!0;else try{Ve=E(k,ci),Nn="success",Ne=!0}catch(qe){Nn="parsererror",Qe=qe}else Qe=Nn,(!Nn||Rt)&&(Nn="error",Rt<0&&(Rt=0));Fn.status=Rt,Fn.statusText=""+(Jt||Nn),Ne?it.resolveWith(L,[Ve,Nn,Fn]):it.rejectWith(L,[Fn,Nn,Qe]),Fn.statusCode(Nt),Nt=T,Di&&X.trigger("ajax"+(Ne?"Success":"Error"),[Fn,k,Ne?Ve:Qe]),dt.fireWith(L,[Fn,Nn]),Di&&(X.trigger("ajaxComplete",[Fn,k]),--d.active||d.event.trigger("ajaxStop"))}}typeof s=="object"&&(f=s,s=T),f=f||{};var k=d.ajaxSetup({},f),L=k.context||k,X=L!==k&&(L.nodeType||L instanceof d)?d(L):d.event,it=d.Deferred(),dt=d.Callbacks("once memory"),Nt=k.statusCode||{},Et,Qt={},Ht={},Vt,ne,wn,en,ln,Tn=0,Di,Ni,Fn={readyState:0,setRequestHeader:function(Rt,Jt){if(!Tn){var ye=Rt.toLowerCase();Rt=Ht[ye]=Ht[ye]||Rt,Qt[Rt]=Jt}return this},getAllResponseHeaders:function(){return Tn===2?Vt:null},getResponseHeader:function(Rt){var Jt;if(Tn===2){if(!ne)for(ne={};Jt=li.exec(Vt);)ne[Jt[1].toLowerCase()]=Jt[2];Jt=ne[Rt.toLowerCase()]}return Jt===T?null:Jt},overrideMimeType:function(Rt){return Tn||(k.mimeType=Rt),this},abort:function(Rt){return Rt=Rt||"abort",wn&&wn.abort(Rt),x(0,Rt),this}};if(it.promise(Fn),Fn.success=Fn.done,Fn.error=Fn.fail,Fn.complete=dt.add,Fn.statusCode=function(Rt){if(Rt){var Jt;if(Tn<2)for(Jt in Rt)Nt[Jt]=[Nt[Jt],Rt[Jt]];else Jt=Rt[Fn.status],Fn.then(Jt,Jt)}return this},k.url=((s||k.url)+"").replace(ti,"").replace(Bi,Xn[1]+"//"),k.dataTypes=d.trim(k.dataType||"*").toLowerCase().split($i),k.crossDomain==null&&(ln=me.exec(k.url.toLowerCase()),k.crossDomain=!(!ln||ln[1]==Xn[1]&&ln[2]==Xn[2]&&(ln[3]||(ln[1]==="http:"?80:443))==(Xn[3]||(Xn[1]==="http:"?80:443)))),k.data&&k.processData&&typeof k.data!="string"&&(k.data=d.param(k.data,k.traditional)),at(In,k,f,Fn),Tn===2)return!1;if(Di=k.global,k.type=k.type.toUpperCase(),k.hasContent=!xi.test(k.type),Di&&d.active++===0&&d.event.trigger("ajaxStart"),!k.hasContent&&(k.data&&(k.url+=(Ui.test(k.url)?"&":"?")+k.data,delete k.data),Et=k.url,k.cache===!1)){var ot=d.now(),ht=k.url.replace(Mi,"$1_="+ot);k.url=ht+(ht===k.url?(Ui.test(k.url)?"&":"?")+"_="+ot:"")}(k.data&&k.hasContent&&k.contentType!==!1||f.contentType)&&Fn.setRequestHeader("Content-Type",k.contentType),k.ifModified&&(Et=Et||k.url,d.lastModified[Et]&&Fn.setRequestHeader("If-Modified-Since",d.lastModified[Et]),d.etag[Et]&&Fn.setRequestHeader("If-None-Match",d.etag[Et])),Fn.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+(k.dataTypes[0]!=="*"?", "+Gi+"; q=0.01":""):k.accepts["*"]);for(Ni in k.headers)Fn.setRequestHeader(Ni,k.headers[Ni]);if(k.beforeSend&&(k.beforeSend.call(L,Fn,k)===!1||Tn===2))return Fn.abort(),!1;for(Ni in{success:1,error:1,complete:1})Fn[Ni](k[Ni]);if(wn=at(gn,k,f,Fn),!wn)x(-1,"No Transport");else{Fn.readyState=1,Di&&X.trigger("ajaxSend",[Fn,k]),k.async&&k.timeout>0&&(en=setTimeout(function(){Fn.abort("timeout")},k.timeout));try{Tn=1,wn.send(Qt,x)}catch(Rt){if(Tn<2)x(-1,Rt);else throw Rt}}return Fn},param:function(s,f){var x=[],k=function(X,it){it=d.isFunction(it)?it():it,x[x.length]=encodeURIComponent(X)+"="+encodeURIComponent(it)};if(f===T&&(f=d.ajaxSettings.traditional),d.isArray(s)||s.jquery&&!d.isPlainObject(s))d.each(s,function(){k(this.name,this.value)});else for(var L in s)et(L,s[L],f,k);return x.join("&").replace(gi,"+")}}),d.extend({active:0,lastModified:{},etag:{}});var nr=d.now(),Ci=/(\=)\?(&|$)|\?\?/i;d.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return d.expando+"_"+nr++}}),d.ajaxPrefilter("json jsonp",function(s,f,x){var k=typeof s.data=="string"&&/^application\/x\-www\-form\-urlencoded/.test(s.contentType);if(s.dataTypes[0]==="jsonp"||s.jsonp!==!1&&(Ci.test(s.url)||k&&Ci.test(s.data))){var L,X=s.jsonpCallback=d.isFunction(s.jsonpCallback)?s.jsonpCallback():s.jsonpCallback,it=n[X],dt=s.url,Nt=s.data,Et="$1"+X+"$2";return s.jsonp!==!1&&(dt=dt.replace(Ci,Et),s.url===dt&&(k&&(Nt=Nt.replace(Ci,Et)),s.data===Nt&&(dt+=(/\?/.test(dt)?"&":"?")+s.jsonp+"="+X))),s.url=dt,s.data=Nt,n[X]=function(Qt){L=[Qt]},x.always(function(){n[X]=it,L&&d.isFunction(it)&&n[X](L[0])}),s.converters["script json"]=function(){return L||d.error(X+" was not called"),L[0]},s.dataTypes[0]="json","script"}}),d.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(s){return d.globalEval(s),s}}}),d.ajaxPrefilter("script",function(s){s.cache===T&&(s.cache=!1),s.crossDomain&&(s.type="GET",s.global=!1)}),d.ajaxTransport("script",function(s){if(s.crossDomain){var f,x=Gt.head||Gt.getElementsByTagName("head")[0]||Gt.documentElement;return{send:function(k,L){f=Gt.createElement("script"),f.async="async",s.scriptCharset&&(f.charset=s.scriptCharset),f.src=s.url,f.onload=f.onreadystatechange=function(X,it){(it||!f.readyState||/loaded|complete/.test(f.readyState))&&(f.onload=f.onreadystatechange=null,x&&f.parentNode&&x.removeChild(f),f=T,it||L(200,"success"))},x.insertBefore(f,x.firstChild)},abort:function(){f&&f.onload(0,1)}}}});var Vi=n.ActiveXObject?function(){for(var s in Oi)Oi[s](0,1)}:!1,Gn=0,Oi;d.ajaxSettings.xhr=n.ActiveXObject?function(){return!this.isLocal&&y()||M()}:y,(function(s){d.extend(d.support,{ajax:!!s,cors:!!s&&"withCredentials"in s})})(d.ajaxSettings.xhr()),d.support.ajax&&d.ajaxTransport(function(s){if(!s.crossDomain||d.support.cors){var f;return{send:function(x,k){var L=s.xhr(),X,it;if(s.username?L.open(s.type,s.url,s.async,s.username,s.password):L.open(s.type,s.url,s.async),s.xhrFields)for(it in s.xhrFields)L[it]=s.xhrFields[it];s.mimeType&&L.overrideMimeType&&L.overrideMimeType(s.mimeType),!s.crossDomain&&!x["X-Requested-With"]&&(x["X-Requested-With"]="XMLHttpRequest");try{for(it in x)L.setRequestHeader(it,x[it])}catch(dt){}L.send(s.hasContent&&s.data||null),f=function(dt,Nt){var Et,Qt,Ht,Vt,ne;try{if(f&&(Nt||L.readyState===4))if(f=T,X&&(L.onreadystatechange=d.noop,Vi&&delete Oi[X]),Nt)L.readyState!==4&&L.abort();else{Et=L.status,Ht=L.getAllResponseHeaders(),Vt={},ne=L.responseXML,ne&&ne.documentElement&&(Vt.xml=ne);try{Vt.text=L.responseText}catch(wn){}try{Qt=L.statusText}catch(wn){Qt=""}!Et&&s.isLocal&&!s.crossDomain?Et=Vt.text?200:404:Et===1223&&(Et=204)}}catch(wn){Nt||k(-1,wn)}Vt&&k(Et,Qt,Vt,Ht)},!s.async||L.readyState===4?f():(X=++Gn,Vi&&(Oi||(Oi={},d(n).unload(Vi)),Oi[X]=f),L.onreadystatechange=f)},abort:function(){f&&f(0,1)}}}});var Fi={},Xi,fr,Pr=/^(?:toggle|show|hide)$/,Or=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,yr,Qi=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],Ki;d.fn.extend({show:function(s,f,x){var k,L;if(s||s===0)return this.animate(p("show",3),s,f,x);for(var X=0,it=this.length;X<it;X++)k=this[X],k.style&&(L=k.style.display,!d._data(k,"olddisplay")&&L==="none"&&(L=k.style.display=""),(L===""&&d.css(k,"display")==="none"||!d.contains(k.ownerDocument.documentElement,k))&&d._data(k,"olddisplay",c(k.nodeName)));for(X=0;X<it;X++)k=this[X],k.style&&(L=k.style.display,(L===""||L==="none")&&(k.style.display=d._data(k,"olddisplay")||""));return this},hide:function(s,f,x){if(s||s===0)return this.animate(p("hide",3),s,f,x);for(var k,L,X=0,it=this.length;X<it;X++)k=this[X],k.style&&(L=d.css(k,"display"),L!=="none"&&!d._data(k,"olddisplay")&&d._data(k,"olddisplay",L));for(X=0;X<it;X++)this[X].style&&(this[X].style.display="none");return this},_toggle:d.fn.toggle,toggle:function(s,f,x){var k=typeof s=="boolean";return d.isFunction(s)&&d.isFunction(f)?this._toggle.apply(this,arguments):s==null||k?this.each(function(){var L=k?s:d(this).is(":hidden");d(this)[L?"show":"hide"]()}):this.animate(p("toggle",3),s,f,x),this},fadeTo:function(s,f,x,k){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:f},s,x,k)},animate:function(s,f,x,k){function L(){X.queue===!1&&d._mark(this);var it=d.extend({},X),dt=this.nodeType===1,Nt=dt&&d(this).is(":hidden"),Et,Qt,Ht,Vt,ne,wn,en,ln,Tn,Di,Ni;it.animatedProperties={};for(Ht in s)if(Et=d.camelCase(Ht),Ht!==Et&&(s[Et]=s[Ht],delete s[Ht]),(ne=d.cssHooks[Et])&&"expand"in ne){wn=ne.expand(s[Et]),delete s[Et];for(Ht in wn)Ht in s||(s[Ht]=wn[Ht])}for(Et in s){if(Qt=s[Et],d.isArray(Qt)?(it.animatedProperties[Et]=Qt[1],Qt=s[Et]=Qt[0]):it.animatedProperties[Et]=it.specialEasing&&it.specialEasing[Et]||it.easing||"swing",Qt==="hide"&&Nt||Qt==="show"&&!Nt)return it.complete.call(this);dt&&(Et==="height"||Et==="width")&&(it.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],d.css(this,"display")==="inline"&&d.css(this,"float")==="none"&&(!d.support.inlineBlockNeedsLayout||c(this.nodeName)==="inline"?this.style.display="inline-block":this.style.zoom=1))}it.overflow!=null&&(this.style.overflow="hidden");for(Ht in s)Vt=new d.fx(this,it,Ht),Qt=s[Ht],Pr.test(Qt)?(Ni=d._data(this,"toggle"+Ht)||(Qt==="toggle"?Nt?"show":"hide":0),Ni?(d._data(this,"toggle"+Ht,Ni==="show"?"hide":"show"),Vt[Ni]()):Vt[Qt]()):(en=Or.exec(Qt),ln=Vt.cur(),en?(Tn=parseFloat(en[2]),Di=en[3]||(d.cssNumber[Ht]?"":"px"),Di!=="px"&&(d.style(this,Ht,(Tn||1)+Di),ln=(Tn||1)/Vt.cur()*ln,d.style(this,Ht,ln+Di)),en[1]&&(Tn=(en[1]==="-="?-1:1)*Tn+ln),Vt.custom(ln,Tn,Di)):Vt.custom(ln,Qt,""));return!0}var X=d.speed(f,x,k);return d.isEmptyObject(s)?this.each(X.complete,[!1]):(s=d.extend({},s),X.queue===!1?this.each(L):this.queue(X.queue,L))},stop:function(s,f,x){return typeof s!="string"&&(x=f,f=s,s=T),f&&s!==!1&&this.queue(s||"fx",[]),this.each(function(){function k(Nt,Et,Qt){var Ht=Et[Qt];d.removeData(Nt,Qt,!0),Ht.stop(x)}var L,X=!1,it=d.timers,dt=d._data(this);if(x||d._unmark(!0,this),s==null)for(L in dt)dt[L]&&dt[L].stop&&L.indexOf(".run")===L.length-4&&k(this,dt,L);else dt[L=s+".run"]&&dt[L].stop&&k(this,dt,L);for(L=it.length;L--;)it[L].elem===this&&(s==null||it[L].queue===s)&&(x?it[L](!0):it[L].saveState(),X=!0,it.splice(L,1));(!x||!X)&&d.dequeue(this,s)})}}),d.each({slideDown:p("show",1),slideUp:p("hide",1),slideToggle:p("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(s,f){d.fn[s]=function(x,k,L){return this.animate(f,x,k,L)}}),d.extend({speed:function(s,f,x){var k=s&&typeof s=="object"?d.extend({},s):{complete:x||!x&&f||d.isFunction(s)&&s,duration:s,easing:x&&f||f&&!d.isFunction(f)&&f};return k.duration=d.fx.off?0:typeof k.duration=="number"?k.duration:k.duration in d.fx.speeds?d.fx.speeds[k.duration]:d.fx.speeds._default,(k.queue==null||k.queue===!0)&&(k.queue="fx"),k.old=k.complete,k.complete=function(L){d.isFunction(k.old)&&k.old.call(this),k.queue?d.dequeue(this,k.queue):L!==!1&&d._unmark(this)},k},easing:{linear:function(s){return s},swing:function(s){return-Math.cos(s*Math.PI)/2+.5}},timers:[],fx:function(s,f,x){this.options=f,this.elem=s,this.prop=x,f.orig=f.orig||{}}}),d.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(d.fx.step[this.prop]||d.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];var s,f=d.css(this.elem,this.prop);return isNaN(s=parseFloat(f))?!f||f==="auto"?0:f:s},custom:function(s,f,x){function k(it){return L.step(it)}var L=this,X=d.fx;this.startTime=Ki||g(),this.end=f,this.now=this.start=s,this.pos=this.state=0,this.unit=x||this.unit||(d.cssNumber[this.prop]?"":"px"),k.queue=this.options.queue,k.elem=this.elem,k.saveState=function(){d._data(L.elem,"fxshow"+L.prop)===T&&(L.options.hide?d._data(L.elem,"fxshow"+L.prop,L.start):L.options.show&&d._data(L.elem,"fxshow"+L.prop,L.end))},k()&&d.timers.push(k)&&!yr&&(yr=setInterval(X.tick,X.interval))},show:function(){var s=d._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=s||d.style(this.elem,this.prop),this.options.show=!0,s!==T?this.custom(this.cur(),s):this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur()),d(this.elem).show()},hide:function(){this.options.orig[this.prop]=d._data(this.elem,"fxshow"+this.prop)||d.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(s){var f,x,k,L=Ki||g(),X=!0,it=this.elem,dt=this.options;if(s||L>=dt.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),dt.animatedProperties[this.prop]=!0;for(f in dt.animatedProperties)dt.animatedProperties[f]!==!0&&(X=!1);if(X){if(dt.overflow!=null&&!d.support.shrinkWrapBlocks&&d.each(["","X","Y"],function(Nt,Et){it.style["overflow"+Et]=dt.overflow[Nt]}),dt.hide&&d(it).hide(),dt.hide||dt.show)for(f in dt.animatedProperties)d.style(it,f,dt.orig[f]),d.removeData(it,"fxshow"+f,!0),d.removeData(it,"toggle"+f,!0);k=dt.complete,k&&(dt.complete=!1,k.call(it))}return!1}return dt.duration==1/0?this.now=L:(x=L-this.startTime,this.state=x/dt.duration,this.pos=d.easing[dt.animatedProperties[this.prop]](this.state,x,0,1,dt.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update(),!0}},d.extend(d.fx,{tick:function(){for(var s,f=d.timers,x=0;x<f.length;x++)s=f[x],!s()&&f[x]===s&&f.splice(x--,1);f.length||d.fx.stop()},interval:13,stop:function(){clearInterval(yr),yr=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(s){d.style(s.elem,"opacity",s.now)},_default:function(s){s.elem.style&&s.elem.style[s.prop]!=null?s.elem.style[s.prop]=s.now+s.unit:s.elem[s.prop]=s.now}}}),d.each(Qi.concat.apply([],Qi),function(s,f){f.indexOf("margin")&&(d.fx.step[f]=function(x){d.style(x.elem,f,Math.max(0,x.now)+x.unit)})}),d.expr&&d.expr.filters&&(d.expr.filters.animated=function(s){return d.grep(d.timers,function(f){return s===f.elem}).length});var _r,pr=/^t(?:able|d|h)$/i,rr=/^(?:body|html)$/i;"getBoundingClientRect"in Gt.documentElement?_r=function(s,f,x,k){try{k=s.getBoundingClientRect()}catch(Vt){}if(!k||!d.contains(x,s))return k?{top:k.top,left:k.left}:{top:0,left:0};var L=f.body,X=A(f),it=x.clientTop||L.clientTop||0,dt=x.clientLeft||L.clientLeft||0,Nt=X.pageYOffset||d.support.boxModel&&x.scrollTop||L.scrollTop,Et=X.pageXOffset||d.support.boxModel&&x.scrollLeft||L.scrollLeft,Qt=k.top+Nt-it,Ht=k.left+Et-dt;return{top:Qt,left:Ht}}:_r=function(s,f,x){for(var k,L=s.offsetParent,X=s,it=f.body,dt=f.defaultView,Nt=dt?dt.getComputedStyle(s,null):s.currentStyle,Et=s.offsetTop,Qt=s.offsetLeft;(s=s.parentNode)&&s!==it&&s!==x&&!(d.support.fixedPosition&&Nt.position==="fixed");)k=dt?dt.getComputedStyle(s,null):s.currentStyle,Et-=s.scrollTop,Qt-=s.scrollLeft,s===L&&(Et+=s.offsetTop,Qt+=s.offsetLeft,d.support.doesNotAddBorder&&(!d.support.doesAddBorderForTableAndCells||!pr.test(s.nodeName))&&(Et+=parseFloat(k.borderTopWidth)||0,Qt+=parseFloat(k.borderLeftWidth)||0),X=L,L=s.offsetParent),d.support.subtractsBorderForOverflowNotVisible&&k.overflow!=="visible"&&(Et+=parseFloat(k.borderTopWidth)||0,Qt+=parseFloat(k.borderLeftWidth)||0),Nt=k;return(Nt.position==="relative"||Nt.position==="static")&&(Et+=it.offsetTop,Qt+=it.offsetLeft),d.support.fixedPosition&&Nt.position==="fixed"&&(Et+=Math.max(x.scrollTop,it.scrollTop),Qt+=Math.max(x.scrollLeft,it.scrollLeft)),{top:Et,left:Qt}},d.fn.offset=function(s){if(arguments.length)return s===T?this:this.each(function(k){d.offset.setOffset(this,s,k)});var f=this[0],x=f&&f.ownerDocument;return x?f===x.body?d.offset.bodyOffset(f):_r(f,x,x.documentElement):null},d.offset={bodyOffset:function(s){var f=s.offsetTop,x=s.offsetLeft;return d.support.doesNotIncludeMarginInBodyOffset&&(f+=parseFloat(d.css(s,"marginTop"))||0,x+=parseFloat(d.css(s,"marginLeft"))||0),{top:f,left:x}},setOffset:function(s,f,x){var k=d.css(s,"position");k==="static"&&(s.style.position="relative");var L=d(s),X=L.offset(),it=d.css(s,"top"),dt=d.css(s,"left"),Nt=(k==="absolute"||k==="fixed")&&d.inArray("auto",[it,dt])>-1,Et={},Qt={},Ht,Vt;Nt?(Qt=L.position(),Ht=Qt.top,Vt=Qt.left):(Ht=parseFloat(it)||0,Vt=parseFloat(dt)||0),d.isFunction(f)&&(f=f.call(s,x,X)),f.top!=null&&(Et.top=f.top-X.top+Ht),f.left!=null&&(Et.left=f.left-X.left+Vt),"using"in f?f.using.call(s,Et):L.css(Et)}},d.fn.extend({position:function(){if(!this[0])return null;var s=this[0],f=this.offsetParent(),x=this.offset(),k=rr.test(f[0].nodeName)?{top:0,left:0}:f.offset();return x.top-=parseFloat(d.css(s,"marginTop"))||0,x.left-=parseFloat(d.css(s,"marginLeft"))||0,k.top+=parseFloat(d.css(f[0],"borderTopWidth"))||0,k.left+=parseFloat(d.css(f[0],"borderLeftWidth"))||0,{top:x.top-k.top,left:x.left-k.left}},offsetParent:function(){return this.map(function(){for(var s=this.offsetParent||Gt.body;s&&!rr.test(s.nodeName)&&d.css(s,"position")==="static";)s=s.offsetParent;return s})}}),d.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(s,f){var x=/Y/.test(f);d.fn[s]=function(k){return d.access(this,function(L,X,it){var dt=A(L);if(it===T)return dt?f in dt?dt[f]:d.support.boxModel&&dt.document.documentElement[X]||dt.document.body[X]:L[X];dt?dt.scrollTo(x?d(dt).scrollLeft():it,x?it:d(dt).scrollTop()):L[X]=it},s,k,arguments.length,null)}}),d.each({Height:"height",Width:"width"},function(s,f){var x="client"+s,k="scroll"+s,L="offset"+s;d.fn["inner"+s]=function(){var X=this[0];return X?X.style?parseFloat(d.css(X,f,"padding")):this[f]():null},d.fn["outer"+s]=function(X){var it=this[0];return it?it.style?parseFloat(d.css(it,f,X?"margin":"border")):this[f]():null},d.fn[f]=function(X){return d.access(this,function(it,dt,Nt){var Et,Qt,Ht,Vt;if(d.isWindow(it))return Et=it.document,Qt=Et.documentElement[x],d.support.boxModel&&Qt||Et.body&&Et.body[x]||Qt;if(it.nodeType===9)return Et=it.documentElement,Et[x]>=Et[k]?Et[x]:Math.max(it.body[k],Et[k],it.body[L],Et[L]);if(Nt===T)return Ht=d.css(it,dt),Vt=parseFloat(Ht),d.isNumeric(Vt)?Vt:Ht;d(it).css(dt,Nt)},f,X,arguments.length,null)}}),n.jQuery=n.$=d,typeof define=="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return d})})(window);/*! jQuery UI - v1.9.2 - 2012-12-10
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.position.js, jquery.ui.draggable.js, jquery.ui.droppable.js, jquery.ui.sortable.js, jquery.ui.autocomplete.js, jquery.ui.menu.js, jquery.ui.slider.js
* Copyright (c) 2012 jQuery Foundation and other contributors Licensed MIT */(function(n,T){function A(g,M){var y,E,F,et=g.nodeName.toLowerCase();return et==="area"?(y=g.parentNode,E=y.name,!g.href||!E||y.nodeName.toLowerCase()!=="map"?!1:(F=n("img[usemap=#"+E+"]")[0],!!F&&c(F))):(/input|select|textarea|button|object/.test(et)?!g.disabled:et==="a"&&g.href||M)&&c(g)}function c(g){return n.expr.filters.visible(g)&&!n(g).parents().andSelf().filter(function(){return n.css(this,"visibility")==="hidden"}).length}var p=0,v=/^ui-id-\d+$/;n.ui=n.ui||{},!n.ui.version&&(n.extend(n.ui,{version:"1.9.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),n.fn.extend({_focus:n.fn.focus,focus:function(g,M){return typeof g=="number"?this.each(function(){var y=this;setTimeout(function(){n(y).focus(),M&&M.call(y)},g)}):this._focus.apply(this,arguments)},scrollParent:function(){var g;return n.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?g=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(n.css(this,"position"))&&/(auto|scroll)/.test(n.css(this,"overflow")+n.css(this,"overflow-y")+n.css(this,"overflow-x"))}).eq(0):g=this.parents().filter(function(){return/(auto|scroll)/.test(n.css(this,"overflow")+n.css(this,"overflow-y")+n.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!g.length?n(document):g},zIndex:function(g){if(g!==T)return this.css("zIndex",g);if(this.length)for(var M=n(this[0]),y,E;M.length&&M[0]!==document;){if(y=M.css("position"),(y==="absolute"||y==="relative"||y==="fixed")&&(E=parseInt(M.css("zIndex"),10),!isNaN(E)&&E!==0))return E;M=M.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++p)})},removeUniqueId:function(){return this.each(function(){v.test(this.id)&&n(this).removeAttr("id")})}}),n.extend(n.expr[":"],{data:n.expr.createPseudo?n.expr.createPseudo(function(g){return function(M){return!!n.data(M,g)}}):function(g,M,y){return!!n.data(g,y[3])},focusable:function(g){return A(g,!isNaN(n.attr(g,"tabindex")))},tabbable:function(g){var M=n.attr(g,"tabindex"),y=isNaN(M);return(y||M>=0)&&A(g,!y)}}),n(function(){var g=document.body,M=g.appendChild(M=document.createElement("div"));M.offsetHeight,n.extend(M.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),n.support.minHeight=M.offsetHeight===100,n.support.selectstart="onselectstart"in M,g.removeChild(M).style.display="none"}),n("<a>").outerWidth(1).jquery||n.each(["Width","Height"],function(g,M){function y(H,at,z,S){return n.each(E,function(){at-=parseFloat(n.css(H,"padding"+this))||0,z&&(at-=parseFloat(n.css(H,"border"+this+"Width"))||0),S&&(at-=parseFloat(n.css(H,"margin"+this))||0)}),at}var E=M==="Width"?["Left","Right"]:["Top","Bottom"],F=M.toLowerCase(),et={innerWidth:n.fn.innerWidth,innerHeight:n.fn.innerHeight,outerWidth:n.fn.outerWidth,outerHeight:n.fn.outerHeight};n.fn["inner"+M]=function(H){return H===T?et["inner"+M].call(this):this.each(function(){n(this).css(F,y(this,H)+"px")})},n.fn["outer"+M]=function(H,at){return typeof H!="number"?et["outer"+M].call(this,H):this.each(function(){n(this).css(F,y(this,H,!0,at)+"px")})}}),n("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(n.fn.removeData=(function(g){return function(M){return arguments.length?g.call(this,n.camelCase(M)):g.call(this)}})(n.fn.removeData)),(function(){var g=/msie ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||[];n.ui.ie=!!g.length,n.ui.ie6=parseFloat(g[1],10)===6})(),n.fn.extend({disableSelection:function(){return this.bind((n.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(g){g.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),n.extend(n.ui,{plugin:{add:function(g,M,y){var E,F=n.ui[g].prototype;for(E in y)F.plugins[E]=F.plugins[E]||[],F.plugins[E].push([M,y[E]])},call:function(g,M,y){var E,F=g.plugins[M];if(!(!F||!g.element[0].parentNode||g.element[0].parentNode.nodeType===11))for(E=0;E<F.length;E++)g.options[F[E][0]]&&F[E][1].apply(g.element,y)}},contains:n.contains,hasScroll:function(g,M){if(n(g).css("overflow")==="hidden")return!1;var y=M&&M==="left"?"scrollLeft":"scrollTop",E=!1;return g[y]>0?!0:(g[y]=1,E=g[y]>0,g[y]=0,E)},isOverAxis:function(g,M,y){return g>M&&g<M+y},isOver:function(g,M,y,E,F,et){return n.ui.isOverAxis(g,y,F)&&n.ui.isOverAxis(M,E,et)}}))})(jQuery),(function(n,T){var A=0,c=Array.prototype.slice,p=n.cleanData;n.cleanData=function(v){for(var g=0,M;(M=v[g])!=null;g++)try{n(M).triggerHandler("remove")}catch(y){}p(v)},n.widget=function(v,g,M){var y,E,F,et,H=v.split(".")[0];v=v.split(".")[1],y=H+"-"+v,M||(M=g,g=n.Widget),n.expr[":"][y.toLowerCase()]=function(at){return!!n.data(at,y)},n[H]=n[H]||{},E=n[H][v],F=n[H][v]=function(at,z){if(!this._createWidget)return new F(at,z);arguments.length&&this._createWidget(at,z)},n.extend(F,E,{version:M.version,_proto:n.extend({},M),_childConstructors:[]}),et=new g,et.options=n.widget.extend({},et.options),n.each(M,function(at,z){n.isFunction(z)&&(M[at]=(function(){var S=function(){return g.prototype[at].apply(this,arguments)},q=function(V){return g.prototype[at].apply(this,V)};return function(){var V=this._super,tt=this._superApply,rt;return this._super=S,this._superApply=q,rt=z.apply(this,arguments),this._super=V,this._superApply=tt,rt}})())}),F.prototype=n.widget.extend(et,{widgetEventPrefix:E?et.widgetEventPrefix:v},M,{constructor:F,namespace:H,widgetName:v,widgetBaseClass:y,widgetFullName:y}),E?(n.each(E._childConstructors,function(at,z){var S=z.prototype;n.widget(S.namespace+"."+S.widgetName,F,z._proto)}),delete E._childConstructors):g._childConstructors.push(F),n.widget.bridge(v,F)},n.widget.extend=function(v){for(var g=c.call(arguments,1),M=0,y=g.length,E,F;M<y;M++)for(E in g[M])F=g[M][E],g[M].hasOwnProperty(E)&&F!==T&&(n.isPlainObject(F)?v[E]=n.isPlainObject(v[E])?n.widget.extend({},v[E],F):n.widget.extend({},F):v[E]=F);return v},n.widget.bridge=function(v,g){var M=g.prototype.widgetFullName||v;n.fn[v]=function(y){var E=typeof y=="string",F=c.call(arguments,1),et=this;return y=!E&&F.length?n.widget.extend.apply(null,[y].concat(F)):y,E?this.each(function(){var H,at=n.data(this,M);if(!at)return n.error("cannot call methods on "+v+" prior to initialization; attempted to call method '"+y+"'");if(!n.isFunction(at[y])||y.charAt(0)==="_")return n.error("no such method '"+y+"' for "+v+" widget instance");if(H=at[y].apply(at,F),H!==at&&H!==T)return et=H&&H.jquery?et.pushStack(H.get()):H,!1}):this.each(function(){var H=n.data(this,M);H?H.option(y||{})._init():n.data(this,M,new g(y,this))}),et}},n.Widget=function(){},n.Widget._childConstructors=[],n.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(v,g){g=n(g||this.defaultElement||this)[0],this.element=n(g),this.uuid=A++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=n.widget.extend({},this.options,this._getCreateOptions(),v),this.bindings=n(),this.hoverable=n(),this.focusable=n(),g!==this&&(n.data(g,this.widgetName,this),n.data(g,this.widgetFullName,this),this._on(!0,this.element,{remove:function(M){M.target===g&&this.destroy()}}),this.document=n(g.style?g.ownerDocument:g.document||g),this.window=n(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:n.noop,_getCreateEventData:n.noop,_create:n.noop,_init:n.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(n.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:n.noop,widget:function(){return this.element},option:function(v,g){var M=v,y,E,F;if(arguments.length===0)return n.widget.extend({},this.options);if(typeof v=="string")if(M={},y=v.split("."),v=y.shift(),y.length){for(E=M[v]=n.widget.extend({},this.options[v]),F=0;F<y.length-1;F++)E[y[F]]=E[y[F]]||{},E=E[y[F]];if(v=y.pop(),g===T)return E[v]===T?null:E[v];E[v]=g}else{if(g===T)return this.options[v]===T?null:this.options[v];M[v]=g}return this._setOptions(M),this},_setOptions:function(v){var g;for(g in v)this._setOption(g,v[g]);return this},_setOption:function(v,g){return this.options[v]=g,v==="disabled"&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!g).attr("aria-disabled",g),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(v,g,M){var y,E=this;typeof v!="boolean"&&(M=g,g=v,v=!1),M?(g=y=n(g),this.bindings=this.bindings.add(g)):(M=g,g=this.element,y=this.widget()),n.each(M,function(F,et){function H(){if(!(!v&&(E.options.disabled===!0||n(this).hasClass("ui-state-disabled"))))return(typeof et=="string"?E[et]:et).apply(E,arguments)}typeof et!="string"&&(H.guid=et.guid=et.guid||H.guid||n.guid++);var at=F.match(/^(\w+)\s*(.*)$/),z=at[1]+E.eventNamespace,S=at[2];S?y.delegate(S,z,H):g.bind(z,H)})},_off:function(v,g){g=(g||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,v.unbind(g).undelegate(g)},_delay:function(v,g){function M(){return(typeof v=="string"?y[v]:v).apply(y,arguments)}var y=this;return setTimeout(M,g||0)},_hoverable:function(v){this.hoverable=this.hoverable.add(v),this._on(v,{mouseenter:function(g){n(g.currentTarget).addClass("ui-state-hover")},mouseleave:function(g){n(g.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(v){this.focusable=this.focusable.add(v),this._on(v,{focusin:function(g){n(g.currentTarget).addClass("ui-state-focus")},focusout:function(g){n(g.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(v,g,M){var y,E,F=this.options[v];if(M=M||{},g=n.Event(g),g.type=(v===this.widgetEventPrefix?v:this.widgetEventPrefix+v).toLowerCase(),g.target=this.element[0],E=g.originalEvent,E)for(y in E)y in g||(g[y]=E[y]);return this.element.trigger(g,M),!(n.isFunction(F)&&F.apply(this.element[0],[g].concat(M))===!1||g.isDefaultPrevented())}},n.each({show:"fadeIn",hide:"fadeOut"},function(v,g){n.Widget.prototype["_"+v]=function(M,y,E){typeof y=="string"&&(y={effect:y});var F,et=y?y===!0||typeof y=="number"?g:y.effect||g:v;y=y||{},typeof y=="number"&&(y={duration:y}),F=!n.isEmptyObject(y),y.complete=E,y.delay&&M.delay(y.delay),F&&n.effects&&(n.effects.effect[et]||n.uiBackCompat!==!1&&n.effects[et])?M[v](y):et!==v&&M[et]?M[et](y.duration,y.easing,E):M.queue(function(H){n(this)[v](),E&&E.call(M[0]),H()})}}),n.uiBackCompat!==!1&&(n.Widget.prototype._getCreateOptions=function(){return n.metadata&&n.metadata.get(this.element[0])[this.widgetName]})})(jQuery),(function(n,T){var A=!1;n(document).mouseup(function(c){A=!1}),n.widget("ui.mouse",{version:"1.9.2",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var c=this;this.element.bind("mousedown."+this.widgetName,function(p){return c._mouseDown(p)}).bind("click."+this.widgetName,function(p){if(n.data(p.target,c.widgetName+".preventClickEvent")===!0)return n.removeData(p.target,c.widgetName+".preventClickEvent"),p.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&n(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(c){if(!A){this._mouseStarted&&this._mouseUp(c),this._mouseDownEvent=c;var p=this,v=c.which===1,g=typeof this.options.cancel=="string"&&c.target.nodeName?n(c.target).closest(this.options.cancel).length:!1;return!v||g||!this._mouseCapture(c)?!0:(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){p.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(c)&&this._mouseDelayMet(c)&&(this._mouseStarted=this._mouseStart(c)!==!1,!this._mouseStarted)?(c.preventDefault(),!0):(n.data(c.target,this.widgetName+".preventClickEvent")===!0&&n.removeData(c.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(M){return p._mouseMove(M)},this._mouseUpDelegate=function(M){return p._mouseUp(M)},n(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),c.preventDefault(),A=!0,!0))}},_mouseMove:function(c){return!n.ui.ie||document.documentMode>=9||c.button?this._mouseStarted?(this._mouseDrag(c),c.preventDefault()):(this._mouseDistanceMet(c)&&this._mouseDelayMet(c)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,c)!==!1,this._mouseStarted?this._mouseDrag(c):this._mouseUp(c)),!this._mouseStarted):this._mouseUp(c)},_mouseUp:function(c){return n(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,c.target===this._mouseDownEvent.target&&n.data(c.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(c)),!1},_mouseDistanceMet:function(c){return Math.max(Math.abs(this._mouseDownEvent.pageX-c.pageX),Math.abs(this._mouseDownEvent.pageY-c.pageY))>=this.options.distance},_mouseDelayMet:function(c){return this.mouseDelayMet},_mouseStart:function(c){},_mouseDrag:function(c){},_mouseStop:function(c){},_mouseCapture:function(c){return!0}})})(jQuery),(function(n,T){function A(z,S,q){return[parseInt(z[0],10)*(H.test(z[0])?S/100:1),parseInt(z[1],10)*(H.test(z[1])?q/100:1)]}function c(z,S){return parseInt(n.css(z,S),10)||0}n.ui=n.ui||{};var p,v=Math.max,g=Math.abs,M=Math.round,y=/left|center|right/,E=/top|center|bottom/,F=/[\+\-]\d+%?/,et=/^\w+/,H=/%$/,at=n.fn.position;n.position={scrollbarWidth:function(){if(p!==T)return p;var z,S,q=n("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),V=q.children()[0];return n("body").append(q),z=V.offsetWidth,q.css("overflow","scroll"),S=V.offsetWidth,z===S&&(S=q[0].clientWidth),q.remove(),p=z-S},getScrollInfo:function(z){var S=z.isWindow?"":z.element.css("overflow-x"),q=z.isWindow?"":z.element.css("overflow-y"),V=S==="scroll"||S==="auto"&&z.width<z.element[0].scrollWidth,tt=q==="scroll"||q==="auto"&&z.height<z.element[0].scrollHeight;return{width:V?n.position.scrollbarWidth():0,height:tt?n.position.scrollbarWidth():0}},getWithinInfo:function(z){var S=n(z||window),q=n.isWindow(S[0]);return{element:S,isWindow:q,offset:S.offset()||{left:0,top:0},scrollLeft:S.scrollLeft(),scrollTop:S.scrollTop(),width:q?S.width():S.outerWidth(),height:q?S.height():S.outerHeight()}}},n.fn.position=function(z){if(!z||!z.of)return at.apply(this,arguments);z=n.extend({},z);var S,q,V,tt,rt,At=n(z.of),ut=n.position.getWithinInfo(z.within),ft=n.position.getScrollInfo(ut),G=At[0],Ct=(z.collision||"flip").split(" "),St={};return G.nodeType===9?(q=At.width(),V=At.height(),tt={top:0,left:0}):n.isWindow(G)?(q=At.width(),V=At.height(),tt={top:At.scrollTop(),left:At.scrollLeft()}):G.preventDefault?(z.at="left top",q=V=0,tt={top:G.pageY,left:G.pageX}):(q=At.outerWidth(),V=At.outerHeight(),tt=At.offset()),rt=n.extend({},tt),n.each(["my","at"],function(){var te=(z[this]||"").split(" "),m,kt;te.length===1&&(te=y.test(te[0])?te.concat(["center"]):E.test(te[0])?["center"].concat(te):["center","center"]),te[0]=y.test(te[0])?te[0]:"center",te[1]=E.test(te[1])?te[1]:"center",m=F.exec(te[0]),kt=F.exec(te[1]),St[this]=[m?m[0]:0,kt?kt[0]:0],z[this]=[et.exec(te[0])[0],et.exec(te[1])[0]]}),Ct.length===1&&(Ct[1]=Ct[0]),z.at[0]==="right"?rt.left+=q:z.at[0]==="center"&&(rt.left+=q/2),z.at[1]==="bottom"?rt.top+=V:z.at[1]==="center"&&(rt.top+=V/2),S=A(St.at,q,V),rt.left+=S[0],rt.top+=S[1],this.each(function(){var te,m,kt=n(this),zt=kt.outerWidth(),R=kt.outerHeight(),xn=c(this,"marginLeft"),Gt=c(this,"marginTop"),Q=zt+xn+c(this,"marginRight")+ft.width,wt=R+Gt+c(this,"marginBottom")+ft.height,d=n.extend({},rt),pe=A(St.my,kt.outerWidth(),kt.outerHeight());z.my[0]==="right"?d.left-=zt:z.my[0]==="center"&&(d.left-=zt/2),z.my[1]==="bottom"?d.top-=R:z.my[1]==="center"&&(d.top-=R/2),d.left+=pe[0],d.top+=pe[1],n.support.offsetFractions||(d.left=M(d.left),d.top=M(d.top)),te={marginLeft:xn,marginTop:Gt},n.each(["left","top"],function(ve,Le){n.ui.position[Ct[ve]]&&n.ui.position[Ct[ve]][Le](d,{targetWidth:q,targetHeight:V,elemWidth:zt,elemHeight:R,collisionPosition:te,collisionWidth:Q,collisionHeight:wt,offset:[S[0]+pe[0],S[1]+pe[1]],my:z.my,at:z.at,within:ut,elem:kt})}),n.fn.bgiframe&&kt.bgiframe(),z.using&&(m=function(ve){var Le=tt.left-d.left,Ie=Le+q-zt,vn=tt.top-d.top,Cn=vn+V-R,an={target:{element:At,left:tt.left,top:tt.top,width:q,height:V},element:{element:kt,left:d.left,top:d.top,width:zt,height:R},horizontal:Ie<0?"left":Le>0?"right":"center",vertical:Cn<0?"top":vn>0?"bottom":"middle"};q<zt&&g(Le+Ie)<q&&(an.horizontal="center"),V<R&&g(vn+Cn)<V&&(an.vertical="middle"),v(g(Le),g(Ie))>v(g(vn),g(Cn))?an.important="horizontal":an.important="vertical",z.using.call(this,ve,an)}),kt.offset(n.extend(d,{using:m}))})},n.ui.position={fit:{left:function(z,S){var q=S.within,V=q.isWindow?q.scrollLeft:q.offset.left,tt=q.width,rt=z.left-S.collisionPosition.marginLeft,At=V-rt,ut=rt+S.collisionWidth-tt-V,ft;S.collisionWidth>tt?At>0&&ut<=0?(ft=z.left+At+S.collisionWidth-tt-V,z.left+=At-ft):ut>0&&At<=0?z.left=V:At>ut?z.left=V+tt-S.collisionWidth:z.left=V:At>0?z.left+=At:ut>0?z.left-=ut:z.left=v(z.left-rt,z.left)},top:function(z,S){var q=S.within,V=q.isWindow?q.scrollTop:q.offset.top,tt=S.within.height,rt=z.top-S.collisionPosition.marginTop,At=V-rt,ut=rt+S.collisionHeight-tt-V,ft;S.collisionHeight>tt?At>0&&ut<=0?(ft=z.top+At+S.collisionHeight-tt-V,z.top+=At-ft):ut>0&&At<=0?z.top=V:At>ut?z.top=V+tt-S.collisionHeight:z.top=V:At>0?z.top+=At:ut>0?z.top-=ut:z.top=v(z.top-rt,z.top)}},flip:{left:function(z,S){var q=S.within,V=q.offset.left+q.scrollLeft,tt=q.width,rt=q.isWindow?q.scrollLeft:q.offset.left,At=z.left-S.collisionPosition.marginLeft,ut=At-rt,ft=At+S.collisionWidth-tt-rt,G=S.my[0]==="left"?-S.elemWidth:S.my[0]==="right"?S.elemWidth:0,Ct=S.at[0]==="left"?S.targetWidth:S.at[0]==="right"?-S.targetWidth:0,St=-2*S.offset[0],te,m;ut<0?(te=z.left+G+Ct+St+S.collisionWidth-tt-V,(te<0||te<g(ut))&&(z.left+=G+Ct+St)):ft>0&&(m=z.left-S.collisionPosition.marginLeft+G+Ct+St-rt,(m>0||g(m)<ft)&&(z.left+=G+Ct+St))},top:function(z,S){var q=S.within,V=q.offset.top+q.scrollTop,tt=q.height,rt=q.isWindow?q.scrollTop:q.offset.top,At=z.top-S.collisionPosition.marginTop,ut=At-rt,ft=At+S.collisionHeight-tt-rt,G=S.my[1]==="top",Ct=G?-S.elemHeight:S.my[1]==="bottom"?S.elemHeight:0,St=S.at[1]==="top"?S.targetHeight:S.at[1]==="bottom"?-S.targetHeight:0,te=-2*S.offset[1],m,kt;ut<0?(kt=z.top+Ct+St+te+S.collisionHeight-tt-V,z.top+Ct+St+te>ut&&(kt<0||kt<g(ut))&&(z.top+=Ct+St+te)):ft>0&&(m=z.top-S.collisionPosition.marginTop+Ct+St+te-rt,z.top+Ct+St+te>ft&&(m>0||g(m)<ft)&&(z.top+=Ct+St+te))}},flipfit:{left:function(){n.ui.position.flip.left.apply(this,arguments),n.ui.position.fit.left.apply(this,arguments)},top:function(){n.ui.position.flip.top.apply(this,arguments),n.ui.position.fit.top.apply(this,arguments)}}},(function(){var z,S,q,V,tt,rt=document.getElementsByTagName("body")[0],At=document.createElement("div");z=document.createElement(rt?"div":"body"),q={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},rt&&n.extend(q,{position:"absolute",left:"-1000px",top:"-1000px"});for(tt in q)z.style[tt]=q[tt];z.appendChild(At),S=rt||document.documentElement,S.insertBefore(z,S.firstChild),At.style.cssText="position: absolute; left: 10.7432222px;",V=n(At).offset().left,n.support.offsetFractions=V>10&&V<11,z.innerHTML="",S.removeChild(z)})(),n.uiBackCompat!==!1&&(function(z){var S=z.fn.position;z.fn.position=function(q){if(!q||!q.offset)return S.call(this,q);var V=q.offset.split(" "),tt=q.at.split(" ");return V.length===1&&(V[1]=V[0]),/^\d/.test(V[0])&&(V[0]="+"+V[0]),/^\d/.test(V[1])&&(V[1]="+"+V[1]),tt.length===1&&(/left|center|right/.test(tt[0])?tt[1]="center":(tt[1]=tt[0],tt[0]="center")),S.call(this,z.extend(q,{at:tt[0]+V[0]+" "+tt[1]+V[1],offset:T}))}})(jQuery)})(jQuery),(function(n,T){n.widget("ui.draggable",n.ui.mouse,{version:"1.9.2",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){this.options.helper=="original"&&!/^(?:r|a|f)/.test(this.element.css("position"))&&(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(A){var c=this.options;return this.helper||c.disabled||n(A.target).is(".ui-resizable-handle")?!1:(this.handle=this._getHandle(A),this.handle?(n(c.iframeFix===!0?"iframe":c.iframeFix).each(function(){n('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(n(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(A){var c=this.options;return this.helper=this._createHelper(A),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),n.ui.ddmanager&&(n.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},n.extend(this.offset,{click:{left:A.pageX-this.offset.left,top:A.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(A),this.originalPageX=A.pageX,this.originalPageY=A.pageY,c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt),c.containment&&this._setContainment(),this._trigger("start",A)===!1?(this._clear(),!1):(this._cacheHelperProportions(),n.ui.ddmanager&&!c.dropBehaviour&&n.ui.ddmanager.prepareOffsets(this,A),this._mouseDrag(A,!0),n.ui.ddmanager&&n.ui.ddmanager.dragStart(this,A),!0)},_mouseDrag:function(A,c){if(this.position=this._generatePosition(A),this.positionAbs=this._convertPositionTo("absolute"),!c){var p=this._uiHash();if(this._trigger("drag",A,p)===!1)return this._mouseUp({}),!1;this.position=p.position}return(!this.options.axis||this.options.axis!="y")&&(this.helper[0].style.left=this.position.left+"px"),(!this.options.axis||this.options.axis!="x")&&(this.helper[0].style.top=this.position.top+"px"),n.ui.ddmanager&&n.ui.ddmanager.drag(this,A),!1},_mouseStop:function(A){var c=!1;n.ui.ddmanager&&!this.options.dropBehaviour&&(c=n.ui.ddmanager.drop(this,A)),this.dropped&&(c=this.dropped,this.dropped=!1);for(var p=this.element[0],v=!1;p&&(p=p.parentNode);)p==document&&(v=!0);if(!v&&this.options.helper==="original")return!1;if(this.options.revert=="invalid"&&!c||this.options.revert=="valid"&&c||this.options.revert===!0||n.isFunction(this.options.revert)&&this.options.revert.call(this.element,c)){var g=this;n(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){g._trigger("stop",A)!==!1&&g._clear()})}else this._trigger("stop",A)!==!1&&this._clear();return!1},_mouseUp:function(A){return n("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),n.ui.ddmanager&&n.ui.ddmanager.dragStop(this,A),n.ui.mouse.prototype._mouseUp.call(this,A)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(A){var c=!this.options.handle||!n(this.options.handle,this.element).length;return n(this.options.handle,this.element).find("*").andSelf().each(function(){this==A.target&&(c=!0)}),c},_createHelper:function(A){var c=this.options,p=n.isFunction(c.helper)?n(c.helper.apply(this.element[0],[A])):c.helper=="clone"?this.element.clone().removeAttr("id"):this.element;return p.parents("body").length||p.appendTo(c.appendTo=="parent"?this.element[0].parentNode:c.appendTo),p[0]!=this.element[0]&&!/(fixed|absolute)/.test(p.css("position"))&&p.css("position","absolute"),p},_adjustOffsetFromHelper:function(A){typeof A=="string"&&(A=A.split(" ")),n.isArray(A)&&(A={left:+A[0],top:+A[1]||0}),"left"in A&&(this.offset.click.left=A.left+this.margins.left),"right"in A&&(this.offset.click.left=this.helperProportions.width-A.right+this.margins.left),"top"in A&&(this.offset.click.top=A.top+this.margins.top),"bottom"in A&&(this.offset.click.top=this.helperProportions.height-A.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var A=this.offsetParent.offset();return this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&n.contains(this.scrollParent[0],this.offsetParent[0])&&(A.left+=this.scrollParent.scrollLeft(),A.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&n.ui.ie)&&(A={top:0,left:0}),{top:A.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:A.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var A=this.element.position();return{top:A.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:A.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var A=this.options;if(A.containment=="parent"&&(A.containment=this.helper[0].parentNode),(A.containment=="document"||A.containment=="window")&&(this.containment=[A.containment=="document"?0:n(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,A.containment=="document"?0:n(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,(A.containment=="document"?0:n(window).scrollLeft())+n(A.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(A.containment=="document"?0:n(window).scrollTop())+(n(A.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),!/^(document|window|parent)$/.test(A.containment)&&A.containment.constructor!=Array){var c=n(A.containment),p=c[0];if(!p)return;var v=c.offset(),g=n(p).css("overflow")!="hidden";this.containment=[(parseInt(n(p).css("borderLeftWidth"),10)||0)+(parseInt(n(p).css("paddingLeft"),10)||0),(parseInt(n(p).css("borderTopWidth"),10)||0)+(parseInt(n(p).css("paddingTop"),10)||0),(g?Math.max(p.scrollWidth,p.offsetWidth):p.offsetWidth)-(parseInt(n(p).css("borderLeftWidth"),10)||0)-(parseInt(n(p).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(g?Math.max(p.scrollHeight,p.offsetHeight):p.offsetHeight)-(parseInt(n(p).css("borderTopWidth"),10)||0)-(parseInt(n(p).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=c}else A.containment.constructor==Array&&(this.containment=A.containment)},_convertPositionTo:function(A,c){c||(c=this.position);var p=A=="absolute"?1:-1,v=this.options,g=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&n.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,M=/(html|body)/i.test(g[0].tagName);return{top:c.top+this.offset.relative.top*p+this.offset.parent.top*p-(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():M?0:g.scrollTop())*p,left:c.left+this.offset.relative.left*p+this.offset.parent.left*p-(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():M?0:g.scrollLeft())*p}},_generatePosition:function(A){var c=this.options,p=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&n.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,v=/(html|body)/i.test(p[0].tagName),g=A.pageX,M=A.pageY;if(this.originalPosition){var y;if(this.containment){if(this.relative_container){var E=this.relative_container.offset();y=[this.containment[0]+E.left,this.containment[1]+E.top,this.containment[2]+E.left,this.containment[3]+E.top]}else y=this.containment;A.pageX-this.offset.click.left<y[0]&&(g=y[0]+this.offset.click.left),A.pageY-this.offset.click.top<y[1]&&(M=y[1]+this.offset.click.top),A.pageX-this.offset.click.left>y[2]&&(g=y[2]+this.offset.click.left),A.pageY-this.offset.click.top>y[3]&&(M=y[3]+this.offset.click.top)}if(c.grid){var F=c.grid[1]?this.originalPageY+Math.round((M-this.originalPageY)/c.grid[1])*c.grid[1]:this.originalPageY;M=y&&(F-this.offset.click.top<y[1]||F-this.offset.click.top>y[3])?F-this.offset.click.top<y[1]?F+c.grid[1]:F-c.grid[1]:F;var et=c.grid[0]?this.originalPageX+Math.round((g-this.originalPageX)/c.grid[0])*c.grid[0]:this.originalPageX;g=y&&(et-this.offset.click.left<y[0]||et-this.offset.click.left>y[2])?et-this.offset.click.left<y[0]?et+c.grid[0]:et-c.grid[0]:et}}return{top:M-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():v?0:p.scrollTop()),left:g-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():v?0:p.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(A,c,p){return p=p||this._uiHash(),n.ui.plugin.call(this,A,[c,p]),A=="drag"&&(this.positionAbs=this._convertPositionTo("absolute")),n.Widget.prototype._trigger.call(this,A,c,p)},plugins:{},_uiHash:function(A){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),n.ui.plugin.add("draggable","connectToSortable",{start:function(A,c){var p=n(this).data("draggable"),v=p.options,g=n.extend({},c,{item:p.element});p.sortables=[],n(v.connectToSortable).each(function(){var M=n.data(this,"sortable");M&&!M.options.disabled&&(p.sortables.push({instance:M,shouldRevert:M.options.revert}),M.refreshPositions(),M._trigger("activate",A,g))})},stop:function(A,c){var p=n(this).data("draggable"),v=n.extend({},c,{item:p.element});n.each(p.sortables,function(){this.instance.isOver?(this.instance.isOver=0,p.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(A),this.instance.options.helper=this.instance.options._helper,p.options.helper=="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",A,v))})},drag:function(A,c){var p=n(this).data("draggable"),v=this,g=function(M){var y=this.offset.click.top,E=this.offset.click.left,F=this.positionAbs.top,et=this.positionAbs.left,H=M.height,at=M.width,z=M.top,S=M.left;return n.ui.isOver(F+y,et+E,z,S,H,at)};n.each(p.sortables,function(M){var y=!1,E=this;this.instance.positionAbs=p.positionAbs,this.instance.helperProportions=p.helperProportions,this.instance.offset.click=p.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(y=!0,n.each(p.sortables,function(){return this.instance.positionAbs=p.positionAbs,this.instance.helperProportions=p.helperProportions,this.instance.offset.click=p.offset.click,this!=E&&this.instance._intersectsWith(this.instance.containerCache)&&n.ui.contains(E.instance.element[0],this.instance.element[0])&&(y=!1),y})),y?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=n(v).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return c.helper[0]},A.target=this.instance.currentItem[0],this.instance._mouseCapture(A,!0),this.instance._mouseStart(A,!0,!0),this.instance.offset.click.top=p.offset.click.top,this.instance.offset.click.left=p.offset.click.left,this.instance.offset.parent.left-=p.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=p.offset.parent.top-this.instance.offset.parent.top,p._trigger("toSortable",A),p.dropped=this.instance.element,p.currentItem=p.element,this.instance.fromOutside=p),this.instance.currentItem&&this.instance._mouseDrag(A)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",A,this.instance._uiHash(this.instance)),this.instance._mouseStop(A,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),p._trigger("fromSortable",A),p.dropped=!1)})}}),n.ui.plugin.add("draggable","cursor",{start:function(A,c){var p=n("body"),v=n(this).data("draggable").options;p.css("cursor")&&(v._cursor=p.css("cursor")),p.css("cursor",v.cursor)},stop:function(A,c){var p=n(this).data("draggable").options;p._cursor&&n("body").css("cursor",p._cursor)}}),n.ui.plugin.add("draggable","opacity",{start:function(A,c){var p=n(c.helper),v=n(this).data("draggable").options;p.css("opacity")&&(v._opacity=p.css("opacity")),p.css("opacity",v.opacity)},stop:function(A,c){var p=n(this).data("draggable").options;p._opacity&&n(c.helper).css("opacity",p._opacity)}}),n.ui.plugin.add("draggable","scroll",{start:function(A,c){var p=n(this).data("draggable");p.scrollParent[0]!=document&&p.scrollParent[0].tagName!="HTML"&&(p.overflowOffset=p.scrollParent.offset())},drag:function(A,c){var p=n(this).data("draggable"),v=p.options,g=!1;p.scrollParent[0]!=document&&p.scrollParent[0].tagName!="HTML"?((!v.axis||v.axis!="x")&&(p.overflowOffset.top+p.scrollParent[0].offsetHeight-A.pageY<v.scrollSensitivity?p.scrollParent[0].scrollTop=g=p.scrollParent[0].scrollTop+v.scrollSpeed:A.pageY-p.overflowOffset.top<v.scrollSensitivity&&(p.scrollParent[0].scrollTop=g=p.scrollParent[0].scrollTop-v.scrollSpeed)),(!v.axis||v.axis!="y")&&(p.overflowOffset.left+p.scrollParent[0].offsetWidth-A.pageX<v.scrollSensitivity?p.scrollParent[0].scrollLeft=g=p.scrollParent[0].scrollLeft+v.scrollSpeed:A.pageX-p.overflowOffset.left<v.scrollSensitivity&&(p.scrollParent[0].scrollLeft=g=p.scrollParent[0].scrollLeft-v.scrollSpeed))):((!v.axis||v.axis!="x")&&(A.pageY-n(document).scrollTop()<v.scrollSensitivity?g=n(document).scrollTop(n(document).scrollTop()-v.scrollSpeed):n(window).height()-(A.pageY-n(document).scrollTop())<v.scrollSensitivity&&(g=n(document).scrollTop(n(document).scrollTop()+v.scrollSpeed))),(!v.axis||v.axis!="y")&&(A.pageX-n(document).scrollLeft()<v.scrollSensitivity?g=n(document).scrollLeft(n(document).scrollLeft()-v.scrollSpeed):n(window).width()-(A.pageX-n(document).scrollLeft())<v.scrollSensitivity&&(g=n(document).scrollLeft(n(document).scrollLeft()+v.scrollSpeed)))),g!==!1&&n.ui.ddmanager&&!v.dropBehaviour&&n.ui.ddmanager.prepareOffsets(p,A)}}),n.ui.plugin.add("draggable","snap",{start:function(A,c){var p=n(this).data("draggable"),v=p.options;p.snapElements=[],n(v.snap.constructor!=String?v.snap.items||":data(draggable)":v.snap).each(function(){var g=n(this),M=g.offset();this!=p.element[0]&&p.snapElements.push({item:this,width:g.outerWidth(),height:g.outerHeight(),top:M.top,left:M.left})})},drag:function(A,c){for(var p=n(this).data("draggable"),v=p.options,g=v.snapTolerance,M=c.offset.left,y=M+p.helperProportions.width,E=c.offset.top,F=E+p.helperProportions.height,et=p.snapElements.length-1;et>=0;et--){var H=p.snapElements[et].left,at=H+p.snapElements[et].width,z=p.snapElements[et].top,S=z+p.snapElements[et].height;if(!(H-g<M&&M<at+g&&z-g<E&&E<S+g||H-g<M&&M<at+g&&z-g<F&&F<S+g||H-g<y&&y<at+g&&z-g<E&&E<S+g||H-g<y&&y<at+g&&z-g<F&&F<S+g)){p.snapElements[et].snapping&&p.options.snap.release&&p.options.snap.release.call(p.element,A,n.extend(p._uiHash(),{snapItem:p.snapElements[et].item})),p.snapElements[et].snapping=!1;continue}if(v.snapMode!="inner"){var q=Math.abs(z-F)<=g,V=Math.abs(S-E)<=g,tt=Math.abs(H-y)<=g,rt=Math.abs(at-M)<=g;q&&(c.position.top=p._convertPositionTo("relative",{top:z-p.helperProportions.height,left:0}).top-p.margins.top),V&&(c.position.top=p._convertPositionTo("relative",{top:S,left:0}).top-p.margins.top),tt&&(c.position.left=p._convertPositionTo("relative",{top:0,left:H-p.helperProportions.width}).left-p.margins.left),rt&&(c.position.left=p._convertPositionTo("relative",{top:0,left:at}).left-p.margins.left)}var At=q||V||tt||rt;if(v.snapMode!="outer"){var q=Math.abs(z-E)<=g,V=Math.abs(S-F)<=g,tt=Math.abs(H-M)<=g,rt=Math.abs(at-y)<=g;q&&(c.position.top=p._convertPositionTo("relative",{top:z,left:0}).top-p.margins.top),V&&(c.position.top=p._convertPositionTo("relative",{top:S-p.helperProportions.height,left:0}).top-p.margins.top),tt&&(c.position.left=p._convertPositionTo("relative",{top:0,left:H}).left-p.margins.left),rt&&(c.position.left=p._convertPositionTo("relative",{top:0,left:at-p.helperProportions.width}).left-p.margins.left)}!p.snapElements[et].snapping&&(q||V||tt||rt||At)&&p.options.snap.snap&&p.options.snap.snap.call(p.element,A,n.extend(p._uiHash(),{snapItem:p.snapElements[et].item})),p.snapElements[et].snapping=q||V||tt||rt||At}}}),n.ui.plugin.add("draggable","stack",{start:function(A,c){var p=n(this).data("draggable").options,v=n.makeArray(n(p.stack)).sort(function(M,y){return(parseInt(n(M).css("zIndex"),10)||0)-(parseInt(n(y).css("zIndex"),10)||0)});if(v.length){var g=parseInt(v[0].style.zIndex)||0;n(v).each(function(M){this.style.zIndex=g+M}),this[0].style.zIndex=g+v.length}}}),n.ui.plugin.add("draggable","zIndex",{start:function(A,c){var p=n(c.helper),v=n(this).data("draggable").options;p.css("zIndex")&&(v._zIndex=p.css("zIndex")),p.css("zIndex",v.zIndex)},stop:function(A,c){var p=n(this).data("draggable").options;p._zIndex&&n(c.helper).css("zIndex",p._zIndex)}})})(jQuery),(function(n,T){n.widget("ui.droppable",{version:"1.9.2",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var A=this.options,c=A.accept;this.isover=0,this.isout=1,this.accept=n.isFunction(c)?c:function(p){return p.is(c)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},n.ui.ddmanager.droppables[A.scope]=n.ui.ddmanager.droppables[A.scope]||[],n.ui.ddmanager.droppables[A.scope].push(this),A.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var A=n.ui.ddmanager.droppables[this.options.scope],c=0;c<A.length;c++)A[c]==this&&A.splice(c,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(A,c){A=="accept"&&(this.accept=n.isFunction(c)?c:function(p){return p.is(c)}),n.Widget.prototype._setOption.apply(this,arguments)},_activate:function(A){var c=n.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),c&&this._trigger("activate",A,this.ui(c))},_deactivate:function(A){var c=n.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),c&&this._trigger("deactivate",A,this.ui(c))},_over:function(A){var c=n.ui.ddmanager.current;!c||(c.currentItem||c.element)[0]==this.element[0]||this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",A,this.ui(c)))},_out:function(A){var c=n.ui.ddmanager.current;!c||(c.currentItem||c.element)[0]==this.element[0]||this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",A,this.ui(c)))},_drop:function(A,c){var p=c||n.ui.ddmanager.current;if(!p||(p.currentItem||p.element)[0]==this.element[0])return!1;var v=!1;return this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var g=n.data(this,"droppable");if(g.options.greedy&&!g.options.disabled&&g.options.scope==p.options.scope&&g.accept.call(g.element[0],p.currentItem||p.element)&&n.ui.intersect(p,n.extend(g,{offset:g.element.offset()}),g.options.tolerance))return v=!0,!1}),v?!1:this.accept.call(this.element[0],p.currentItem||p.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",A,this.ui(p)),this.element):!1},ui:function(A){return{draggable:A.currentItem||A.element,helper:A.helper,position:A.position,offset:A.positionAbs}}}),n.ui.intersect=function(A,c,p){if(!c.offset)return!1;var v=(A.positionAbs||A.position.absolute).left,g=v+A.helperProportions.width,M=(A.positionAbs||A.position.absolute).top,y=M+A.helperProportions.height,E=c.offset.left,F=E+c.proportions.width,et=c.offset.top,H=et+c.proportions.height;switch(p){case"fit":return E<=v&&g<=F&&et<=M&&y<=H;case"intersect":return E<v+A.helperProportions.width/2&&g-A.helperProportions.width/2<F&&et<M+A.helperProportions.height/2&&y-A.helperProportions.height/2<H;case"pointer":var at=(A.positionAbs||A.position.absolute).left+(A.clickOffset||A.offset.click).left,z=(A.positionAbs||A.position.absolute).top+(A.clickOffset||A.offset.click).top,S=n.ui.isOver(z,at,et,E,c.proportions.height,c.proportions.width);return S;case"touch":return(M>=et&&M<=H||y>=et&&y<=H||M<et&&y>H)&&(v>=E&&v<=F||g>=E&&g<=F||v<E&&g>F);default:return!1}},n.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(A,c){var p=n.ui.ddmanager.droppables[A.options.scope]||[],v=c?c.type:null,g=(A.currentItem||A.element).find(":data(droppable)").andSelf();t:for(var M=0;M<p.length;M++)if(!(p[M].options.disabled||A&&!p[M].accept.call(p[M].element[0],A.currentItem||A.element))){for(var y=0;y<g.length;y++)if(g[y]==p[M].element[0]){p[M].proportions.height=0;continue t}p[M].visible=p[M].element.css("display")!="none",p[M].visible&&(v=="mousedown"&&p[M]._activate.call(p[M],c),p[M].offset=p[M].element.offset(),p[M].proportions={width:p[M].element[0].offsetWidth,height:p[M].element[0].offsetHeight})}},drop:function(A,c){var p=!1;return n.each(n.ui.ddmanager.droppables[A.options.scope]||[],function(){this.options&&(!this.options.disabled&&this.visible&&n.ui.intersect(A,this,this.options.tolerance)&&(p=this._drop.call(this,c)||p),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],A.currentItem||A.element)&&(this.isout=1,this.isover=0,this._deactivate.call(this,c)))}),p},dragStart:function(A,c){A.element.parentsUntil("body").bind("scroll.droppable",function(){A.options.refreshPositions||n.ui.ddmanager.prepareOffsets(A,c)})},drag:function(A,c){A.options.refreshPositions&&n.ui.ddmanager.prepareOffsets(A,c),n.each(n.ui.ddmanager.droppables[A.options.scope]||[],function(){if(!(this.options.disabled||this.greedyChild||!this.visible)){var p=n.ui.intersect(A,this,this.options.tolerance),v=!p&&this.isover==1?"isout":p&&this.isover==0?"isover":null;if(v){var g;if(this.options.greedy){var M=this.options.scope,y=this.element.parents(":data(droppable)").filter(function(){return n.data(this,"droppable").options.scope===M});y.length&&(g=n.data(y[0],"droppable"),g.greedyChild=v=="isover"?1:0)}g&&v=="isover"&&(g.isover=0,g.isout=1,g._out.call(g,c)),this[v]=1,this[v=="isout"?"isover":"isout"]=0,this[v=="isover"?"_over":"_out"].call(this,c),g&&v=="isout"&&(g.isout=0,g.isover=1,g._over.call(g,c))}}})},dragStop:function(A,c){A.element.parentsUntil("body").unbind("scroll.droppable"),A.options.refreshPositions||n.ui.ddmanager.prepareOffsets(A,c)}}})(jQuery),(function(n,T){n.widget("ui.sortable",n.ui.mouse,{version:"1.9.2",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3},_create:function(){var A=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?A.axis==="x"||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var A=this.items.length-1;A>=0;A--)this.items[A].item.removeData(this.widgetName+"-item");return this},_setOption:function(A,c){A==="disabled"?(this.options[A]=c,this.widget().toggleClass("ui-sortable-disabled",!!c)):n.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(A,c){var p=this;if(this.reverting||this.options.disabled||this.options.type=="static")return!1;this._refreshItems(A);var v=null,g=n(A.target).parents().each(function(){if(n.data(this,p.widgetName+"-item")==p)return v=n(this),!1});if(n.data(A.target,p.widgetName+"-item")==p&&(v=n(A.target)),!v)return!1;if(this.options.handle&&!c){var M=!1;if(n(this.options.handle,v).find("*").andSelf().each(function(){this==A.target&&(M=!0)}),!M)return!1}return this.currentItem=v,this._removeCurrentsFromItems(),!0},_mouseStart:function(A,c,p){var v=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(A),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},n.extend(this.offset,{click:{left:A.pageX-this.offset.left,top:A.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(A),this.originalPageX=A.pageX,this.originalPageY=A.pageY,v.cursorAt&&this._adjustOffsetFromHelper(v.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),v.containment&&this._setContainment(),v.cursor&&(n("body").css("cursor")&&(this._storedCursor=n("body").css("cursor")),n("body").css("cursor",v.cursor)),v.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",v.opacity)),v.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",v.zIndex)),this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",A,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!p)for(var g=this.containers.length-1;g>=0;g--)this.containers[g]._trigger("activate",A,this._uiHash(this));return n.ui.ddmanager&&(n.ui.ddmanager.current=this),n.ui.ddmanager&&!v.dropBehaviour&&n.ui.ddmanager.prepareOffsets(this,A),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(A),!0},_mouseDrag:function(A){if(this.position=this._generatePosition(A),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll){var c=this.options,p=!1;this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-A.pageY<c.scrollSensitivity?this.scrollParent[0].scrollTop=p=this.scrollParent[0].scrollTop+c.scrollSpeed:A.pageY-this.overflowOffset.top<c.scrollSensitivity&&(this.scrollParent[0].scrollTop=p=this.scrollParent[0].scrollTop-c.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-A.pageX<c.scrollSensitivity?this.scrollParent[0].scrollLeft=p=this.scrollParent[0].scrollLeft+c.scrollSpeed:A.pageX-this.overflowOffset.left<c.scrollSensitivity&&(this.scrollParent[0].scrollLeft=p=this.scrollParent[0].scrollLeft-c.scrollSpeed)):(A.pageY-n(document).scrollTop()<c.scrollSensitivity?p=n(document).scrollTop(n(document).scrollTop()-c.scrollSpeed):n(window).height()-(A.pageY-n(document).scrollTop())<c.scrollSensitivity&&(p=n(document).scrollTop(n(document).scrollTop()+c.scrollSpeed)),A.pageX-n(document).scrollLeft()<c.scrollSensitivity?p=n(document).scrollLeft(n(document).scrollLeft()-c.scrollSpeed):n(window).width()-(A.pageX-n(document).scrollLeft())<c.scrollSensitivity&&(p=n(document).scrollLeft(n(document).scrollLeft()+c.scrollSpeed))),p!==!1&&n.ui.ddmanager&&!c.dropBehaviour&&n.ui.ddmanager.prepareOffsets(this,A)}this.positionAbs=this._convertPositionTo("absolute"),(!this.options.axis||this.options.axis!="y")&&(this.helper[0].style.left=this.position.left+"px"),(!this.options.axis||this.options.axis!="x")&&(this.helper[0].style.top=this.position.top+"px");for(var v=this.items.length-1;v>=0;v--){var g=this.items[v],M=g.item[0],y=this._intersectsWithPointer(g);if(y&&g.instance===this.currentContainer&&M!=this.currentItem[0]&&this.placeholder[y==1?"next":"prev"]()[0]!=M&&!n.contains(this.placeholder[0],M)&&(this.options.type!="semi-dynamic"||!n.contains(this.element[0],M))){if(this.direction=y==1?"down":"up",this.options.tolerance!="pointer"&&!this._intersectsWithSides(g))break;this._rearrange(A,g),this._trigger("change",A,this._uiHash());break}}return this._contactContainers(A),n.ui.ddmanager&&n.ui.ddmanager.drag(this,A),this._trigger("sort",A,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(A,c){if(A){if(n.ui.ddmanager&&!this.options.dropBehaviour&&n.ui.ddmanager.drop(this,A),this.options.revert){var p=this,v=this.placeholder.offset();this.reverting=!0,n(this.helper).animate({left:v.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:v.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){p._clear(A)})}else this._clear(A,c);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),this.options.helper=="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var A=this.containers.length-1;A>=0;A--)this.containers[A]._trigger("deactivate",null,this._uiHash(this)),this.containers[A].containerCache.over&&(this.containers[A]._trigger("out",null,this._uiHash(this)),this.containers[A].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.options.helper!="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),n.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?n(this.domPosition.prev).after(this.currentItem):n(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(A){var c=this._getItemsAsjQuery(A&&A.connected),p=[];return A=A||{},n(c).each(function(){var v=(n(A.item||this).attr(A.attribute||"id")||"").match(A.expression||/(.+)[-=_](.+)/);v&&p.push((A.key||v[1]+"[]")+"="+(A.key&&A.expression?v[1]:v[2]))}),!p.length&&A.key&&p.push(A.key+"="),p.join("&")},toArray:function(A){var c=this._getItemsAsjQuery(A&&A.connected),p=[];return A=A||{},c.each(function(){p.push(n(A.item||this).attr(A.attribute||"id")||"")}),p},_intersectsWith:function(A){var c=this.positionAbs.left,p=c+this.helperProportions.width,v=this.positionAbs.top,g=v+this.helperProportions.height,M=A.left,y=M+A.width,E=A.top,F=E+A.height,et=this.offset.click.top,H=this.offset.click.left,at=v+et>E&&v+et<F&&c+H>M&&c+H<y;return this.options.tolerance=="pointer"||this.options.forcePointerForContainers||this.options.tolerance!="pointer"&&this.helperProportions[this.floating?"width":"height"]>A[this.floating?"width":"height"]?at:M<c+this.helperProportions.width/2&&p-this.helperProportions.width/2<y&&E<v+this.helperProportions.height/2&&g-this.helperProportions.height/2<F},_intersectsWithPointer:function(A){var c=this.options.axis==="x"||n.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,A.top,A.height),p=this.options.axis==="y"||n.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,A.left,A.width),v=c&&p,g=this._getDragVerticalDirection(),M=this._getDragHorizontalDirection();return v?this.floating?M&&M=="right"||g=="down"?2:1:g&&(g=="down"?2:1):!1},_intersectsWithSides:function(A){var c=n.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,A.top+A.height/2,A.height),p=n.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,A.left+A.width/2,A.width),v=this._getDragVerticalDirection(),g=this._getDragHorizontalDirection();return this.floating&&g?g=="right"&&p||g=="left"&&!p:v&&(v=="down"&&c||v=="up"&&!c)},_getDragVerticalDirection:function(){var A=this.positionAbs.top-this.lastPositionAbs.top;return A!=0&&(A>0?"down":"up")},_getDragHorizontalDirection:function(){var A=this.positionAbs.left-this.lastPositionAbs.left;return A!=0&&(A>0?"right":"left")},refresh:function(A){return this._refreshItems(A),this.refreshPositions(),this},_connectWith:function(){var A=this.options;return A.connectWith.constructor==String?[A.connectWith]:A.connectWith},_getItemsAsjQuery:function(A){var c=[],p=[],v=this._connectWith();if(v&&A)for(var g=v.length-1;g>=0;g--)for(var M=n(v[g]),y=M.length-1;y>=0;y--){var E=n.data(M[y],this.widgetName);E&&E!=this&&!E.options.disabled&&p.push([n.isFunction(E.options.items)?E.options.items.call(E.element):n(E.options.items,E.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),E])}p.push([n.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):n(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(var g=p.length-1;g>=0;g--)p[g][0].each(function(){c.push(this)});return n(c)},_removeCurrentsFromItems:function(){var A=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=n.grep(this.items,function(c){for(var p=0;p<A.length;p++)if(A[p]==c.item[0])return!1;return!0})},_refreshItems:function(A){this.items=[],this.containers=[this];var c=this.items,p=[[n.isFunction(this.options.items)?this.options.items.call(this.element[0],A,{item:this.currentItem}):n(this.options.items,this.element),this]],v=this._connectWith();if(v&&this.ready)for(var g=v.length-1;g>=0;g--)for(var M=n(v[g]),y=M.length-1;y>=0;y--){var E=n.data(M[y],this.widgetName);E&&E!=this&&!E.options.disabled&&(p.push([n.isFunction(E.options.items)?E.options.items.call(E.element[0],A,{item:this.currentItem}):n(E.options.items,E.element),E]),this.containers.push(E))}for(var g=p.length-1;g>=0;g--)for(var F=p[g][1],et=p[g][0],y=0,H=et.length;y<H;y++){var at=n(et[y]);at.data(this.widgetName+"-item",F),c.push({item:at,instance:F,width:0,height:0,left:0,top:0})}},refreshPositions:function(A){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var c=this.items.length-1;c>=0;c--){var p=this.items[c];if(!(p.instance!=this.currentContainer&&this.currentContainer&&p.item[0]!=this.currentItem[0])){var v=this.options.toleranceElement?n(this.options.toleranceElement,p.item):p.item;A||(p.width=v.outerWidth(),p.height=v.outerHeight());var g=v.offset();p.left=g.left,p.top=g.top}}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(var c=this.containers.length-1;c>=0;c--){var g=this.containers[c].element.offset();this.containers[c].containerCache.left=g.left,this.containers[c].containerCache.top=g.top,this.containers[c].containerCache.width=this.containers[c].element.outerWidth(),this.containers[c].containerCache.height=this.containers[c].element.outerHeight()}return this},_createPlaceholder:function(A){A=A||this;var c=A.options;if(!c.placeholder||c.placeholder.constructor==String){var p=c.placeholder;c.placeholder={element:function(){var v=n(document.createElement(A.currentItem[0].nodeName)).addClass(p||A.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return p||(v.style.visibility="hidden"),v},update:function(v,g){p&&!c.forcePlaceholderSize||(g.height()||g.height(A.currentItem.innerHeight()-parseInt(A.currentItem.css("paddingTop")||0,10)-parseInt(A.currentItem.css("paddingBottom")||0,10)),g.width()||g.width(A.currentItem.innerWidth()-parseInt(A.currentItem.css("paddingLeft")||0,10)-parseInt(A.currentItem.css("paddingRight")||0,10)))}}}A.placeholder=n(c.placeholder.element.call(A.element,A.currentItem)),A.currentItem.after(A.placeholder),c.placeholder.update(A,A.placeholder)},_contactContainers:function(A){for(var c=null,p=null,v=this.containers.length-1;v>=0;v--)if(!n.contains(this.currentItem[0],this.containers[v].element[0]))if(this._intersectsWith(this.containers[v].containerCache)){if(c&&n.contains(this.containers[v].element[0],c.element[0]))continue;c=this.containers[v],p=v}else this.containers[v].containerCache.over&&(this.containers[v]._trigger("out",A,this._uiHash(this)),this.containers[v].containerCache.over=0);if(c)if(this.containers.length===1)this.containers[p]._trigger("over",A,this._uiHash(this)),this.containers[p].containerCache.over=1;else{for(var g=1e4,M=null,y=this.containers[p].floating?"left":"top",E=this.containers[p].floating?"width":"height",F=this.positionAbs[y]+this.offset.click[y],et=this.items.length-1;et>=0;et--)if(n.contains(this.containers[p].element[0],this.items[et].item[0])&&this.items[et].item[0]!=this.currentItem[0]){var H=this.items[et].item.offset()[y],at=!1;Math.abs(H-F)>Math.abs(H+this.items[et][E]-F)&&(at=!0,H+=this.items[et][E]),Math.abs(H-F)<g&&(g=Math.abs(H-F),M=this.items[et],this.direction=at?"up":"down")}if(!M&&!this.options.dropOnEmpty)return;this.currentContainer=this.containers[p],M?this._rearrange(A,M,null,!0):this._rearrange(A,null,this.containers[p].element,!0),this._trigger("change",A,this._uiHash()),this.containers[p]._trigger("change",A,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",A,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(A){var c=this.options,p=n.isFunction(c.helper)?n(c.helper.apply(this.element[0],[A,this.currentItem])):c.helper=="clone"?this.currentItem.clone():this.currentItem;return p.parents("body").length||n(c.appendTo!="parent"?c.appendTo:this.currentItem[0].parentNode)[0].appendChild(p[0]),p[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(p[0].style.width==""||c.forceHelperSize)&&p.width(this.currentItem.width()),(p[0].style.height==""||c.forceHelperSize)&&p.height(this.currentItem.height()),p},_adjustOffsetFromHelper:function(A){typeof A=="string"&&(A=A.split(" ")),n.isArray(A)&&(A={left:+A[0],top:+A[1]||0}),"left"in A&&(this.offset.click.left=A.left+this.margins.left),"right"in A&&(this.offset.click.left=this.helperProportions.width-A.right+this.margins.left),"top"in A&&(this.offset.click.top=A.top+this.margins.top),"bottom"in A&&(this.offset.click.top=this.helperProportions.height-A.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var A=this.offsetParent.offset();return this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&n.contains(this.scrollParent[0],this.offsetParent[0])&&(A.left+=this.scrollParent.scrollLeft(),A.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&n.ui.ie)&&(A={top:0,left:0}),{top:A.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:A.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var A=this.currentItem.position();return{top:A.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:A.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var A=this.options;if(A.containment=="parent"&&(A.containment=this.helper[0].parentNode),(A.containment=="document"||A.containment=="window")&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,n(A.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(n(A.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),!/^(document|window|parent)$/.test(A.containment)){var c=n(A.containment)[0],p=n(A.containment).offset(),v=n(c).css("overflow")!="hidden";this.containment=[p.left+(parseInt(n(c).css("borderLeftWidth"),10)||0)+(parseInt(n(c).css("paddingLeft"),10)||0)-this.margins.left,p.top+(parseInt(n(c).css("borderTopWidth"),10)||0)+(parseInt(n(c).css("paddingTop"),10)||0)-this.margins.top,p.left+(v?Math.max(c.scrollWidth,c.offsetWidth):c.offsetWidth)-(parseInt(n(c).css("borderLeftWidth"),10)||0)-(parseInt(n(c).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,p.top+(v?Math.max(c.scrollHeight,c.offsetHeight):c.offsetHeight)-(parseInt(n(c).css("borderTopWidth"),10)||0)-(parseInt(n(c).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(A,c){c||(c=this.position);var p=A=="absolute"?1:-1,v=this.options,g=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&n.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,M=/(html|body)/i.test(g[0].tagName);return{top:c.top+this.offset.relative.top*p+this.offset.parent.top*p-(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():M?0:g.scrollTop())*p,left:c.left+this.offset.relative.left*p+this.offset.parent.left*p-(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():M?0:g.scrollLeft())*p}},_generatePosition:function(A){var c=this.options,p=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&n.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,v=/(html|body)/i.test(p[0].tagName);this.cssPosition=="relative"&&(this.scrollParent[0]==document||this.scrollParent[0]==this.offsetParent[0])&&(this.offset.relative=this._getRelativeOffset());var g=A.pageX,M=A.pageY;if(this.originalPosition&&(this.containment&&(A.pageX-this.offset.click.left<this.containment[0]&&(g=this.containment[0]+this.offset.click.left),A.pageY-this.offset.click.top<this.containment[1]&&(M=this.containment[1]+this.offset.click.top),A.pageX-this.offset.click.left>this.containment[2]&&(g=this.containment[2]+this.offset.click.left),A.pageY-this.offset.click.top>this.containment[3]&&(M=this.containment[3]+this.offset.click.top)),c.grid)){var y=this.originalPageY+Math.round((M-this.originalPageY)/c.grid[1])*c.grid[1];M=this.containment&&(y-this.offset.click.top<this.containment[1]||y-this.offset.click.top>this.containment[3])?y-this.offset.click.top<this.containment[1]?y+c.grid[1]:y-c.grid[1]:y;var E=this.originalPageX+Math.round((g-this.originalPageX)/c.grid[0])*c.grid[0];g=this.containment&&(E-this.offset.click.left<this.containment[0]||E-this.offset.click.left>this.containment[2])?E-this.offset.click.left<this.containment[0]?E+c.grid[0]:E-c.grid[0]:E}return{top:M-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():v?0:p.scrollTop()),left:g-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():v?0:p.scrollLeft())}},_rearrange:function(A,c,p,v){p?p[0].appendChild(this.placeholder[0]):c.item[0].parentNode.insertBefore(this.placeholder[0],this.direction=="down"?c.item[0]:c.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var g=this.counter;this._delay(function(){g==this.counter&&this.refreshPositions(!v)})},_clear:function(A,c){this.reverting=!1;var p=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]==this.currentItem[0]){for(var v in this._storedCSS)(this._storedCSS[v]=="auto"||this._storedCSS[v]=="static")&&(this._storedCSS[v]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!c&&p.push(function(g){this._trigger("receive",g,this._uiHash(this.fromOutside))}),(this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!c&&p.push(function(g){this._trigger("update",g,this._uiHash())}),this!==this.currentContainer&&(c||(p.push(function(g){this._trigger("remove",g,this._uiHash())}),p.push(function(g){return function(M){g._trigger("receive",M,this._uiHash(this))}}.call(this,this.currentContainer)),p.push(function(g){return function(M){g._trigger("update",M,this._uiHash(this))}}.call(this,this.currentContainer))));for(var v=this.containers.length-1;v>=0;v--)c||p.push(function(M){return function(y){M._trigger("deactivate",y,this._uiHash(this))}}.call(this,this.containers[v])),this.containers[v].containerCache.over&&(p.push(function(M){return function(y){M._trigger("out",y,this._uiHash(this))}}.call(this,this.containers[v])),this.containers[v].containerCache.over=0);if(this._storedCursor&&n("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex",this._storedZIndex=="auto"?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!c){this._trigger("beforeStop",A,this._uiHash());for(var v=0;v<p.length;v++)p[v].call(this,A);this._trigger("stop",A,this._uiHash())}return this.fromOutside=!1,!1}if(c||this._trigger("beforeStop",A,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null,!c){for(var v=0;v<p.length;v++)p[v].call(this,A);this._trigger("stop",A,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){n.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(A){var c=A||this;return{helper:c.helper,placeholder:c.placeholder||n([]),position:c.position,originalPosition:c.originalPosition,offset:c.positionAbs,item:c.currentItem,sender:A?A.element:null}}})})(jQuery),(function(n,T){var A=0;n.widget("ui.autocomplete",{version:"1.9.2",defaultElement:"<input>",options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var c,p,v;this.isMultiLine=this._isMultiLine(),this.valueMethod=this.element[this.element.is("input,textarea")?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(g){if(this.element.prop("readOnly")){c=!0,v=!0,p=!0;return}c=!1,v=!1,p=!1;var M=n.ui.keyCode;switch(g.keyCode){case M.PAGE_UP:c=!0,this._move("previousPage",g);break;case M.PAGE_DOWN:c=!0,this._move("nextPage",g);break;case M.UP:c=!0,this._keyEvent("previous",g);break;case M.DOWN:c=!0,this._keyEvent("next",g);break;case M.ENTER:case M.NUMPAD_ENTER:this.menu.active&&(c=!0,g.preventDefault(),this.menu.select(g));break;case M.TAB:this.menu.active&&this.menu.select(g);break;case M.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(g),g.preventDefault());break;default:p=!0,this._searchTimeout(g)}},keypress:function(g){if(c){c=!1,g.preventDefault();return}if(!p){var M=n.ui.keyCode;switch(g.keyCode){case M.PAGE_UP:this._move("previousPage",g);break;case M.PAGE_DOWN:this._move("nextPage",g);break;case M.UP:this._keyEvent("previous",g);break;case M.DOWN:this._keyEvent("next",g)}}},input:function(g){if(v){v=!1,g.preventDefault();return}this._searchTimeout(g)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(g){if(this.cancelBlur){delete this.cancelBlur;return}clearTimeout(this.searching),this.close(g),this._change(g)}}),this._initSource(),this.menu=n("<ul>").addClass("ui-autocomplete").appendTo(this.document.find(this.options.appendTo||"body")[0]).menu({input:n(),role:null}).zIndex(this.element.zIndex()+1).hide().data("menu"),this._on(this.menu.element,{mousedown:function(g){g.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var M=this.menu.element[0];n(g.target).closest(".ui-menu-item").length||this._delay(function(){var y=this;this.document.one("mousedown",function(E){E.target!==y.element[0]&&E.target!==M&&!n.contains(M,E.target)&&y.close()})})},menufocus:function(g,M){if(this.isNewMenu&&(this.isNewMenu=!1,g.originalEvent&&/^mouse/.test(g.originalEvent.type))){this.menu.blur(),this.document.one("mousemove",function(){n(g.target).trigger(g.originalEvent)});return}var y=M.item.data("ui-autocomplete-item")||M.item.data("item.autocomplete");this._trigger("focus",g,{item:y})!==!1?g.originalEvent&&/^key/.test(g.originalEvent.type)&&this._value(y.value):this.liveRegion.text(y.value)},menuselect:function(g,M){var y=M.item.data("ui-autocomplete-item")||M.item.data("item.autocomplete"),E=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=E,this._delay(function(){this.previous=E,this.selectedItem=y})),this._trigger("select",g,{item:y})!==!1&&this._value(y.value),this.term=this._value(),this.close(g),this.selectedItem=y}}),this.liveRegion=n("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertAfter(this.element),n.fn.bgiframe&&this.menu.element.bgiframe(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(c,p){this._super(c,p),c==="source"&&this._initSource(),c==="appendTo"&&this.menu.element.appendTo(this.document.find(p||"body")[0]),c==="disabled"&&p&&this.xhr&&this.xhr.abort()},_isMultiLine:function(){return this.element.is("textarea")?!0:this.element.is("input")?!1:this.element.prop("isContentEditable")},_initSource:function(){var c,p,v=this;n.isArray(this.options.source)?(c=this.options.source,this.source=function(g,M){M(n.ui.autocomplete.filter(c,g.term))}):typeof this.options.source=="string"?(p=this.options.source,this.source=function(g,M){v.xhr&&v.xhr.abort(),v.xhr=n.ajax({url:p,data:g,dataType:"json",success:function(y){M(y)},error:function(){M([])}})}):this.source=this.options.source},_searchTimeout:function(c){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,c))},this.options.delay)},search:function(c,p){if(c=c!=null?c:this._value(),this.term=this._value(),c.length<this.options.minLength)return this.close(p);if(this._trigger("search",p)!==!1)return this._search(c)},_search:function(c){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:c},this._response())},_response:function(){var c=this,p=++A;return function(v){p===A&&c.__response(v),c.pending--,c.pending||c.element.removeClass("ui-autocomplete-loading")}},__response:function(c){c&&(c=this._normalize(c)),this._trigger("response",null,{content:c}),!this.options.disabled&&c&&c.length&&!this.cancelSearch?(this._suggest(c),this._trigger("open")):this._close()},close:function(c){this.cancelSearch=!0,this._close(c)},_close:function(c){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",c))},_change:function(c){this.previous!==this._value()&&this._trigger("change",c,{item:this.selectedItem})},_normalize:function(c){return c.length&&c[0].label&&c[0].value?c:n.map(c,function(p){return typeof p=="string"?{label:p,value:p}:n.extend({label:p.label||p.value,value:p.value||p.label},p)})},_suggest:function(c){var p=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(p,c),this.menu.refresh(),p.show(),this._resizeMenu(),p.position(n.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var c=this.menu.element;c.outerWidth(Math.max(c.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(c,p){var v=this;n.each(p,function(g,M){v._renderItemData(c,M)})},_renderItemData:function(c,p){return this._renderItem(c,p).data("ui-autocomplete-item",p)},_renderItem:function(c,p){return n("<li>").append(n("<a>").text(p.label)).appendTo(c)},_move:function(c,p){if(!this.menu.element.is(":visible")){this.search(null,p);return}if(this.menu.isFirstItem()&&/^previous/.test(c)||this.menu.isLastItem()&&/^next/.test(c)){this._value(this.term),this.menu.blur();return}this.menu[c](p)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(c,p){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(c,p),p.preventDefault())}}),n.extend(n.ui.autocomplete,{escapeRegex:function(c){return c.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(c,p){var v=new RegExp(n.ui.autocomplete.escapeRegex(p),"i");return n.grep(c,function(g){return v.test(g.label||g.value||g)})}}),n.widget("ui.autocomplete",n.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(c){return c+(c>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(c){var p;this._superApply(arguments),!(this.options.disabled||this.cancelSearch)&&(c&&c.length?p=this.options.messages.results(c.length):p=this.options.messages.noResults,this.liveRegion.text(p))}})})(jQuery),(function(n,T){var A=!1;n.widget("ui.menu",{version:"1.9.2",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,n.proxy(function(c){this.options.disabled&&c.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(c){c.preventDefault()},"click .ui-state-disabled > a":function(c){c.preventDefault()},"click .ui-menu-item:has(a)":function(c){var p=n(c.target).closest(".ui-menu-item");!A&&p.not(".ui-state-disabled").length&&(A=!0,this.select(c),p.has(".ui-menu").length?this.expand(c):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&this.active.parents(".ui-menu").length===1&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(c){var p=n(c.currentTarget);p.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(c,p)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(c,p){var v=this.active||this.element.children(".ui-menu-item").eq(0);p||this.focus(c,v)},blur:function(c){this._delay(function(){n.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(c)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(c){n(c.target).closest(".ui-menu").length||this.collapseAll(c),A=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").andSelf().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var c=n(this);c.data("ui-menu-submenu-carat")&&c.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(c){function p(et){return et.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var v,g,M,y,E,F=!0;switch(c.keyCode){case n.ui.keyCode.PAGE_UP:this.previousPage(c);break;case n.ui.keyCode.PAGE_DOWN:this.nextPage(c);break;case n.ui.keyCode.HOME:this._move("first","first",c);break;case n.ui.keyCode.END:this._move("last","last",c);break;case n.ui.keyCode.UP:this.previous(c);break;case n.ui.keyCode.DOWN:this.next(c);break;case n.ui.keyCode.LEFT:this.collapse(c);break;case n.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(c);break;case n.ui.keyCode.ENTER:case n.ui.keyCode.SPACE:this._activate(c);break;case n.ui.keyCode.ESCAPE:this.collapse(c);break;default:F=!1,g=this.previousFilter||"",M=String.fromCharCode(c.keyCode),y=!1,clearTimeout(this.filterTimer),M===g?y=!0:M=g+M,E=new RegExp("^"+p(M),"i"),v=this.activeMenu.children(".ui-menu-item").filter(function(){return E.test(n(this).children("a").text())}),v=y&&v.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):v,v.length||(M=String.fromCharCode(c.keyCode),E=new RegExp("^"+p(M),"i"),v=this.activeMenu.children(".ui-menu-item").filter(function(){return E.test(n(this).children("a").text())})),v.length?(this.focus(c,v),v.length>1?(this.previousFilter=M,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}F&&c.preventDefault()},_activate:function(c){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(c):this.select(c))},refresh:function(){var c,p=this.options.icons.submenu,v=this.element.find(this.options.menus);v.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var g=n(this),M=g.prev("a"),y=n("<span>").addClass("ui-menu-icon ui-icon "+p).data("ui-menu-submenu-carat",!0);M.attr("aria-haspopup","true").prepend(y),g.attr("aria-labelledby",M.attr("id"))}),c=v.add(this.element),c.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),c.children(":not(.ui-menu-item)").each(function(){var g=n(this);/[^\-\s]/.test(g.text())||g.addClass("ui-widget-content ui-menu-divider")}),c.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!n.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},focus:function(c,p){var v,g;this.blur(c,c&&c.type==="focus"),this._scrollIntoView(p),this.active=p.first(),g=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",g.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),c&&c.type==="keydown"?this._close():this.timer=this._delay(function(){this._close()},this.delay),v=p.children(".ui-menu"),v.length&&/^mouse/.test(c.type)&&this._startOpening(v),this.activeMenu=p.parent(),this._trigger("focus",c,{item:p})},_scrollIntoView:function(c){var p,v,g,M,y,E;this._hasScroll()&&(p=parseFloat(n.css(this.activeMenu[0],"borderTopWidth"))||0,v=parseFloat(n.css(this.activeMenu[0],"paddingTop"))||0,g=c.offset().top-this.activeMenu.offset().top-p-v,M=this.activeMenu.scrollTop(),y=this.activeMenu.height(),E=c.height(),g<0?this.activeMenu.scrollTop(M+g):g+E>y&&this.activeMenu.scrollTop(M+g-y+E))},blur:function(c,p){p||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",c,{item:this.active}))},_startOpening:function(c){clearTimeout(this.timer),c.attr("aria-hidden")==="true"&&(this.timer=this._delay(function(){this._close(),this._open(c)},this.delay))},_open:function(c){var p=n.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(c.parents(".ui-menu")).hide().attr("aria-hidden","true"),c.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(p)},collapseAll:function(c,p){clearTimeout(this.timer),this.timer=this._delay(function(){var v=p?this.element:n(c&&c.target).closest(this.element.find(".ui-menu"));v.length||(v=this.element),this._close(v),this.blur(c),this.activeMenu=v},this.delay)},_close:function(c){c||(c=this.active?this.active.parent():this.element),c.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(c){var p=this.active&&this.active.parent().closest(".ui-menu-item",this.element);p&&p.length&&(this._close(),this.focus(c,p))},expand:function(c){var p=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();p&&p.length&&(this._open(p.parent()),this._delay(function(){this.focus(c,p)}))},next:function(c){this._move("next","first",c)},previous:function(c){this._move("prev","last",c)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(c,p,v){var g;this.active&&(c==="first"||c==="last"?g=this.active[c==="first"?"prevAll":"nextAll"](".ui-menu-item").eq(-1):g=this.active[c+"All"](".ui-menu-item").eq(0)),(!g||!g.length||!this.active)&&(g=this.activeMenu.children(".ui-menu-item")[p]()),this.focus(v,g)},nextPage:function(c){var p,v,g;if(!this.active){this.next(c);return}this.isLastItem()||(this._hasScroll()?(v=this.active.offset().top,g=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return p=n(this),p.offset().top-v-g<0}),this.focus(c,p)):this.focus(c,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]()))},previousPage:function(c){var p,v,g;if(!this.active){this.next(c);return}this.isFirstItem()||(this._hasScroll()?(v=this.active.offset().top,g=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return p=n(this),p.offset().top-v+g>0}),this.focus(c,p)):this.focus(c,this.activeMenu.children(".ui-menu-item").first()))},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(c){this.active=this.active||n(c.target).closest(".ui-menu-item");var p={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(c,!0),this._trigger("select",c,p)}})})(jQuery),(function(n,T){var A=5;n.widget("ui.slider",n.ui.mouse,{version:"1.9.2",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var c,p,v=this.options,g=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),M="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",y=[];for(this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"+(v.disabled?" ui-slider-disabled ui-disabled":"")),this.range=n([]),v.range&&(v.range===!0&&(v.values||(v.values=[this._valueMin(),this._valueMin()]),v.values.length&&v.values.length!==2&&(v.values=[v.values[0],v.values[0]])),this.range=n("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+(v.range==="min"||v.range==="max"?" ui-slider-range-"+v.range:""))),p=v.values&&v.values.length||1,c=g.length;c<p;c++)y.push(M);this.handles=g.add(n(y.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click(function(E){E.preventDefault()}).mouseenter(function(){v.disabled||n(this).addClass("ui-state-hover")}).mouseleave(function(){n(this).removeClass("ui-state-hover")}).focus(function(){v.disabled?n(this).blur():(n(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),n(this).addClass("ui-state-focus"))}).blur(function(){n(this).removeClass("ui-state-focus")}),this.handles.each(function(E){n(this).data("ui-slider-handle-index",E)}),this._on(this.handles,{keydown:function(E){var F,et,H,at,z=n(E.target).data("ui-slider-handle-index");switch(E.keyCode){case n.ui.keyCode.HOME:case n.ui.keyCode.END:case n.ui.keyCode.PAGE_UP:case n.ui.keyCode.PAGE_DOWN:case n.ui.keyCode.UP:case n.ui.keyCode.RIGHT:case n.ui.keyCode.DOWN:case n.ui.keyCode.LEFT:if(E.preventDefault(),!this._keySliding&&(this._keySliding=!0,n(E.target).addClass("ui-state-active"),F=this._start(E,z),F===!1))return}switch(at=this.options.step,this.options.values&&this.options.values.length?et=H=this.values(z):et=H=this.value(),E.keyCode){case n.ui.keyCode.HOME:H=this._valueMin();break;case n.ui.keyCode.END:H=this._valueMax();break;case n.ui.keyCode.PAGE_UP:H=this._trimAlignValue(et+(this._valueMax()-this._valueMin())/A);break;case n.ui.keyCode.PAGE_DOWN:H=this._trimAlignValue(et-(this._valueMax()-this._valueMin())/A);break;case n.ui.keyCode.UP:case n.ui.keyCode.RIGHT:if(et===this._valueMax())return;H=this._trimAlignValue(et+at);break;case n.ui.keyCode.DOWN:case n.ui.keyCode.LEFT:if(et===this._valueMin())return;H=this._trimAlignValue(et-at)}this._slide(E,z,H)},keyup:function(E){var F=n(E.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(E,F),this._change(E,F),n(E.target).removeClass("ui-state-active"))}}),this._refreshValue(),this._animateOff=!1},_destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(c){var p,v,g,M,y,E,F,et,H=this,at=this.options;return at.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),p={x:c.pageX,y:c.pageY},v=this._normValueFromMouse(p),g=this._valueMax()-this._valueMin()+1,this.handles.each(function(z){var S=Math.abs(v-H.values(z));g>S&&(g=S,M=n(this),y=z)}),at.range===!0&&this.values(1)===at.min&&(y+=1,M=n(this.handles[y])),E=this._start(c,y),E===!1?!1:(this._mouseSliding=!0,this._handleIndex=y,M.addClass("ui-state-active").focus(),F=M.offset(),et=!n(c.target).parents().andSelf().is(".ui-slider-handle"),this._clickOffset=et?{left:0,top:0}:{left:c.pageX-F.left-M.width()/2,top:c.pageY-F.top-M.height()/2-(parseInt(M.css("borderTopWidth"),10)||0)-(parseInt(M.css("borderBottomWidth"),10)||0)+(parseInt(M.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(c,y,v),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(c){var p={x:c.pageX,y:c.pageY},v=this._normValueFromMouse(p);return this._slide(c,this._handleIndex,v),!1},_mouseStop:function(c){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(c,this._handleIndex),this._change(c,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(c){var p,v,g,M,y;return this.orientation==="horizontal"?(p=this.elementSize.width,v=c.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(p=this.elementSize.height,v=c.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),g=v/p,g>1&&(g=1),g<0&&(g=0),this.orientation==="vertical"&&(g=1-g),M=this._valueMax()-this._valueMin(),y=this._valueMin()+g*M,this._trimAlignValue(y)},_start:function(c,p){var v={handle:this.handles[p],value:this.value()};return this.options.values&&this.options.values.length&&(v.value=this.values(p),v.values=this.values()),this._trigger("start",c,v)},_slide:function(c,p,v){var g,M,y;this.options.values&&this.options.values.length?(g=this.values(p?0:1),this.options.values.length===2&&this.options.range===!0&&(p===0&&v>g||p===1&&v<g)&&(v=g),v!==this.values(p)&&(M=this.values(),M[p]=v,y=this._trigger("slide",c,{handle:this.handles[p],value:v,values:M}),g=this.values(p?0:1),y!==!1&&this.values(p,v,!0))):v!==this.value()&&(y=this._trigger("slide",c,{handle:this.handles[p],value:v}),y!==!1&&this.value(v))},_stop:function(c,p){var v={handle:this.handles[p],value:this.value()};this.options.values&&this.options.values.length&&(v.value=this.values(p),v.values=this.values()),this._trigger("stop",c,v)},_change:function(c,p){if(!this._keySliding&&!this._mouseSliding){var v={handle:this.handles[p],value:this.value()};this.options.values&&this.options.values.length&&(v.value=this.values(p),v.values=this.values()),this._trigger("change",c,v)}},value:function(c){if(arguments.length){this.options.value=this._trimAlignValue(c),this._refreshValue(),this._change(null,0);return}return this._value()},values:function(c,p){var v,g,M;if(arguments.length>1){this.options.values[c]=this._trimAlignValue(p),this._refreshValue(),this._change(null,c);return}if(!arguments.length)return this._values();if(!n.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(c):this.value();for(v=this.options.values,g=arguments[0],M=0;M<v.length;M+=1)v[M]=this._trimAlignValue(g[M]),this._change(null,M);this._refreshValue()},_setOption:function(c,p){var v,g=0;switch(n.isArray(this.options.values)&&(g=this.options.values.length),n.Widget.prototype._setOption.apply(this,arguments),c){case"disabled":p?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.prop("disabled",!0),this.element.addClass("ui-disabled")):(this.handles.prop("disabled",!1),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),v=0;v<g;v+=1)this._change(null,v);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1}},_value:function(){var c=this.options.value;return c=this._trimAlignValue(c),c},_values:function(c){var p,v,g;if(arguments.length)return p=this.options.values[c],p=this._trimAlignValue(p),p;for(v=this.options.values.slice(),g=0;g<v.length;g+=1)v[g]=this._trimAlignValue(v[g]);return v},_trimAlignValue:function(c){if(c<=this._valueMin())return this._valueMin();if(c>=this._valueMax())return this._valueMax();var p=this.options.step>0?this.options.step:1,v=(c-this._valueMin())%p,g=c-v;return Math.abs(v)*2>=p&&(g+=v>0?p:-p),parseFloat(g.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var c,p,v,g,M,y=this.options.range,E=this.options,F=this,et=this._animateOff?!1:E.animate,H={};this.options.values&&this.options.values.length?this.handles.each(function(at){p=(F.values(at)-F._valueMin())/(F._valueMax()-F._valueMin())*100,H[F.orientation==="horizontal"?"left":"bottom"]=p+"%",n(this).stop(1,1)[et?"animate":"css"](H,E.animate),F.options.range===!0&&(F.orientation==="horizontal"?(at===0&&F.range.stop(1,1)[et?"animate":"css"]({left:p+"%"},E.animate),at===1&&F.range[et?"animate":"css"]({width:p-c+"%"},{queue:!1,duration:E.animate})):(at===0&&F.range.stop(1,1)[et?"animate":"css"]({bottom:p+"%"},E.animate),at===1&&F.range[et?"animate":"css"]({height:p-c+"%"},{queue:!1,duration:E.animate}))),c=p}):(v=this.value(),g=this._valueMin(),M=this._valueMax(),p=M!==g?(v-g)/(M-g)*100:0,H[this.orientation==="horizontal"?"left":"bottom"]=p+"%",this.handle.stop(1,1)[et?"animate":"css"](H,E.animate),y==="min"&&this.orientation==="horizontal"&&this.range.stop(1,1)[et?"animate":"css"]({width:p+"%"},E.animate),y==="max"&&this.orientation==="horizontal"&&this.range[et?"animate":"css"]({width:100-p+"%"},{queue:!1,duration:E.animate}),y==="min"&&this.orientation==="vertical"&&this.range.stop(1,1)[et?"animate":"css"]({height:p+"%"},E.animate),y==="max"&&this.orientation==="vertical"&&this.range[et?"animate":"css"]({height:100-p+"%"},{queue:!1,duration:E.animate}))}})})(jQuery),(function(n){var T,A,c,p,v,g,M,y,E,F,et=0,H={},at=[],z=0,S={},q=[],V=null,tt=new Image,rt=/\.(jpg|gif|png|bmp|jpeg)(.*)?$/i,At=/[^\.]\.(swf)\s*$/i,ut,ft=1,G=0,Ct="",St,te,m=!1,kt=n.extend(n("<div/>")[0],{prop:0}),zt=n.browser.msie&&n.browser.version<7&&!window.XMLHttpRequest,R=function(){A.hide(),tt.onerror=tt.onload=null,V&&V.abort(),T.empty()},xn=function(){if(H.onError(at,et,H)===!1){A.hide(),m=!1;return}H.titleShow=!1,H.width="auto",H.height="auto",T.html('<p id="fancybox-error">The requested content cannot be loaded.<br />Please try again later.</p>'),Q()},Gt=function(){var Bt=at[et],be,on,Bn,Si,Li,It;if(R(),H=n.extend({},n.fn.fancybox.defaults,typeof n(Bt).data("fancybox")=="undefined"?H:n(Bt).data("fancybox")),It=H.onStart(at,et,H),It===!1){m=!1;return}else typeof It=="object"&&(H=n.extend(H,It));if(Bn=H.title||(Bt.nodeName?n(Bt).attr("title"):Bt.title)||"",Bt.nodeName&&!H.orig&&(H.orig=n(Bt).children("img:first").length?n(Bt).children("img:first"):n(Bt)),Bn===""&&H.orig&&H.titleFromAlt&&(Bn=H.orig.attr("alt")),be=H.href||(Bt.nodeName?n(Bt).attr("href"):Bt.href)||null,(/^(?:javascript)/i.test(be)||be=="#")&&(be=null),H.type?(on=H.type,be||(be=H.content)):H.content?on="html":be&&(be.match(rt)?on="image":be.match(At)?on="swf":n(Bt).hasClass("iframe")?on="iframe":be.indexOf("#")===0?on="inline":on="ajax"),!on){xn();return}switch(on=="inline"&&(Bt=be.substr(be.indexOf("#")),on=n(Bt).length>0?"inline":"ajax"),H.type=on,H.href=be,H.title=Bn,H.autoDimensions&&(H.type=="html"||H.type=="inline"||H.type=="ajax"?(H.width="auto",H.height="auto"):H.autoDimensions=!1),H.modal&&(H.overlayShow=!0,H.hideOnOverlayClick=!1,H.hideOnContentClick=!1,H.enableEscapeButton=!1,H.showCloseButton=!1),H.padding=parseInt(H.padding,10),H.margin=parseInt(H.margin,10),T.css("padding",H.padding+H.margin),n(".fancybox-inline-tmp").unbind("fancybox-cancel").bind("fancybox-change",function(){n(this).replaceWith(g.children())}),on){case"html":T.html(H.content),Q();break;case"inline":if(n(Bt).parent().is("#fancybox-content")===!0){m=!1;return}n('<div class="fancybox-inline-tmp" />').hide().insertBefore(n(Bt)).bind("fancybox-cleanup",function(){n(this).replaceWith(g.children())}).bind("fancybox-cancel",function(){n(this).replaceWith(T.children())}),n(Bt).appendTo(T),Q();break;case"image":m=!1,n.fancybox.showActivity(),tt=new Image,tt.onerror=function(){xn()},tt.onload=function(){m=!0,tt.onerror=tt.onload=null,wt()},tt.src=be;break;case"swf":H.scrolling="no",Si='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+H.width+'" height="'+H.height+'"><param name="movie" value="'+be+'"></param>',Li="",n.each(H.swf,function(Zt,he){Si+='<param name="'+Zt+'" value="'+he+'"></param>',Li+=" "+Zt+'="'+he+'"'}),Si+='<embed src="'+be+'" type="application/x-shockwave-flash" width="'+H.width+'" height="'+H.height+'"'+Li+"></embed></object>",T.html(Si),Q();break;case"ajax":m=!1,n.fancybox.showActivity(),H.ajax.win=H.ajax.success,V=n.ajax(n.extend({},H.ajax,{url:be,data:H.ajax.data||{},error:function(Zt,he,Ee){Zt.status>0&&xn()},success:function(Zt,he,Ee){var je=typeof Ee=="object"?Ee:V;if(je.status==200){if(typeof H.ajax.win=="function")if(It=H.ajax.win(be,Zt,he,Ee),It===!1){A.hide();return}else(typeof It=="string"||typeof It=="object")&&(Zt=It);T.html(Zt),Q()}}}));break;case"iframe":d();break}},Q=function(){var Bt=H.width,be=H.height;Bt.toString().indexOf("%")>-1?Bt=parseInt((n(window).width()-H.margin*2)*parseFloat(Bt)/100,10)+"px":Bt=Bt=="auto"?"auto":Bt+"px",be.toString().indexOf("%")>-1?be=parseInt((n(window).height()-H.margin*2)*parseFloat(be)/100,10)+"px":be=be=="auto"?"auto":be+"px",T.wrapInner('<div style="width:'+Bt+";height:"+be+";overflow: "+(H.scrolling=="auto"?"auto":H.scrolling=="yes"?"scroll":"hidden")+';position:relative;"></div>'),H.width=T.width(),H.height=T.height(),d()},wt=function(){H.width=tt.width,H.height=tt.height,n("<img />").attr({id:"fancybox-img",src:tt.src,alt:H.title}).appendTo(T),d()},d=function(){n("#fancybox-outer").css("background","white");var Bt,be;if(A.hide(),p.is(":visible")&&S.onCleanup(q,z,S)===!1){n.event.trigger("fancybox-cancel"),m=!1;return}if(m=!0,n(g.add(c)).unbind(),n(window).unbind("resize.fb scroll.fb"),n(document).unbind("keydown.fb"),p.is(":visible")&&S.titlePosition!=="outside"&&p.css("height",p.height()),q=at,z=et,S=H,S.overlayShow?(c.css({"background-color":S.overlayColor,opacity:S.overlayOpacity,cursor:S.hideOnOverlayClick?"pointer":"auto",height:n(document).height()}),c.is(":visible")||(zt&&n("select:not(#fancybox-tmp select)").filter(function(){return this.style.visibility!=="hidden"}).css({visibility:"hidden"}).one("fancybox-cleanup",function(){this.style.visibility="inherit"}),c.show())):c.hide(),te=si(),ve(),p.is(":visible")){n(M.add(E).add(F)).hide(),Bt=p.position(),St={top:Bt.top,left:Bt.left,width:p.width(),height:p.height()},be=St.width==te.width&&St.height==te.height,g.fadeTo(S.changeFade,.3,function(){var on=function(){g.html(T.contents()).fadeTo(S.changeFade,1,Ie)};n.event.trigger("fancybox-change"),g.empty().removeAttr("filter").css({"border-width":S.padding,width:te.width-S.padding*2,height:H.autoDimensions?"auto":te.height-G-S.padding*2}),be?on():(kt.prop=0,n(kt).animate({prop:1},{duration:S.changeSpeed,easing:S.easingChange,step:Cn,complete:on}))});return}if(p.removeAttr("style"),g.css("border-width",S.padding),S.transitionIn=="elastic"){St=Ii(),g.html(T.contents()),p.show(),S.opacity&&(te.opacity=0),kt.prop=0,n(kt).animate({prop:1},{duration:S.speedIn,easing:S.easingIn,step:Cn,complete:Ie});return}S.titlePosition=="inside"&&G>0&&y.show(),g.css({width:te.width-S.padding*2,height:H.autoDimensions?"auto":te.height-G-S.padding*2}).html(T.contents()),p.css(te).fadeIn(S.transitionIn=="none"?0:S.speedIn,Ie)},pe=function(Bt){return Bt&&Bt.length?S.titlePosition=="float"?'<table id="fancybox-title-float-wrap" cellpadding="0" cellspacing="0"><tr><td id="fancybox-title-float-left"></td><td id="fancybox-title-float-main">'+Bt+'</td><td id="fancybox-title-float-right"></td></tr></table>':'<div id="fancybox-title-'+S.titlePosition+'">'+Bt+"</div>":!1},ve=function(){if(Ct=S.title||"",G=0,y.empty().removeAttr("style").removeClass(),S.titleShow===!1){y.hide();return}if(Ct=n.isFunction(S.titleFormat)?S.titleFormat(Ct,q,z,S):pe(Ct),!Ct||Ct===""){y.hide();return}switch(y.addClass("fancybox-title-"+S.titlePosition).html(Ct).appendTo("body").show(),S.titlePosition){case"inside":y.css({width:te.width-S.padding*2,marginLeft:S.padding,marginRight:S.padding}),G=y.outerHeight(!0),y.appendTo(v),te.height+=G;break;case"over":y.css({marginLeft:S.padding,width:te.width-S.padding*2,bottom:S.padding}).appendTo(v);break;case"float":y.css("left",parseInt((y.width()-te.width-40)/2,10)*-1).appendTo(p);break;default:y.css({width:te.width-S.padding*2,paddingLeft:S.padding,paddingRight:S.padding}).appendTo(p);break}y.hide()},Le=function(){if((S.enableEscapeButton||S.enableKeyboardNav)&&n(document).bind("keydown.fb",function(Bt){Bt.keyCode==27&&S.enableEscapeButton?(Bt.preventDefault(),n.fancybox.close()):(Bt.keyCode==37||Bt.keyCode==39)&&S.enableKeyboardNav&&Bt.target.tagName!=="INPUT"&&Bt.target.tagName!=="TEXTAREA"&&Bt.target.tagName!=="SELECT"&&(Bt.preventDefault(),n.fancybox[Bt.keyCode==37?"prev":"next"]())}),!S.showNavArrows){E.hide(),F.hide();return}(S.cyclic&&q.length>1||z!==0)&&E.show(),(S.cyclic&&q.length>1||z!=q.length-1)&&F.show()},Ie=function(){n.support.opacity||(g.get(0).style.removeAttribute("filter"),p.get(0).style.removeAttribute("filter")),H.autoDimensions&&g.css("height","auto"),p.css("height","auto"),Ct&&Ct.length&&y.show(),S.showCloseButton&&M.show(),Le(),S.hideOnContentClick&&g.bind("click",n.fancybox.close),S.hideOnOverlayClick&&c.bind("click",n.fancybox.close),n(window).bind("resize.fb",n.fancybox.resize),S.centerOnScroll&&n(window).bind("scroll.fb",n.fancybox.center),S.type=="iframe"&&n('<iframe id="fancybox-frame" name="fancybox-frame'+new Date().getTime()+'" frameborder="0" hspace="0" '+(n.browser.msie?'allowtransparency="true""':"")+' scrolling="'+H.scrolling+'" src="'+S.href+'"></iframe>').appendTo(g),p.show(),m=!1,n.fancybox.center(),S.onComplete(q,z,S),vn()},vn=function(){var Bt,be;q.length-1>z&&(Bt=q[z+1].href,typeof Bt!="undefined"&&Bt.match(rt)&&(be=new Image,be.src=Bt)),z>0&&(Bt=q[z-1].href,typeof Bt!="undefined"&&Bt.match(rt)&&(be=new Image,be.src=Bt))},Cn=function(Bt){var be={width:parseInt(St.width+(te.width-St.width)*Bt,10),height:parseInt(St.height+(te.height-St.height)*Bt,10),top:parseInt(St.top+(te.top-St.top)*Bt,10),left:parseInt(St.left+(te.left-St.left)*Bt,10)};typeof te.opacity!="undefined"&&(be.opacity=Bt<.5?.5:Bt),p.css(be),g.css({width:be.width-S.padding*2,height:be.height-G*Bt-S.padding*2})},an=function(){return[n(window).width()-S.margin*2,n(window).height()-S.margin*2,n(document).scrollLeft()+S.margin,n(document).scrollTop()+S.margin]},si=function(){var Bt=an(),be={},on=S.autoScale,Bn=S.padding*2,Si;return S.width.toString().indexOf("%")>-1?be.width=parseInt(Bt[0]*parseFloat(S.width)/100,10):be.width=S.width+Bn,S.height.toString().indexOf("%")>-1?be.height=parseInt(Bt[1]*parseFloat(S.height)/100,10):be.height=S.height+Bn,on&&(be.width>Bt[0]||be.height>Bt[1])&&(H.type=="image"||H.type=="swf"?(Si=S.width/S.height,be.width>Bt[0]&&(be.width=Bt[0],be.height=parseInt((be.width-Bn)/Si+Bn,10)),be.height>Bt[1]&&(be.height=Bt[1],be.width=parseInt((be.height-Bn)*Si+Bn,10))):(be.width=Math.min(be.width,Bt[0]),be.height=Math.min(be.height,Bt[1]))),be.top=parseInt(Math.max(Bt[3]-20,Bt[3]+(Bt[1]-be.height-40)*.5),10),be.left=parseInt(Math.max(Bt[2]-20,Bt[2]+(Bt[0]-be.width-40)*.5),10),be},$n=function(Bt){var be=Bt.offset();return be.top+=parseInt(Bt.css("paddingTop"),10)||0,be.left+=parseInt(Bt.css("paddingLeft"),10)||0,be.top+=parseInt(Bt.css("border-top-width"),10)||0,be.left+=parseInt(Bt.css("border-left-width"),10)||0,be.width=Bt.width(),be.height=Bt.height(),be},Ii=function(){var Bt=H.orig?n(H.orig):!1,be={},on,Bn;return Bt&&Bt.length?(on=$n(Bt),be={width:on.width+S.padding*2,height:on.height+S.padding*2,top:on.top-S.padding-20,left:on.left-S.padding-20}):(Bn=an(),be={width:S.padding*2,height:S.padding*2,top:parseInt(Bn[3]+Bn[1]*.5,10),left:parseInt(Bn[2]+Bn[0]*.5,10)}),be},qi=function(){if(!A.is(":visible")){clearInterval(ut);return}n("div",A).css("top",ft*-40+"px"),ft=(ft+1)%12};n.fn.fancybox=function(Bt){return n(this).length?(n(this).data("fancybox",n.extend({},Bt,n.metadata?n(this).metadata():{})).unbind("click.fb").bind("click.fb",function(be){if(be.preventDefault(),!m){m=!0,n(this).blur(),at=[],et=0;var on=n(this).attr("rel")||"";!on||on==""||on==="nofollow"?at.push(this):(at=n("a[rel="+on+"], area[rel="+on+"]"),et=at.index(this)),Gt()}}),this):this},n.fancybox=function(Bt){var be;if(!m){if(m=!0,be=typeof arguments[1]!="undefined"?arguments[1]:{},at=[],et=parseInt(be.index,10)||0,n.isArray(Bt)){for(var on=0,Bn=Bt.length;on<Bn;on++)typeof Bt[on]=="object"?n(Bt[on]).data("fancybox",n.extend({},be,Bt[on])):Bt[on]=n({}).data("fancybox",n.extend({content:Bt[on]},be));at=jQuery.merge(at,Bt)}else typeof Bt=="object"?n(Bt).data("fancybox",n.extend({},be,Bt)):Bt=n({}).data("fancybox",n.extend({content:Bt},be)),at.push(Bt);(et>at.length||et<0)&&(et=0),Gt()}},n.fancybox.showActivity=function(){clearInterval(ut),A.show(),ut=setInterval(qi,66)},n.fancybox.hideActivity=function(){A.hide()},n.fancybox.next=function(){return n.fancybox.pos(z+1)},n.fancybox.prev=function(){return n.fancybox.pos(z-1)},n.fancybox.pos=function(Bt){m||(Bt=parseInt(Bt),at=q,Bt>-1&&Bt<q.length?(et=Bt,Gt()):S.cyclic&&q.length>1&&(et=Bt>=q.length?0:q.length-1,Gt()))},n.fancybox.cancel=function(){m||(m=!0,n.event.trigger("fancybox-cancel"),R(),H.onCancel(at,et,H),m=!1)},n.fancybox.close=function(){if(m||p.is(":hidden"))return;if(m=!0,S&&(typeof S.onCleanup!="function"||S.onCleanup(q,z,S)===!1)){m=!1;return}R(),n(M.add(E).add(F)).hide(),n(g.add(c)).unbind(),n(window).unbind("resize.fb scroll.fb"),n(document).unbind("keydown.fb"),g.find("iframe").attr("src",zt&&/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank"),S.titlePosition!=="inside"&&y.empty(),p.stop();function Bt(){c.fadeOut("fast"),y.empty().hide(),p.hide(),n.event.trigger("fancybox-cleanup"),g.empty(),S.onClosed(q,z,S),q=H=[],z=et=0,S=H={},m=!1}if(S.transitionOut=="elastic"){St=Ii();var be=p.position();te={top:be.top,left:be.left,width:p.width(),height:p.height()},S.opacity&&(te.opacity=1),y.empty().hide(),kt.prop=1,n(kt).animate({prop:0},{duration:S.speedOut,easing:S.easingOut,step:Cn,complete:Bt})}else p.fadeOut(S.transitionOut=="none"?0:S.speedOut,Bt)},n.fancybox.resize=function(){c.is(":visible")&&c.css("height",n(document).height()),n.fancybox.center(!0)},n.fancybox.center=function(){if(!(S&&S.center===!1)){var Bt,be;m||(be=arguments[0]===!0?1:0,Bt=an(),!(!be&&(p.width()>Bt[0]||p.height()>Bt[1]))&&p.stop().animate({top:parseInt(Math.max(Bt[3]-20,Bt[3]+(Bt[1]-g.height()-40)*.5-S.padding)),left:parseInt(Math.max(Bt[2]-20,Bt[2]+(Bt[0]-g.width()-40)*.5-S.padding))},typeof arguments[0]=="number"?arguments[0]:200))}},n.fancybox.init=function(){n("#fancybox-wrap").length||(n("body").append(T=n('<div id="fancybox-tmp"></div>'),A=n('<div id="fancybox-loading"><div></div></div>'),c=n('<div id="fancybox-overlay"></div>'),p=n('<div id="fancybox-wrap"></div>')),v=n('<div id="fancybox-outer"></div>').append('<div class="fancybox-bg" id="fancybox-bg-n"></div><div class="fancybox-bg" id="fancybox-bg-ne"></div><div class="fancybox-bg" id="fancybox-bg-e"></div><div class="fancybox-bg" id="fancybox-bg-se"></div><div class="fancybox-bg" id="fancybox-bg-s"></div><div class="fancybox-bg" id="fancybox-bg-sw"></div><div class="fancybox-bg" id="fancybox-bg-w"></div><div class="fancybox-bg" id="fancybox-bg-nw"></div>').appendTo(p),v.append(g=n('<div id="fancybox-content"></div>'),M=n('<a id="fancybox-close"></a>'),y=n('<div id="fancybox-title"></div>'),E=n('<a href="javascript:;" id="fancybox-left"><span class="fancy-ico" id="fancybox-left-ico"></span></a>'),F=n('<a href="javascript:;" id="fancybox-right"><span class="fancy-ico" id="fancybox-right-ico"></span></a>')),M.click(n.fancybox.close),A.click(n.fancybox.cancel),E.click(function(Bt){Bt.preventDefault(),n.fancybox.prev()}),F.click(function(Bt){Bt.preventDefault(),n.fancybox.next()}),n.fn.mousewheel&&p.bind("mousewheel.fb",function(Bt,be){m?Bt.preventDefault():(n(Bt.target).get(0).clientHeight==0||n(Bt.target).get(0).scrollHeight===n(Bt.target).get(0).clientHeight)&&(Bt.preventDefault(),n.fancybox[be>0?"prev":"next"]())}),n.support.opacity||p.addClass("fancybox-ie"),zt&&(A.addClass("fancybox-ie6"),p.addClass("fancybox-ie6"),n('<iframe id="fancybox-hide-sel-frame" src="'+(/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank")+'" scrolling="no" border="0" frameborder="0" tabindex="-1"></iframe>').prependTo(v)))},n.fn.fancybox.defaults={padding:10,margin:40,opacity:!1,modal:!1,cyclic:!1,scrolling:"auto",width:560,height:340,autoScale:!0,autoDimensions:!0,centerOnScroll:!1,ajax:{},swf:{wmode:"transparent"},hideOnOverlayClick:!0,hideOnContentClick:!1,overlayShow:!0,overlayOpacity:.7,overlayColor:"#777",titleShow:!0,titlePosition:"float",titleFormat:null,titleFromAlt:!1,transitionIn:"fade",transitionOut:"fade",speedIn:300,speedOut:300,changeSpeed:300,changeFade:"fast",easingIn:"swing",easingOut:"swing",showCloseButton:!0,showNavArrows:!0,enableEscapeButton:!0,enableKeyboardNav:!0,center:!0,onStart:function(){},onCancel:function(){},onComplete:function(){},onCleanup:function(){},onClosed:function(){},onError:function(){}},n(document).ready(function(){n.fancybox.init()})})(jQuery);/*!
 * jQuery UI Touch Punch 0.2.3
 *
 * Copyright 20112014, Dave Furfero
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Depends:
 *  jquery.ui.widget.js
 *  jquery.ui.mouse.js
 */(function(n){if(n.support.touch="ontouchend"in document,!n.support.touch)return;var T=n.ui.mouse.prototype,A=T._mouseInit,c=T._mouseDestroy,p;function v(g,M){if(!(g.originalEvent.touches.length>1)){g.preventDefault();var y=g.originalEvent.changedTouches[0],E=document.createEvent("MouseEvents");E.initMouseEvent(M,!0,!0,window,1,y.screenX,y.screenY,y.clientX,y.clientY,!1,!1,!1,!1,0,null),console.log("dispatch simulated event: "+M),g.target.dispatchEvent(E)}}T._touchStart=function(g){console.log("mouseProto._touchStart");var M=this;p||!M._mouseCapture(g.originalEvent.changedTouches[0])||(p=!0,M._touchMoved=!1,v(g,"mouseover"),v(g,"mousemove"),v(g,"mousedown"))},T._touchMove=function(g){console.log("mouseProto._touchMove"),p&&(this._touchMoved=!0,v(g,"mousemove"))},T._touchEnd=function(g){p&&(v(g,"mouseup"),v(g,"mouseout"),this._touchMoved||v(g,"click"),p=!1)},T._mouseInit=function(){var g=this;g.element.bind({touchstart:n.proxy(g,"_touchStart"),touchmove:n.proxy(g,"_touchMove"),touchend:n.proxy(g,"_touchEnd")}),A.call(g)},T._mouseDestroy=function(){var g=this;g.element.unbind({touchstart:n.proxy(g,"_touchStart"),touchmove:n.proxy(g,"_touchMove"),touchend:n.proxy(g,"_touchEnd")}),c.call(g)}})(jQuery),(function(n,T){typeof exports=="object"&&typeof module<"u"?T(exports):typeof define=="function"&&define.amd?define(["exports"],T):(n=typeof globalThis<"u"?globalThis:n||self,T(n.Annotorious={}))})(void 0,function(n){"use strict";var T=Object.defineProperty,A=(t,e,o)=>e in t?T(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,c=(t,e,o)=>A(t,typeof e!="symbol"?e+"":e,o);function p(){}function v(t,e){for(const o in e)t[o]=e[o];return t}function g(t){return t()}function M(){return Object.create(null)}function y(t){t.forEach(g)}function E(t){return typeof t=="function"}function F(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function et(t){return Object.keys(t).length===0}function H(t,...e){if(t==null){for(const l of e)l(void 0);return p}const o=t.subscribe(...e);return o.unsubscribe?()=>o.unsubscribe():o}function at(t,e,o){t.$$.on_destroy.push(H(e,o))}function z(t,e,o,l){if(t){const h=S(t,e,o,l);return t[0](h)}}function S(t,e,o,l){return t[1]&&l?v(o.ctx.slice(),t[1](l(e))):o.ctx}function q(t,e,o,l){if(t[2]&&l){const h=t[2](l(o));if(e.dirty===void 0)return h;if(typeof h=="object"){const w=[],O=Math.max(e.dirty.length,h.length);for(let I=0;I<O;I+=1)w[I]=e.dirty[I]|h[I];return w}return e.dirty|h}return e.dirty}function V(t,e,o,l,h,w){if(h){const O=S(e,o,l,w);t.p(O,h)}}function tt(t){if(t.ctx.length>32){const e=[],o=t.ctx.length/32;for(let l=0;l<o;l++)e[l]=-1;return e}return-1}function rt(t){const e={};for(const o in t)o[0]!=="$"&&(e[o]=t[o]);return e}function At(t){return t!=null?t:""}function ut(t,e){t.appendChild(e)}function ft(t,e,o){t.insertBefore(e,o||null)}function G(t){t.parentNode&&t.parentNode.removeChild(t)}function Ct(t,e){for(let o=0;o<t.length;o+=1)t[o]&&t[o].d(e)}function St(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function te(t){return document.createTextNode(t)}function m(){return te(" ")}function kt(){return te("")}function zt(t,e,o,l){return t.addEventListener(e,o,l),()=>t.removeEventListener(e,o,l)}function R(t,e,o){o==null?t.removeAttribute(e):t.getAttribute(e)!==o&&t.setAttribute(e,o)}function xn(t){return Array.from(t.childNodes)}function Gt(t,e,o){t.classList.toggle(e,!!o)}function Q(t,e,{bubbles:o=!1,cancelable:l=!1}={}){return new CustomEvent(t,{detail:e,bubbles:o,cancelable:l})}let wt;function d(t){wt=t}function pe(){if(!wt)throw new Error("Function called outside component initialization");return wt}function ve(t){pe().$$.on_mount.push(t)}function Le(){const t=pe();return(e,o,{cancelable:l=!1}={})=>{const h=t.$$.callbacks[e];if(h){const w=Q(e,o,{cancelable:l});return h.slice().forEach(O=>{O.call(t,w)}),!w.defaultPrevented}return!0}}function Ie(t,e){const o=t.$$.callbacks[e.type];o&&o.slice().forEach(l=>l.call(this,e))}const vn=[],Cn=[];let an=[];const si=[],$n=Promise.resolve();let Ii=!1;function qi(){Ii||(Ii=!0,$n.then(Si))}function Bt(){return qi(),$n}function be(t){an.push(t)}const on=new Set;let Bn=0;function Si(){if(Bn!==0)return;const t=wt;do{try{for(;Bn<vn.length;){const e=vn[Bn];Bn++,d(e),Li(e.$$)}}catch(e){throw vn.length=0,Bn=0,e}for(d(null),vn.length=0,Bn=0;Cn.length;)Cn.pop()();for(let e=0;e<an.length;e+=1){const o=an[e];on.has(o)||(on.add(o),o())}an.length=0}while(vn.length);for(;si.length;)si.pop()();Ii=!1,on.clear(),d(t)}function Li(t){if(t.fragment!==null){t.update(),y(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(be)}}function It(t){const e=[],o=[];an.forEach(l=>t.indexOf(l)===-1?e.push(l):o.push(l)),o.forEach(l=>l()),an=e}const Zt=new Set;let he;function Ee(){he={r:0,c:[],p:he}}function je(){he.r||y(he.c),he=he.p}function se(t,e){t&&t.i&&(Zt.delete(t),t.i(e))}function mt(t,e,o,l){if(t&&t.o){if(Zt.has(t))return;Zt.add(t),he.c.push(()=>{Zt.delete(t),l&&(o&&t.d(1),l())}),t.o(e)}else l&&l()}function Pt(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function le(t){t&&t.c()}function Oe(t,e,o){const{fragment:l,after_update:h}=t.$$;l&&l.m(e,o),be(()=>{const w=t.$$.on_mount.map(g).filter(E);t.$$.on_destroy?t.$$.on_destroy.push(...w):y(w),t.$$.on_mount=[]}),h.forEach(be)}function Xt(t,e){const o=t.$$;o.fragment!==null&&(It(o.after_update),y(o.on_destroy),o.fragment&&o.fragment.d(e),o.on_destroy=o.fragment=null,o.ctx=[])}function Ze(t,e){t.$$.dirty[0]===-1&&(vn.push(t),qi(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Je(t,e,o,l,h,w,O=null,I=[-1]){const D=wt;d(t);const W=t.$$={fragment:null,ctx:[],props:w,update:p,not_equal:h,bound:M(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(D?D.$$.context:[])),callbacks:M(),dirty:I,skip_bound:!1,root:e.target||D.$$.root};O&&O(W.root);let Z=!1;if(W.ctx=o?o(t,e.props||{},(J,vt,...ee)=>{const Wt=ee.length?ee[0]:vt;return W.ctx&&h(W.ctx[J],W.ctx[J]=Wt)&&(!W.skip_bound&&W.bound[J]&&W.bound[J](Wt),Z&&Ze(t,J)),vt}):[],W.update(),Z=!0,y(W.before_update),W.fragment=l?l(W.ctx):!1,e.target){if(e.hydrate){const J=xn(e.target);W.fragment&&W.fragment.l(J),J.forEach(G)}else W.fragment&&W.fragment.c();e.intro&&se(t.$$.fragment),Oe(t,e.target,e.anchor),Si()}d(D)}class yn{constructor(){c(this,"$$"),c(this,"$$set")}$destroy(){Xt(this,1),this.$destroy=p}$on(e,o){if(!E(o))return p;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(o),()=>{const h=l.indexOf(o);h!==-1&&l.splice(h,1)}}$set(e){this.$$set&&!et(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Ln="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Ln);var sn=(t=>(t.ELLIPSE="ELLIPSE",t.MULTIPOLYGON="MULTIPOLYGON",t.POLYGON="POLYGON",t.POLYLINE="POLYLINE",t.RECTANGLE="RECTANGLE",t.LINE="LINE",t))(sn||{});function _n(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var pi={exports:{}};(function(t){(function(){function e(I,D){var W=I.x-D.x,Z=I.y-D.y;return W*W+Z*Z}function o(I,D,W){var Z=D.x,J=D.y,vt=W.x-Z,ee=W.y-J;if(vt!==0||ee!==0){var Wt=((I.x-Z)*vt+(I.y-J)*ee)/(vt*vt+ee*ee);Wt>1?(Z=W.x,J=W.y):Wt>0&&(Z+=vt*Wt,J+=ee*Wt)}return vt=I.x-Z,ee=I.y-J,vt*vt+ee*ee}function l(I,D){for(var W=I[0],Z=[W],J,vt=1,ee=I.length;vt<ee;vt++)J=I[vt],e(J,W)>D&&(Z.push(J),W=J);return W!==J&&Z.push(J),Z}function h(I,D,W,Z,J){for(var vt=Z,ee,Wt=D+1;Wt<W;Wt++){var Ft=o(I[Wt],I[D],I[W]);Ft>vt&&(ee=Wt,vt=Ft)}vt>Z&&(ee-D>1&&h(I,D,ee,Z,J),J.push(I[ee]),W-ee>1&&h(I,ee,W,Z,J))}function w(I,D){var W=I.length-1,Z=[I[0]];return h(I,0,W,D,Z),Z.push(I[W]),Z}function O(I,D,W){if(I.length<=2)return I;var Z=D!==void 0?D*D:1;return I=W?I:l(I,Z),I=w(I,Z),I}t.exports=O,t.exports.default=O})()})(pi);var zi=pi.exports;const Mt=_n(zi),ai={},tn=(t,e)=>ai[t]=e,Pi=t=>ai[t.type].area(t),_t=(t,e,o,l)=>ai[t.type].intersects(t,e,o,l),gt=t=>{let e=1/0,o=1/0,l=-1/0,h=-1/0;return t.forEach(([w,O])=>{e=Math.min(e,w),o=Math.min(o,O),l=Math.max(l,w),h=Math.max(h,O)}),{minX:e,minY:o,maxX:l,maxY:h}},Lt=t=>{let e=0,o=t.length-1;for(let l=0;l<t.length;l++)e+=(t[o][0]+t[l][0])*(t[o][1]-t[l][1]),o=l;return Math.abs(.5*e)},de=(t,e,o)=>{let l=!1;for(let h=0,w=t.length-1;h<t.length;w=h++){const O=t[h][0],I=t[h][1],D=t[w][0],W=t[w][1];I>o!=W>o&&e<(D-O)*(o-I)/(W-I)+O&&(l=!l)}return l},Ce=(t,e=!0)=>{let o="M ";return t.forEach(([l,h],w)=>{w===0?o+=`${l},${h}`:o+=` L ${l},${h}`}),e&&(o+=" Z"),o},ge=(t,e=1)=>{const o=t.map(([l,h])=>({x:l,y:h}));return Mt(o,e,!0).map(l=>[l.x,l.y])},ze=(t,e)=>{const o=Math.abs(e[0]-t[0]),l=Math.abs(e[1]-t[1]);return Math.sqrt(Math.pow(o,2)+Math.pow(l,2))},Me={area:t=>Math.PI*t.geometry.rx*t.geometry.ry,intersects:(t,e,o)=>{const{cx:l,cy:h,rx:w,ry:O}=t.geometry,I=0,D=Math.cos(I),W=Math.sin(I),Z=e-l,J=o-h,vt=D*Z+W*J,ee=W*Z-D*J;return vt*vt/(w*w)+ee*ee/(O*O)<=1}};tn(sn.ELLIPSE,Me);const Fe={area:t=>0,intersects:(t,e,o,l=2)=>{const[[h,w],[O,I]]=t.geometry.points,D=Math.abs((I-w)*e-(O-h)*o+O*w-I*h),W=ze([h,w],[O,I]);return D/W<=l}};tn(sn.LINE,Fe);const bn={area:t=>{const{polygons:e}=t.geometry;return e.reduce((o,l)=>{const[h,...w]=l.rings,O=Lt(h.points),I=w.reduce((D,W)=>D+Lt(W.points),0);return o+O-I},0)},intersects:(t,e,o)=>{const{polygons:l}=t.geometry;for(const h of l){const[w,...O]=h.rings;if(de(w.points,e,o)){let I=!1;for(const D of O)if(de(D.points,e,o)){I=!0;break}if(!I)return!0}}return!1}},Ge=t=>{const e=t.reduce((o,l)=>[...o,...l.rings[0].points],[]);return gt(e)},We=t=>t.rings.map(e=>Ce(e.points)).join(" "),Jn=t=>t.polygons.reduce((e,o)=>[...e,...o.rings.reduce((l,h)=>[...l,...h.points],[])],[]),zn=(t,e=1)=>{const o=t.geometry.polygons.map(h=>{const w=h.rings.map(I=>{const D=ge(I.points,e);return{...I,points:D}}),O=gt(w[0].points);return{...h,rings:w,bounds:O}}),l=Ge(o);return{...t,geometry:{...t.geometry,polygons:o,bounds:l}}};tn(sn.MULTIPOLYGON,bn);const jn={area:t=>{const e=t.geometry.points;return Lt(e)},intersects:(t,e,o)=>{const l=t.geometry.points;return de(l,e,o)}},On=(t,e=1)=>{const o=ge(t.geometry.points,e),l=gt(o);return{...t,geometry:{...t.geometry,bounds:l,points:o}}};tn(sn.POLYGON,jn);const Dn={area:t=>{const e=t.geometry;if(!e.closed||e.points.length<3)return 0;const o=vi(e.points,e.closed);return Lt(o)},intersects:(t,e,o,l=2)=>{const h=t.geometry;if(h.closed){const w=vi(h.points,h.closed);return de(w,e,o)}else return gi(h,[e,o],l)}},vi=(t,e=!1)=>{const o=[];for(let l=0;l<t.length;l++){const h=t[l],w=t[(l+1)%t.length];if(o.push(h.point),(l<t.length-1||e)&&(h.type==="CURVE"||w.type=="CURVE")){const O=_i(h.point,h.type==="CURVE"&&h.outHandle||h.point,w.type==="CURVE"&&w.inHandle||w.point,w.point,10);o.push(...O.slice(1))}}return o},_i=(t,e,o,l,h=10)=>{const w=[];for(let O=0;O<=h;O++){const I=O/h,D=Math.pow(1-I,3)*t[0]+3*Math.pow(1-I,2)*I*e[0]+3*(1-I)*Math.pow(I,2)*o[0]+Math.pow(I,3)*l[0],W=Math.pow(1-I,3)*t[1]+3*Math.pow(1-I,2)*I*e[1]+3*(1-I)*Math.pow(I,2)*o[1]+Math.pow(I,3)*l[1];w.push([D,W])}return w},gi=(t,e,o)=>{for(let l=0;l<t.points.length-1;l++){const h=t.points[l],w=t.points[l+1];if(h.type==="CURVE"||w.type==="CURVE"){const O=_i(h.point,h.type==="CURVE"&&h.outHandle||h.point,w.type==="CURVE"&&w.inHandle||w.point,w.point,20);for(let I=0;I<O.length-1;I++)if(ri(e,O[I],O[I+1])<=o)return!0}else if(ri(e,h.point,w.point)<=o)return!0}return!1},ri=(t,e,o)=>{const[l,h]=t,[w,O]=e,[I,D]=o,W=I-w,Z=D-O,J=Math.sqrt(W*W+Z*Z);if(J===0)return Math.sqrt((l-w)*(l-w)+(h-O)*(h-O));const vt=((l-w)*W+(h-O)*Z)/(J*J);return vt<=0?Math.sqrt((l-w)*(l-w)+(h-O)*(h-O)):vt>=1?Math.sqrt((l-I)*(l-I)+(h-D)*(h-D)):Math.abs((D-O)*l-(I-w)*h+I*O-D*w)/J},Un=t=>{if(!t.points||t.points.length===0)return"";const e=[],o=t.points[0];e.push(`M ${o.point[0]} ${o.point[1]}`);for(let l=1;l<t.points.length;l++){const h=t.points[l],w=t.points[l-1];if(h.type==="CURVE"||w.type==="CURVE"){const O=w.type==="CURVE"&&w.outHandle||w.point,I=h.type==="CURVE"&&h.inHandle||h.point,D=h.point;e.push(`C ${O[0]} ${O[1]} ${I[0]} ${I[1]} ${D[0]} ${D[1]}`)}else e.push(`L ${h.point[0]} ${h.point[1]}`)}if(t.closed){const l=t.points[t.points.length-1],h=t.points[0];if(l.type==="CURVE"||h.type==="CURVE"){const w=l.outHandle||l.point,O=h.inHandle||h.point,I=h.point;e.push(`C ${w[0]} ${w[1]} ${O[0]} ${O[1]} ${I[0]} ${I[1]}`)}e.push("Z")}return e.join(" ")};tn(sn.POLYLINE,Dn);const ti={area:t=>t.geometry.w*t.geometry.h,intersects:(t,e,o)=>e>=t.geometry.x&&e<=t.geometry.x+t.geometry.w&&o>=t.geometry.y&&o<=t.geometry.y+t.geometry.h};tn(sn.RECTANGLE,ti);const li=t=>ei(t.target),ei=t=>{var e,o;return(t==null?void 0:t.annotation)!==void 0&&((o=(e=t==null?void 0:t.selector)==null?void 0:e.geometry)==null?void 0:o.bounds)!==void 0},mi=(t,e=!1)=>{const o=typeof t=="string"?t:t.value,l=/(xywh)=(pixel|percent)?:?(.+?),(.+?),(.+?),(.+)*/g,h=[...o.matchAll(l)][0],[w,O,I,D,W,Z,J]=h;if(O!=="xywh")throw new Error("Unsupported MediaFragment: "+o);if(I&&I!=="pixel")throw new Error(`Unsupported MediaFragment unit: ${I}`);const[vt,ee,Wt,Ft]=[D,W,Z,J].map(parseFloat);return{type:sn.RECTANGLE,geometry:{x:vt,y:ee,w:Wt,h:Ft,bounds:{minX:vt,minY:e?ee-Ft:ee,maxX:vt+Wt,maxY:e?ee:ee+Ft}}}},xi=t=>{const{x:e,y:o,w:l,h}=t;return{type:"FragmentSelector",conformsTo:"http://www.w3.org/TR/media-frags/",value:`xywh=pixel:${e},${o},${l},${h}`}},Bi="http://www.w3.org/2000/svg",Ui=t=>{const e=l=>{Array.from(l.attributes).forEach(h=>{h.name.startsWith("on")&&l.removeAttribute(h.name)})},o=t.getElementsByTagName("script");return Array.from(o).reverse().forEach(l=>l.parentNode.removeChild(l)),Array.from(t.querySelectorAll("*")).forEach(e),t},ir=t=>{const e=new XMLSerializer().serializeToString(t.documentElement).replace("<svg>",`<svg xmlns="${Bi}">`);return new DOMParser().parseFromString(e,"image/svg+xml").documentElement},er=t=>{const e=new DOMParser().parseFromString(t,"image/svg+xml"),o=e.lookupPrefix(Bi),l=e.lookupNamespaceURI(null);return o||l?Ui(e).firstChild:Ui(ir(e)).firstChild},$i=t=>{const e=hn(t),o=[];let l=[],h=[0,0];for(const w of e)switch(w.type.toUpperCase()){case"M":l.length>0&&(o.push({points:l}),l=[]),h=[w.args[0],w.args[1]],l.push([...h]);break;case"L":h=[w.args[0],w.args[1]],l.push([...h]);break;case"H":h=[w.args[0],h[1]],l.push([...h]);break;case"V":h=[h[0],w.args[0]],l.push([...h]);break;case"C":h=[w.args[4],w.args[5]],l.push([...h]);break;case"Z":break;default:console.warn(`Unsupported SVG path command: ${w.type}`);break}if(l.length>2&&o.push({points:l}),o.length>0){const w=gt(o[0].points);return{rings:o,bounds:w}}},Mi=t=>{const{point:e,inHandle:o,outHandle:l}=t;if(!o||!l)return!1;const h=o[0]-e[0],w=o[1]-e[1],O=l[0]-e[0],I=l[1]-e[1],D=h*I-w*O;return Math.abs(D)<.01},me=t=>{const e=hn(t);let o=[],l=[0,0],h=!1;for(let O=0;O<e.length;O++){const I=e[O];switch(I.type.toUpperCase()){case"M":l=[I.args[0],I.args[1]],o.push({type:"CORNER",point:[...l]});break;case"L":l=[I.args[0],I.args[1]],o.push({type:"CORNER",point:[...l]});break;case"C":const D=[I.args[0],I.args[1]],W=[I.args[2],I.args[3]],Z=[I.args[4],I.args[5]];if(o.length>0){const vt=o[o.length-1];(D[0]!==vt.point[0]||D[1]!==vt.point[1])&&(vt.type="CURVE",vt.outHandle=D)}const J={type:W[0]!==Z[0]||W[1]!==Z[1]?"CURVE":"CORNER",point:Z};J.type==="CURVE"&&(J.inHandle=W),o.push(J),l=Z;break;case"Z":h=!0;break;default:console.warn(`Unsupported SVG path command: ${I.type}`);break}}o=o.map(O=>Mi(O)?{...O,locked:!0}:O);const w=gt(vi(o,h));return{points:o,closed:h,bounds:w}},hn=t=>{const e=[],o=t.replace(/,/g," ").trim(),l=/([MmLlHhVvCcZz])\s*([^MmLlHhVvCcZz]*)/g;let h;for(;(h=l.exec(o))!==null;){const[,w,O]=h,I=O.trim()===""?[]:O.trim().split(/\s+/).map(Number).filter(D=>!isNaN(D));e.push({type:w,args:I})}return e},In=t=>{const[e,o,l]=t.match(/(<polygon points=["|'])([^("|')]*)/)||[],h=l.split(" ").map(w=>w.split(",").map(parseFloat));return{type:sn.POLYGON,geometry:{points:h,bounds:gt(h)}}},gn=t=>{const e=er(t),o=parseFloat(e.getAttribute("cx")),l=parseFloat(e.getAttribute("cy")),h=parseFloat(e.getAttribute("rx")),w=parseFloat(e.getAttribute("ry")),O={minX:o-h,minY:l-w,maxX:o+h,maxY:l+w};return{type:sn.ELLIPSE,geometry:{cx:o,cy:l,rx:h,ry:w,bounds:O}}},Mn=t=>{const e=er(t),o=parseFloat(e.getAttribute("x1")),l=parseFloat(e.getAttribute("x2")),h=parseFloat(e.getAttribute("y1")),w=parseFloat(e.getAttribute("y2")),O={minX:Math.min(o,l),minY:Math.min(h,w),maxX:Math.max(o,l),maxY:Math.max(h,w)};return{type:sn.LINE,geometry:{points:[[o,h],[l,w]],bounds:O}}},Xn=t=>{const e=er(t),o=e.nodeName==="path"?e:Array.from(e.querySelectorAll("path"))[0],l=o==null?void 0:o.getAttribute("d");if(!l)throw new Error("Could not parse SVG path");const h=me(l);if(!h)throw new Error("Could not parse SVG path");return{type:sn.POLYLINE,geometry:h}},Gi=t=>{const e=er(t),o=(e.nodeName==="path"?[e]:Array.from(e.querySelectorAll("path"))).map(w=>w.getAttribute("d")||"").map(w=>$i(w)).filter(Boolean),l=o.reduce((w,O)=>[...w,...O.rings[0].points],[]),h=gt(l);return o.length===1&&o[0].rings.length===1?{type:sn.POLYGON,geometry:{points:l,bounds:h}}:{type:sn.MULTIPOLYGON,geometry:{polygons:o,bounds:h}}},nr=t=>{const e=typeof t=="string"?t:t.value;if(e.includes("<polygon points="))return In(e);if(e.includes("<path ")&&(e.includes(" C ")||!e.includes("Z")))return Xn(e);if(e.includes("<path "))return Gi(e);if(e.includes("<ellipse "))return gn(e);if(e.includes("<line "))return Mn(e);throw"Unsupported SVG shape: "+e},Ci=t=>`<g>${t.polygons.map(e=>`<path fill-rule="evenodd" d="${We(e)}" />`).join("")}</g>`,Vi=t=>{let e;switch(t.type){case sn.POLYGON:{const o=t.geometry,{points:l}=o;e=`<svg><polygon points="${l.map(h=>h.join(",")).join(" ")}" /></svg>`;break}case sn.ELLIPSE:{const o=t.geometry;e=`<svg><ellipse cx="${o.cx}" cy="${o.cy}" rx="${o.rx}" ry="${o.ry}" /></svg>`;break}case sn.MULTIPOLYGON:{const o=t.geometry;e=`<svg>${Ci(o)}</svg>`;break}case sn.LINE:{const o=t.geometry,[[l,h],[w,O]]=o.points;e=`<svg><line x1="${l}" y1="${h}" x2="${w}" y2="${O}" /></svg>`;break}case sn.POLYLINE:e=`<svg><path d="${Un(t.geometry)}" /></svg>`}if(e)return{type:"SvgSelector",value:e};throw`Unsupported shape type: ${t.type}`},Gn=[];for(let t=0;t<256;++t)Gn.push((t+256).toString(16).slice(1));function Oi(t,e=0){return(Gn[t[e+0]]+Gn[t[e+1]]+Gn[t[e+2]]+Gn[t[e+3]]+"-"+Gn[t[e+4]]+Gn[t[e+5]]+"-"+Gn[t[e+6]]+Gn[t[e+7]]+"-"+Gn[t[e+8]]+Gn[t[e+9]]+"-"+Gn[t[e+10]]+Gn[t[e+11]]+Gn[t[e+12]]+Gn[t[e+13]]+Gn[t[e+14]]+Gn[t[e+15]]).toLowerCase()}let Fi;const Xi=new Uint8Array(16);function fr(){if(!Fi){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Fi=crypto.getRandomValues.bind(crypto)}return Fi(Xi)}const Pr={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function Or(t,e,o){var w,O;var l;t=t||{};const h=(O=(w=t.random)!=null?w:(l=t.rng)==null?void 0:l.call(t))!=null?O:fr();if(h.length<16)throw new Error("Random bytes length must be >= 16");return h[6]=h[6]&15|64,h[8]=h[8]&63|128,Oi(h)}function yr(t,e,o){return Pr.randomUUID&&!t?Pr.randomUUID():Or(t)}var Qi=Object.prototype.hasOwnProperty;function Ki(t,e){var o,l;if(t===e)return!0;if(t&&e&&(o=t.constructor)===e.constructor){if(o===Date)return t.getTime()===e.getTime();if(o===RegExp)return t.toString()===e.toString();if(o===Array){if((l=t.length)===e.length)for(;l--&&Ki(t[l],e[l]););return l===-1}if(!o||typeof t=="object"){l=0;for(o in t)if(Qi.call(t,o)&&++l&&!Qi.call(e,o)||!(o in e)||!Ki(t[o],e[o]))return!1;return Object.keys(e).length===l}}return t!==t&&e!==e}function _r(){}function pr(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}const rr=[];function s(t,e=_r){let o;const l=new Set;function h(I){if(pr(t,I)&&(t=I,o)){const D=!rr.length;for(const W of l)W[1](),rr.push(W,t);if(D){for(let W=0;W<rr.length;W+=2)rr[W][0](rr[W+1]);rr.length=0}}}function w(I){h(I(t))}function O(I,D=_r){const W=[I,D];return l.add(W),l.size===1&&(o=e(h,w)||_r),I(t),()=>{l.delete(W),l.size===0&&o&&(o(),o=null)}}return{set:h,update:w,subscribe:O}}const f=t=>{const{subscribe:e,set:o}=s();let l;return e(h=>l=h),t.observe(({changes:h})=>{if(l){(h.deleted||[]).some(O=>O.id===l)&&o(void 0);const w=(h.updated||[]).find(({oldValue:O})=>O.id===l);w&&o(w.newValue.id)}}),{get current(){return l},subscribe:e,set:o}};var x=(t=>(t.EDIT="EDIT",t.SELECT="SELECT",t.NONE="NONE",t))(x||{});const k={selected:[]},L=(t,e,o)=>{const{subscribe:l,set:h}=s(k);let w=e,O=k;l(Ft=>O=Ft);const I=()=>{Ki(O,k)||h(k)},D=()=>{var Ft;return((Ft=O.selected)==null?void 0:Ft.length)===0},W=Ft=>{if(D())return!1;const He=typeof Ft=="string"?Ft:Ft.id;return O.selected.some(fe=>fe.id===He)},Z=(Ft,He)=>{let fe;if(Array.isArray(Ft)){if(fe=Ft.map($t=>t.getAnnotation($t)).filter(Boolean),fe.length<Ft.length){console.warn("Invalid selection: "+Ft.filter($t=>!fe.some(Pe=>Pe.id===$t)));return}}else{const $t=t.getAnnotation(Ft);if(!$t){console.warn("Invalid selection: "+Ft);return}fe=[$t]}const Te=fe.reduce(($t,Pe)=>{const Xe=Wt(Pe);return Xe==="EDIT"?[...$t,{id:Pe.id,editable:!0}]:Xe==="SELECT"?[...$t,{id:Pe.id}]:$t},[]);h({selected:Te,event:He})},J=(Ft,He)=>{const fe=Array.isArray(Ft)?Ft:[Ft],Te=fe.map($t=>t.getAnnotation($t)).filter($t=>!!$t);h({selected:Te.map($t=>{const Pe=He===void 0?Wt($t)==="EDIT":He;return{id:$t.id,editable:Pe}})}),Te.length!==fe.length&&console.warn("Invalid selection",Ft)},vt=Ft=>{if(D())return!1;const{selected:He}=O;He.some(({id:fe})=>Ft.includes(fe))&&h({selected:He.filter(({id:fe})=>!Ft.includes(fe))})},ee=Ft=>{w=Ft,J(O.selected.map(({id:He})=>He))},Wt=Ft=>X(Ft,w,o);return t.observe(({changes:Ft})=>vt((Ft.deleted||[]).map(He=>He.id))),{get event(){return O?O.event:null},get selected(){return O?[...O.selected]:null},get userSelectAction(){return w},clear:I,evalSelectAction:Wt,isEmpty:D,isSelected:W,setSelected:J,setUserSelectAction:ee,subscribe:l,userSelect:Z}},X=(t,e,o)=>{const l=o?o.serialize(t):t;return typeof e=="function"?e(l):e||"EDIT"},it=[];for(let t=0;t<256;++t)it.push((t+256).toString(16).slice(1));function dt(t,e=0){return(it[t[e+0]]+it[t[e+1]]+it[t[e+2]]+it[t[e+3]]+"-"+it[t[e+4]]+it[t[e+5]]+"-"+it[t[e+6]]+it[t[e+7]]+"-"+it[t[e+8]]+it[t[e+9]]+"-"+it[t[e+10]]+it[t[e+11]]+it[t[e+12]]+it[t[e+13]]+it[t[e+14]]+it[t[e+15]]).toLowerCase()}let Nt;const Et=new Uint8Array(16);function Qt(){if(!Nt){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Nt=crypto.getRandomValues.bind(crypto)}return Nt(Et)}const Ht=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Vt={randomUUID:Ht};function ne(t,e,o){var w,O;var l;t=t||{};const h=(O=(w=t.random)!=null?w:(l=t.rng)==null?void 0:l.call(t))!=null?O:Qt();if(h.length<16)throw new Error("Random bytes length must be >= 16");return h[6]=h[6]&15|64,h[8]=h[8]&63|128,dt(h)}function wn(t,e,o){return Vt.randomUUID&&!t?Vt.randomUUID():ne(t)}const en=t=>{const e=o=>{const l={...o};return o.created&&typeof o.created=="string"&&(l.created=new Date(o.created)),o.updated&&typeof o.updated=="string"&&(l.updated=new Date(o.updated)),l};return{...t,bodies:(t.bodies||[]).map(e),target:e(t.target)}},ln=(t,e,o,l)=>({id:wn(),annotation:typeof t=="string"?t:t.id,created:o||new Date,creator:l,...e}),Tn=(t,e)=>{const o=new Set(t.bodies.map(l=>l.id));return e.bodies.filter(l=>!o.has(l.id))},Di=(t,e)=>{const o=new Set(e.bodies.map(l=>l.id));return t.bodies.filter(l=>!o.has(l.id))},Ni=(t,e)=>e.bodies.map(o=>{const l=t.bodies.find(h=>h.id===o.id);return{newBody:o,oldBody:l&&!Ki(l,o)?l:void 0}}).filter(({oldBody:o})=>o).map(({oldBody:o,newBody:l})=>({oldBody:o,newBody:l})),Fn=(t,e)=>!Ki(t.target,e.target),ot=(t,e)=>{const o=Tn(t,e),l=Di(t,e),h=Ni(t,e);return{oldValue:t,newValue:e,bodiesCreated:o.length>0?o:void 0,bodiesDeleted:l.length>0?l:void 0,bodiesUpdated:h.length>0?h:void 0,targetUpdated:Fn(t,e)?{oldTarget:t.target,newTarget:e.target}:void 0}};var ht=(t=>(t.LOCAL="LOCAL",t.REMOTE="REMOTE",t.SILENT="SILENT",t))(ht||{});const Rt=(t,e)=>{var o,l;const{changes:h,origin:w}=e;if(!(t.options.origin?t.options.origin===w:w!=="SILENT"))return!1;if(t.options.ignore){const{ignore:O}=t.options,I=D=>D&&D.length>0;if(!(I(h.created)||I(h.deleted))){const D=(o=h.updated)==null?void 0:o.some(Z=>I(Z.bodiesCreated)||I(Z.bodiesDeleted)||I(Z.bodiesUpdated)),W=(l=h.updated)==null?void 0:l.some(Z=>Z.targetUpdated);if(O==="BODY_ONLY"&&D&&!W||O==="TARGET_ONLY"&&W&&!D)return!1}}if(t.options.annotations){const O=new Set([...(h.created||[]).map(I=>I.id),...(h.deleted||[]).map(I=>I.id),...(h.updated||[]).map(({oldValue:I})=>I.id)]);return!!(Array.isArray(t.options.annotations)?t.options.annotations:[t.options.annotations]).find(I=>O.has(I))}else return!0},Jt=(t,e)=>{const o=new Set((t.created||[]).map(J=>J.id)),l=new Set((t.updated||[]).map(({newValue:J})=>J.id)),h=new Set((e.created||[]).map(J=>J.id)),w=new Set((e.deleted||[]).map(J=>J.id)),O=new Set((e.updated||[]).map(({oldValue:J})=>J.id)),I=new Set((e.updated||[]).filter(({oldValue:J})=>o.has(J.id)||l.has(J.id)).map(({oldValue:J})=>J.id)),D=[...(t.created||[]).filter(J=>!w.has(J.id)).map(J=>O.has(J.id)?e.updated.find(({oldValue:vt})=>vt.id===J.id).newValue:J),...e.created||[]],W=[...(t.deleted||[]).filter(J=>!h.has(J.id)),...(e.deleted||[]).filter(J=>!o.has(J.id))],Z=[...(t.updated||[]).filter(({newValue:J})=>!w.has(J.id)).map(J=>{const{oldValue:vt,newValue:ee}=J;if(O.has(ee.id)){const Wt=e.updated.find(Ft=>Ft.oldValue.id===ee.id).newValue;return ot(vt,Wt)}else return J}),...(e.updated||[]).filter(({oldValue:J})=>!I.has(J.id))];return{created:D,deleted:W,updated:Z}},ye=t=>{const e=t.id===void 0?wn():t.id;return{...t,id:e,bodies:t.bodies===void 0?[]:t.bodies.map(o=>({...o,annotation:e})),target:{...t.target,annotation:e}}},ue=t=>t.id!==void 0,Ne=()=>{const t=new Map,e=new Map,o=[],l=(re,xe={})=>{o.push({onChange:re,options:xe})},h=re=>{const xe=o.findIndex(Ut=>Ut.onChange==re);xe>-1&&o.splice(xe,1)},w=(re,xe)=>{const Ut={origin:re,changes:{created:xe.created||[],updated:xe.updated||[],deleted:xe.deleted||[]},state:[...t.values()]};o.forEach(oe=>{Rt(oe,Ut)&&oe.onChange(Ut)})},O=(re,xe=ht.LOCAL)=>{if(re.id&&t.get(re.id))throw Error(`Cannot add annotation ${re.id} - exists already`);{const Ut=ye(re);t.set(Ut.id,Ut),Ut.bodies.forEach(oe=>e.set(oe.id,Ut.id)),w(xe,{created:[Ut]})}},I=(re,xe)=>{const Ut=ye(typeof re=="string"?xe:re),oe=typeof re=="string"?re:re.id,nn=oe&&t.get(oe);if(nn){const Ke=ot(nn,Ut);return oe===Ut.id?t.set(oe,Ut):(t.delete(oe),t.set(Ut.id,Ut)),nn.bodies.forEach(pn=>e.delete(pn.id)),Ut.bodies.forEach(pn=>e.set(pn.id,Ut.id)),Ke}else console.warn(`Cannot update annotation ${oe} - does not exist`)},D=(re,xe=ht.LOCAL,Ut=ht.LOCAL)=>{const oe=ue(xe)?Ut:xe,nn=I(re,xe);nn&&w(oe,{updated:[nn]})},W=(re,xe=ht.LOCAL)=>{t.get(re.id)?D(re,xe):O(re,xe)},Z=(re,xe=ht.LOCAL)=>{const Ut=re.reduce((oe,nn)=>{const Ke=I(nn);return Ke?[...oe,Ke]:oe},[]);Ut.length>0&&w(xe,{updated:Ut})},J=(re,xe=ht.LOCAL)=>{const Ut=re.map(ye),{toAdd:oe,toUpdate:nn}=Ut.reduce((pn,fi)=>t.get(fi.id)?{...pn,toUpdate:[...pn.toUpdate,fi]}:{...pn,toAdd:[...pn.toAdd,fi]},{toAdd:[],toUpdate:[]}),Ke=nn.map(pn=>I(pn,xe)).filter(Boolean);oe.forEach(pn=>{t.set(pn.id,pn),pn.bodies.forEach(fi=>e.set(fi.id,pn.id))}),w(xe,{created:oe,updated:Ke})},vt=(re,xe=ht.LOCAL)=>{const Ut=t.get(re.annotation);if(Ut){const oe={...Ut,bodies:[...Ut.bodies,re]};t.set(Ut.id,oe),e.set(re.id,oe.id),w(xe,{updated:[{oldValue:Ut,newValue:oe,bodiesCreated:[re]}]})}else console.warn(`Attempt to add body to missing annotation: ${re.annotation}`)},ee=()=>[...t.values()],Wt=(re=ht.LOCAL)=>{const xe=[...t.values()];t.clear(),e.clear(),w(re,{deleted:xe})},Ft=(re,xe=!0,Ut=ht.LOCAL)=>{const oe=re.map(ye);if(xe){const nn=[...t.values()];t.clear(),e.clear(),oe.forEach(Ke=>{t.set(Ke.id,Ke),Ke.bodies.forEach(pn=>e.set(pn.id,Ke.id))}),w(Ut,{created:oe,deleted:nn})}else{const nn=re.reduce((Ke,pn)=>{const fi=pn.id&&t.get(pn.id);return fi?[...Ke,fi]:Ke},[]);if(nn.length>0)throw Error(`Bulk insert would overwrite the following annotations: ${nn.map(Ke=>Ke.id).join(", ")}`);oe.forEach(Ke=>{t.set(Ke.id,Ke),Ke.bodies.forEach(pn=>e.set(pn.id,Ke.id))}),w(Ut,{created:oe})}},He=re=>{const xe=typeof re=="string"?re:re.id,Ut=t.get(xe);if(Ut)return t.delete(xe),Ut.bodies.forEach(oe=>e.delete(oe.id)),Ut;console.warn(`Attempt to delete missing annotation: ${xe}`)},fe=(re,xe=ht.LOCAL)=>{const Ut=He(re);Ut&&w(xe,{deleted:[Ut]})},Te=(re,xe=ht.LOCAL)=>{const Ut=re.reduce((oe,nn)=>{const Ke=He(nn);return Ke?[...oe,Ke]:oe},[]);Ut.length>0&&w(xe,{deleted:Ut})},$t=re=>{const xe=t.get(re.annotation);if(xe){const Ut=xe.bodies.find(oe=>oe.id===re.id);if(Ut){e.delete(Ut.id);const oe={...xe,bodies:xe.bodies.filter(nn=>nn.id!==re.id)};return t.set(xe.id,oe),{oldValue:xe,newValue:oe,bodiesDeleted:[Ut]}}else console.warn(`Attempt to delete missing body ${re.id} from annotation ${re.annotation}`)}else console.warn(`Attempt to delete body from missing annotation ${re.annotation}`)},Pe=(re,xe=ht.LOCAL)=>{const Ut=$t(re);Ut&&w(xe,{updated:[Ut]})},Xe=(re,xe=ht.LOCAL)=>{const Ut=re.map(oe=>$t(oe)).filter(Boolean);Ut.length>0&&w(xe,{updated:Ut})},cn=re=>{const xe=t.get(re);return xe?{...xe}:void 0},Ye=re=>{const xe=e.get(re);if(xe){const Ut=cn(xe).bodies.find(oe=>oe.id===re);if(Ut)return Ut;console.error(`Store integrity error: body ${re} in index, but not in annotation`)}else console.warn(`Attempt to retrieve missing body: ${re}`)},Hn=(re,xe)=>{if(re.annotation!==xe.annotation)throw"Annotation integrity violation: annotation ID must be the same when updating bodies";const Ut=t.get(re.annotation);if(Ut){const oe=Ut.bodies.find(Ke=>Ke.id===re.id),nn={...Ut,bodies:Ut.bodies.map(Ke=>Ke.id===oe.id?xe:Ke)};return t.set(Ut.id,nn),oe.id!==xe.id&&(e.delete(oe.id),e.set(xe.id,nn.id)),{oldValue:Ut,newValue:nn,bodiesUpdated:[{oldBody:oe,newBody:xe}]}}else console.warn(`Attempt to add body to missing annotation ${re.annotation}`)},En=(re,xe,Ut=ht.LOCAL)=>{const oe=Hn(re,xe);oe&&w(Ut,{updated:[oe]})},ki=(re,xe=ht.LOCAL)=>{const Ut=re.map(oe=>Hn({id:oe.id,annotation:oe.annotation},oe)).filter(Boolean);w(xe,{updated:Ut})},bi=re=>{const xe=t.get(re.annotation);if(xe){const Ut={...xe,target:{...xe.target,...re}};return t.set(xe.id,Ut),{oldValue:xe,newValue:Ut,targetUpdated:{oldTarget:xe.target,newTarget:re}}}else console.warn(`Attempt to update target on missing annotation: ${re.annotation}`)};return{addAnnotation:O,addBody:vt,all:ee,bulkAddAnnotations:Ft,bulkDeleteAnnotations:Te,bulkDeleteBodies:Xe,bulkUpdateAnnotations:Z,bulkUpdateBodies:ki,bulkUpdateTargets:(re,xe=ht.LOCAL)=>{const Ut=re.map(oe=>bi(oe)).filter(Boolean);Ut.length>0&&w(xe,{updated:Ut})},bulkUpsertAnnotations:J,clear:Wt,deleteAnnotation:fe,deleteBody:Pe,getAnnotation:cn,getBody:Ye,observe:l,unobserve:h,updateAnnotation:D,updateBody:En,updateTarget:(re,xe=ht.LOCAL)=>{const Ut=bi(re);Ut&&w(xe,{updated:[Ut]})},upsertAnnotation:W}},Ve=t=>({...t,subscribe:e=>{const o=l=>e(l.state);return t.observe(o),e(t.all()),()=>t.unobserve(o)}});let Qe=()=>({emit(t,...e){for(let o=this.events[t]||[],l=0,h=o.length;l<h;l++)o[l](...e)},events:{},on(t,e){var o;return((o=this.events)[t]||(o[t]=[])).push(e),()=>{var l;this.events[t]=(l=this.events[t])==null?void 0:l.filter(h=>e!==h)}}});const Nn=250,ci=(t,e)=>{const o=Qe(),l=(e==null?void 0:e.changes)||[];let h=e?e.pointer:-1,w=!1,O=0;const I=Wt=>{if(!w){const{changes:Ft}=Wt,He=performance.now();if(He-O>Nn)l.splice(h+1),l.push(Ft),h=l.length-1;else{const fe=l.length-1;l[fe]=Jt(l[fe],Ft)}O=He}w=!1};t.observe(I,{origin:ht.LOCAL});const D=Wt=>Wt&&Wt.length>0&&t.bulkDeleteAnnotations(Wt),W=Wt=>Wt&&Wt.length>0&&t.bulkAddAnnotations(Wt,!1),Z=Wt=>Wt&&Wt.length>0&&t.bulkUpdateAnnotations(Wt.map(({oldValue:Ft})=>Ft)),J=Wt=>Wt&&Wt.length>0&&t.bulkUpdateAnnotations(Wt.map(({newValue:Ft})=>Ft)),vt=Wt=>Wt&&Wt.length>0&&t.bulkAddAnnotations(Wt,!1),ee=Wt=>Wt&&Wt.length>0&&t.bulkDeleteAnnotations(Wt);return{canRedo:()=>l.length-1>h,canUndo:()=>h>-1,destroy:()=>t.unobserve(I),getHistory:()=>({changes:[...l],pointer:h}),on:(Wt,Ft)=>o.on(Wt,Ft),redo:()=>{if(l.length-1>h){w=!0;const{created:Wt,updated:Ft,deleted:He}=l[h+1];W(Wt),J(Ft),ee(He),o.emit("redo",l[h+1]),h+=1}},undo:()=>{if(h>-1){w=!0;const{created:Wt,updated:Ft,deleted:He}=l[h];D(Wt),Z(Ft),vt(He),o.emit("undo",l[h]),h-=1}}}},yt=()=>{const{subscribe:t,set:e}=s([]);return{subscribe:t,set:e}},ce=(t,e,o,l)=>{const{hover:h,selection:w,store:O,viewport:I}=t,D=new Map;let W=[],Z,J;const vt=(fe,Te)=>{D.has(fe)?D.get(fe).push(Te):D.set(fe,[Te])},ee=(fe,Te)=>{const $t=D.get(fe);if($t){const Pe=$t.indexOf(Te);Pe!==-1&&$t.splice(Pe,1)}},Wt=(fe,Te,$t)=>{D.has(fe)&&setTimeout(()=>{D.get(fe).forEach(Pe=>{if(o){const Xe=Array.isArray(Te)?Te.map(Ye=>o.serialize(Ye)):o.serialize(Te),cn=$t?$t instanceof PointerEvent?$t:o.serialize($t):void 0;Pe(Xe,cn)}else Pe(Te,$t)})},1)},Ft=()=>{const{selected:fe}=w,Te=(fe||[]).map(({id:$t})=>O.getAnnotation($t));Te.forEach($t=>{const Pe=W.find(Xe=>Xe.id===$t.id);(!Pe||!Ki(Pe,$t))&&Wt("updateAnnotation",$t,Pe)}),W=W.map($t=>Te.find(({id:Pe})=>Pe===$t.id)||$t)};w.subscribe(({selected:fe})=>{if(!(W.length===0&&fe.length===0)){if(W.length===0&&fe.length>0)W=fe.map(({id:Te})=>O.getAnnotation(Te));else if(W.length>0&&fe.length===0)W.forEach(Te=>{const $t=O.getAnnotation(Te.id);$t&&!Ki($t,Te)&&Wt("updateAnnotation",$t,Te)}),W=[];else{const Te=new Set(W.map(Pe=>Pe.id)),$t=new Set(fe.map(({id:Pe})=>Pe));W.filter(Pe=>!$t.has(Pe.id)).forEach(Pe=>{const Xe=O.getAnnotation(Pe.id);Xe&&!Ki(Xe,Pe)&&Wt("updateAnnotation",Xe,Pe)}),W=[...W.filter(Pe=>$t.has(Pe.id)),...fe.filter(({id:Pe})=>!Te.has(Pe)).map(({id:Pe})=>O.getAnnotation(Pe))]}Wt("selectionChanged",W)}}),h.subscribe(fe=>{!Z&&fe?Wt("mouseEnterAnnotation",O.getAnnotation(fe)):Z&&!fe?Wt("mouseLeaveAnnotation",O.getAnnotation(Z)):Z&&fe&&(Wt("mouseLeaveAnnotation",O.getAnnotation(Z)),Wt("mouseEnterAnnotation",O.getAnnotation(fe))),Z=fe}),I==null||I.subscribe(fe=>Wt("viewportIntersect",fe.map(Te=>O.getAnnotation(Te)))),O.observe(fe=>{l&&(J&&clearTimeout(J),J=setTimeout(Ft,1e3));const{created:Te,deleted:$t}=fe.changes;(Te||[]).forEach(Pe=>Wt("createAnnotation",Pe)),($t||[]).forEach(Pe=>Wt("deleteAnnotation",Pe)),(fe.changes.updated||[]).filter(Pe=>[...Pe.bodiesCreated||[],...Pe.bodiesDeleted||[],...Pe.bodiesUpdated||[]].length>0).forEach(({oldValue:Pe,newValue:Xe})=>{const cn=W.find(Ye=>Ye.id===Pe.id)||Pe;W=W.map(Ye=>Ye.id===Pe.id?Xe:Ye),Wt("updateAnnotation",Xe,cn)})},{origin:ht.LOCAL}),O.observe(fe=>{if(W){const Te=new Set(W.map(Pe=>Pe.id)),$t=(fe.changes.updated||[]).filter(({newValue:Pe})=>Te.has(Pe.id)).map(({newValue:Pe})=>Pe);$t.length>0&&(W=W.map(Pe=>$t.find(Xe=>Xe.id===Pe.id)||Pe))}},{origin:ht.REMOTE});const He=fe=>Te=>{const{updated:$t}=Te;fe?($t||[]).forEach(Pe=>Wt("updateAnnotation",Pe.oldValue,Pe.newValue)):($t||[]).forEach(Pe=>Wt("updateAnnotation",Pe.newValue,Pe.oldValue))};return e.on("undo",He(!0)),e.on("redo",He(!1)),{on:vt,off:ee,emit:Wt}},qe=t=>e=>e.reduce((o,l)=>{const{parsed:h,error:w}=t.parse(l);return w?{parsed:o.parsed,failed:[...o.failed,l]}:h?{parsed:[...o.parsed,h],failed:o.failed}:{...o}},{parsed:[],failed:[]}),De=(t,e,o)=>{const{store:l,selection:h}=t,w=fe=>{if(o){const{parsed:Te,error:$t}=o.parse(fe);Te?l.addAnnotation(Te,ht.REMOTE):console.error($t)}else l.addAnnotation(en(fe),ht.REMOTE)},O=()=>h.clear(),I=()=>l.clear(),D=fe=>{const Te=l.getAnnotation(fe);return o&&Te?o.serialize(Te):Te},W=()=>o?l.all().map(o.serialize):l.all(),Z=()=>{var fe;const Te=(((fe=h.selected)==null?void 0:fe.map($t=>$t.id))||[]).map($t=>l.getAnnotation($t)).filter(Boolean);return o?Te.map(o.serialize):Te},J=(fe,Te=!0)=>fetch(fe).then($t=>$t.json()).then($t=>(ee($t,Te),$t)),vt=fe=>{if(typeof fe=="string"){const Te=l.getAnnotation(fe);if(l.deleteAnnotation(fe),Te)return o?o.serialize(Te):Te}else{const Te=o?o.parse(fe).parsed:fe;if(Te)return l.deleteAnnotation(Te),fe}},ee=(fe,Te=!0)=>{if(o){const $t=o.parseAll||qe(o),{parsed:Pe,failed:Xe}=$t(fe);Xe.length>0&&console.warn(`Discarded ${Xe.length} invalid annotations`,Xe),l.bulkAddAnnotations(Pe,Te,ht.REMOTE)}else l.bulkAddAnnotations(fe.map(en),Te,ht.REMOTE)},Wt=(fe,Te)=>{fe?h.setSelected(fe,Te):h.clear()},Ft=fe=>{h.clear(),h.setUserSelectAction(fe)},He=fe=>{if(o){const Te=o.parse(fe).parsed,$t=o.serialize(l.getAnnotation(Te.id));return l.updateAnnotation(Te),$t}else{const Te=l.getAnnotation(fe.id);return l.updateAnnotation(en(fe)),Te}};return{addAnnotation:w,cancelSelected:O,canRedo:e.canRedo,canUndo:e.canUndo,clearAnnotations:I,getAnnotationById:D,getAnnotations:W,getHistory:e.getHistory,getSelected:Z,loadAnnotations:J,redo:e.redo,removeAnnotation:vt,setAnnotations:ee,setSelected:Wt,setUserSelectAction:Ft,undo:e.undo,updateAnnotation:He}},Ue=(t,e,o)=>typeof e=="function"?e(t,o):e,di=(t,e)=>typeof t!="function"&&typeof e!="function"?{...t||{},...e||{}}:(o,l)=>{const h=typeof t=="function"?t(o,l):t,w=typeof e=="function"?e(o,l):e;return{...h||{},...w||{}}},r="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let u=t=>crypto.getRandomValues(new Uint8Array(t)),_=(t,e,o)=>{let l=(2<<Math.log2(t.length-1))-1,h=-~(1.6*l*e/t.length);return(w=e)=>{let O="";for(;;){let I=o(h),D=h|0;for(;D--;)if(O+=t[I[D]&l]||"",O.length>=w)return O}}},C=(t,e=21)=>_(t,e|0,u),B=(t=21)=>{let e="",o=crypto.getRandomValues(new Uint8Array(t|=0));for(;t--;)e+=r[o[t]&63];return e};const U=()=>({isGuest:!0,id:C("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_",20)()}),nt=t=>{const e=JSON.stringify(t);let o=0;for(let l=0,h=e.length;l<h;l++){let w=e.charCodeAt(l);o=(o<<5)-o+w,o|=0}return`${o}`},xt=t=>t?typeof t=="object"?{...t}:t:void 0,bt=(t,e)=>(Array.isArray(t)?t:[t]).map(o=>{const{id:l,type:h,purpose:w,value:O,created:I,modified:D,creator:W,...Z}=o;return{id:l||`temp-${nt(o)}`,annotation:e,type:h,purpose:w,value:O,creator:xt(W),created:I?new Date(I):void 0,updated:D?new Date(D):void 0,...Z}}),Dt=t=>t.map(e=>{var o;const{annotation:l,created:h,updated:w,...O}=e,I={...O,created:h==null?void 0:h.toISOString(),modified:w==null?void 0:w.toISOString()};return(o=I.id)!=null&&o.startsWith("temp-")&&delete I.id,I}),ie=["#ff7c00","#1ac938","#e8000b","#8b2be2","#9f4800","#f14cc1","#ffc400","#00d7ff","#023eff"],_e=()=>{const t=[...ie];return{assignRandomColor:()=>{const e=Math.floor(Math.random()*t.length),o=t[e];return t.splice(e,1),o},releaseColor:e=>t.push(e)}};B();const Kt=(t,e={strict:!0,invertY:!1})=>({parse:o=>ke(o,e),serialize:o=>kn(o,t,e)}),ke=(t,e={strict:!0,invertY:!1})=>{const o=t.id||yr(),{creator:l,created:h,modified:w,body:O,...I}=t,D=bt(O||[],o),W=Array.isArray(t.target)?t.target[0]:t.target,Z=typeof W=="string"?W:Array.isArray(W.selector)?W.selector[0]:W.selector,J=typeof Z=="string"||(Z==null?void 0:Z.type)==="FragmentSelector"?mi(Z,e.invertY):(Z==null?void 0:Z.type)==="SvgSelector"?nr(Z):void 0,vt=Array.isArray(I.target)?I.target[0]:I.targret;return J||!e.strict?{parsed:{...I,id:o,bodies:D,target:{created:h?new Date(h):void 0,creator:xt(l),updated:w?new Date(w):void 0,...typeof vt=="string"?{}:vt,annotation:o,selector:J||Z}}}:{error:Error(`Invalid selector: ${JSON.stringify(Z)}`)}},kn=(t,e,o={strict:!0,invertY:!1})=>{const{selector:l,creator:h,created:w,updated:O,updatedBy:I,...D}=t.target;let W;try{W=l.type==sn.RECTANGLE?xi(l.geometry):Vi(l)}catch(J){if(o.strict)throw J;W=l}const Z={...t,"@context":"http://www.w3.org/ns/anno.jsonld",id:t.id,type:"Annotation",body:Dt(t.bodies),created:w==null?void 0:w.toISOString(),creator:h,modified:O==null?void 0:O.toISOString(),target:{...D,source:e,type:"SpecificResource",selector:W}};return delete Z.bodies,"annotation"in Z.target&&delete Z.target.annotation,Z},Vn=[];function Qn(t,e=p){let o;const l=new Set;function h(I){if(F(t,I)&&(t=I,o)){const D=!Vn.length;for(const W of l)W[1](),Vn.push(W,t);if(D){for(let W=0;W<Vn.length;W+=2)Vn[W][0](Vn[W+1]);Vn.length=0}}}function w(I){h(I(t))}function O(I,D=p){const W=[I,D];return l.add(W),l.size===1&&(o=e(h,w)||p),I(t),()=>{l.delete(W),l.size===0&&o&&(o(),o=null)}}return{set:h,update:w,subscribe:O}}const Zi=(t,e)=>{const{naturalWidth:o,naturalHeight:l}=t;if(!o&&!l){const{width:h,height:w}=t;e.setAttribute("viewBox",`0 0 ${h} ${w}`),t.addEventListener("load",O=>{const I=O.target;e.setAttribute("viewBox",`0 0 ${I.naturalWidth} ${I.naturalHeight}`)})}else e.setAttribute("viewBox",`0 0 ${o} ${l}`)},Ji=(t,e)=>{Zi(t,e);const{subscribe:o,set:l}=Qn(1);let h;return window.ResizeObserver&&(h=new ResizeObserver(()=>{const w=e.getBoundingClientRect(),{width:O,height:I}=e.viewBox.baseVal,D=Math.max(w.width/O,w.height/I);l(D)}),h.observe(e.parentElement)),{destroy:()=>{h&&h.disconnect()},subscribe:o}},ur=(t,e)=>{const o=typeof e=="function"?e(t):e;if(o){const{fill:l,fillOpacity:h,stroke:w,strokeWidth:O,strokeOpacity:I}=o;let D="";return l&&(D+=`fill:${l};`),h||h===0?D+=`fill-opacity:${h};`:l&&(D+="fill-opacity:0.25;"),w&&(D+=`stroke:${w};`,D+=`stroke-width:${O||"1"};`,D+=`stroke-opacity:${I||"1"};`),D}},hr=(t,e=0)=>{const{minX:o,minY:l,maxX:h,maxY:w}=t;return{x:o-e,y:l-e,w:h-o+2*e,h:w-l+2*e}},Yn=typeof window>"u"||typeof navigator>"u"?!1:"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,ji=t=>({}),hi=t=>({grab:t[0]});function Wi(t){let e,o,l,h;const w=t[8].default,O=z(w,t,t[7],hi);return{c(){e=St("g"),O&&O.c(),R(e,"class","a9s-annotation selected")},m(I,D){ft(I,e,D),O&&O.m(e,null),o=!0,l||(h=[zt(e,"pointerup",t[2]),zt(e,"pointermove",t[1])],l=!0)},p(I,[D]){O&&O.p&&(!o||D&128)&&V(O,w,I,I[7],o?q(w,I[7],D,ji):tt(I[7]),hi)},i(I){o||(se(O,I),o=!0)},o(I){mt(O,I),o=!1},d(I){I&&G(e),O&&O.d(I),l=!1,y(h)}}}function Ar(t,e,o){let{$$slots:l={},$$scope:h}=e;const w=Le();let{shape:O}=e,{editor:I}=e,{transform:D}=e,{svgEl:W}=e,Z,J,vt;const ee=He=>fe=>{if(Z=He,W){const{left:Te,top:$t}=W.getBoundingClientRect(),Pe=fe.clientX-Te,Xe=fe.clientY-$t;J=D.elementToImage(Pe,Xe)}else{const{offsetX:Te,offsetY:$t}=fe;J=D.elementToImage(Te,$t)}vt=O,fe.target.setPointerCapture(fe.pointerId),w("grab",fe)},Wt=He=>{if(Z){const[fe,Te]=D.elementToImage(He.offsetX,He.offsetY),$t=[fe-J[0],Te-J[1]];o(3,O=I(vt,Z,$t)),w("change",O)}},Ft=He=>{He.target.releasePointerCapture(He.pointerId),Z=void 0,vt=O,w("release",He)};return t.$$set=He=>{"shape"in He&&o(3,O=He.shape),"editor"in He&&o(4,I=He.editor),"transform"in He&&o(5,D=He.transform),"svgEl"in He&&o(6,W=He.svgEl),"$$scope"in He&&o(7,h=He.$$scope)},[ee,Wt,Ft,O,I,D,W,h,l]}class Ir extends yn{constructor(e){super(),Je(this,e,Ar,Wi,F,{shape:3,editor:4,transform:5,svgEl:6})}}function Sr(t){let e,o,l,h,w,O,I,D,W=t[3]&&Er(t);return{c(){e=St("g"),o=St("circle"),W&&W.c(),h=St("circle"),R(o,"class","a9s-handle-buffer svelte-qtyc7s"),R(o,"cx",t[0]),R(o,"cy",t[1]),R(o,"r",l=t[5]+6/t[2]),R(o,"role","button"),R(o,"tabindex","0"),R(h,"class",w=At(`a9s-handle-dot${t[3]?" selected":""}`)+" svelte-qtyc7s"),R(h,"cx",t[0]),R(h,"cy",t[1]),R(h,"r",t[5]),R(e,"class",O=`a9s-handle ${t[8].class||""}`.trim())},m(Z,J){ft(Z,e,J),ut(e,o),W&&W.m(e,null),ut(e,h),I||(D=[zt(o,"dblclick",t[12]),zt(o,"pointerenter",t[13]),zt(o,"pointerleave",t[14]),zt(o,"pointerdown",t[15]),zt(o,"pointerdown",t[6]),zt(o,"pointerup",t[16]),zt(o,"pointerup",t[7])],I=!0)},p(Z,J){J&1&&R(o,"cx",Z[0]),J&2&&R(o,"cy",Z[1]),J&36&&l!==(l=Z[5]+6/Z[2])&&R(o,"r",l),Z[3]?W?W.p(Z,J):(W=Er(Z),W.c(),W.m(e,h)):W&&(W.d(1),W=null),J&8&&w!==(w=At(`a9s-handle-dot${Z[3]?" selected":""}`)+" svelte-qtyc7s")&&R(h,"class",w),J&1&&R(h,"cx",Z[0]),J&2&&R(h,"cy",Z[1]),J&32&&R(h,"r",Z[5]),J&256&&O!==(O=`a9s-handle ${Z[8].class||""}`.trim())&&R(e,"class",O)},d(Z){Z&&G(e),W&&W.d(),I=!1,y(D)}}}function Dr(t){let e,o,l,h,w,O,I,D,W;return{c(){e=St("g"),o=St("circle"),h=St("circle"),O=St("circle"),R(o,"cx",t[0]),R(o,"cy",t[1]),R(o,"r",l=t[5]*10),R(o,"class","a9s-touch-halo"),Gt(o,"touched",t[4]),R(h,"cx",t[0]),R(h,"cy",t[1]),R(h,"r",w=t[5]+10/t[2]),R(h,"class","a9s-handle-buffer svelte-qtyc7s"),R(h,"role","button"),R(h,"tabindex","0"),R(O,"class","a9s-handle-dot"),R(O,"cx",t[0]),R(O,"cy",t[1]),R(O,"r",I=t[5]+2/t[2]),R(e,"class","a9s-touch-handle")},m(Z,J){ft(Z,e,J),ut(e,o),ut(e,h),ut(e,O),D||(W=[zt(h,"dblclick",t[9]),zt(h,"pointerdown",t[10]),zt(h,"pointerdown",t[6]),zt(h,"pointerup",t[11]),zt(h,"pointerup",t[7])],D=!0)},p(Z,J){J&1&&R(o,"cx",Z[0]),J&2&&R(o,"cy",Z[1]),J&32&&l!==(l=Z[5]*10)&&R(o,"r",l),J&16&&Gt(o,"touched",Z[4]),J&1&&R(h,"cx",Z[0]),J&2&&R(h,"cy",Z[1]),J&36&&w!==(w=Z[5]+10/Z[2])&&R(h,"r",w),J&1&&R(O,"cx",Z[0]),J&2&&R(O,"cy",Z[1]),J&36&&I!==(I=Z[5]+2/Z[2])&&R(O,"r",I)},d(Z){Z&&G(e),D=!1,y(W)}}}function Er(t){let e,o;return{c(){e=St("circle"),R(e,"class","a9s-handle-selected"),R(e,"cx",t[0]),R(e,"cy",t[1]),R(e,"r",o=t[5]+8/t[2])},m(l,h){ft(l,e,h)},p(l,h){h&1&&R(e,"cx",l[0]),h&2&&R(e,"cy",l[1]),h&36&&o!==(o=l[5]+8/l[2])&&R(e,"r",o)},d(l){l&&G(e)}}}function Tr(t){let e;function o(h,w){return Yn?Dr:Sr}let l=o()(t);return{c(){l.c(),e=kt()},m(h,w){l.m(h,w),ft(h,e,w)},p(h,[w]){l.p(h,w)},i:p,o:p,d(h){h&&G(e),l.d(h)}}}function Nr(t,e,o){let l,{x:h}=e,{y:w}=e,{scale:O}=e,{selected:I=void 0}=e,D=!1;const W=$t=>{$t.pointerType==="touch"&&o(4,D=!0)},Z=()=>o(4,D=!1);function J($t){Ie.call(this,t,$t)}function vt($t){Ie.call(this,t,$t)}function ee($t){Ie.call(this,t,$t)}function Wt($t){Ie.call(this,t,$t)}function Ft($t){Ie.call(this,t,$t)}function He($t){Ie.call(this,t,$t)}function fe($t){Ie.call(this,t,$t)}function Te($t){Ie.call(this,t,$t)}return t.$$set=$t=>{o(8,e=v(v({},e),rt($t))),"x"in $t&&o(0,h=$t.x),"y"in $t&&o(1,w=$t.y),"scale"in $t&&o(2,O=$t.scale),"selected"in $t&&o(3,I=$t.selected)},t.$$.update=()=>{t.$$.dirty&4&&o(5,l=4/O)},e=rt(e),[h,w,O,I,D,l,W,Z,e,J,vt,ee,Wt,Ft,He,fe,Te]}class ar extends yn{constructor(e){super(),Je(this,e,Nr,Tr,F,{x:0,y:1,scale:2,selected:3})}}function or(t){let e,o,l,h,w,O,I;return{c(){e=St("g"),o=St("circle"),h=St("circle"),w=St("circle"),R(o,"class","a9s-polygon-midpoint-buffer svelte-12ykj76"),R(o,"cx",t[0]),R(o,"cy",t[1]),R(o,"r",l=1.75*t[2]),R(h,"class","a9s-polygon-midpoint-outer svelte-12ykj76"),R(h,"cx",t[0]),R(h,"cy",t[1]),R(h,"r",t[2]),R(w,"class","a9s-polygon-midpoint-inner svelte-12ykj76"),R(w,"cx",t[0]),R(w,"cy",t[1]),R(w,"r",t[2]),R(e,"class","a9s-polygon-midpoint svelte-12ykj76")},m(D,W){ft(D,e,W),ut(e,o),ut(e,h),ut(e,w),O||(I=[zt(o,"pointerdown",t[5]),zt(o,"pointerdown",t[3])],O=!0)},p(D,W){W&1&&R(o,"cx",D[0]),W&2&&R(o,"cy",D[1]),W&4&&l!==(l=1.75*D[2])&&R(o,"r",l),W&1&&R(h,"cx",D[0]),W&2&&R(h,"cy",D[1]),W&4&&R(h,"r",D[2]),W&1&&R(w,"cx",D[0]),W&2&&R(w,"cy",D[1]),W&4&&R(w,"r",D[2])},d(D){D&&G(e),O=!1,y(I)}}}function tr(t){let e;return{c(){e=St("circle"),R(e,"cx",t[0]),R(e,"cy",t[1]),R(e,"r",t[2])},m(o,l){ft(o,e,l)},p(o,l){l&1&&R(e,"cx",o[0]),l&2&&R(e,"cy",o[1]),l&4&&R(e,"r",o[2])},d(o){o&&G(e)}}}function yi(t){let e;function o(h,w){return Yn?tr:or}let l=o()(t);return{c(){l.c(),e=kt()},m(h,w){l.m(h,w),ft(h,e,w)},p(h,[w]){l.p(h,w)},i:p,o:p,d(h){h&&G(e),l.d(h)}}}function P(t,e,o){let l,{x:h}=e,{y:w}=e,{scale:O}=e;const I=W=>{W.pointerType};function D(W){Ie.call(this,t,W)}return t.$$set=W=>{"x"in W&&o(0,h=W.x),"y"in W&&o(1,w=W.y),"scale"in W&&o(4,O=W.scale)},t.$$.update=()=>{t.$$.dirty&16&&o(2,l=4/O)},[h,w,l,I,O,D]}class a extends yn{constructor(e){super(),Je(this,e,P,yi,F,{x:0,y:1,scale:4})}}function b(t){const e=t.slice(),o=e[10][e[6]];return e[28]=o.point,e}function N(t,e,o){const l=t.slice();return l[28]=e[o],l[30]=o,l}function st(t){const e=t.slice(),o=e[10][e[6]];return e[28]=o.point,e}function Ot(t){const e=t.slice(),o=e[10][e[6]];return e[28]=o.point,e}function we(t){let e,o,l,h;return{c(){e=St("circle"),R(e,"cx",o=t[28][0]),R(e,"cy",l=t[28][1]),R(e,"r",h=jt/t[3]),R(e,"class","svelte-1h2slbm")},m(w,O){ft(w,e,O)},p(w,O){O[0]&1088&&o!==(o=w[28][0])&&R(e,"cx",o),O[0]&1088&&l!==(l=w[28][1])&&R(e,"cy",l),O[0]&8&&h!==(h=jt/w[3])&&R(e,"r",h)},d(w){w&&G(e)}}}function $e(t){let e,o,l,h,w,O,I,D,W,Z;return{c(){e=St("mask"),o=St("rect"),I=St("circle"),R(o,"x",l=t[9].x),R(o,"y",h=t[9].y),R(o,"width",w=t[9].w),R(o,"height",O=t[9].h),R(o,"class","svelte-1h2slbm"),R(I,"cx",D=t[28][0]),R(I,"cy",W=t[28][1]),R(I,"r",Z=jt/t[3]),R(I,"class","svelte-1h2slbm"),R(e,"id",`${t[19]}-inner`),R(e,"class","a9s-polygon-editor-mask svelte-1h2slbm")},m(J,vt){ft(J,e,vt),ut(e,o),ut(e,I)},p(J,vt){vt[0]&512&&l!==(l=J[9].x)&&R(o,"x",l),vt[0]&512&&h!==(h=J[9].y)&&R(o,"y",h),vt[0]&512&&w!==(w=J[9].w)&&R(o,"width",w),vt[0]&512&&O!==(O=J[9].h)&&R(o,"height",O),vt[0]&1088&&D!==(D=J[28][0])&&R(I,"cx",D),vt[0]&1088&&W!==(W=J[28][1])&&R(I,"cy",W),vt[0]&8&&Z!==(Z=jt/J[3])&&R(I,"r",Z)},d(J){J&&G(e)}}}function Be(t){let e,o;return e=new ar({props:{class:"a9s-corner-handle",x:t[28][0],y:t[28][1],scale:t[3],selected:t[8].includes(t[30])}}),e.$on("pointerenter",t[11]),e.$on("pointerleave",t[12]),e.$on("pointerdown",t[15]),e.$on("pointerdown",function(){E(t[27](`HANDLE-${t[30]}`))&&t[27](`HANDLE-${t[30]}`).apply(this,arguments)}),e.$on("pointerup",t[16](t[30])),{c(){le(e.$$.fragment)},m(l,h){Oe(e,l,h),o=!0},p(l,h){t=l;const w={};h[0]&32&&(w.x=t[28][0]),h[0]&32&&(w.y=t[28][1]),h[0]&8&&(w.scale=t[3]),h[0]&256&&(w.selected=t[8].includes(t[30])),e.$set(w)},i(l){o||(se(e.$$.fragment,l),o=!0)},o(l){mt(e.$$.fragment,l),o=!1},d(l){Xt(e,l)}}}function Rn(t){let e,o;return e=new a({props:{x:t[28][0],y:t[28][1],scale:t[3]}}),e.$on("pointerdown",function(){E(t[18](t[6]))&&t[18](t[6]).apply(this,arguments)}),{c(){le(e.$$.fragment)},m(l,h){Oe(e,l,h),o=!0},p(l,h){t=l;const w={};h[0]&1088&&(w.x=t[28][0]),h[0]&1088&&(w.y=t[28][1]),h[0]&8&&(w.scale=t[3]),e.$set(w)},i(l){o||(se(e.$$.fragment,l),o=!0)},o(l){mt(e.$$.fragment,l),o=!1},d(l){Xt(e,l)}}}function un(t){let e,o,l,h,w,O,I,D,W,Z,J,vt,ee,Wt,Ft,He,fe,Te,$t,Pe,Xe,cn=t[6]!==void 0&&!t[7]&&we(Ot(t)),Ye=t[6]!==void 0&&!t[7]&&$e(st(t)),Hn=Pt(t[5].points),En=[];for(let re=0;re<Hn.length;re+=1)En[re]=Be(N(t,Hn,re));const ki=re=>mt(En[re],1,1,()=>{En[re]=null});let bi=t[6]!==void 0&&!t[7]&&Rn(b(t));return{c(){e=St("defs"),o=St("mask"),l=St("rect"),D=St("polygon"),cn&&cn.c(),Ye&&Ye.c(),Z=m(),J=St("polygon"),ee=m(),Wt=St("polygon"),He=m();for(let re=0;re<En.length;re+=1)En[re].c();fe=m(),bi&&bi.c(),Te=kt(),R(l,"x",h=t[9].x),R(l,"y",w=t[9].y),R(l,"width",O=t[9].w),R(l,"height",I=t[9].h),R(l,"class","svelte-1h2slbm"),R(D,"points",W=t[5].points.map(rn).join(" ")),R(D,"class","svelte-1h2slbm"),R(o,"id",`${t[19]}-outer`),R(o,"class","a9s-polygon-editor-mask svelte-1h2slbm"),R(J,"class","a9s-outer"),R(J,"mask",`url(#${t[19]}-outer)`),R(J,"points",vt=t[5].points.map(An).join(" ")),R(Wt,"class","a9s-inner a9s-shape-handle"),R(Wt,"mask",`url(#${t[19]}-inner)`),R(Wt,"style",t[1]),R(Wt,"points",Ft=t[5].points.map(ni).join(" "))},m(re,xe){ft(re,e,xe),ut(e,o),ut(o,l),ut(o,D),cn&&cn.m(o,null),Ye&&Ye.m(e,null),ft(re,Z,xe),ft(re,J,xe),ft(re,ee,xe),ft(re,Wt,xe),ft(re,He,xe);for(let Ut=0;Ut<En.length;Ut+=1)En[Ut]&&En[Ut].m(re,xe);ft(re,fe,xe),bi&&bi.m(re,xe),ft(re,Te,xe),$t=!0,Pe||(Xe=[zt(J,"pointerup",t[14]),zt(J,"pointerdown",function(){E(t[27]("SHAPE"))&&t[27]("SHAPE").apply(this,arguments)}),zt(Wt,"pointermove",t[13]),zt(Wt,"pointerup",t[14]),zt(Wt,"pointerdown",function(){E(t[27]("SHAPE"))&&t[27]("SHAPE").apply(this,arguments)})],Pe=!0)},p(re,xe){if(t=re,(!$t||xe[0]&512&&h!==(h=t[9].x))&&R(l,"x",h),(!$t||xe[0]&512&&w!==(w=t[9].y))&&R(l,"y",w),(!$t||xe[0]&512&&O!==(O=t[9].w))&&R(l,"width",O),(!$t||xe[0]&512&&I!==(I=t[9].h))&&R(l,"height",I),(!$t||xe[0]&32&&W!==(W=t[5].points.map(rn).join(" ")))&&R(D,"points",W),t[6]!==void 0&&!t[7]?cn?cn.p(Ot(t),xe):(cn=we(Ot(t)),cn.c(),cn.m(o,null)):cn&&(cn.d(1),cn=null),t[6]!==void 0&&!t[7]?Ye?Ye.p(st(t),xe):(Ye=$e(st(t)),Ye.c(),Ye.m(e,null)):Ye&&(Ye.d(1),Ye=null),(!$t||xe[0]&32&&vt!==(vt=t[5].points.map(An).join(" ")))&&R(J,"points",vt),(!$t||xe[0]&2)&&R(Wt,"style",t[1]),(!$t||xe[0]&32&&Ft!==(Ft=t[5].points.map(ni).join(" ")))&&R(Wt,"points",Ft),xe[0]&134322472){Hn=Pt(t[5].points);let Ut;for(Ut=0;Ut<Hn.length;Ut+=1){const oe=N(t,Hn,Ut);En[Ut]?(En[Ut].p(oe,xe),se(En[Ut],1)):(En[Ut]=Be(oe),En[Ut].c(),se(En[Ut],1),En[Ut].m(fe.parentNode,fe))}for(Ee(),Ut=Hn.length;Ut<En.length;Ut+=1)ki(Ut);je()}t[6]!==void 0&&!t[7]?bi?(bi.p(b(t),xe),xe[0]&192&&se(bi,1)):(bi=Rn(b(t)),bi.c(),se(bi,1),bi.m(Te.parentNode,Te)):bi&&(Ee(),mt(bi,1,1,()=>{bi=null}),je())},i(re){if(!$t){for(let xe=0;xe<Hn.length;xe+=1)se(En[xe]);se(bi),$t=!0}},o(re){En=En.filter(Boolean);for(let xe=0;xe<En.length;xe+=1)mt(En[xe]);mt(bi),$t=!1},d(re){re&&(G(e),G(Z),G(J),G(ee),G(Wt),G(He),G(fe),G(Te)),cn&&cn.d(),Ye&&Ye.d(),Ct(En,re),bi&&bi.d(re),Pe=!1,y(Xe)}}}function lt(t){let e,o;return e=new Ir({props:{shape:t[0],transform:t[2],editor:t[17],svgEl:t[4],$$slots:{default:[un,({grab:l})=>({27:l}),({grab:l})=>[l?134217728:0]]},$$scope:{ctx:t}}}),e.$on("change",t[20]),e.$on("grab",t[21]),e.$on("release",t[22]),{c(){le(e.$$.fragment)},m(l,h){Oe(e,l,h),o=!0},p(l,h){const w={};h[0]&1&&(w.shape=l[0]),h[0]&4&&(w.transform=l[2]),h[0]&16&&(w.svgEl=l[4]),h[0]&134219754|h[1]&1&&(w.$$scope={dirty:h,ctx:l}),e.$set(w)},i(l){o||(se(e.$$.fragment,l),o=!0)},o(l){mt(e.$$.fragment,l),o=!1},d(l){Xt(e,l)}}}const Tt=250,pt=1e3,qt=12,jt=4.5,rn=t=>t.join(","),An=t=>t.join(","),ni=t=>t.join(",");function Wn(t,e,o){let l,h,w;const O=Le();let{shape:I}=e,{computedStyle:D}=e,{transform:W}=e,{viewportScale:Z=1}=e,{svgEl:J}=e,vt,ee=!1,Wt,Ft=[];const He=()=>o(7,ee=!0),fe=()=>o(7,ee=!1),Te=Ut=>{if(Ft.length>0||!h.some(ui=>ui.visible)){o(6,vt=void 0);return}const[oe,nn]=W.elementToImage(Ut.offsetX,Ut.offsetY),Ke=ui=>Math.pow(ui[0]-oe,2)+Math.pow(ui[1]-nn,2),pn=l.points.reduce((ui,wi)=>Ke(wi)<Ke(ui)?wi:ui),fi=h.filter(ui=>ui.visible).reduce((ui,wi)=>Ke(wi.point)<Ke(ui.point)?wi:ui),Zn=Math.pow(pt/Z,2);Ke(pn)<Zn||Ke(fi.point)<Zn?o(6,vt=h.indexOf(fi)):o(6,vt=void 0)},$t=()=>{document.activeElement!==J&&J.focus()},Pe=()=>{o(8,Ft=[]),$t()},Xe=Ut=>{o(7,ee=!0),Ut.preventDefault(),Ut.stopPropagation(),Wt=performance.now()},cn=Ut=>oe=>{if(!Wt||Yn||performance.now()-Wt>Tt)return;const nn=Ft.includes(Ut);oe.metaKey||oe.ctrlKey||oe.shiftKey?nn?o(8,Ft=Ft.filter(Ke=>Ke!==Ut)):o(8,Ft=[...Ft,Ut]):nn&&Ft.length>1?o(8,Ft=[Ut]):nn?o(8,Ft=[]):o(8,Ft=[Ut]),$t()},Ye=(Ut,oe,nn)=>{$t();let Ke;const pn=Ut.geometry;Ft.length>1?Ke=pn.points.map(([Zn,ui],wi)=>Ft.includes(wi)?[Zn+nn[0],ui+nn[1]]:[Zn,ui]):oe==="SHAPE"?Ke=pn.points.map(([Zn,ui])=>[Zn+nn[0],ui+nn[1]]):Ke=pn.points.map(([Zn,ui],wi)=>oe===`HANDLE-${wi}`?[Zn+nn[0],ui+nn[1]]:[Zn,ui]);const fi=gt(Ke);return{...Ut,geometry:{points:Ke,bounds:fi}}},Hn=Ut=>async oe=>{oe.stopPropagation();const nn=[...l.points.slice(0,Ut+1),h[Ut].point,...l.points.slice(Ut+1)],Ke=gt(nn);O("change",{...I,geometry:{points:nn,bounds:Ke}}),await Bt();const pn=[...document.querySelectorAll(".a9s-handle")][Ut+1];if(pn!=null&&pn.firstChild){const fi=new PointerEvent("pointerdown",{bubbles:!0,cancelable:!0,clientX:oe.clientX,clientY:oe.clientY,pointerId:oe.pointerId,pointerType:oe.pointerType,isPrimary:oe.isPrimary,buttons:oe.buttons});pn.firstChild.dispatchEvent(fi)}},En=()=>{if(l.points.length-Ft.length<3)return;const Ut=l.points.filter((nn,Ke)=>!Ft.includes(Ke)),oe=gt(Ut);O("change",{...I,geometry:{points:Ut,bounds:oe}}),o(8,Ft=[])};ve(()=>{if(Yn)return;const Ut=oe=>{(oe.key==="Delete"||oe.key==="Backspace")&&(oe.preventDefault(),En())};return J.addEventListener("pointermove",Te),J.addEventListener("keydown",Ut),()=>{J.removeEventListener("pointermove",Te),J.removeEventListener("keydown",Ut)}});const ki=`polygon-mask-${Math.random().toString(36).substring(2,12)}`;function bi(Ut){Ie.call(this,t,Ut)}function re(Ut){Ie.call(this,t,Ut)}function xe(Ut){Ie.call(this,t,Ut)}return t.$$set=Ut=>{"shape"in Ut&&o(0,I=Ut.shape),"computedStyle"in Ut&&o(1,D=Ut.computedStyle),"transform"in Ut&&o(2,W=Ut.transform),"viewportScale"in Ut&&o(3,Z=Ut.viewportScale),"svgEl"in Ut&&o(4,J=Ut.svgEl)},t.$$.update=()=>{t.$$.dirty[0]&1&&o(5,l=I.geometry),t.$$.dirty[0]&40&&o(10,h=Yn?[]:l.points.map((Ut,oe)=>{const nn=oe===l.points.length-1?l.points[0]:l.points[oe+1],Ke=(Ut[0]+nn[0])/2,pn=(Ut[1]+nn[1])/2,fi=Math.sqrt(Math.pow(nn[0]-Ke,2)+Math.pow(nn[1]-pn,2))>qt/Z;return{point:[Ke,pn],visible:fi}})),t.$$.dirty[0]&40&&o(9,w=hr(l.bounds,jt/Z))},[I,D,W,Z,J,l,vt,ee,Ft,w,h,He,fe,Te,Pe,Xe,cn,Ye,Hn,ki,bi,re,xe]}class Se extends yn{constructor(e){super(),Je(this,e,Wn,lt,F,{shape:0,computedStyle:1,transform:2,viewportScale:3,svgEl:4},null,[-1,-1])}}function Re(t){let e,o,l,h,w,O,I,D,W,Z,J,vt,ee,Wt,Ft,He,fe,Te,$t,Pe,Xe,cn,Ye,Hn,En,ki,bi,re,xe,Ut,oe,nn,Ke,pn,fi,Zn,ui,wi,cr,wr,sr,Lr,Hr,qn,mr,Hi,vr,Mr,Br,zr,po,jr,Ri,ho,$o;return Hi=new ar({props:{class:"a9s-corner-handle-topleft",x:t[5].x,y:t[5].y,scale:t[3]}}),Hi.$on("pointerdown",function(){E(t[12]("TOP_LEFT"))&&t[12]("TOP_LEFT").apply(this,arguments)}),Mr=new ar({props:{class:"a9s-corner-handle-topright",x:t[5].x+t[5].w,y:t[5].y,scale:t[3]}}),Mr.$on("pointerdown",function(){E(t[12]("TOP_RIGHT"))&&t[12]("TOP_RIGHT").apply(this,arguments)}),zr=new ar({props:{class:"a9s-corner-handle-bottomright",x:t[5].x+t[5].w,y:t[5].y+t[5].h,scale:t[3]}}),zr.$on("pointerdown",function(){E(t[12]("BOTTOM_RIGHT"))&&t[12]("BOTTOM_RIGHT").apply(this,arguments)}),jr=new ar({props:{class:"a9s-corner-handle-bottomleft",x:t[5].x,y:t[5].y+t[5].h,scale:t[3]}}),jr.$on("pointerdown",function(){E(t[12]("BOTTOM_LEFT"))&&t[12]("BOTTOM_LEFT").apply(this,arguments)}),{c(){e=St("defs"),o=St("mask"),l=St("rect"),D=St("rect"),ee=m(),Wt=St("rect"),$t=m(),Pe=St("rect"),En=m(),ki=St("rect"),Ut=m(),oe=St("rect"),fi=m(),Zn=St("rect"),wr=m(),sr=St("rect"),mr=m(),le(Hi.$$.fragment),vr=m(),le(Mr.$$.fragment),Br=m(),le(zr.$$.fragment),po=m(),le(jr.$$.fragment),R(l,"class","rect-mask-bg svelte-1njczvj"),R(l,"x",h=t[6].x),R(l,"y",w=t[6].y),R(l,"width",O=t[6].w),R(l,"height",I=t[6].h),R(D,"class","rect-mask-fg svelte-1njczvj"),R(D,"x",W=t[5].x),R(D,"y",Z=t[5].y),R(D,"width",J=t[5].w),R(D,"height",vt=t[5].h),R(o,"id",t[8]),R(o,"class","a9s-rectangle-editor-mask svelte-1njczvj"),R(Wt,"class","a9s-outer"),R(Wt,"mask",`url(#${t[8]})`),R(Wt,"x",Ft=t[5].x),R(Wt,"y",He=t[5].y),R(Wt,"width",fe=t[5].w),R(Wt,"height",Te=t[5].h),R(Pe,"class","a9s-inner a9s-shape-handle"),R(Pe,"style",t[1]),R(Pe,"x",Xe=t[5].x),R(Pe,"y",cn=t[5].y),R(Pe,"width",Ye=t[5].w),R(Pe,"height",Hn=t[5].h),R(ki,"class","a9s-edge-handle a9s-edge-handle-top"),R(ki,"x",bi=t[5].x),R(ki,"y",re=t[5].y),R(ki,"height",1),R(ki,"width",xe=t[5].w),R(oe,"class","a9s-edge-handle a9s-edge-handle-right"),R(oe,"x",nn=t[5].x+t[5].w),R(oe,"y",Ke=t[5].y),R(oe,"height",pn=t[5].h),R(oe,"width",1),R(Zn,"class","a9s-edge-handle a9s-edge-handle-bottom"),R(Zn,"x",ui=t[5].x),R(Zn,"y",wi=t[5].y+t[5].h),R(Zn,"height",1),R(Zn,"width",cr=t[5].w),R(sr,"class","a9s-edge-handle a9s-edge-handle-left"),R(sr,"x",Lr=t[5].x),R(sr,"y",Hr=t[5].y),R(sr,"height",qn=t[5].h),R(sr,"width",1)},m(Ai,Pn){ft(Ai,e,Pn),ut(e,o),ut(o,l),ut(o,D),ft(Ai,ee,Pn),ft(Ai,Wt,Pn),ft(Ai,$t,Pn),ft(Ai,Pe,Pn),ft(Ai,En,Pn),ft(Ai,ki,Pn),ft(Ai,Ut,Pn),ft(Ai,oe,Pn),ft(Ai,fi,Pn),ft(Ai,Zn,Pn),ft(Ai,wr,Pn),ft(Ai,sr,Pn),ft(Ai,mr,Pn),Oe(Hi,Ai,Pn),ft(Ai,vr,Pn),Oe(Mr,Ai,Pn),ft(Ai,Br,Pn),Oe(zr,Ai,Pn),ft(Ai,po,Pn),Oe(jr,Ai,Pn),Ri=!0,ho||($o=[zt(Wt,"pointerdown",function(){E(t[12]("SHAPE"))&&t[12]("SHAPE").apply(this,arguments)}),zt(Pe,"pointerdown",function(){E(t[12]("SHAPE"))&&t[12]("SHAPE").apply(this,arguments)}),zt(ki,"pointerdown",function(){E(t[12]("TOP"))&&t[12]("TOP").apply(this,arguments)}),zt(oe,"pointerdown",function(){E(t[12]("RIGHT"))&&t[12]("RIGHT").apply(this,arguments)}),zt(Zn,"pointerdown",function(){E(t[12]("BOTTOM"))&&t[12]("BOTTOM").apply(this,arguments)}),zt(sr,"pointerdown",function(){E(t[12]("LEFT"))&&t[12]("LEFT").apply(this,arguments)})],ho=!0)},p(Ai,Pn){t=Ai,(!Ri||Pn&64&&h!==(h=t[6].x))&&R(l,"x",h),(!Ri||Pn&64&&w!==(w=t[6].y))&&R(l,"y",w),(!Ri||Pn&64&&O!==(O=t[6].w))&&R(l,"width",O),(!Ri||Pn&64&&I!==(I=t[6].h))&&R(l,"height",I),(!Ri||Pn&32&&W!==(W=t[5].x))&&R(D,"x",W),(!Ri||Pn&32&&Z!==(Z=t[5].y))&&R(D,"y",Z),(!Ri||Pn&32&&J!==(J=t[5].w))&&R(D,"width",J),(!Ri||Pn&32&&vt!==(vt=t[5].h))&&R(D,"height",vt),(!Ri||Pn&32&&Ft!==(Ft=t[5].x))&&R(Wt,"x",Ft),(!Ri||Pn&32&&He!==(He=t[5].y))&&R(Wt,"y",He),(!Ri||Pn&32&&fe!==(fe=t[5].w))&&R(Wt,"width",fe),(!Ri||Pn&32&&Te!==(Te=t[5].h))&&R(Wt,"height",Te),(!Ri||Pn&2)&&R(Pe,"style",t[1]),(!Ri||Pn&32&&Xe!==(Xe=t[5].x))&&R(Pe,"x",Xe),(!Ri||Pn&32&&cn!==(cn=t[5].y))&&R(Pe,"y",cn),(!Ri||Pn&32&&Ye!==(Ye=t[5].w))&&R(Pe,"width",Ye),(!Ri||Pn&32&&Hn!==(Hn=t[5].h))&&R(Pe,"height",Hn),(!Ri||Pn&32&&bi!==(bi=t[5].x))&&R(ki,"x",bi),(!Ri||Pn&32&&re!==(re=t[5].y))&&R(ki,"y",re),(!Ri||Pn&32&&xe!==(xe=t[5].w))&&R(ki,"width",xe),(!Ri||Pn&32&&nn!==(nn=t[5].x+t[5].w))&&R(oe,"x",nn),(!Ri||Pn&32&&Ke!==(Ke=t[5].y))&&R(oe,"y",Ke),(!Ri||Pn&32&&pn!==(pn=t[5].h))&&R(oe,"height",pn),(!Ri||Pn&32&&ui!==(ui=t[5].x))&&R(Zn,"x",ui),(!Ri||Pn&32&&wi!==(wi=t[5].y+t[5].h))&&R(Zn,"y",wi),(!Ri||Pn&32&&cr!==(cr=t[5].w))&&R(Zn,"width",cr),(!Ri||Pn&32&&Lr!==(Lr=t[5].x))&&R(sr,"x",Lr),(!Ri||Pn&32&&Hr!==(Hr=t[5].y))&&R(sr,"y",Hr),(!Ri||Pn&32&&qn!==(qn=t[5].h))&&R(sr,"height",qn);const Zr={};Pn&32&&(Zr.x=t[5].x),Pn&32&&(Zr.y=t[5].y),Pn&8&&(Zr.scale=t[3]),Hi.$set(Zr);const Jr={};Pn&32&&(Jr.x=t[5].x+t[5].w),Pn&32&&(Jr.y=t[5].y),Pn&8&&(Jr.scale=t[3]),Mr.$set(Jr);const to={};Pn&32&&(to.x=t[5].x+t[5].w),Pn&32&&(to.y=t[5].y+t[5].h),Pn&8&&(to.scale=t[3]),zr.$set(to);const eo={};Pn&32&&(eo.x=t[5].x),Pn&32&&(eo.y=t[5].y+t[5].h),Pn&8&&(eo.scale=t[3]),jr.$set(eo)},i(Ai){Ri||(se(Hi.$$.fragment,Ai),se(Mr.$$.fragment,Ai),se(zr.$$.fragment,Ai),se(jr.$$.fragment,Ai),Ri=!0)},o(Ai){mt(Hi.$$.fragment,Ai),mt(Mr.$$.fragment,Ai),mt(zr.$$.fragment,Ai),mt(jr.$$.fragment,Ai),Ri=!1},d(Ai){Ai&&(G(e),G(ee),G(Wt),G($t),G(Pe),G(En),G(ki),G(Ut),G(oe),G(fi),G(Zn),G(wr),G(sr),G(mr),G(vr),G(Br),G(po)),Xt(Hi,Ai),Xt(Mr,Ai),Xt(zr,Ai),Xt(jr,Ai),ho=!1,y($o)}}}function Y(t){let e,o;return e=new Ir({props:{shape:t[0],transform:t[2],editor:t[7],svgEl:t[4],$$slots:{default:[Re,({grab:l})=>({12:l}),({grab:l})=>l?4096:0]},$$scope:{ctx:t}}}),e.$on("grab",t[9]),e.$on("change",t[10]),e.$on("release",t[11]),{c(){le(e.$$.fragment)},m(l,h){Oe(e,l,h),o=!0},p(l,[h]){const w={};h&1&&(w.shape=l[0]),h&4&&(w.transform=l[2]),h&16&&(w.svgEl=l[4]),h&12394&&(w.$$scope={dirty:h,ctx:l}),e.$set(w)},i(l){o||(se(e.$$.fragment,l),o=!0)},o(l){mt(e.$$.fragment,l),o=!1},d(l){Xt(e,l)}}}function ct(t,e,o){let l,h,{shape:w}=e,{computedStyle:O}=e,{transform:I}=e,{viewportScale:D=1}=e,{svgEl:W}=e;const Z=(Ft,He,fe)=>{const Te=Ft.geometry.bounds;let[$t,Pe]=[Te.minX,Te.minY],[Xe,cn]=[Te.maxX,Te.maxY];const[Ye,Hn]=fe;if(He==="SHAPE")$t+=Ye,Xe+=Ye,Pe+=Hn,cn+=Hn;else{switch(He){case"TOP":case"TOP_LEFT":case"TOP_RIGHT":{Pe+=Hn;break}case"BOTTOM":case"BOTTOM_LEFT":case"BOTTOM_RIGHT":{cn+=Hn;break}}switch(He){case"LEFT":case"TOP_LEFT":case"BOTTOM_LEFT":{$t+=Ye;break}case"RIGHT":case"TOP_RIGHT":case"BOTTOM_RIGHT":{Xe+=Ye;break}}}const En=Math.min($t,Xe),ki=Math.min(Pe,cn),bi=Math.abs(Xe-$t),re=Math.abs(cn-Pe);return{...Ft,geometry:{x:En,y:ki,w:bi,h:re,bounds:{minX:En,minY:ki,maxX:En+bi,maxY:ki+re}}}},J=`rect-mask-${Math.random().toString(36).substring(2,12)}`;function vt(Ft){Ie.call(this,t,Ft)}function ee(Ft){Ie.call(this,t,Ft)}function Wt(Ft){Ie.call(this,t,Ft)}return t.$$set=Ft=>{"shape"in Ft&&o(0,w=Ft.shape),"computedStyle"in Ft&&o(1,O=Ft.computedStyle),"transform"in Ft&&o(2,I=Ft.transform),"viewportScale"in Ft&&o(3,D=Ft.viewportScale),"svgEl"in Ft&&o(4,W=Ft.svgEl)},t.$$.update=()=>{t.$$.dirty&1&&o(5,l=w.geometry),t.$$.dirty&40&&o(6,h=hr(l.bounds,2/D))},[w,O,I,D,W,l,h,Z,J,vt,ee,Wt]}class Yt extends yn{constructor(e){super(),Je(this,e,ct,Y,F,{shape:0,computedStyle:1,transform:2,viewportScale:3,svgEl:4})}}var ae=Object.prototype.hasOwnProperty;function Ae(t,e){var o,l;if(t===e)return!0;if(t&&e&&(o=t.constructor)===e.constructor){if(o===Date)return t.getTime()===e.getTime();if(o===RegExp)return t.toString()===e.toString();if(o===Array){if((l=t.length)===e.length)for(;l--&&Ae(t[l],e[l]););return l===-1}if(!o||typeof t=="object"){l=0;for(o in t)if(ae.call(t,o)&&++l&&!ae.call(e,o)||!(o in e)||!Ae(t[o],e[o]))return!1;return Object.keys(e).length===l}}return t!==t&&e!==e}const dn=12,mn=(t,e)=>t.polygons.reduce((o,l,h)=>{const w=l.rings.reduce((O,I,D)=>{const W=I.points.map((Z,J)=>{const vt=J===I.points.length-1?I.points[0]:I.points[J+1],ee=(Z[0]+vt[0])/2,Wt=(Z[1]+vt[1])/2,Ft=Math.sqrt(Math.pow(vt[0]-ee,2)+Math.pow(vt[1]-Wt,2))>dn/e;return{point:[ee,Wt],visible:Ft,elementIdx:h,ringIdx:D,pointIdx:J}});return[...O,...W]},[]);return[...o,...w]},[]);function Sn(t){const e=t.slice(),o=e[10][e[6]];return e[29]=o.point,e}function fn(t,e,o){const l=t.slice();return l[30]=e[o],l[32]=o,l}function Ti(t,e,o){const l=t.slice();return l[33]=e[o],l[35]=o,l}function ii(t,e,o){const l=t.slice();return l[29]=e[o],l[37]=o,l}function oi(t){const e=t.slice(),o=e[10][e[6]];return e[29]=o.point,e}function Ei(t){const e=t.slice(),o=e[10][e[6]];return e[29]=o.point,e}function Kn(t){let e,o,l,h;return{c(){e=St("circle"),R(e,"cx",o=t[29][0]),R(e,"cy",l=t[29][1]),R(e,"r",h=Rr/t[3]),R(e,"class","svelte-1vxo6dc")},m(w,O){ft(w,e,O)},p(w,O){O[0]&1088&&o!==(o=w[29][0])&&R(e,"cx",o),O[0]&1088&&l!==(l=w[29][1])&&R(e,"cy",l),O[0]&8&&h!==(h=Rr/w[3])&&R(e,"r",h)},d(w){w&&G(e)}}}function lr(t){let e,o,l,h,w,O,I,D,W,Z;return{c(){e=St("mask"),o=St("rect"),I=St("circle"),R(o,"x",l=t[9].x),R(o,"y",h=t[9].y),R(o,"width",w=t[9].w),R(o,"height",O=t[9].h),R(o,"class","svelte-1vxo6dc"),R(I,"cx",D=t[29][0]),R(I,"cy",W=t[29][1]),R(I,"r",Z=Rr/t[3]),R(I,"class","svelte-1vxo6dc"),R(e,"id",`${t[18]}-${t[32]}-inner`),R(e,"class","a9s-multipolygon-editor-mask svelte-1vxo6dc")},m(J,vt){ft(J,e,vt),ut(e,o),ut(e,I)},p(J,vt){vt[0]&512&&l!==(l=J[9].x)&&R(o,"x",l),vt[0]&512&&h!==(h=J[9].y)&&R(o,"y",h),vt[0]&512&&w!==(w=J[9].w)&&R(o,"width",w),vt[0]&512&&O!==(O=J[9].h)&&R(o,"height",O),vt[0]&1088&&D!==(D=J[29][0])&&R(I,"cx",D),vt[0]&1088&&W!==(W=J[29][1])&&R(I,"cy",W),vt[0]&8&&Z!==(Z=Rr/J[3])&&R(I,"r",Z)},d(J){J&&G(e)}}}function gr(t){let e,o;function l(...h){return t[19](t[32],t[35],t[37],...h)}return e=new ar({props:{class:"a9s-corner-handle",x:t[29][0],y:t[29][1],scale:t[3],selected:t[8].some(l)}}),e.$on("pointerenter",t[11]),e.$on("pointerleave",t[12]),e.$on("pointerdown",t[14]),e.$on("pointerdown",function(){E(t[28](`HANDLE-${t[32]}-${t[35]}-${t[37]}`))&&t[28](`HANDLE-${t[32]}-${t[35]}-${t[37]}`).apply(this,arguments)}),e.$on("pointerup",t[15](t[32],t[35],t[37])),{c(){le(e.$$.fragment)},m(h,w){Oe(e,h,w),o=!0},p(h,w){t=h;const O={};w[0]&32&&(O.x=t[29][0]),w[0]&32&&(O.y=t[29][1]),w[0]&8&&(O.scale=t[3]),w[0]&256&&(O.selected=t[8].some(l)),e.$set(O)},i(h){o||(se(e.$$.fragment,h),o=!0)},o(h){mt(e.$$.fragment,h),o=!1},d(h){Xt(e,h)}}}function dr(t){let e,o,l=Pt(t[33].points),h=[];for(let O=0;O<l.length;O+=1)h[O]=gr(ii(t,l,O));const w=O=>mt(h[O],1,1,()=>{h[O]=null});return{c(){for(let O=0;O<h.length;O+=1)h[O].c();e=kt()},m(O,I){for(let D=0;D<h.length;D+=1)h[D]&&h[D].m(O,I);ft(O,e,I),o=!0},p(O,I){if(I[0]&268491048){l=Pt(O[33].points);let D;for(D=0;D<l.length;D+=1){const W=ii(O,l,D);h[D]?(h[D].p(W,I),se(h[D],1)):(h[D]=gr(W),h[D].c(),se(h[D],1),h[D].m(e.parentNode,e))}for(Ee(),D=l.length;D<h.length;D+=1)w(D);je()}},i(O){if(!o){for(let I=0;I<l.length;I+=1)se(h[I]);o=!0}},o(O){h=h.filter(Boolean);for(let I=0;I<h.length;I+=1)mt(h[I]);o=!1},d(O){O&&G(e),Ct(h,O)}}}function br(t){let e,o,l,h,w,O,I,D,W,Z,J,vt,ee,Wt,Ft,He,fe,Te=t[6]!==void 0&&!t[7]&&Kn(Ei(t)),$t=t[6]!==void 0&&!t[7]&&lr(oi(t)),Pe=Pt(t[30].rings),Xe=[];for(let Ye=0;Ye<Pe.length;Ye+=1)Xe[Ye]=dr(Ti(t,Pe,Ye));const cn=Ye=>mt(Xe[Ye],1,1,()=>{Xe[Ye]=null});return{c(){e=St("g"),o=St("defs"),l=St("mask"),h=St("rect"),W=St("path"),Te&&Te.c(),$t&&$t.c(),J=St("path"),ee=St("path");for(let Ye=0;Ye<Xe.length;Ye+=1)Xe[Ye].c();R(h,"x",w=t[9].x),R(h,"y",O=t[9].y),R(h,"width",I=t[9].w),R(h,"height",D=t[9].h),R(h,"class","svelte-1vxo6dc"),R(W,"d",Z=We(t[30])),R(W,"class","svelte-1vxo6dc"),R(l,"id",`${t[18]}-${t[32]}-outer`),R(l,"class","a9s-multipolygon-editor-mask svelte-1vxo6dc"),R(J,"class","a9s-outer"),R(J,"mask",`url(#${t[18]}-${t[32]}-outer)`),R(J,"fill-rule","evenodd"),R(J,"d",vt=We(t[30])),R(ee,"class","a9s-inner"),R(ee,"mask",`url(#${t[18]}-${t[32]}-inner)`),R(ee,"style",t[1]),R(ee,"fill-rule","evenodd"),R(ee,"d",Wt=We(t[30]))},m(Ye,Hn){ft(Ye,e,Hn),ut(e,o),ut(o,l),ut(l,h),ut(l,W),Te&&Te.m(l,null),$t&&$t.m(o,null),ut(e,J),ut(e,ee);for(let En=0;En<Xe.length;En+=1)Xe[En]&&Xe[En].m(e,null);Ft=!0,He||(fe=[zt(J,"pointerup",t[13]),zt(J,"pointerdown",function(){E(t[28]("SHAPE"))&&t[28]("SHAPE").apply(this,arguments)}),zt(ee,"pointerup",t[13]),zt(ee,"pointerdown",function(){E(t[28]("SHAPE"))&&t[28]("SHAPE").apply(this,arguments)})],He=!0)},p(Ye,Hn){if(t=Ye,(!Ft||Hn[0]&512&&w!==(w=t[9].x))&&R(h,"x",w),(!Ft||Hn[0]&512&&O!==(O=t[9].y))&&R(h,"y",O),(!Ft||Hn[0]&512&&I!==(I=t[9].w))&&R(h,"width",I),(!Ft||Hn[0]&512&&D!==(D=t[9].h))&&R(h,"height",D),(!Ft||Hn[0]&32&&Z!==(Z=We(t[30])))&&R(W,"d",Z),t[6]!==void 0&&!t[7]?Te?Te.p(Ei(t),Hn):(Te=Kn(Ei(t)),Te.c(),Te.m(l,null)):Te&&(Te.d(1),Te=null),t[6]!==void 0&&!t[7]?$t?$t.p(oi(t),Hn):($t=lr(oi(t)),$t.c(),$t.m(o,null)):$t&&($t.d(1),$t=null),(!Ft||Hn[0]&32&&vt!==(vt=We(t[30])))&&R(J,"d",vt),(!Ft||Hn[0]&2)&&R(ee,"style",t[1]),(!Ft||Hn[0]&32&&Wt!==(Wt=We(t[30])))&&R(ee,"d",Wt),Hn[0]&268491048){Pe=Pt(t[30].rings);let En;for(En=0;En<Pe.length;En+=1){const ki=Ti(t,Pe,En);Xe[En]?(Xe[En].p(ki,Hn),se(Xe[En],1)):(Xe[En]=dr(ki),Xe[En].c(),se(Xe[En],1),Xe[En].m(e,null))}for(Ee(),En=Pe.length;En<Xe.length;En+=1)cn(En);je()}},i(Ye){if(!Ft){for(let Hn=0;Hn<Pe.length;Hn+=1)se(Xe[Hn]);Ft=!0}},o(Ye){Xe=Xe.filter(Boolean);for(let Hn=0;Hn<Xe.length;Hn+=1)mt(Xe[Hn]);Ft=!1},d(Ye){Ye&&G(e),Te&&Te.d(),$t&&$t.d(),Ct(Xe,Ye),He=!1,y(fe)}}}function xr(t){let e,o;return e=new a({props:{x:t[29][0],y:t[29][1],scale:t[3]}}),e.$on("pointerdown",function(){E(t[17](t[6]))&&t[17](t[6]).apply(this,arguments)}),{c(){le(e.$$.fragment)},m(l,h){Oe(e,l,h),o=!0},p(l,h){t=l;const w={};h[0]&1088&&(w.x=t[29][0]),h[0]&1088&&(w.y=t[29][1]),h[0]&8&&(w.scale=t[3]),e.$set(w)},i(l){o||(se(e.$$.fragment,l),o=!0)},o(l){mt(e.$$.fragment,l),o=!1},d(l){Xt(e,l)}}}function Cr(t){let e,o,l,h=Pt(t[5].polygons),w=[];for(let D=0;D<h.length;D+=1)w[D]=br(fn(t,h,D));const O=D=>mt(w[D],1,1,()=>{w[D]=null});let I=t[6]!==void 0&&!t[7]&&xr(Sn(t));return{c(){for(let D=0;D<w.length;D+=1)w[D].c();e=m(),I&&I.c(),o=kt()},m(D,W){for(let Z=0;Z<w.length;Z+=1)w[Z]&&w[Z].m(D,W);ft(D,e,W),I&&I.m(D,W),ft(D,o,W),l=!0},p(D,W){if(W[0]&268763114){h=Pt(D[5].polygons);let Z;for(Z=0;Z<h.length;Z+=1){const J=fn(D,h,Z);w[Z]?(w[Z].p(J,W),se(w[Z],1)):(w[Z]=br(J),w[Z].c(),se(w[Z],1),w[Z].m(e.parentNode,e))}for(Ee(),Z=h.length;Z<w.length;Z+=1)O(Z);je()}D[6]!==void 0&&!D[7]?I?(I.p(Sn(D),W),W[0]&192&&se(I,1)):(I=xr(Sn(D)),I.c(),se(I,1),I.m(o.parentNode,o)):I&&(Ee(),mt(I,1,1,()=>{I=null}),je())},i(D){if(!l){for(let W=0;W<h.length;W+=1)se(w[W]);se(I),l=!0}},o(D){w=w.filter(Boolean);for(let W=0;W<w.length;W+=1)mt(w[W]);mt(I),l=!1},d(D){D&&(G(e),G(o)),Ct(w,D),I&&I.d(D)}}}function Yi(t){let e,o;return e=new Ir({props:{shape:t[0],transform:t[2],editor:t[16],svgEl:t[4],$$slots:{default:[Cr,({grab:l})=>({28:l}),({grab:l})=>[l?268435456:0]]},$$scope:{ctx:t}}}),e.$on("change",t[20]),e.$on("grab",t[21]),e.$on("release",t[22]),{c(){le(e.$$.fragment)},m(l,h){Oe(e,l,h),o=!0},p(l,h){const w={};h[0]&1&&(w.shape=l[0]),h[0]&4&&(w.transform=l[2]),h[0]&16&&(w.svgEl=l[4]),h[0]&268437482|h[1]&128&&(w.$$scope={dirty:h,ctx:l}),e.$set(w)},i(l){o||(se(e.$$.fragment,l),o=!0)},o(l){mt(e.$$.fragment,l),o=!1},d(l){Xt(e,l)}}}const Fr=250,kr=1e3,Rr=4.5;function Xr(t,e,o){let l,h,w;const O=Le();let{shape:I}=e,{computedStyle:D}=e,{transform:W}=e,{viewportScale:Z=1}=e,{svgEl:J}=e,vt,ee=!1,Wt,Ft=[];const He=()=>o(7,ee=!0),fe=()=>o(7,ee=!1),Te=oe=>{if(Ft.length>0||!h.some(wi=>wi.visible)){o(6,vt=void 0);return}const[nn,Ke]=W.elementToImage(oe.offsetX,oe.offsetY),pn=wi=>Math.pow(wi[0]-nn,2)+Math.pow(wi[1]-Ke,2),fi=Jn(l).reduce((wi,cr)=>pn(cr)<pn(wi)?cr:wi),Zn=h.filter(wi=>wi.visible).reduce((wi,cr)=>pn(cr.point)<pn(wi.point)?cr:wi),ui=Math.pow(kr/Z,2);pn(fi)<ui||pn(Zn.point)<ui?o(6,vt=h.indexOf(Zn)):o(6,vt=void 0)},$t=()=>{document.activeElement!==J&&J.focus()},Pe=()=>{o(8,Ft=[]),$t()},Xe=oe=>{o(7,ee=!0),oe.preventDefault(),oe.stopPropagation(),Wt=performance.now()},cn=(oe,nn,Ke)=>pn=>{if(!Wt||Yn||performance.now()-Wt>Fr)return;const fi=ui=>ui.polygon===oe&&ui.ring===nn&&ui.point===Ke,Zn=Ft.some(fi);pn.metaKey||pn.ctrlKey||pn.shiftKey?Zn?o(8,Ft=Ft.filter(ui=>!fi(ui))):o(8,Ft=[...Ft,{polygon:oe,ring:nn,point:Ke}]):Zn&&Ft.length>1?o(8,Ft=[{polygon:oe,ring:nn,point:Ke}]):Zn?o(8,Ft=[]):o(8,Ft=[{polygon:oe,ring:nn,point:Ke}]),$t()},Ye=(oe,nn,Ke)=>{$t();const pn=oe.geometry.polygons;let fi;if(nn==="SHAPE")fi=pn.map(Zn=>{const ui=Zn.rings.map((cr,wr)=>({points:cr.points.map((sr,Lr)=>[sr[0]+Ke[0],sr[1]+Ke[1]])})),wi=gt(ui[0].points);return{rings:ui,bounds:wi}});else{const[Zn,ui,wi,cr]=nn.split("-").map(wr=>parseInt(wr));fi=pn.map((wr,sr)=>{if(sr===ui){const Lr=wr.rings.map((qn,mr)=>mr===wi?{points:qn.points.map((Hi,vr)=>vr===cr?[Hi[0]+Ke[0],Hi[1]+Ke[1]]:Hi)}:qn),Hr=gt(Lr[0].points);return{rings:Lr,bounds:Hr}}else return wr})}return{...oe,geometry:{polygons:fi,bounds:Ge(fi)}}},Hn=oe=>async nn=>{nn.stopPropagation();const Ke=h[oe],pn=l.polygons.map((Zn,ui)=>{if(ui===Ke.elementIdx){const wi=Zn.rings.map((wr,sr)=>sr===Ke.ringIdx?{points:[...wr.points.slice(0,Ke.pointIdx+1),Ke.point,...wr.points.slice(Ke.pointIdx+1)]}:wr),cr=gt(wi[0].points);return{rings:wi,bounds:cr}}else return Zn});O("change",{...I,geometry:{polygons:pn,bounds:Ge(pn)}}),await Bt();const fi=[...document.querySelectorAll(".a9s-handle")][oe+1];if(fi!=null&&fi.firstChild){const Zn=new PointerEvent("pointerdown",{bubbles:!0,cancelable:!0,clientX:nn.clientX,clientY:nn.clientY,pointerId:nn.pointerId,pointerType:nn.pointerType,isPrimary:nn.isPrimary,buttons:nn.buttons});fi.firstChild.dispatchEvent(Zn)}},En=()=>{const oe=l.polygons.map((nn,Ke)=>{if(Ft.some(pn=>pn.polygon===Ke)){const pn=nn.rings.map((Zn,ui)=>{const wi=Ft.filter(cr=>cr.polygon===Ke&&cr.ring===ui);return wi.length&&Zn.points.length-wi.length>=3?{points:Zn.points.filter((cr,wr)=>!wi.some(sr=>sr.point===wr))}:Zn}),fi=gt(pn[0].points);return{rings:pn,bounds:fi}}else return nn});!Ae(l.polygons,oe)&&(O("change",{...I,geometry:{polygons:oe,bounds:Ge(oe)}}),o(8,Ft=[]))};ve(()=>{if(Yn)return;const oe=nn=>{(nn.key==="Delete"||nn.key==="Backspace")&&(nn.preventDefault(),En())};return J.addEventListener("pointermove",Te),J.addEventListener("keydown",oe),()=>{J.removeEventListener("pointermove",Te),J.removeEventListener("keydown",oe)}});const ki=`polygon-mask-${Math.random().toString(36).substring(2,12)}`,bi=(oe,nn,Ke,{polygon:pn,ring:fi,point:Zn})=>pn===oe&&fi===nn&&Zn===Ke;function re(oe){Ie.call(this,t,oe)}function xe(oe){Ie.call(this,t,oe)}function Ut(oe){Ie.call(this,t,oe)}return t.$$set=oe=>{"shape"in oe&&o(0,I=oe.shape),"computedStyle"in oe&&o(1,D=oe.computedStyle),"transform"in oe&&o(2,W=oe.transform),"viewportScale"in oe&&o(3,Z=oe.viewportScale),"svgEl"in oe&&o(4,J=oe.svgEl)},t.$$.update=()=>{t.$$.dirty[0]&1&&o(5,l=I.geometry),t.$$.dirty[0]&40&&o(10,h=Yn?[]:mn(l,Z)),t.$$.dirty[0]&40&&o(9,w=hr(l.bounds,Rr/Z))},[I,D,W,Z,J,l,vt,ee,Ft,w,h,He,fe,Pe,Xe,cn,Ye,Hn,ki,bi,re,xe,Ut]}class Yr extends yn{constructor(e){super(),Je(this,e,Xr,Yi,F,{shape:0,computedStyle:1,transform:2,viewportScale:3,svgEl:4},null,[-1,-1])}}const Gr=new Map([[sn.RECTANGLE,Yt],[sn.POLYGON,Se],[sn.MULTIPOLYGON,Yr]]),go=t=>Gr.get(t.type),mo=(t,e)=>Gr.set(t,e);function Xo(t,e,o){let l;const h=Le();let{annotation:w}=e,{editor:O}=e,{style:I}=e,{target:D}=e,{transform:W}=e,{viewportScale:Z}=e,J;return ve(()=>(o(6,J=new O({target:D,props:{shape:w.target.selector,computedStyle:l,transform:W,viewportScale:Z,svgEl:D.closest("svg")}})),J.$on("change",vt=>{J.$$set({shape:vt.detail}),h("change",vt.detail)}),J.$on("grab",vt=>h("grab",vt.detail)),J.$on("release",vt=>h("release",vt.detail)),()=>{J.$destroy()})),t.$$set=vt=>{"annotation"in vt&&o(0,w=vt.annotation),"editor"in vt&&o(1,O=vt.editor),"style"in vt&&o(2,I=vt.style),"target"in vt&&o(3,D=vt.target),"transform"in vt&&o(4,W=vt.transform),"viewportScale"in vt&&o(5,Z=vt.viewportScale)},t.$$.update=()=>{t.$$.dirty&5&&o(7,l=ur(w,I)),t.$$.dirty&65&&w&&(J==null||J.$set({shape:w.target.selector})),t.$$.dirty&80&&J&&J.$set({transform:W}),t.$$.dirty&96&&J&&J.$set({viewportScale:Z}),t.$$.dirty&192&&J&&l&&J.$set({computedStyle:l})},[w,O,I,D,W,Z,J,l]}class vo extends yn{constructor(e){super(),Je(this,e,Xo,null,F,{annotation:0,editor:1,style:2,target:3,transform:4,viewportScale:5})}}function Yo(t,e,o){const l=Le();let{drawingMode:h}=e,{target:w}=e,{tool:O}=e,{transform:I}=e,{viewportScale:D}=e,W;return ve(()=>{const Z=w.closest("svg"),J=[],vt=(ee,Wt,Ft)=>{Z==null||Z.addEventListener(ee,Wt,Ft),J.push(()=>Z==null?void 0:Z.removeEventListener(ee,Wt,Ft))};return o(5,W=new O({target:w,props:{addEventListener:vt,drawingMode:h,transform:I,viewportScale:D}})),W.$on("create",ee=>l("create",ee.detail)),()=>{J.forEach(ee=>ee()),W.$destroy()}}),t.$$set=Z=>{"drawingMode"in Z&&o(0,h=Z.drawingMode),"target"in Z&&o(1,w=Z.target),"tool"in Z&&o(2,O=Z.tool),"transform"in Z&&o(3,I=Z.transform),"viewportScale"in Z&&o(4,D=Z.viewportScale)},t.$$.update=()=>{t.$$.dirty&40&&W&&W.$set({transform:I}),t.$$.dirty&48&&W&&W.$set({viewportScale:D})},[h,w,O,I,D,W]}class yo extends yn{constructor(e){super(),Je(this,e,Yo,null,F,{drawingMode:0,target:1,tool:2,transform:3,viewportScale:4})}}function bo(t){let e,o,l,h,w,O,I,D,W,Z;return{c(){e=St("defs"),o=St("mask"),l=St("rect"),D=St("rect"),W=St("rect"),Z=St("rect"),R(l,"class","rect-mask-bg svelte-1a76qe7"),R(l,"x",h=t[1]-t[5]),R(l,"y",w=t[2]-t[5]),R(l,"width",O=t[3]+2*t[5]),R(l,"height",I=t[4]+2*t[5]),R(D,"class","rect-mask-fg svelte-1a76qe7"),R(D,"x",t[1]),R(D,"y",t[2]),R(D,"width",t[3]),R(D,"height",t[4]),R(o,"id",t[6]),R(o,"class","a9s-rubberband-rectangle-mask svelte-1a76qe7"),R(W,"class","a9s-outer"),R(W,"mask",`url(#${t[6]})`),R(W,"x",t[1]),R(W,"y",t[2]),R(W,"width",t[3]),R(W,"height",t[4]),R(Z,"class","a9s-inner"),R(Z,"x",t[1]),R(Z,"y",t[2]),R(Z,"width",t[3]),R(Z,"height",t[4])},m(J,vt){ft(J,e,vt),ut(e,o),ut(o,l),ut(o,D),ft(J,W,vt),ft(J,Z,vt)},p(J,vt){vt&34&&h!==(h=J[1]-J[5])&&R(l,"x",h),vt&36&&w!==(w=J[2]-J[5])&&R(l,"y",w),vt&40&&O!==(O=J[3]+2*J[5])&&R(l,"width",O),vt&48&&I!==(I=J[4]+2*J[5])&&R(l,"height",I),vt&2&&R(D,"x",J[1]),vt&4&&R(D,"y",J[2]),vt&8&&R(D,"width",J[3]),vt&16&&R(D,"height",J[4]),vt&2&&R(W,"x",J[1]),vt&4&&R(W,"y",J[2]),vt&8&&R(W,"width",J[3]),vt&16&&R(W,"height",J[4]),vt&2&&R(Z,"x",J[1]),vt&4&&R(Z,"y",J[2]),vt&8&&R(Z,"width",J[3]),vt&16&&R(Z,"height",J[4])},d(J){J&&(G(e),G(W),G(Z))}}}function Go(t){let e,o=t[0]&&bo(t);return{c(){e=St("g"),o&&o.c(),R(e,"class","a9s-annotation a9s-rubberband")},m(l,h){ft(l,e,h),o&&o.m(e,null)},p(l,[h]){l[0]?o?o.p(l,h):(o=bo(l),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},i:p,o:p,d(l){l&&G(e),o&&o.d()}}}function Qo(t,e,o){let l;const h=Le();let{addEventListener:w}=e,{drawingMode:O}=e,{transform:I}=e,{viewportScale:D=1}=e,W,Z,J,vt,ee,Wt,Ft;const He=Xe=>{const cn=Xe;W=performance.now(),O==="drag"&&(o(0,Z=I.elementToImage(cn.offsetX,cn.offsetY)),J=Z,o(1,vt=Z[0]),o(2,ee=Z[1]),o(3,Wt=1),o(4,Ft=1))},fe=Xe=>{const cn=Xe;Z&&(J=I.elementToImage(cn.offsetX,cn.offsetY),o(1,vt=Math.min(J[0],Z[0])),o(2,ee=Math.min(J[1],Z[1])),o(3,Wt=Math.abs(J[0]-Z[0])),o(4,Ft=Math.abs(J[1]-Z[1])))},Te=Xe=>{const cn=Xe,Ye=performance.now()-W;if(O==="click"){if(Ye>300)return;Z?$t():(o(0,Z=I.elementToImage(cn.offsetX,cn.offsetY)),J=Z,o(1,vt=Z[0]),o(2,ee=Z[1]),o(3,Wt=1),o(4,Ft=1))}else Z&&(Ye>300||Wt*Ft>100?(cn.stopPropagation(),$t()):(o(0,Z=void 0),J=void 0))},$t=()=>{if(Wt*Ft>15){const Xe={type:sn.RECTANGLE,geometry:{bounds:{minX:vt,minY:ee,maxX:vt+Wt,maxY:ee+Ft},x:vt,y:ee,w:Wt,h:Ft}};h("create",Xe)}o(0,Z=void 0),J=void 0};ve(()=>{w("pointerdown",He),w("pointermove",fe),w("pointerup",Te,!0)});const Pe=`rect-mask-${Math.random().toString(36).substring(2,12)}`;return t.$$set=Xe=>{"addEventListener"in Xe&&o(7,w=Xe.addEventListener),"drawingMode"in Xe&&o(8,O=Xe.drawingMode),"transform"in Xe&&o(9,I=Xe.transform),"viewportScale"in Xe&&o(10,D=Xe.viewportScale)},t.$$.update=()=>{t.$$.dirty&1024&&o(5,l=2/D)},[Z,vt,ee,Wt,Ft,l,Pe,w,O,I,D]}class wo extends yn{constructor(e){super(),Je(this,e,Qo,Go,F,{addEventListener:7,drawingMode:8,transform:9,viewportScale:10})}}function no(t){const e=t.slice(),o=e[2].map(l=>l.join(",")).join(" ");return e[19]=o,e}function _o(t){let e,o,l,h,w,O,I,D,W,Z,J,vt,ee,Wt,Ft=t[1]&&xo(t);return{c(){e=St("defs"),o=St("mask"),l=St("rect"),D=St("polygon"),Z=St("polygon"),vt=St("polygon"),Ft&&Ft.c(),Wt=kt(),R(l,"x",h=t[3].x),R(l,"y",w=t[3].y),R(l,"width",O=t[3].w),R(l,"height",I=t[3].h),R(l,"class","svelte-18wrg3t"),R(D,"points",W=t[19]),R(D,"class","svelte-18wrg3t"),R(o,"id",t[5]),R(o,"class","a9s-rubberband-polygon-mask svelte-18wrg3t"),R(Z,"class","a9s-outer"),R(Z,"mask",`url(#${t[5]})`),R(Z,"points",J=t[19]),R(vt,"class","a9s-inner"),R(vt,"points",ee=t[19])},m(He,fe){ft(He,e,fe),ut(e,o),ut(o,l),ut(o,D),ft(He,Z,fe),ft(He,vt,fe),Ft&&Ft.m(He,fe),ft(He,Wt,fe)},p(He,fe){fe&8&&h!==(h=He[3].x)&&R(l,"x",h),fe&8&&w!==(w=He[3].y)&&R(l,"y",w),fe&8&&O!==(O=He[3].w)&&R(l,"width",O),fe&8&&I!==(I=He[3].h)&&R(l,"height",I),fe&4&&W!==(W=He[19])&&R(D,"points",W),fe&4&&J!==(J=He[19])&&R(Z,"points",J),fe&4&&ee!==(ee=He[19])&&R(vt,"points",ee),He[1]?Ft?Ft.p(He,fe):(Ft=xo(He),Ft.c(),Ft.m(Wt.parentNode,Wt)):Ft&&(Ft.d(1),Ft=null)},d(He){He&&(G(e),G(Z),G(vt),G(Wt)),Ft&&Ft.d(He)}}}function xo(t){let e,o,l;return{c(){e=St("circle"),R(e,"class","a9s-handle svelte-18wrg3t"),R(e,"cx",o=t[0][0][0]),R(e,"cy",l=t[0][0][1]),R(e,"r",t[4])},m(h,w){ft(h,e,w)},p(h,w){w&1&&o!==(o=h[0][0][0])&&R(e,"cx",o),w&1&&l!==(l=h[0][0][1])&&R(e,"cy",l),w&16&&R(e,"r",h[4])},d(h){h&&G(e)}}}function Ko(t){let e,o=t[3]&&_o(no(t));return{c(){e=St("g"),o&&o.c(),R(e,"class","a9s-annotation a9s-rubberband")},m(l,h){ft(l,e,h),o&&o.m(e,null)},p(l,[h]){l[3]?o?o.p(no(l),h):(o=_o(no(l)),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},i:p,o:p,d(l){l&&G(e),o&&o.d()}}}const Zo=20,Jo=1500;function ts(t,e,o){let l,h,w;const O=Le();let{addEventListener:I}=e,{drawingMode:D}=e,{transform:W}=e,{viewportScale:Z=1}=e,J,vt=[],ee,Wt,Ft=!1;const He=cn=>{const Ye=cn,{timeStamp:Hn,offsetX:En,offsetY:ki}=Ye;if(J={timeStamp:Hn,offsetX:En,offsetY:ki},D==="drag"&&vt.length===0){const bi=W.elementToImage(Ye.offsetX,Ye.offsetY);vt.push(bi),o(10,ee=bi)}},fe=cn=>{const Ye=cn;if(Wt&&clearTimeout(Wt),vt.length>0){if(o(10,ee=W.elementToImage(Ye.offsetX,Ye.offsetY)),vt.length>2){const Hn=ze(ee,vt[0])*Z;o(1,Ft=Hn<Zo)}Ye.pointerType==="touch"&&(Wt=setTimeout(()=>{$t()},Jo))}},Te=cn=>{const Ye=cn;if(Wt&&clearTimeout(Wt),D==="click"){const Hn=Ye.timeStamp-J.timeStamp,En=ze([J.offsetX,J.offsetY],[Ye.offsetX,Ye.offsetY]);if(Hn>300||En>15)return;if(Ft)Pe();else if(vt.length===0){const ki=W.elementToImage(Ye.offsetX,Ye.offsetY);vt.push(ki),o(10,ee=ki)}else vt.push(ee)}else{if(vt.length===1&&ze(vt[0],ee)<=4){o(0,vt=[]),o(10,ee=void 0);return}Ye.stopImmediatePropagation(),Ft?Pe():vt.push(ee)}},$t=()=>{if(!ee)return;const cn=vt.slice(0,-1);if(cn.length<3)return;const Ye={type:sn.POLYGON,geometry:{bounds:gt(vt),points:cn}};Pi(Ye)>4&&(o(0,vt=[]),o(10,ee=void 0),O("create",Ye))},Pe=()=>{const cn={type:sn.POLYGON,geometry:{bounds:gt(vt),points:[...vt]}};o(0,vt=[]),o(10,ee=void 0),O("create",cn)};ve(()=>{I("pointerdown",He,!0),I("pointermove",fe),I("pointerup",Te,!0),I("dblclick",$t,!0)});const Xe=`polygon-mask-${Math.random().toString(36).substring(2,12)}`;return t.$$set=cn=>{"addEventListener"in cn&&o(6,I=cn.addEventListener),"drawingMode"in cn&&o(7,D=cn.drawingMode),"transform"in cn&&o(8,W=cn.transform),"viewportScale"in cn&&o(9,Z=cn.viewportScale)},t.$$.update=()=>{t.$$.dirty&512&&o(4,l=4/Z),t.$$.dirty&1027&&o(2,h=ee?Ft?vt:[...vt,ee]:[]),t.$$.dirty&516&&o(3,w=h.length>0?hr(gt(h),2/Z):void 0)},[vt,Ft,h,w,l,Xe,I,D,W,Z,ee]}class es extends yn{constructor(e){super(),Je(this,e,ts,Ko,F,{addEventListener:6,drawingMode:7,transform:8,viewportScale:9})}}const io=new Map([["rectangle",{tool:wo}],["polygon",{tool:es}]]),ro=()=>[...io.keys()],oo=t=>io.get(t),Ao=(t,e,o={})=>io.set(t,{tool:e,opts:o});function ns(t){let e,o,l,h,w;return{c(){e=St("g"),o=St("ellipse"),h=St("ellipse"),R(o,"class","a9s-outer"),R(o,"style",l=t[1]?"display:none;":void 0),R(o,"cx",t[2]),R(o,"cy",t[3]),R(o,"rx",t[4]),R(o,"ry",t[5]),R(h,"class","a9s-inner"),R(h,"style",t[1]),R(h,"cx",t[2]),R(h,"cy",t[3]),R(h,"rx",t[4]),R(h,"ry",t[5]),R(e,"class","a9s-annotation"),R(e,"data-id",w=t[0].id)},m(O,I){ft(O,e,I),ut(e,o),ut(e,h)},p(O,[I]){I&2&&l!==(l=O[1]?"display:none;":void 0)&&R(o,"style",l),I&2&&R(h,"style",O[1]),I&1&&w!==(w=O[0].id)&&R(e,"data-id",w)},i:p,o:p,d(O){O&&G(e)}}}function is(t,e,o){let l,{annotation:h}=e,{geom:w}=e,{style:O}=e;const{cx:I,cy:D,rx:W,ry:Z}=w;return t.$$set=J=>{"annotation"in J&&o(0,h=J.annotation),"geom"in J&&o(6,w=J.geom),"style"in J&&o(7,O=J.style)},t.$$.update=()=>{t.$$.dirty&129&&o(1,l=ur(h,O))},[h,l,I,D,W,Z,w,O]}class rs extends yn{constructor(e){super(),Je(this,e,is,ns,F,{annotation:0,geom:6,style:7})}}function os(t){let e,o,l,h,w;return{c(){e=St("g"),o=St("line"),h=St("line"),R(o,"class","a9s-outer"),R(o,"style",l=t[1]?"display:none;":void 0),R(o,"x1",t[2]),R(o,"y1",t[3]),R(o,"x2",t[4]),R(o,"y2",t[5]),R(h,"class","a9s-inner"),R(h,"style",t[1]),R(h,"x1",t[2]),R(h,"y1",t[3]),R(h,"x2",t[4]),R(h,"y2",t[5]),R(e,"class","a9s-annotation"),R(e,"data-id",w=t[0].id)},m(O,I){ft(O,e,I),ut(e,o),ut(e,h)},p(O,[I]){I&2&&l!==(l=O[1]?"display:none;":void 0)&&R(o,"style",l),I&2&&R(h,"style",O[1]),I&1&&w!==(w=O[0].id)&&R(e,"data-id",w)},i:p,o:p,d(O){O&&G(e)}}}function ss(t,e,o){let l,{annotation:h}=e,{geom:w}=e,{style:O}=e;const{points:I}=w,[[D,W],[Z,J]]=I;return t.$$set=vt=>{"annotation"in vt&&o(0,h=vt.annotation),"geom"in vt&&o(6,w=vt.geom),"style"in vt&&o(7,O=vt.style)},t.$$.update=()=>{t.$$.dirty&129&&o(1,l=ur(h,O))},[h,l,D,W,Z,J,w,O]}class as extends yn{constructor(e){super(),Je(this,e,ss,os,F,{annotation:0,geom:6,style:7})}}function So(t,e,o){const l=t.slice();return l[5]=e[o],l}function Eo(t){let e,o,l;return{c(){e=St("path"),l=St("path"),R(e,"class","a9s-outer"),R(e,"style",o=t[1]?"display:none;":void 0),R(e,"fill-rule","evenodd"),R(e,"d",We(t[5])),R(l,"class","a9s-inner"),R(l,"style",t[1]),R(l,"fill-rule","evenodd"),R(l,"d",We(t[5]))},m(h,w){ft(h,e,w),ft(h,l,w)},p(h,w){w&2&&o!==(o=h[1]?"display:none;":void 0)&&R(e,"style",o),w&2&&R(l,"style",h[1])},d(h){h&&(G(e),G(l))}}}function ls(t){let e,o,l=Pt(t[2]),h=[];for(let w=0;w<l.length;w+=1)h[w]=Eo(So(t,l,w));return{c(){e=St("g");for(let w=0;w<h.length;w+=1)h[w].c();R(e,"class","a9s-annotation"),R(e,"data-id",o=t[0].id)},m(w,O){ft(w,e,O);for(let I=0;I<h.length;I+=1)h[I]&&h[I].m(e,null)},p(w,[O]){if(O&6){l=Pt(w[2]);let I;for(I=0;I<l.length;I+=1){const D=So(w,l,I);h[I]?h[I].p(D,O):(h[I]=Eo(D),h[I].c(),h[I].m(e,null))}for(;I<h.length;I+=1)h[I].d(1);h.length=l.length}O&1&&o!==(o=w[0].id)&&R(e,"data-id",o)},i:p,o:p,d(w){w&&G(e),Ct(h,w)}}}function cs(t,e,o){let l,{annotation:h}=e,{geom:w}=e,{style:O}=e;const{polygons:I}=w;return t.$$set=D=>{"annotation"in D&&o(0,h=D.annotation),"geom"in D&&o(3,w=D.geom),"style"in D&&o(4,O=D.style)},t.$$.update=()=>{t.$$.dirty&17&&o(1,l=ur(h,O))},[h,l,I,w,O]}class us extends yn{constructor(e){super(),Je(this,e,cs,ls,F,{annotation:0,geom:3,style:4})}}function ds(t){let e,o,l,h,w;return{c(){e=St("g"),o=St("polygon"),h=St("polygon"),R(o,"class","a9s-outer"),R(o,"style",l=t[1]?"display:none;":void 0),R(o,"points",t[2].map(fs).join(" ")),R(h,"class","a9s-inner"),R(h,"style",t[1]),R(h,"points",t[2].map(ps).join(" ")),R(e,"class","a9s-annotation"),R(e,"data-id",w=t[0].id)},m(O,I){ft(O,e,I),ut(e,o),ut(e,h)},p(O,[I]){I&2&&l!==(l=O[1]?"display:none;":void 0)&&R(o,"style",l),I&2&&R(h,"style",O[1]),I&1&&w!==(w=O[0].id)&&R(e,"data-id",w)},i:p,o:p,d(O){O&&G(e)}}}const fs=t=>t.join(","),ps=t=>t.join(",");function hs(t,e,o){let l,{annotation:h}=e,{geom:w}=e,{style:O}=e;const{points:I}=w;return t.$$set=D=>{"annotation"in D&&o(0,h=D.annotation),"geom"in D&&o(3,w=D.geom),"style"in D&&o(4,O=D.style)},t.$$.update=()=>{t.$$.dirty&17&&o(1,l=ur(h,O))},[h,l,I,w,O]}class gs extends yn{constructor(e){super(),Je(this,e,hs,ds,F,{annotation:0,geom:3,style:4})}}function ms(t){let e,o,l,h,w,O,I;return{c(){e=St("g"),o=St("path"),w=St("path"),R(o,"class",l=At(`a9s-outer ${t[1]}`)+" svelte-1w0132l"),R(o,"style",h=t[3]?"display:none;":void 0),R(o,"d",t[2]),R(w,"class",O=At(`a9s-inner ${t[1]}`)+" svelte-1w0132l"),R(w,"style",t[3]),R(w,"d",t[2]),R(e,"class","a9s-annotation"),R(e,"data-id",I=t[0].id)},m(D,W){ft(D,e,W),ut(e,o),ut(e,w)},p(D,[W]){W&2&&l!==(l=At(`a9s-outer ${D[1]}`)+" svelte-1w0132l")&&R(o,"class",l),W&8&&h!==(h=D[3]?"display:none;":void 0)&&R(o,"style",h),W&4&&R(o,"d",D[2]),W&2&&O!==(O=At(`a9s-inner ${D[1]}`)+" svelte-1w0132l")&&R(w,"class",O),W&8&&R(w,"style",D[3]),W&4&&R(w,"d",D[2]),W&1&&I!==(I=D[0].id)&&R(e,"data-id",I)},i:p,o:p,d(D){D&&G(e)}}}function vs(t,e,o){let l,h,w,{annotation:O}=e,{geom:I}=e,{style:D}=e;return t.$$set=W=>{"annotation"in W&&o(0,O=W.annotation),"geom"in W&&o(4,I=W.geom),"style"in W&&o(5,D=W.style)},t.$$.update=()=>{t.$$.dirty&33&&o(3,l=ur(O,D)),t.$$.dirty&16&&o(2,h=Un(I)),t.$$.dirty&16&&o(1,w=I.closed?"closed":"open")},[O,w,h,l,I,D]}class ys extends yn{constructor(e){super(),Je(this,e,vs,ms,F,{annotation:0,geom:4,style:5})}}function bs(t){let e,o,l,h,w;return{c(){e=St("g"),o=St("rect"),h=St("rect"),R(o,"class","a9s-outer"),R(o,"style",l=t[5]?"display:none;":void 0),R(o,"x",t[4]),R(o,"y",t[3]),R(o,"width",t[2]),R(o,"height",t[1]),R(h,"class","a9s-inner"),R(h,"style",t[5]),R(h,"x",t[4]),R(h,"y",t[3]),R(h,"width",t[2]),R(h,"height",t[1]),R(e,"class","a9s-annotation"),R(e,"data-id",w=t[0].id)},m(O,I){ft(O,e,I),ut(e,o),ut(e,h)},p(O,[I]){I&32&&l!==(l=O[5]?"display:none;":void 0)&&R(o,"style",l),I&16&&R(o,"x",O[4]),I&8&&R(o,"y",O[3]),I&4&&R(o,"width",O[2]),I&2&&R(o,"height",O[1]),I&32&&R(h,"style",O[5]),I&16&&R(h,"x",O[4]),I&8&&R(h,"y",O[3]),I&4&&R(h,"width",O[2]),I&2&&R(h,"height",O[1]),I&1&&w!==(w=O[0].id)&&R(e,"data-id",w)},i:p,o:p,d(O){O&&G(e)}}}function ws(t,e,o){let l,h,w,O,I,{annotation:D}=e,{geom:W}=e,{style:Z}=e;return t.$$set=J=>{"annotation"in J&&o(0,D=J.annotation),"geom"in J&&o(6,W=J.geom),"style"in J&&o(7,Z=J.style)},t.$$.update=()=>{t.$$.dirty&129&&o(5,l=ur(D,Z)),t.$$.dirty&64&&o(4,{x:h,y:w,w:O,h:I}=W,h,(o(3,w),o(6,W)),(o(2,O),o(6,W)),(o(1,I),o(6,W)))},[D,I,O,w,h,l,W,Z]}class _s extends yn{constructor(e){super(),Je(this,e,ws,bs,F,{annotation:0,geom:6,style:7})}}const xs={elementToImage:(t,e)=>[t,e]},To=t=>({elementToImage:(e,o)=>{const l=t.getBoundingClientRect(),h=t.createSVGPoint();h.x=e+l.x,h.y=o+l.y;const{x:w,y:O}=h.matrixTransform(t.getScreenCTM().inverse());return[w,O]}}),As=250,Co=(t,e)=>{const o=Le();let l;return{onPointerDown:()=>l=performance.now(),onPointerUp:h=>{if(performance.now()-l<As){const{x:w,y:O}=so(h,t),I=Yn?10:2,D=e.getAt(w,O,void 0,I);D?o("click",{originalEvent:h,annotation:D}):o("click",{originalEvent:h})}}}},so=(t,e)=>{const o=e.createSVGPoint(),l=e.getBoundingClientRect(),h=t.clientX-l.x,w=t.clientY-l.y,{left:O,top:I}=e.getBoundingClientRect();return o.x=h+O,o.y=w+I,o.matrixTransform(e.getScreenCTM().inverse())};function ko(t,e,o){const l=t.slice();return l[39]=e[o],l}function Po(t,e,o){const l=t.slice();return l[42]=e[o],l}function ao(t){const e=t.slice(),o=e[42].target.selector;return e[45]=o,e}function Oo(t){let e=t[42],o,l,h=Io(t);return{c(){h.c(),o=kt()},m(w,O){h.m(w,O),ft(w,o,O),l=!0},p(w,O){O[0]&131072&&F(e,e=w[42])?(Ee(),mt(h,1,1,p),je(),h=Io(w),h.c(),se(h,1),h.m(o.parentNode,o)):h.p(w,O)},i(w){l||(se(h),l=!0)},o(w){mt(h),l=!1},d(w){w&&G(o),h.d(w)}}}function Ss(t){let e,o;return e=new as({props:{annotation:t[42],geom:t[45].geometry,style:t[1]}}),{c(){le(e.$$.fragment)},m(l,h){Oe(e,l,h),o=!0},p(l,h){const w={};h[0]&131072&&(w.annotation=l[42]),h[0]&131072&&(w.geom=l[45].geometry),h[0]&2&&(w.style=l[1]),e.$set(w)},i(l){o||(se(e.$$.fragment,l),o=!0)},o(l){mt(e.$$.fragment,l),o=!1},d(l){Xt(e,l)}}}function Es(t){let e,o;return e=new ys({props:{annotation:t[42],geom:t[45].geometry,style:t[1]}}),{c(){le(e.$$.fragment)},m(l,h){Oe(e,l,h),o=!0},p(l,h){const w={};h[0]&131072&&(w.annotation=l[42]),h[0]&131072&&(w.geom=l[45].geometry),h[0]&2&&(w.style=l[1]),e.$set(w)},i(l){o||(se(e.$$.fragment,l),o=!0)},o(l){mt(e.$$.fragment,l),o=!1},d(l){Xt(e,l)}}}function Ts(t){let e,o;return e=new us({props:{annotation:t[42],geom:t[45].geometry,style:t[1]}}),{c(){le(e.$$.fragment)},m(l,h){Oe(e,l,h),o=!0},p(l,h){const w={};h[0]&131072&&(w.annotation=l[42]),h[0]&131072&&(w.geom=l[45].geometry),h[0]&2&&(w.style=l[1]),e.$set(w)},i(l){o||(se(e.$$.fragment,l),o=!0)},o(l){mt(e.$$.fragment,l),o=!1},d(l){Xt(e,l)}}}function Cs(t){let e,o;return e=new gs({props:{annotation:t[42],geom:t[45].geometry,style:t[1]}}),{c(){le(e.$$.fragment)},m(l,h){Oe(e,l,h),o=!0},p(l,h){const w={};h[0]&131072&&(w.annotation=l[42]),h[0]&131072&&(w.geom=l[45].geometry),h[0]&2&&(w.style=l[1]),e.$set(w)},i(l){o||(se(e.$$.fragment,l),o=!0)},o(l){mt(e.$$.fragment,l),o=!1},d(l){Xt(e,l)}}}function ks(t){let e,o;return e=new _s({props:{annotation:t[42],geom:t[45].geometry,style:t[1]}}),{c(){le(e.$$.fragment)},m(l,h){Oe(e,l,h),o=!0},p(l,h){const w={};h[0]&131072&&(w.annotation=l[42]),h[0]&131072&&(w.geom=l[45].geometry),h[0]&2&&(w.style=l[1]),e.$set(w)},i(l){o||(se(e.$$.fragment,l),o=!0)},o(l){mt(e.$$.fragment,l),o=!1},d(l){Xt(e,l)}}}function Ps(t){var e;let o,l;return o=new rs({props:{annotation:t[42],geom:(e=t[45])==null?void 0:e.geometry,style:t[1]}}),{c(){le(o.$$.fragment)},m(h,w){Oe(o,h,w),l=!0},p(h,w){var O;const I={};w[0]&131072&&(I.annotation=h[42]),w[0]&131072&&(I.geom=(O=h[45])==null?void 0:O.geometry),w[0]&2&&(I.style=h[1]),o.$set(I)},i(h){l||(se(o.$$.fragment,h),l=!0)},o(h){mt(o.$$.fragment,h),l=!1},d(h){Xt(o,h)}}}function Io(t){let e,o,l,h;const w=[Ps,ks,Cs,Ts,Es,Ss],O=[];function I(D,W){var Z,J,vt,ee,Wt,Ft;return((Z=D[45])==null?void 0:Z.type)===sn.ELLIPSE?0:((J=D[45])==null?void 0:J.type)===sn.RECTANGLE?1:((vt=D[45])==null?void 0:vt.type)===sn.POLYGON?2:((ee=D[45])==null?void 0:ee.type)===sn.MULTIPOLYGON?3:((Wt=D[45])==null?void 0:Wt.type)===sn.POLYLINE?4:((Ft=D[45])==null?void 0:Ft.type)===sn.LINE?5:-1}return~(e=I(t))&&(o=O[e]=w[e](t)),{c(){o&&o.c(),l=kt()},m(D,W){~e&&O[e].m(D,W),ft(D,l,W),h=!0},p(D,W){let Z=e;e=I(D),e===Z?~e&&O[e].p(D,W):(o&&(Ee(),mt(O[Z],1,1,()=>{O[Z]=null}),je()),~e?(o=O[e],o?o.p(D,W):(o=O[e]=w[e](D),o.c()),se(o,1),o.m(l.parentNode,l)):o=null)},i(D){h||(se(o),h=!0)},o(D){mt(o),h=!1},d(D){D&&G(l),~e&&O[e].d(D)}}}function Mo(t){let e=li(t[42])&&!t[10](t[42]),o,l,h=e&&Oo(ao(t));return{c(){h&&h.c(),o=kt()},m(w,O){h&&h.m(w,O),ft(w,o,O),l=!0},p(w,O){O[0]&132096&&(e=li(w[42])&&!w[10](w[42])),e?h?(h.p(ao(w),O),O[0]&132096&&se(h,1)):(h=Oo(ao(w)),h.c(),se(h,1),h.m(o.parentNode,o)):h&&(Ee(),mt(h,1,1,()=>{h=null}),je())},i(w){l||(se(h),l=!0)},o(w){mt(h),l=!1},d(w){w&&G(o),h&&h.d(w)}}}function No(t){let e,o,l,h;const w=[Is,Os],O=[];function I(D,W){return D[6]?0:D[15]&&D[0]?1:-1}return~(e=I(t))&&(o=O[e]=w[e](t)),{c(){o&&o.c(),l=kt()},m(D,W){~e&&O[e].m(D,W),ft(D,l,W),h=!0},p(D,W){let Z=e;e=I(D),e===Z?~e&&O[e].p(D,W):(o&&(Ee(),mt(O[Z],1,1,()=>{O[Z]=null}),je()),~e?(o=O[e],o?o.p(D,W):(o=O[e]=w[e](D),o.c()),se(o,1),o.m(l.parentNode,l)):o=null)},i(D){h||(se(o),h=!0)},o(D){mt(o),h=!1},d(D){D&&G(l),~e&&O[e].d(D)}}}function Os(t){let e=`${t[2]}-${t[7]}`,o,l,h=Ro(t);return{c(){h.c(),o=kt()},m(w,O){h.m(w,O),ft(w,o,O),l=!0},p(w,O){O[0]&132&&F(e,e=`${w[2]}-${w[7]}`)?(Ee(),mt(h,1,1,p),je(),h=Ro(w),h.c(),se(h,1),h.m(o.parentNode,o)):h.p(w,O)},i(w){l||(se(h),l=!0)},o(w){mt(h),l=!1},d(w){w&&G(o),h.d(w)}}}function Is(t){let e,o,l=Pt(t[6]),h=[];for(let O=0;O<l.length;O+=1)h[O]=Do(ko(t,l,O));const w=O=>mt(h[O],1,1,()=>{h[O]=null});return{c(){for(let O=0;O<h.length;O+=1)h[O].c();e=kt()},m(O,I){for(let D=0;D<h.length;D+=1)h[D]&&h[D].m(O,I);ft(O,e,I),o=!0},p(O,I){if(I[0]&8659266){l=Pt(O[6]);let D;for(D=0;D<l.length;D+=1){const W=ko(O,l,D);h[D]?(h[D].p(W,I),se(h[D],1)):(h[D]=Do(W),h[D].c(),se(h[D],1),h[D].m(e.parentNode,e))}for(Ee(),D=l.length;D<h.length;D+=1)w(D);je()}},i(O){if(!o){for(let I=0;I<l.length;I+=1)se(h[I]);o=!0}},o(O){h=h.filter(Boolean);for(let I=0;I<h.length;I+=1)mt(h[I]);o=!1},d(O){O&&G(e),Ct(h,O)}}}function Ro(t){let e,o;return e=new yo({props:{target:t[8],tool:t[15],drawingMode:t[14],transform:t[13],viewportScale:t[18]}}),e.$on("create",t[22]),{c(){le(e.$$.fragment)},m(l,h){Oe(e,l,h),o=!0},p(l,h){const w={};h[0]&256&&(w.target=l[8]),h[0]&32768&&(w.tool=l[15]),h[0]&16384&&(w.drawingMode=l[14]),h[0]&8192&&(w.transform=l[13]),h[0]&262144&&(w.viewportScale=l[18]),e.$set(w)},i(l){o||(se(e.$$.fragment,l),o=!0)},o(l){mt(e.$$.fragment,l),o=!1},d(l){Xt(e,l)}}}function Lo(t){let e,o;return e=new vo({props:{target:t[8],editor:t[39].editor,annotation:t[39].annotation,style:t[1],transform:t[13],viewportScale:t[18]}}),e.$on("change",function(){E(t[23](t[39].annotation))&&t[23](t[39].annotation).apply(this,arguments)}),{c(){le(e.$$.fragment)},m(l,h){Oe(e,l,h),o=!0},p(l,h){t=l;const w={};h[0]&256&&(w.target=t[8]),h[0]&64&&(w.editor=t[39].editor),h[0]&64&&(w.annotation=t[39].annotation),h[0]&2&&(w.style=t[1]),h[0]&8192&&(w.transform=t[13]),h[0]&262144&&(w.viewportScale=t[18]),e.$set(w)},i(l){o||(se(e.$$.fragment,l),o=!0)},o(l){mt(e.$$.fragment,l),o=!1},d(l){Xt(e,l)}}}function Do(t){let e=t[39].annotation.id,o,l,h=Lo(t);return{c(){h.c(),o=kt()},m(w,O){h.m(w,O),ft(w,o,O),l=!0},p(w,O){O[0]&64&&F(e,e=w[39].annotation.id)?(Ee(),mt(h,1,1,p),je(),h=Lo(w),h.c(),se(h,1),h.m(o.parentNode,o)):h.p(w,O)},i(w){l||(se(h),l=!0)},o(w){mt(h),l=!1},d(w){w&&G(o),h.d(w)}}}function Ms(t){let e,o,l,h,w,O,I=Pt(t[17].filter(t[34])),D=[];for(let J=0;J<I.length;J+=1)D[J]=Mo(Po(t,I,J));const W=J=>mt(D[J],1,1,()=>{D[J]=null});let Z=t[8]&&No(t);return{c(){e=St("svg"),o=St("g");for(let J=0;J<D.length;J+=1)D[J].c();l=St("g"),Z&&Z.c(),R(l,"class","drawing"),R(e,"role","application"),R(e,"tabindex",0),R(e,"class","a9s-annotationlayer"),Gt(e,"drawing",t[15]),Gt(e,"editing",t[5]),Gt(e,"hidden",!t[3]),Gt(e,"hover",t[16])},m(J,vt){ft(J,e,vt),ut(e,o);for(let ee=0;ee<D.length;ee+=1)D[ee]&&D[ee].m(o,null);ut(e,l),Z&&Z.m(l,null),t[35](l),t[36](e),h=!0,w||(O=[zt(e,"pointerup",function(){E(t[11])&&t[11].apply(this,arguments)}),zt(e,"pointerdown",function(){E(t[12])&&t[12].apply(this,arguments)}),zt(e,"pointermove",t[24])],w=!0)},p(J,vt){if(t=J,vt[0]&132098){I=Pt(t[17].filter(t[34]));let ee;for(ee=0;ee<I.length;ee+=1){const Wt=Po(t,I,ee);D[ee]?(D[ee].p(Wt,vt),se(D[ee],1)):(D[ee]=Mo(Wt),D[ee].c(),se(D[ee],1),D[ee].m(o,null))}for(Ee(),ee=I.length;ee<D.length;ee+=1)W(ee);je()}t[8]?Z?(Z.p(t,vt),vt[0]&256&&se(Z,1)):(Z=No(t),Z.c(),se(Z,1),Z.m(l,null)):Z&&(Ee(),mt(Z,1,1,()=>{Z=null}),je()),(!h||vt[0]&32768)&&Gt(e,"drawing",t[15]),(!h||vt[0]&32)&&Gt(e,"editing",t[5]),(!h||vt[0]&8)&&Gt(e,"hidden",!t[3]),(!h||vt[0]&65536)&&Gt(e,"hover",t[16])},i(J){if(!h){for(let vt=0;vt<I.length;vt+=1)se(D[vt]);se(Z),h=!0}},o(J){D=D.filter(Boolean);for(let vt=0;vt<D.length;vt+=1)mt(D[vt]);mt(Z),h=!1},d(J){J&&G(e),Ct(D,J),Z&&Z.d(),t[35](null),t[36](null),w=!1,y(O)}}}function Ns(t,e,o){let l,h,w,O,I,D,W,Z,J,vt,ee,Wt,Ft=p,He=()=>(Ft(),Ft=H(oe,qn=>o(18,Wt=qn)),oe);t.$$.on_destroy.push(()=>Ft());let{drawingEnabled:fe}=e,{image:Te}=e,{preferredDrawingMode:$t}=e,{state:Pe}=e,{style:Xe=void 0}=e,{toolName:cn=ro()[0]}=e,{user:Ye}=e,{visible:Hn=!0}=e,En=0;const ki=()=>o(7,En+=1),bi=()=>cn,re=()=>fe;let xe,Ut,oe;ve(()=>He(o(9,oe=Ji(Te,Ut))));const{hover:nn,selection:Ke,store:pn}=Pe;at(t,nn,qn=>o(16,J=qn)),at(t,Ke,qn=>o(33,vt=qn)),at(t,pn,qn=>o(17,ee=qn));let fi,Zn;const ui=qn=>{fi&&pn.unobserve(fi);const mr=qn.filter(({editable:Hi})=>Hi).map(({id:Hi})=>Hi);mr.length>0?(o(5,Zn=mr.map(Hi=>pn.getAnnotation(Hi)).filter(Hi=>Hi&&li(Hi))),fi=Hi=>{const{updated:vr}=Hi.changes;o(5,Zn=vr==null?void 0:vr.map(Mr=>Mr.newValue))},pn.observe(fi,{annotations:mr})):o(5,Zn=void 0)},wi=qn=>{const mr=yr(),Hi={id:mr,bodies:[],target:{annotation:mr,selector:qn.detail,creator:Ye,created:new Date}};pn.addAnnotation(Hi),Ke.setSelected(Hi.id)},cr=qn=>mr=>{var Hi;const{target:vr}=qn,Mr=600*1e3,Br=((Hi=vr.creator)==null?void 0:Hi.id)!==Ye.id||!vr.created||new Date().getTime()-vr.created.getTime()>Mr;pn.updateTarget({...vr,selector:mr.detail,created:Br?vr.created:new Date,updated:Br?new Date:void 0,updatedBy:Br?Ye:void 0})},wr=qn=>{const{x:mr,y:Hi}=so(qn,Ut),vr=pn.getAt(mr,Hi,void 0,2);vr?J!==vr.id&&nn.set(vr.id):nn.set(void 0)},sr=qn=>li(qn);function Lr(qn){Cn[qn?"unshift":"push"](()=>{xe=qn,o(8,xe)})}function Hr(qn){Cn[qn?"unshift":"push"](()=>{Ut=qn,o(4,Ut)})}return t.$$set=qn=>{"drawingEnabled"in qn&&o(0,fe=qn.drawingEnabled),"image"in qn&&o(25,Te=qn.image),"preferredDrawingMode"in qn&&o(26,$t=qn.preferredDrawingMode),"state"in qn&&o(27,Pe=qn.state),"style"in qn&&o(1,Xe=qn.style),"toolName"in qn&&o(2,cn=qn.toolName),"user"in qn&&o(28,Ye=qn.user),"visible"in qn&&o(3,Hn=qn.visible)},t.$$.update=()=>{t.$$.dirty[0]&4&&o(15,{tool:l,opts:h}=oo(cn)||{tool:void 0,opts:void 0},l,(o(32,h),o(2,cn))),t.$$.dirty[0]&67108864|t.$$.dirty[1]&2&&o(14,w=(h==null?void 0:h.drawingMode)||$t),t.$$.dirty[0]&16&&o(13,O=To(Ut)),t.$$.dirty[0]&16&&o(12,{onPointerDown:I,onPointerUp:D}=Co(Ut,pn),I,(o(11,D),o(4,Ut))),t.$$.dirty[1]&4&&ui(vt.selected),t.$$.dirty[0]&32&&o(6,W=Zn?Zn.map(qn=>({annotation:qn,editor:go(qn.target.selector)})).filter(qn=>qn.editor):void 0),t.$$.dirty[0]&64&&o(10,Z=qn=>W&&W.some(mr=>mr.annotation.id===qn.id))},[fe,Xe,cn,Hn,Ut,Zn,W,En,xe,oe,Z,D,I,O,w,l,J,ee,Wt,nn,Ke,pn,wi,cr,wr,Te,$t,Pe,Ye,ki,bi,re,h,vt,sr,Lr,Hr]}class Fo extends yn{constructor(e){super(),Je(this,e,Ns,Ms,F,{drawingEnabled:0,image:25,preferredDrawingMode:26,state:27,style:1,toolName:2,user:28,visible:3,cancelDrawing:29,getDrawingTool:30,isDrawingEnabled:31},null,[-1,-1])}get cancelDrawing(){return this.$$.ctx[29]}get getDrawingTool(){return this.$$.ctx[30]}get isDrawingEnabled(){return this.$$.ctx[31]}}function Ho(t,e,o=0,l=t.length-1,h=Rs){for(;l>o;){if(l-o>600){const D=l-o+1,W=e-o+1,Z=Math.log(D),J=.5*Math.exp(2*Z/3),vt=.5*Math.sqrt(Z*J*(D-J)/D)*(W-D/2<0?-1:1),ee=Math.max(o,Math.floor(e-W*J/D+vt)),Wt=Math.min(l,Math.floor(e+(D-W)*J/D+vt));Ho(t,e,ee,Wt,h)}const w=t[e];let O=o,I=l;for(Wr(t,o,e),h(t[l],w)>0&&Wr(t,o,l);O<I;){for(Wr(t,O,I),O++,I--;h(t[O],w)<0;)O++;for(;h(t[I],w)>0;)I--}h(t[o],w)===0?Wr(t,o,I):(I++,Wr(t,I,l)),I<=e&&(o=I+1),e<=I&&(l=I-1)}}function Wr(t,e,o){const l=t[e];t[e]=t[o],t[o]=l}function Rs(t,e){return t<e?-1:t>e?1:0}class Ls{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(e){let o=this.data;const l=[];if(!Kr(e,o))return l;const h=this.toBBox,w=[];for(;o;){for(let O=0;O<o.children.length;O++){const I=o.children[O],D=o.leaf?h(I):I;Kr(e,D)&&(o.leaf?l.push(I):co(e,D)?this._all(I,l):w.push(I))}o=w.pop()}return l}collides(e){let o=this.data;if(!Kr(e,o))return!1;const l=[];for(;o;){for(let h=0;h<o.children.length;h++){const w=o.children[h],O=o.leaf?this.toBBox(w):w;if(Kr(e,O)){if(o.leaf||co(e,O))return!0;l.push(w)}}o=l.pop()}return!1}load(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(let l=0;l<e.length;l++)this.insert(e[l]);return this}let o=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length)this.data=o;else if(this.data.height===o.height)this._splitRoot(this.data,o);else{if(this.data.height<o.height){const l=this.data;this.data=o,o=l}this._insert(o,this.data.height-o.height-1,!0)}return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=Vr([]),this}remove(e,o){if(!e)return this;let l=this.data;const h=this.toBBox(e),w=[],O=[];let I,D,W;for(;l||w.length;){if(l||(l=w.pop(),D=w[w.length-1],I=O.pop(),W=!0),l.leaf){const Z=Ds(e,l.children,o);if(Z!==-1)return l.children.splice(Z,1),w.push(l),this._condense(w),this}!W&&!l.leaf&&co(l,h)?(w.push(l),O.push(I),I=0,D=l,l=l.children[0]):D?(I++,l=D.children[I],W=!1):l=null}return this}toBBox(e){return e}compareMinX(e,o){return e.minX-o.minX}compareMinY(e,o){return e.minY-o.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,o){const l=[];for(;e;)e.leaf?o.push(...e.children):l.push(...e.children),e=l.pop();return o}_build(e,o,l,h){const w=l-o+1;let O=this._maxEntries,I;if(w<=O)return I=Vr(e.slice(o,l+1)),Ur(I,this.toBBox),I;h||(h=Math.ceil(Math.log(w)/Math.log(O)),O=Math.ceil(w/Math.pow(O,h-1))),I=Vr([]),I.leaf=!1,I.height=h;const D=Math.ceil(w/O),W=D*Math.ceil(Math.sqrt(O));zo(e,o,l,W,this.compareMinX);for(let Z=o;Z<=l;Z+=W){const J=Math.min(Z+W-1,l);zo(e,Z,J,D,this.compareMinY);for(let vt=Z;vt<=J;vt+=D){const ee=Math.min(vt+D-1,J);I.children.push(this._build(e,vt,ee,h-1))}}return Ur(I,this.toBBox),I}_chooseSubtree(e,o,l,h){for(;h.push(o),!(o.leaf||h.length-1===l);){let w=1/0,O=1/0,I;for(let D=0;D<o.children.length;D++){const W=o.children[D],Z=lo(W),J=zs(e,W)-Z;J<O?(O=J,w=Z<w?Z:w,I=W):J===O&&Z<w&&(w=Z,I=W)}o=I||o.children[0]}return o}_insert(e,o,l){const h=l?e:this.toBBox(e),w=[],O=this._chooseSubtree(h,this.data,o,w);for(O.children.push(e),$r(O,h);o>=0&&w[o].children.length>this._maxEntries;)this._split(w,o),o--;this._adjustParentBBoxes(h,w,o)}_split(e,o){const l=e[o],h=l.children.length,w=this._minEntries;this._chooseSplitAxis(l,w,h);const O=this._chooseSplitIndex(l,w,h),I=Vr(l.children.splice(O,l.children.length-O));I.height=l.height,I.leaf=l.leaf,Ur(l,this.toBBox),Ur(I,this.toBBox),o?e[o-1].children.push(I):this._splitRoot(l,I)}_splitRoot(e,o){this.data=Vr([e,o]),this.data.height=e.height+1,this.data.leaf=!1,Ur(this.data,this.toBBox)}_chooseSplitIndex(e,o,l){let h,w=1/0,O=1/0;for(let I=o;I<=l-o;I++){const D=qr(e,0,I,this.toBBox),W=qr(e,I,l,this.toBBox),Z=js(D,W),J=lo(D)+lo(W);Z<w?(w=Z,h=I,O=J<O?J:O):Z===w&&J<O&&(O=J,h=I)}return h||l-o}_chooseSplitAxis(e,o,l){const h=e.leaf?this.compareMinX:Fs,w=e.leaf?this.compareMinY:Hs,O=this._allDistMargin(e,o,l,h),I=this._allDistMargin(e,o,l,w);O<I&&e.children.sort(h)}_allDistMargin(e,o,l,h){e.children.sort(h);const w=this.toBBox,O=qr(e,0,o,w),I=qr(e,l-o,l,w);let D=Qr(O)+Qr(I);for(let W=o;W<l-o;W++){const Z=e.children[W];$r(O,e.leaf?w(Z):Z),D+=Qr(O)}for(let W=l-o-1;W>=o;W--){const Z=e.children[W];$r(I,e.leaf?w(Z):Z),D+=Qr(I)}return D}_adjustParentBBoxes(e,o,l){for(let h=l;h>=0;h--)$r(o[h],e)}_condense(e){for(let o=e.length-1,l;o>=0;o--)e[o].children.length===0?o>0?(l=e[o-1].children,l.splice(l.indexOf(e[o]),1)):this.clear():Ur(e[o],this.toBBox)}}function Ds(t,e,o){if(!o)return e.indexOf(t);for(let l=0;l<e.length;l++)if(o(t,e[l]))return l;return-1}function Ur(t,e){qr(t,0,t.children.length,e,t)}function qr(t,e,o,l,h){h||(h=Vr(null)),h.minX=1/0,h.minY=1/0,h.maxX=-1/0,h.maxY=-1/0;for(let w=e;w<o;w++){const O=t.children[w];$r(h,t.leaf?l(O):O)}return h}function $r(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function Fs(t,e){return t.minX-e.minX}function Hs(t,e){return t.minY-e.minY}function lo(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function Qr(t){return t.maxX-t.minX+(t.maxY-t.minY)}function zs(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function js(t,e){const o=Math.max(t.minX,e.minX),l=Math.max(t.minY,e.minY),h=Math.min(t.maxX,e.maxX),w=Math.min(t.maxY,e.maxY);return Math.max(0,h-o)*Math.max(0,w-l)}function co(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function Kr(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function Vr(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function zo(t,e,o,l,h){const w=[e,o];for(;w.length;){if(o=w.pop(),e=w.pop(),o-e<=l)continue;const O=e+Math.ceil((o-e)/l/2)*l;Ho(t,O,e,o,h),w.push(e,O,O,o)}}const Bs=()=>{const t=new Ls,e=new Map,o=()=>[...e.values()],l=()=>{t.clear(),e.clear()},h=O=>{if(!ei(O))return;const{minX:I,minY:D,maxX:W,maxY:Z}=O.selector.geometry.bounds,J={minX:I,minY:D,maxX:W,maxY:Z,target:O};t.insert(J),e.set(O.annotation,J)},w=O=>{if(!ei(O))return;const I=e.get(O.annotation);I&&t.remove(I),e.delete(O.annotation)};return{all:o,clear:l,getAt:(O,I,D=0)=>{const W=t.search({minX:O-D,minY:I-D,maxX:O+D,maxY:I+D}).map(Z=>Z.target).filter(Z=>Z.selector.type===sn.RECTANGLE||_t(Z.selector,O,I,D));return W.length>0?(W.sort((Z,J)=>Pi(Z.selector)-Pi(J.selector)),W):[]},getIntersecting:(O,I,D,W)=>t.search({minX:O,minY:I,maxX:O+D,maxY:I+W}).map(Z=>Z.target),insert:h,remove:w,set:(O,I=!0)=>{I&&l();const D=O.reduce((W,Z)=>{if(ei(Z)){const{minX:J,minY:vt,maxX:ee,maxY:Wt}=Z.selector.geometry.bounds;return[...W,{minX:J,minY:vt,maxX:ee,maxY:Wt,target:Z}]}else return W},[]);D.forEach(W=>e.set(W.target.annotation,W)),t.load(D)},size:()=>t.all().length,update:(O,I)=>{w(O),h(I)}}},jo=t=>{const e=Ne(),o=Bs(),l=L(e,t.userSelectAction,t.adapter),h=f(e),w=yt();return e.observe(({changes:O})=>{o.set((O.created||[]).map(I=>I.target),!1),(O.deleted||[]).forEach(I=>o.remove(I.target)),(O.updated||[]).forEach(({oldValue:I,newValue:D})=>o.update(I.target,D.target))}),{store:{...e,getAt:(O,I,D,W)=>{const Z=o.getAt(O,I,W);if(D)return Z.map(J=>e.getAnnotation(J.annotation)).filter(Boolean).filter(D)[0];{const J=Z[0];return J?e.getAnnotation(J.annotation):void 0}},getIntersecting:(O,I,D,W)=>o.getIntersecting(O,I,D,W).map(Z=>e.getAnnotation(Z.annotation)).filter(Boolean)},selection:l,hover:h,viewport:w}},Bo=t=>{const e=jo(t);return{...e,store:Ve(e.store)}},Uo=t=>{let e,o;if(t.nodeName==="CANVAS")e=t,o=e.getContext("2d",{willReadFrequently:!0});else{const h=t;e=document.createElement("canvas"),e.width=h.width,e.height=h.height,o=e.getContext("2d",{willReadFrequently:!0}),o.drawImage(h,0,0,h.width,h.height)}let l=0;for(let h=1;h<10;h++)for(let w=1;w<10;w++){const O=Math.round(w*e.width/10),I=Math.round(h*e.height/10),D=o.getImageData(O,I,1,1).data,W=(.299*D[0]+.587*D[1]+.114*D[2])/255;l+=W}return l/81},Vo=t=>{const e=Uo(t),o=e>.6?"dark":"light";return console.log(`[Annotorious] Image brightness: ${e.toFixed(1)}. Setting ${o} theme.`),o},uo=(t,e,o)=>e.setAttribute("data-theme",o==="auto"?Vo(t):o),Wo=(t,e)=>({...t,drawingEnabled:t.drawingEnabled===void 0?e.drawingEnabled:t.drawingEnabled,drawingMode:t.drawingMode||e.drawingMode,userSelectAction:t.userSelectAction||e.userSelectAction,theme:t.theme||e.theme}),fo=typeof navigator>"u"?!1:navigator.userAgent.indexOf("Mac OS X")!==-1,qo=(t,e)=>{const o=e||document,l=O=>{const I=O;I.key==="z"&&I.ctrlKey?t.undo():I.key==="y"&&I.ctrlKey&&t.redo()},h=O=>{const I=O;I.key==="z"&&I.metaKey&&(I.shiftKey?t.redo():t.undo())},w=()=>{fo?o.removeEventListener("keydown",h):o.removeEventListener("keydown",l)};return fo?o.addEventListener("keydown",h):o.addEventListener("keydown",l),{destroy:w}},Us=(t,e={})=>{if(!t)throw"Missing argument: image";const o=typeof t=="string"?document.getElementById(t):t,l=Wo(e,{drawingEnabled:!0,drawingMode:"drag",userSelectAction:x.EDIT,theme:"light"}),h=Bo(l),{selection:w,store:O}=h,I=ci(O,l.initialHistory),D=ce(h,I,l.adapter,l.autoSave),W=document.createElement("DIV");W.style.position="relative",W.style.display="inline-block",o.style.display="block",o.parentNode.insertBefore(W,o),W.appendChild(o);const Z=qo(I);let J=U();uo(o,W,l.theme);const vt=new Fo({target:W,props:{drawingEnabled:!!l.drawingEnabled,image:o,preferredDrawingMode:l.drawingMode,state:h,style:l.style,user:J}});vt.$on("click",re=>{const{originalEvent:xe,annotation:Ut}=re.detail;Ut?w.userSelect(Ut.id,xe):w.isEmpty()||w.clear()});const ee=De(h,I,l.adapter),Wt=()=>vt.cancelDrawing(),Ft=()=>{vt.$destroy(),W.parentNode.insertBefore(o,W),W.parentNode.removeChild(W),Z.destroy(),I.destroy()},He=()=>vt.getDrawingTool(),fe=()=>J,Te=()=>vt.isDrawingEnabled(),$t=(re,xe,Ut)=>Ao(re,xe,Ut),Pe=(re,xe)=>mo(re,xe),Xe=re=>{if(!oo(re))throw`No drawing tool named ${re}`;vt.$set({toolName:re})},cn=re=>vt.$set({drawingEnabled:re}),Ye=re=>{console.warn("Filter not implemented yet")},Hn=re=>vt.$set({style:re}),En=re=>uo(o,W,re),ki=re=>{J=re,vt.$set({user:re})},bi=re=>vt.$set({visible:re});return{...ee,cancelDrawing:Wt,destroy:Ft,getDrawingTool:He,getUser:fe,isDrawingEnabled:Te,listDrawingTools:ro,on:D.on,off:D.off,registerDrawingTool:$t,registerShapeEditor:Pe,setDrawingEnabled:cn,setDrawingTool:Xe,setFilter:Ye,setStyle:Hn,setTheme:En,setUser:ki,setVisible:bi,element:W,state:h}};n.Editor=Ir,n.EditorMount=vo,n.Handle=ar,n.IdentityTransform=xs,n.MidpointHandle=a,n.PolygonEditor=Se,n.RectangleEditor=Yt,n.RectangleUtil=ti,n.RubberbandRectangle=wo,n.SVGAnnotationLayer=Fo,n.ShapeType=sn,n.ToolMount=yo,n.UserSelectAction=x,n.W3CImageFormat=Kt,n.addEventListeners=Co,n.approximateAsPolygon=vi,n.boundsFromMultiPolygonElements=Ge,n.boundsFromPoints=gt,n.chainStyles=di,n.computeArea=Pi,n.computePolygonArea=Lt,n.computeSVGPath=Un,n.computeStyle=Ue,n.createBody=ln,n.createImageAnnotator=Us,n.createImageAnnotatorState=jo,n.createSVGTransform=To,n.createSvelteImageAnnotatorState=Bo,n.defaultColorProvider=_e,n.detectTheme=Vo,n.distance=ze,n.enableResponsive=Ji,n.fillDefaults=Wo,n.getAllCorners=Jn,n.getEditor=go,n.getMaskDimensions=hr,n.getSVGPoint=so,n.getTool=oo,n.initKeyboardCommands=qo,n.intersects=_t,n.isImageAnnotation=li,n.isImageAnnotationTarget=ei,n.isMac=fo,n.isPointInPolygon=de,n.isTouch=Yn,n.listDrawingTools=ro,n.multipolygonElementToPath=We,n.parseFragmentSelector=mi,n.parseSVGSelector=nr,n.parseW3CImageAnnotation=ke,n.pointsToPath=Ce,n.registerEditor=mo,n.registerShapeUtil=tn,n.registerTool=Ao,n.sampleBrightness=Uo,n.serializeFragmentSelector=xi,n.serializeSVGSelector=Vi,n.serializeW3CImageAnnotation=kn,n.setTheme=uo,n.simplifyMultiPolygon=zn,n.simplifyPoints=ge,n.simplifyPolygon=On,Object.defineProperty(n,Symbol.toStringTag,{value:"Module"})}),(function(n,T){typeof exports=="object"&&typeof module!="undefined"?T(exports):typeof define=="function"&&define.amd?define(["exports"],T):T((n=typeof globalThis!="undefined"?globalThis:n||self).Popper={})})(void 0,(function(n){"use strict";function T(_t){if(_t==null)return window;if(_t.toString()!=="[object Window]"){var gt=_t.ownerDocument;return gt&&gt.defaultView||window}return _t}function A(_t){return _t instanceof T(_t).Element||_t instanceof Element}function c(_t){return _t instanceof T(_t).HTMLElement||_t instanceof HTMLElement}function p(_t){return typeof ShadowRoot!="undefined"&&(_t instanceof T(_t).ShadowRoot||_t instanceof ShadowRoot)}var v=Math.max,g=Math.min,M=Math.round;function y(){var _t=navigator.userAgentData;return _t!=null&&_t.brands&&Array.isArray(_t.brands)?_t.brands.map((function(gt){return gt.brand+"/"+gt.version})).join(" "):navigator.userAgent}function E(){return!/^((?!chrome|android).)*safari/i.test(y())}function F(_t,gt,Lt){gt===void 0&&(gt=!1),Lt===void 0&&(Lt=!1);var de=_t.getBoundingClientRect(),Ce=1,ge=1;gt&&c(_t)&&(Ce=_t.offsetWidth>0&&M(de.width)/_t.offsetWidth||1,ge=_t.offsetHeight>0&&M(de.height)/_t.offsetHeight||1);var ze=(A(_t)?T(_t):window).visualViewport,Me=!E()&&Lt,Fe=(de.left+(Me&&ze?ze.offsetLeft:0))/Ce,bn=(de.top+(Me&&ze?ze.offsetTop:0))/ge,Ge=de.width/Ce,We=de.height/ge;return{width:Ge,height:We,top:bn,right:Fe+Ge,bottom:bn+We,left:Fe,x:Fe,y:bn}}function et(_t){var gt=T(_t);return{scrollLeft:gt.pageXOffset,scrollTop:gt.pageYOffset}}function H(_t){return _t?(_t.nodeName||"").toLowerCase():null}function at(_t){return((A(_t)?_t.ownerDocument:_t.document)||window.document).documentElement}function z(_t){return F(at(_t)).left+et(_t).scrollLeft}function S(_t){return T(_t).getComputedStyle(_t)}function q(_t){var gt=S(_t),Lt=gt.overflow,de=gt.overflowX,Ce=gt.overflowY;return/auto|scroll|overlay|hidden/.test(Lt+Ce+de)}function V(_t,gt,Lt){Lt===void 0&&(Lt=!1);var de,Ce,ge=c(gt),ze=c(gt)&&(function(We){var Jn=We.getBoundingClientRect(),zn=M(Jn.width)/We.offsetWidth||1,jn=M(Jn.height)/We.offsetHeight||1;return zn!==1||jn!==1})(gt),Me=at(gt),Fe=F(_t,ze,Lt),bn={scrollLeft:0,scrollTop:0},Ge={x:0,y:0};return(ge||!ge&&!Lt)&&((H(gt)!=="body"||q(Me))&&(bn=(de=gt)!==T(de)&&c(de)?{scrollLeft:(Ce=de).scrollLeft,scrollTop:Ce.scrollTop}:et(de)),c(gt)?((Ge=F(gt,!0)).x+=gt.clientLeft,Ge.y+=gt.clientTop):Me&&(Ge.x=z(Me))),{x:Fe.left+bn.scrollLeft-Ge.x,y:Fe.top+bn.scrollTop-Ge.y,width:Fe.width,height:Fe.height}}function tt(_t){var gt=F(_t),Lt=_t.offsetWidth,de=_t.offsetHeight;return Math.abs(gt.width-Lt)<=1&&(Lt=gt.width),Math.abs(gt.height-de)<=1&&(de=gt.height),{x:_t.offsetLeft,y:_t.offsetTop,width:Lt,height:de}}function rt(_t){return H(_t)==="html"?_t:_t.assignedSlot||_t.parentNode||(p(_t)?_t.host:null)||at(_t)}function At(_t){return["html","body","#document"].indexOf(H(_t))>=0?_t.ownerDocument.body:c(_t)&&q(_t)?_t:At(rt(_t))}function ut(_t,gt){var Lt;gt===void 0&&(gt=[]);var de=At(_t),Ce=de===((Lt=_t.ownerDocument)==null?void 0:Lt.body),ge=T(de),ze=Ce?[ge].concat(ge.visualViewport||[],q(de)?de:[]):de,Me=gt.concat(ze);return Ce?Me:Me.concat(ut(rt(ze)))}function ft(_t){return["table","td","th"].indexOf(H(_t))>=0}function G(_t){return c(_t)&&S(_t).position!=="fixed"?_t.offsetParent:null}function Ct(_t){for(var gt=T(_t),Lt=G(_t);Lt&&ft(Lt)&&S(Lt).position==="static";)Lt=G(Lt);return Lt&&(H(Lt)==="html"||H(Lt)==="body"&&S(Lt).position==="static")?gt:Lt||(function(de){var Ce=/firefox/i.test(y());if(/Trident/i.test(y())&&c(de)&&S(de).position==="fixed")return null;var ge=rt(de);for(p(ge)&&(ge=ge.host);c(ge)&&["html","body"].indexOf(H(ge))<0;){var ze=S(ge);if(ze.transform!=="none"||ze.perspective!=="none"||ze.contain==="paint"||["transform","perspective"].indexOf(ze.willChange)!==-1||Ce&&ze.willChange==="filter"||Ce&&ze.filter&&ze.filter!=="none")return ge;ge=ge.parentNode}return null})(_t)||gt}var St="top",te="bottom",m="right",kt="left",zt="auto",R=[St,te,m,kt],xn="start",Gt="end",Q="viewport",wt="popper",d=R.reduce((function(_t,gt){return _t.concat([gt+"-"+xn,gt+"-"+Gt])}),[]),pe=[].concat(R,[zt]).reduce((function(_t,gt){return _t.concat([gt,gt+"-"+xn,gt+"-"+Gt])}),[]),ve=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Le(_t){var gt=new Map,Lt=new Set,de=[];function Ce(ge){Lt.add(ge.name),[].concat(ge.requires||[],ge.requiresIfExists||[]).forEach((function(ze){if(!Lt.has(ze)){var Me=gt.get(ze);Me&&Ce(Me)}})),de.push(ge)}return _t.forEach((function(ge){gt.set(ge.name,ge)})),_t.forEach((function(ge){Lt.has(ge.name)||Ce(ge)})),de}function Ie(_t,gt){var Lt=gt.getRootNode&&gt.getRootNode();if(_t.contains(gt))return!0;if(Lt&&p(Lt)){var de=gt;do{if(de&&_t.isSameNode(de))return!0;de=de.parentNode||de.host}while(de)}return!1}function vn(_t){return Object.assign({},_t,{left:_t.x,top:_t.y,right:_t.x+_t.width,bottom:_t.y+_t.height})}function Cn(_t,gt,Lt){return gt===Q?vn((function(de,Ce){var ge=T(de),ze=at(de),Me=ge.visualViewport,Fe=ze.clientWidth,bn=ze.clientHeight,Ge=0,We=0;if(Me){Fe=Me.width,bn=Me.height;var Jn=E();(Jn||!Jn&&Ce==="fixed")&&(Ge=Me.offsetLeft,We=Me.offsetTop)}return{width:Fe,height:bn,x:Ge+z(de),y:We}})(_t,Lt)):A(gt)?(function(de,Ce){var ge=F(de,!1,Ce==="fixed");return ge.top=ge.top+de.clientTop,ge.left=ge.left+de.clientLeft,ge.bottom=ge.top+de.clientHeight,ge.right=ge.left+de.clientWidth,ge.width=de.clientWidth,ge.height=de.clientHeight,ge.x=ge.left,ge.y=ge.top,ge})(gt,Lt):vn((function(de){var Ce,ge=at(de),ze=et(de),Me=(Ce=de.ownerDocument)==null?void 0:Ce.body,Fe=v(ge.scrollWidth,ge.clientWidth,Me?Me.scrollWidth:0,Me?Me.clientWidth:0),bn=v(ge.scrollHeight,ge.clientHeight,Me?Me.scrollHeight:0,Me?Me.clientHeight:0),Ge=-ze.scrollLeft+z(de),We=-ze.scrollTop;return S(Me||ge).direction==="rtl"&&(Ge+=v(ge.clientWidth,Me?Me.clientWidth:0)-Fe),{width:Fe,height:bn,x:Ge,y:We}})(at(_t)))}function an(_t,gt,Lt,de){var Ce=gt==="clippingParents"?(function(Fe){var bn=ut(rt(Fe)),Ge=["absolute","fixed"].indexOf(S(Fe).position)>=0&&c(Fe)?Ct(Fe):Fe;return A(Ge)?bn.filter((function(We){return A(We)&&Ie(We,Ge)&&H(We)!=="body"})):[]})(_t):[].concat(gt),ge=[].concat(Ce,[Lt]),ze=ge[0],Me=ge.reduce((function(Fe,bn){var Ge=Cn(_t,bn,de);return Fe.top=v(Ge.top,Fe.top),Fe.right=g(Ge.right,Fe.right),Fe.bottom=g(Ge.bottom,Fe.bottom),Fe.left=v(Ge.left,Fe.left),Fe}),Cn(_t,ze,de));return Me.width=Me.right-Me.left,Me.height=Me.bottom-Me.top,Me.x=Me.left,Me.y=Me.top,Me}function si(_t){return _t.split("-")[0]}function $n(_t){return _t.split("-")[1]}function Ii(_t){return["top","bottom"].indexOf(_t)>=0?"x":"y"}function qi(_t){var gt,Lt=_t.reference,de=_t.element,Ce=_t.placement,ge=Ce?si(Ce):null,ze=Ce?$n(Ce):null,Me=Lt.x+Lt.width/2-de.width/2,Fe=Lt.y+Lt.height/2-de.height/2;switch(ge){case St:gt={x:Me,y:Lt.y-de.height};break;case te:gt={x:Me,y:Lt.y+Lt.height};break;case m:gt={x:Lt.x+Lt.width,y:Fe};break;case kt:gt={x:Lt.x-de.width,y:Fe};break;default:gt={x:Lt.x,y:Lt.y}}var bn=ge?Ii(ge):null;if(bn!=null){var Ge=bn==="y"?"height":"width";switch(ze){case xn:gt[bn]=gt[bn]-(Lt[Ge]/2-de[Ge]/2);break;case Gt:gt[bn]=gt[bn]+(Lt[Ge]/2-de[Ge]/2)}}return gt}function Bt(_t){return Object.assign({},{top:0,right:0,bottom:0,left:0},_t)}function be(_t,gt){return gt.reduce((function(Lt,de){return Lt[de]=_t,Lt}),{})}function on(_t,gt){gt===void 0&&(gt={});var Lt=gt,de=Lt.placement,Ce=de===void 0?_t.placement:de,ge=Lt.strategy,ze=ge===void 0?_t.strategy:ge,Me=Lt.boundary,Fe=Me===void 0?"clippingParents":Me,bn=Lt.rootBoundary,Ge=bn===void 0?Q:bn,We=Lt.elementContext,Jn=We===void 0?wt:We,zn=Lt.altBoundary,jn=zn!==void 0&&zn,On=Lt.padding,Dn=On===void 0?0:On,vi=Bt(typeof Dn!="number"?Dn:be(Dn,R)),_i=Jn===wt?"reference":wt,gi=_t.rects.popper,ri=_t.elements[jn?_i:Jn],Un=an(A(ri)?ri:ri.contextElement||at(_t.elements.popper),Fe,Ge,ze),ti=F(_t.elements.reference),li=qi({reference:ti,element:gi,strategy:"absolute",placement:Ce}),ei=vn(Object.assign({},gi,li)),mi=Jn===wt?ei:ti,xi={top:Un.top-mi.top+vi.top,bottom:mi.bottom-Un.bottom+vi.bottom,left:Un.left-mi.left+vi.left,right:mi.right-Un.right+vi.right},Bi=_t.modifiersData.offset;if(Jn===wt&&Bi){var Ui=Bi[Ce];Object.keys(xi).forEach((function(ir){var er=[m,te].indexOf(ir)>=0?1:-1,$i=[St,te].indexOf(ir)>=0?"y":"x";xi[ir]+=Ui[$i]*er}))}return xi}var Bn={placement:"bottom",modifiers:[],strategy:"absolute"};function Si(){for(var _t=arguments.length,gt=new Array(_t),Lt=0;Lt<_t;Lt++)gt[Lt]=arguments[Lt];return!gt.some((function(de){return!(de&&typeof de.getBoundingClientRect=="function")}))}function Li(_t){_t===void 0&&(_t={});var gt=_t,Lt=gt.defaultModifiers,de=Lt===void 0?[]:Lt,Ce=gt.defaultOptions,ge=Ce===void 0?Bn:Ce;return function(ze,Me,Fe){Fe===void 0&&(Fe=ge);var bn,Ge,We={placement:"bottom",orderedModifiers:[],options:Object.assign({},Bn,ge),modifiersData:{},elements:{reference:ze,popper:Me},attributes:{},styles:{}},Jn=[],zn=!1,jn={state:We,setOptions:function(Dn){var vi=typeof Dn=="function"?Dn(We.options):Dn;On(),We.options=Object.assign({},ge,We.options,vi),We.scrollParents={reference:A(ze)?ut(ze):ze.contextElement?ut(ze.contextElement):[],popper:ut(Me)};var _i,gi,ri=(function(Un){var ti=Le(Un);return ve.reduce((function(li,ei){return li.concat(ti.filter((function(mi){return mi.phase===ei})))}),[])})((_i=[].concat(de,We.options.modifiers),gi=_i.reduce((function(Un,ti){var li=Un[ti.name];return Un[ti.name]=li?Object.assign({},li,ti,{options:Object.assign({},li.options,ti.options),data:Object.assign({},li.data,ti.data)}):ti,Un}),{}),Object.keys(gi).map((function(Un){return gi[Un]}))));return We.orderedModifiers=ri.filter((function(Un){return Un.enabled})),We.orderedModifiers.forEach((function(Un){var ti=Un.name,li=Un.options,ei=li===void 0?{}:li,mi=Un.effect;if(typeof mi=="function"){var xi=mi({state:We,name:ti,instance:jn,options:ei}),Bi=function(){};Jn.push(xi||Bi)}})),jn.update()},forceUpdate:function(){if(!zn){var Dn=We.elements,vi=Dn.reference,_i=Dn.popper;if(Si(vi,_i)){We.rects={reference:V(vi,Ct(_i),We.options.strategy==="fixed"),popper:tt(_i)},We.reset=!1,We.placement=We.options.placement,We.orderedModifiers.forEach((function(mi){return We.modifiersData[mi.name]=Object.assign({},mi.data)}));for(var gi=0;gi<We.orderedModifiers.length;gi++)if(We.reset!==!0){var ri=We.orderedModifiers[gi],Un=ri.fn,ti=ri.options,li=ti===void 0?{}:ti,ei=ri.name;typeof Un=="function"&&(We=Un({state:We,options:li,name:ei,instance:jn})||We)}else We.reset=!1,gi=-1}}},update:(bn=function(){return new Promise((function(Dn){jn.forceUpdate(),Dn(We)}))},function(){return Ge||(Ge=new Promise((function(Dn){Promise.resolve().then((function(){Ge=void 0,Dn(bn())}))}))),Ge}),destroy:function(){On(),zn=!0}};if(!Si(ze,Me))return jn;function On(){Jn.forEach((function(Dn){return Dn()})),Jn=[]}return jn.setOptions(Fe).then((function(Dn){!zn&&Fe.onFirstUpdate&&Fe.onFirstUpdate(Dn)})),jn}}var It={passive:!0},Zt={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(_t){var gt=_t.state,Lt=_t.instance,de=_t.options,Ce=de.scroll,ge=Ce===void 0||Ce,ze=de.resize,Me=ze===void 0||ze,Fe=T(gt.elements.popper),bn=[].concat(gt.scrollParents.reference,gt.scrollParents.popper);return ge&&bn.forEach((function(Ge){Ge.addEventListener("scroll",Lt.update,It)})),Me&&Fe.addEventListener("resize",Lt.update,It),function(){ge&&bn.forEach((function(Ge){Ge.removeEventListener("scroll",Lt.update,It)})),Me&&Fe.removeEventListener("resize",Lt.update,It)}},data:{}},he={name:"popperOffsets",enabled:!0,phase:"read",fn:function(_t){var gt=_t.state,Lt=_t.name;gt.modifiersData[Lt]=qi({reference:gt.rects.reference,element:gt.rects.popper,strategy:"absolute",placement:gt.placement})},data:{}},Ee={top:"auto",right:"auto",bottom:"auto",left:"auto"};function je(_t){var gt,Lt=_t.popper,de=_t.popperRect,Ce=_t.placement,ge=_t.variation,ze=_t.offsets,Me=_t.position,Fe=_t.gpuAcceleration,bn=_t.adaptive,Ge=_t.roundOffsets,We=_t.isFixed,Jn=ze.x,zn=Jn===void 0?0:Jn,jn=ze.y,On=jn===void 0?0:jn,Dn=typeof Ge=="function"?Ge({x:zn,y:On}):{x:zn,y:On};zn=Dn.x,On=Dn.y;var vi=ze.hasOwnProperty("x"),_i=ze.hasOwnProperty("y"),gi=kt,ri=St,Un=window;if(bn){var ti=Ct(Lt),li="clientHeight",ei="clientWidth";ti===T(Lt)&&S(ti=at(Lt)).position!=="static"&&Me==="absolute"&&(li="scrollHeight",ei="scrollWidth"),ti=ti,(Ce===St||(Ce===kt||Ce===m)&&ge===Gt)&&(ri=te,On-=(We&&ti===Un&&Un.visualViewport?Un.visualViewport.height:ti[li])-de.height,On*=Fe?1:-1),(Ce===kt||(Ce===St||Ce===te)&&ge===Gt)&&(gi=m,zn-=(We&&ti===Un&&Un.visualViewport?Un.visualViewport.width:ti[ei])-de.width,zn*=Fe?1:-1)}var mi,xi=Object.assign({position:Me},bn&&Ee),Bi=Ge===!0?(function(Ui,ir){var er=Ui.x,$i=Ui.y,Mi=ir.devicePixelRatio||1;return{x:M(er*Mi)/Mi||0,y:M($i*Mi)/Mi||0}})({x:zn,y:On},T(Lt)):{x:zn,y:On};return zn=Bi.x,On=Bi.y,Fe?Object.assign({},xi,((mi={})[ri]=_i?"0":"",mi[gi]=vi?"0":"",mi.transform=(Un.devicePixelRatio||1)<=1?"translate("+zn+"px, "+On+"px)":"translate3d("+zn+"px, "+On+"px, 0)",mi)):Object.assign({},xi,((gt={})[ri]=_i?On+"px":"",gt[gi]=vi?zn+"px":"",gt.transform="",gt))}var se={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(_t){var gt=_t.state,Lt=_t.options,de=Lt.gpuAcceleration,Ce=de===void 0||de,ge=Lt.adaptive,ze=ge===void 0||ge,Me=Lt.roundOffsets,Fe=Me===void 0||Me,bn={placement:si(gt.placement),variation:$n(gt.placement),popper:gt.elements.popper,popperRect:gt.rects.popper,gpuAcceleration:Ce,isFixed:gt.options.strategy==="fixed"};gt.modifiersData.popperOffsets!=null&&(gt.styles.popper=Object.assign({},gt.styles.popper,je(Object.assign({},bn,{offsets:gt.modifiersData.popperOffsets,position:gt.options.strategy,adaptive:ze,roundOffsets:Fe})))),gt.modifiersData.arrow!=null&&(gt.styles.arrow=Object.assign({},gt.styles.arrow,je(Object.assign({},bn,{offsets:gt.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:Fe})))),gt.attributes.popper=Object.assign({},gt.attributes.popper,{"data-popper-placement":gt.placement})},data:{}},mt={name:"applyStyles",enabled:!0,phase:"write",fn:function(_t){var gt=_t.state;Object.keys(gt.elements).forEach((function(Lt){var de=gt.styles[Lt]||{},Ce=gt.attributes[Lt]||{},ge=gt.elements[Lt];c(ge)&&H(ge)&&(Object.assign(ge.style,de),Object.keys(Ce).forEach((function(ze){var Me=Ce[ze];Me===!1?ge.removeAttribute(ze):ge.setAttribute(ze,Me===!0?"":Me)})))}))},effect:function(_t){var gt=_t.state,Lt={popper:{position:gt.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(gt.elements.popper.style,Lt.popper),gt.styles=Lt,gt.elements.arrow&&Object.assign(gt.elements.arrow.style,Lt.arrow),function(){Object.keys(gt.elements).forEach((function(de){var Ce=gt.elements[de],ge=gt.attributes[de]||{},ze=Object.keys(gt.styles.hasOwnProperty(de)?gt.styles[de]:Lt[de]).reduce((function(Me,Fe){return Me[Fe]="",Me}),{});c(Ce)&&H(Ce)&&(Object.assign(Ce.style,ze),Object.keys(ge).forEach((function(Me){Ce.removeAttribute(Me)})))}))}},requires:["computeStyles"]},Pt={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(_t){var gt=_t.state,Lt=_t.options,de=_t.name,Ce=Lt.offset,ge=Ce===void 0?[0,0]:Ce,ze=pe.reduce((function(Ge,We){return Ge[We]=(function(Jn,zn,jn){var On=si(Jn),Dn=[kt,St].indexOf(On)>=0?-1:1,vi=typeof jn=="function"?jn(Object.assign({},zn,{placement:Jn})):jn,_i=vi[0],gi=vi[1];return _i=_i||0,gi=(gi||0)*Dn,[kt,m].indexOf(On)>=0?{x:gi,y:_i}:{x:_i,y:gi}})(We,gt.rects,ge),Ge}),{}),Me=ze[gt.placement],Fe=Me.x,bn=Me.y;gt.modifiersData.popperOffsets!=null&&(gt.modifiersData.popperOffsets.x+=Fe,gt.modifiersData.popperOffsets.y+=bn),gt.modifiersData[de]=ze}},le={left:"right",right:"left",bottom:"top",top:"bottom"};function Oe(_t){return _t.replace(/left|right|bottom|top/g,(function(gt){return le[gt]}))}var Xt={start:"end",end:"start"};function Ze(_t){return _t.replace(/start|end/g,(function(gt){return Xt[gt]}))}function Je(_t,gt){gt===void 0&&(gt={});var Lt=gt,de=Lt.placement,Ce=Lt.boundary,ge=Lt.rootBoundary,ze=Lt.padding,Me=Lt.flipVariations,Fe=Lt.allowedAutoPlacements,bn=Fe===void 0?pe:Fe,Ge=$n(de),We=Ge?Me?d:d.filter((function(jn){return $n(jn)===Ge})):R,Jn=We.filter((function(jn){return bn.indexOf(jn)>=0}));Jn.length===0&&(Jn=We);var zn=Jn.reduce((function(jn,On){return jn[On]=on(_t,{placement:On,boundary:Ce,rootBoundary:ge,padding:ze})[si(On)],jn}),{});return Object.keys(zn).sort((function(jn,On){return zn[jn]-zn[On]}))}var yn={name:"flip",enabled:!0,phase:"main",fn:function(_t){var gt=_t.state,Lt=_t.options,de=_t.name;if(!gt.modifiersData[de]._skip){for(var Ce=Lt.mainAxis,ge=Ce===void 0||Ce,ze=Lt.altAxis,Me=ze===void 0||ze,Fe=Lt.fallbackPlacements,bn=Lt.padding,Ge=Lt.boundary,We=Lt.rootBoundary,Jn=Lt.altBoundary,zn=Lt.flipVariations,jn=zn===void 0||zn,On=Lt.allowedAutoPlacements,Dn=gt.options.placement,vi=si(Dn),_i=Fe||(vi===Dn||!jn?[Oe(Dn)]:(function(Mn){if(si(Mn)===zt)return[];var Xn=Oe(Mn);return[Ze(Mn),Xn,Ze(Xn)]})(Dn)),gi=[Dn].concat(_i).reduce((function(Mn,Xn){return Mn.concat(si(Xn)===zt?Je(gt,{placement:Xn,boundary:Ge,rootBoundary:We,padding:bn,flipVariations:jn,allowedAutoPlacements:On}):Xn)}),[]),ri=gt.rects.reference,Un=gt.rects.popper,ti=new Map,li=!0,ei=gi[0],mi=0;mi<gi.length;mi++){var xi=gi[mi],Bi=si(xi),Ui=$n(xi)===xn,ir=[St,te].indexOf(Bi)>=0,er=ir?"width":"height",$i=on(gt,{placement:xi,boundary:Ge,rootBoundary:We,altBoundary:Jn,padding:bn}),Mi=ir?Ui?m:kt:Ui?te:St;ri[er]>Un[er]&&(Mi=Oe(Mi));var me=Oe(Mi),hn=[];if(ge&&hn.push($i[Bi]<=0),Me&&hn.push($i[Mi]<=0,$i[me]<=0),hn.every((function(Mn){return Mn}))){ei=xi,li=!1;break}ti.set(xi,hn)}if(li)for(var In=function(Mn){var Xn=gi.find((function(Gi){var nr=ti.get(Gi);if(nr)return nr.slice(0,Mn).every((function(Ci){return Ci}))}));if(Xn)return ei=Xn,"break"},gn=jn?3:1;gn>0&&In(gn)!=="break";gn--);gt.placement!==ei&&(gt.modifiersData[de]._skip=!0,gt.placement=ei,gt.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Ln(_t,gt,Lt){return v(_t,g(gt,Lt))}var sn={name:"preventOverflow",enabled:!0,phase:"main",fn:function(_t){var gt=_t.state,Lt=_t.options,de=_t.name,Ce=Lt.mainAxis,ge=Ce===void 0||Ce,ze=Lt.altAxis,Me=ze!==void 0&&ze,Fe=Lt.boundary,bn=Lt.rootBoundary,Ge=Lt.altBoundary,We=Lt.padding,Jn=Lt.tether,zn=Jn===void 0||Jn,jn=Lt.tetherOffset,On=jn===void 0?0:jn,Dn=on(gt,{boundary:Fe,rootBoundary:bn,padding:We,altBoundary:Ge}),vi=si(gt.placement),_i=$n(gt.placement),gi=!_i,ri=Ii(vi),Un=ri==="x"?"y":"x",ti=gt.modifiersData.popperOffsets,li=gt.rects.reference,ei=gt.rects.popper,mi=typeof On=="function"?On(Object.assign({},gt.rects,{placement:gt.placement})):On,xi=typeof mi=="number"?{mainAxis:mi,altAxis:mi}:Object.assign({mainAxis:0,altAxis:0},mi),Bi=gt.modifiersData.offset?gt.modifiersData.offset[gt.placement]:null,Ui={x:0,y:0};if(ti){if(ge){var ir,er=ri==="y"?St:kt,$i=ri==="y"?te:m,Mi=ri==="y"?"height":"width",me=ti[ri],hn=me+Dn[er],In=me-Dn[$i],gn=zn?-ei[Mi]/2:0,Mn=_i===xn?li[Mi]:ei[Mi],Xn=_i===xn?-ei[Mi]:-li[Mi],Gi=gt.elements.arrow,nr=zn&&Gi?tt(Gi):{width:0,height:0},Ci=gt.modifiersData["arrow#persistent"]?gt.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Vi=Ci[er],Gn=Ci[$i],Oi=Ln(0,li[Mi],nr[Mi]),Fi=gi?li[Mi]/2-gn-Oi-Vi-xi.mainAxis:Mn-Oi-Vi-xi.mainAxis,Xi=gi?-li[Mi]/2+gn+Oi+Gn+xi.mainAxis:Xn+Oi+Gn+xi.mainAxis,fr=gt.elements.arrow&&Ct(gt.elements.arrow),Pr=fr?ri==="y"?fr.clientTop||0:fr.clientLeft||0:0,Or=(ir=Bi==null?void 0:Bi[ri])!=null?ir:0,yr=me+Xi-Or,Qi=Ln(zn?g(hn,me+Fi-Or-Pr):hn,me,zn?v(In,yr):In);ti[ri]=Qi,Ui[ri]=Qi-me}if(Me){var Ki,_r=ri==="x"?St:kt,pr=ri==="x"?te:m,rr=ti[Un],s=Un==="y"?"height":"width",f=rr+Dn[_r],x=rr-Dn[pr],k=[St,kt].indexOf(vi)!==-1,L=(Ki=Bi==null?void 0:Bi[Un])!=null?Ki:0,X=k?f:rr-li[s]-ei[s]-L+xi.altAxis,it=k?rr+li[s]+ei[s]-L-xi.altAxis:x,dt=zn&&k?(function(Nt,Et,Qt){var Ht=Ln(Nt,Et,Qt);return Ht>Qt?Qt:Ht})(X,rr,it):Ln(zn?X:f,rr,zn?it:x);ti[Un]=dt,Ui[Un]=dt-rr}gt.modifiersData[de]=Ui}},requiresIfExists:["offset"]},_n={name:"arrow",enabled:!0,phase:"main",fn:function(_t){var gt,Lt=_t.state,de=_t.name,Ce=_t.options,ge=Lt.elements.arrow,ze=Lt.modifiersData.popperOffsets,Me=si(Lt.placement),Fe=Ii(Me),bn=[kt,m].indexOf(Me)>=0?"height":"width";if(ge&&ze){var Ge=(function(ei,mi){return Bt(typeof(ei=typeof ei=="function"?ei(Object.assign({},mi.rects,{placement:mi.placement})):ei)!="number"?ei:be(ei,R))})(Ce.padding,Lt),We=tt(ge),Jn=Fe==="y"?St:kt,zn=Fe==="y"?te:m,jn=Lt.rects.reference[bn]+Lt.rects.reference[Fe]-ze[Fe]-Lt.rects.popper[bn],On=ze[Fe]-Lt.rects.reference[Fe],Dn=Ct(ge),vi=Dn?Fe==="y"?Dn.clientHeight||0:Dn.clientWidth||0:0,_i=jn/2-On/2,gi=Ge[Jn],ri=vi-We[bn]-Ge[zn],Un=vi/2-We[bn]/2+_i,ti=Ln(gi,Un,ri),li=Fe;Lt.modifiersData[de]=((gt={})[li]=ti,gt.centerOffset=ti-Un,gt)}},effect:function(_t){var gt=_t.state,Lt=_t.options.element,de=Lt===void 0?"[data-popper-arrow]":Lt;de!=null&&(typeof de!="string"||(de=gt.elements.popper.querySelector(de)))&&Ie(gt.elements.popper,de)&&(gt.elements.arrow=de)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function pi(_t,gt,Lt){return Lt===void 0&&(Lt={x:0,y:0}),{top:_t.top-gt.height-Lt.y,right:_t.right-gt.width+Lt.x,bottom:_t.bottom-gt.height+Lt.y,left:_t.left-gt.width-Lt.x}}function zi(_t){return[St,m,te,kt].some((function(gt){return _t[gt]>=0}))}var Mt={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(_t){var gt=_t.state,Lt=_t.name,de=gt.rects.reference,Ce=gt.rects.popper,ge=gt.modifiersData.preventOverflow,ze=on(gt,{elementContext:"reference"}),Me=on(gt,{altBoundary:!0}),Fe=pi(ze,de),bn=pi(Me,Ce,ge),Ge=zi(Fe),We=zi(bn);gt.modifiersData[Lt]={referenceClippingOffsets:Fe,popperEscapeOffsets:bn,isReferenceHidden:Ge,hasPopperEscaped:We},gt.attributes.popper=Object.assign({},gt.attributes.popper,{"data-popper-reference-hidden":Ge,"data-popper-escaped":We})}},ai=Li({defaultModifiers:[Zt,he,se,mt]}),tn=[Zt,he,se,mt,Pt,yn,sn,_n,Mt],Pi=Li({defaultModifiers:tn});n.applyStyles=mt,n.arrow=_n,n.computeStyles=se,n.createPopper=Pi,n.createPopperLite=ai,n.defaultModifiers=tn,n.detectOverflow=on,n.eventListeners=Zt,n.flip=yn,n.hide=Mt,n.offset=Pt,n.popperGenerator=Li,n.popperOffsets=he,n.preventOverflow=sn,Object.defineProperty(n,"__esModule",{value:!0})})),(function(n,T){typeof exports=="object"&&typeof module!="undefined"?module.exports=T(require("@popperjs/core")):typeof define=="function"&&define.amd?define(["@popperjs/core"],T):(n=n||self).tippy=T(n.Popper)})(void 0,(function(n){"use strict";var T={passive:!0,capture:!0},A=function(){return document.body};function c(It,Zt,he){if(Array.isArray(It)){var Ee=It[Zt];return Ee==null?Array.isArray(he)?he[Zt]:he:Ee}return It}function p(It,Zt){var he={}.toString.call(It);return he.indexOf("[object")===0&&he.indexOf(Zt+"]")>-1}function v(It,Zt){return typeof It=="function"?It.apply(void 0,Zt):It}function g(It,Zt){return Zt===0?It:function(Ee){clearTimeout(he),he=setTimeout((function(){It(Ee)}),Zt)};var he}function M(It,Zt){var he=Object.assign({},It);return Zt.forEach((function(Ee){delete he[Ee]})),he}function y(It){return[].concat(It)}function E(It,Zt){It.indexOf(Zt)===-1&&It.push(Zt)}function F(It){return It.split("-")[0]}function et(It){return[].slice.call(It)}function H(It){return Object.keys(It).reduce((function(Zt,he){return It[he]!==void 0&&(Zt[he]=It[he]),Zt}),{})}function at(){return document.createElement("div")}function z(It){return["Element","Fragment"].some((function(Zt){return p(It,Zt)}))}function S(It){return p(It,"MouseEvent")}function q(It){return!(!It||!It._tippy||It._tippy.reference!==It)}function V(It){return z(It)?[It]:(function(Zt){return p(Zt,"NodeList")})(It)?et(It):Array.isArray(It)?It:et(document.querySelectorAll(It))}function tt(It,Zt){It.forEach((function(he){he&&(he.style.transitionDuration=Zt+"ms")}))}function rt(It,Zt){It.forEach((function(he){he&&he.setAttribute("data-state",Zt)}))}function At(It){var Zt,he=y(It)[0];return he!=null&&(Zt=he.ownerDocument)!=null&&Zt.body?he.ownerDocument:document}function ut(It,Zt,he){var Ee=Zt+"EventListener";["transitionend","webkitTransitionEnd"].forEach((function(je){It[Ee](je,he)}))}function ft(It,Zt){for(var he=Zt;he;){var Ee;if(It.contains(he))return!0;he=he.getRootNode==null||(Ee=he.getRootNode())==null?void 0:Ee.host}return!1}var G={isTouch:!1},Ct=0;function St(){G.isTouch||(G.isTouch=!0,window.performance&&document.addEventListener("mousemove",te))}function te(){var It=performance.now();It-Ct<20&&(G.isTouch=!1,document.removeEventListener("mousemove",te)),Ct=It}function m(){var It=document.activeElement;if(q(It)){var Zt=It._tippy;It.blur&&!Zt.state.isVisible&&It.blur()}}var kt=typeof window!="undefined"&&typeof document!="undefined"&&!!window.msCrypto,zt=Object.assign({appendTo:A,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},{animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),R=Object.keys(zt);function xn(It){var Zt=(It.plugins||[]).reduce((function(he,Ee){var je,se=Ee.name,mt=Ee.defaultValue;return se&&(he[se]=It[se]!==void 0?It[se]:(je=zt[se])!=null?je:mt),he}),{});return Object.assign({},It,Zt)}function Gt(It,Zt){var he=Object.assign({},Zt,{content:v(Zt.content,[It])},Zt.ignoreAttributes?{}:(function(Ee,je){return(je?Object.keys(xn(Object.assign({},zt,{plugins:je}))):R).reduce((function(se,mt){var Pt=(Ee.getAttribute("data-tippy-"+mt)||"").trim();if(!Pt)return se;if(mt==="content")se[mt]=Pt;else try{se[mt]=JSON.parse(Pt)}catch(le){se[mt]=Pt}return se}),{})})(It,Zt.plugins));return he.aria=Object.assign({},zt.aria,he.aria),he.aria={expanded:he.aria.expanded==="auto"?Zt.interactive:he.aria.expanded,content:he.aria.content==="auto"?Zt.interactive?null:"describedby":he.aria.content},he}function Q(It,Zt){It.innerHTML=Zt}function wt(It){var Zt=at();return It===!0?Zt.className="tippy-arrow":(Zt.className="tippy-svg-arrow",z(It)?Zt.appendChild(It):Q(Zt,It)),Zt}function d(It,Zt){z(Zt.content)?(Q(It,""),It.appendChild(Zt.content)):typeof Zt.content!="function"&&(Zt.allowHTML?Q(It,Zt.content):It.textContent=Zt.content)}function pe(It){var Zt=It.firstElementChild,he=et(Zt.children);return{box:Zt,content:he.find((function(Ee){return Ee.classList.contains("tippy-content")})),arrow:he.find((function(Ee){return Ee.classList.contains("tippy-arrow")||Ee.classList.contains("tippy-svg-arrow")})),backdrop:he.find((function(Ee){return Ee.classList.contains("tippy-backdrop")}))}}function ve(It){var Zt=at(),he=at();he.className="tippy-box",he.setAttribute("data-state","hidden"),he.setAttribute("tabindex","-1");var Ee=at();function je(se,mt){var Pt=pe(Zt),le=Pt.box,Oe=Pt.content,Xt=Pt.arrow;mt.theme?le.setAttribute("data-theme",mt.theme):le.removeAttribute("data-theme"),typeof mt.animation=="string"?le.setAttribute("data-animation",mt.animation):le.removeAttribute("data-animation"),mt.inertia?le.setAttribute("data-inertia",""):le.removeAttribute("data-inertia"),le.style.maxWidth=typeof mt.maxWidth=="number"?mt.maxWidth+"px":mt.maxWidth,mt.role?le.setAttribute("role",mt.role):le.removeAttribute("role"),se.content===mt.content&&se.allowHTML===mt.allowHTML||d(Oe,It.props),mt.arrow?Xt?se.arrow!==mt.arrow&&(le.removeChild(Xt),le.appendChild(wt(mt.arrow))):le.appendChild(wt(mt.arrow)):Xt&&le.removeChild(Xt)}return Ee.className="tippy-content",Ee.setAttribute("data-state","hidden"),d(Ee,It.props),Zt.appendChild(he),he.appendChild(Ee),je(It.props,It.props),{popper:Zt,onUpdate:je}}ve.$$tippy=!0;var Le=1,Ie=[],vn=[];function Cn(It,Zt){var he,Ee,je,se,mt,Pt,le,Oe,Xt=Gt(It,Object.assign({},zt,xn(H(Zt)))),Ze=!1,Je=!1,yn=!1,Ln=!1,sn=[],_n=g(ei,Xt.interactiveDebounce),pi=Le++,zi=(Oe=Xt.plugins).filter((function(me,hn){return Oe.indexOf(me)===hn})),Mt={id:pi,reference:It,popper:at(),popperInstance:null,props:Xt,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:zi,clearDelayTimeouts:function(){clearTimeout(he),clearTimeout(Ee),cancelAnimationFrame(je)},setProps:function(me){if(!Mt.state.isDestroyed){Ge("onBeforeUpdate",[Mt,me]),ti();var hn=Mt.props,In=Gt(It,Object.assign({},hn,H(me),{ignoreAttributes:!0}));Mt.props=In,Un(),hn.interactiveDebounce!==In.interactiveDebounce&&(zn(),_n=g(ei,In.interactiveDebounce)),hn.triggerTarget&&!In.triggerTarget?y(hn.triggerTarget).forEach((function(gn){gn.removeAttribute("aria-expanded")})):In.triggerTarget&&It.removeAttribute("aria-expanded"),Jn(),bn(),Pi&&Pi(hn,In),Mt.popperInstance&&(Ui(),er().forEach((function(gn){requestAnimationFrame(gn._tippy.popperInstance.forceUpdate)}))),Ge("onAfterUpdate",[Mt,me])}},setContent:function(me){Mt.setProps({content:me})},show:function(){var me=Mt.state.isVisible,hn=Mt.state.isDestroyed,In=!Mt.state.isEnabled,gn=G.isTouch&&!Mt.props.touch,Mn=c(Mt.props.duration,0,zt.duration);if(!(me||hn||In||gn)&&!ge().hasAttribute("disabled")&&(Ge("onShow",[Mt],!1),Mt.props.onShow(Mt)!==!1)){if(Mt.state.isVisible=!0,Ce()&&(tn.style.visibility="visible"),bn(),vi(),Mt.state.isMounted||(tn.style.transition="none"),Ce()){var Xn=Me(),Gi=Xn.box,nr=Xn.content;tt([Gi,nr],0)}Pt=function(){var Ci;if(Mt.state.isVisible&&!Ln){if(Ln=!0,tn.offsetHeight,tn.style.transition=Mt.props.moveTransition,Ce()&&Mt.props.animation){var Vi=Me(),Gn=Vi.box,Oi=Vi.content;tt([Gn,Oi],Mn),rt([Gn,Oi],"visible")}We(),Jn(),E(vn,Mt),(Ci=Mt.popperInstance)==null||Ci.forceUpdate(),Ge("onMount",[Mt]),Mt.props.animation&&Ce()&&(function(Fi,Xi){gi(Fi,Xi)})(Mn,(function(){Mt.state.isShown=!0,Ge("onShown",[Mt])}))}},(function(){var Ci,Vi=Mt.props.appendTo,Gn=ge();Ci=Mt.props.interactive&&Vi===A||Vi==="parent"?Gn.parentNode:v(Vi,[Gn]),Ci.contains(tn)||Ci.appendChild(tn),Mt.state.isMounted=!0,Ui()})()}},hide:function(){var me=!Mt.state.isVisible,hn=Mt.state.isDestroyed,In=!Mt.state.isEnabled,gn=c(Mt.props.duration,1,zt.duration);if(!(me||hn||In)&&(Ge("onHide",[Mt],!1),Mt.props.onHide(Mt)!==!1)){if(Mt.state.isVisible=!1,Mt.state.isShown=!1,Ln=!1,Ze=!1,Ce()&&(tn.style.visibility="hidden"),zn(),_i(),bn(!0),Ce()){var Mn=Me(),Xn=Mn.box,Gi=Mn.content;Mt.props.animation&&(tt([Xn,Gi],gn),rt([Xn,Gi],"hidden"))}We(),Jn(),Mt.props.animation?Ce()&&(function(nr,Ci){gi(nr,(function(){!Mt.state.isVisible&&tn.parentNode&&tn.parentNode.contains(tn)&&Ci()}))})(gn,Mt.unmount):Mt.unmount()}},hideWithInteractivity:function(me){ze().addEventListener("mousemove",_n),E(Ie,_n),_n(me)},enable:function(){Mt.state.isEnabled=!0},disable:function(){Mt.hide(),Mt.state.isEnabled=!1},unmount:function(){Mt.state.isVisible&&Mt.hide(),Mt.state.isMounted&&(ir(),er().forEach((function(me){me._tippy.unmount()})),tn.parentNode&&tn.parentNode.removeChild(tn),vn=vn.filter((function(me){return me!==Mt})),Mt.state.isMounted=!1,Ge("onHidden",[Mt]))},destroy:function(){Mt.state.isDestroyed||(Mt.clearDelayTimeouts(),Mt.unmount(),ti(),delete It._tippy,Mt.state.isDestroyed=!0,Ge("onDestroy",[Mt]))}};if(!Xt.render)return Mt;var ai=Xt.render(Mt),tn=ai.popper,Pi=ai.onUpdate;tn.setAttribute("data-tippy-root",""),tn.id="tippy-"+Mt.id,Mt.popper=tn,It._tippy=Mt,tn._tippy=Mt;var _t=zi.map((function(me){return me.fn(Mt)})),gt=It.hasAttribute("aria-expanded");return Un(),Jn(),bn(),Ge("onCreate",[Mt]),Xt.showOnCreate&&$i(),tn.addEventListener("mouseenter",(function(){Mt.props.interactive&&Mt.state.isVisible&&Mt.clearDelayTimeouts()})),tn.addEventListener("mouseleave",(function(){Mt.props.interactive&&Mt.props.trigger.indexOf("mouseenter")>=0&&ze().addEventListener("mousemove",_n)})),Mt;function Lt(){var me=Mt.props.touch;return Array.isArray(me)?me:[me,0]}function de(){return Lt()[0]==="hold"}function Ce(){var me;return!((me=Mt.props.render)==null||!me.$$tippy)}function ge(){return le||It}function ze(){var me=ge().parentNode;return me?At(me):document}function Me(){return pe(tn)}function Fe(me){return Mt.state.isMounted&&!Mt.state.isVisible||G.isTouch||se&&se.type==="focus"?0:c(Mt.props.delay,me?0:1,zt.delay)}function bn(me){me===void 0&&(me=!1),tn.style.pointerEvents=Mt.props.interactive&&!me?"":"none",tn.style.zIndex=""+Mt.props.zIndex}function Ge(me,hn,In){var gn;In===void 0&&(In=!0),_t.forEach((function(Mn){Mn[me]&&Mn[me].apply(Mn,hn)})),In&&(gn=Mt.props)[me].apply(gn,hn)}function We(){var me=Mt.props.aria;if(me.content){var hn="aria-"+me.content,In=tn.id;y(Mt.props.triggerTarget||It).forEach((function(gn){var Mn=gn.getAttribute(hn);if(Mt.state.isVisible)gn.setAttribute(hn,Mn?Mn+" "+In:In);else{var Xn=Mn&&Mn.replace(In,"").trim();Xn?gn.setAttribute(hn,Xn):gn.removeAttribute(hn)}}))}}function Jn(){!gt&&Mt.props.aria.expanded&&y(Mt.props.triggerTarget||It).forEach((function(me){Mt.props.interactive?me.setAttribute("aria-expanded",Mt.state.isVisible&&me===ge()?"true":"false"):me.removeAttribute("aria-expanded")}))}function zn(){ze().removeEventListener("mousemove",_n),Ie=Ie.filter((function(me){return me!==_n}))}function jn(me){if(!G.isTouch||!yn&&me.type!=="mousedown"){var hn=me.composedPath&&me.composedPath()[0]||me.target;if(!Mt.props.interactive||!ft(tn,hn)){if(y(Mt.props.triggerTarget||It).some((function(In){return ft(In,hn)}))){if(G.isTouch||Mt.state.isVisible&&Mt.props.trigger.indexOf("click")>=0)return}else Ge("onClickOutside",[Mt,me]);Mt.props.hideOnClick===!0&&(Mt.clearDelayTimeouts(),Mt.hide(),Je=!0,setTimeout((function(){Je=!1})),Mt.state.isMounted||_i())}}}function On(){yn=!0}function Dn(){yn=!1}function vi(){var me=ze();me.addEventListener("mousedown",jn,!0),me.addEventListener("touchend",jn,T),me.addEventListener("touchstart",Dn,T),me.addEventListener("touchmove",On,T)}function _i(){var me=ze();me.removeEventListener("mousedown",jn,!0),me.removeEventListener("touchend",jn,T),me.removeEventListener("touchstart",Dn,T),me.removeEventListener("touchmove",On,T)}function gi(me,hn){var In=Me().box;function gn(Mn){Mn.target===In&&(ut(In,"remove",gn),hn())}if(me===0)return hn();ut(In,"remove",mt),ut(In,"add",gn),mt=gn}function ri(me,hn,In){In===void 0&&(In=!1),y(Mt.props.triggerTarget||It).forEach((function(gn){gn.addEventListener(me,hn,In),sn.push({node:gn,eventType:me,handler:hn,options:In})}))}function Un(){var me;de()&&(ri("touchstart",li,{passive:!0}),ri("touchend",mi,{passive:!0})),(me=Mt.props.trigger,me.split(/\s+/).filter(Boolean)).forEach((function(hn){if(hn!=="manual")switch(ri(hn,li),hn){case"mouseenter":ri("mouseleave",mi);break;case"focus":ri(kt?"focusout":"blur",xi);break;case"focusin":ri("focusout",xi)}}))}function ti(){sn.forEach((function(me){var hn=me.node,In=me.eventType,gn=me.handler,Mn=me.options;hn.removeEventListener(In,gn,Mn)})),sn=[]}function li(me){var hn,In=!1;if(Mt.state.isEnabled&&!Bi(me)&&!Je){var gn=((hn=se)==null?void 0:hn.type)==="focus";se=me,le=me.currentTarget,Jn(),!Mt.state.isVisible&&S(me)&&Ie.forEach((function(Mn){return Mn(me)})),me.type==="click"&&(Mt.props.trigger.indexOf("mouseenter")<0||Ze)&&Mt.props.hideOnClick!==!1&&Mt.state.isVisible?In=!0:$i(me),me.type==="click"&&(Ze=!In),In&&!gn&&Mi(me)}}function ei(me){var hn=me.target,In=ge().contains(hn)||tn.contains(hn);me.type==="mousemove"&&In||(function(gn,Mn){var Xn=Mn.clientX,Gi=Mn.clientY;return gn.every((function(nr){var Ci=nr.popperRect,Vi=nr.popperState,Gn=nr.props.interactiveBorder,Oi=F(Vi.placement),Fi=Vi.modifiersData.offset;if(!Fi)return!0;var Xi=Oi==="bottom"?Fi.top.y:0,fr=Oi==="top"?Fi.bottom.y:0,Pr=Oi==="right"?Fi.left.x:0,Or=Oi==="left"?Fi.right.x:0,yr=Ci.top-Gi+Xi>Gn,Qi=Gi-Ci.bottom-fr>Gn,Ki=Ci.left-Xn+Pr>Gn,_r=Xn-Ci.right-Or>Gn;return yr||Qi||Ki||_r}))})(er().concat(tn).map((function(gn){var Mn,Xn=(Mn=gn._tippy.popperInstance)==null?void 0:Mn.state;return Xn?{popperRect:gn.getBoundingClientRect(),popperState:Xn,props:Xt}:null})).filter(Boolean),me)&&(zn(),Mi(me))}function mi(me){Bi(me)||Mt.props.trigger.indexOf("click")>=0&&Ze||(Mt.props.interactive?Mt.hideWithInteractivity(me):Mi(me))}function xi(me){Mt.props.trigger.indexOf("focusin")<0&&me.target!==ge()||Mt.props.interactive&&me.relatedTarget&&tn.contains(me.relatedTarget)||Mi(me)}function Bi(me){return!!G.isTouch&&de()!==me.type.indexOf("touch")>=0}function Ui(){ir();var me=Mt.props,hn=me.popperOptions,In=me.placement,gn=me.offset,Mn=me.getReferenceClientRect,Xn=me.moveTransition,Gi=Ce()?pe(tn).arrow:null,nr=Mn?{getBoundingClientRect:Mn,contextElement:Mn.contextElement||ge()}:It,Ci=[{name:"offset",options:{offset:gn}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Xn}},{name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Vi){var Gn=Vi.state;if(Ce()){var Oi=Me().box;["placement","reference-hidden","escaped"].forEach((function(Fi){Fi==="placement"?Oi.setAttribute("data-placement",Gn.placement):Gn.attributes.popper["data-popper-"+Fi]?Oi.setAttribute("data-"+Fi,""):Oi.removeAttribute("data-"+Fi)})),Gn.attributes.popper={}}}}];Ce()&&Gi&&Ci.push({name:"arrow",options:{element:Gi,padding:3}}),Ci.push.apply(Ci,(hn==null?void 0:hn.modifiers)||[]),Mt.popperInstance=n.createPopper(nr,tn,Object.assign({},hn,{placement:In,onFirstUpdate:Pt,modifiers:Ci}))}function ir(){Mt.popperInstance&&(Mt.popperInstance.destroy(),Mt.popperInstance=null)}function er(){return et(tn.querySelectorAll("[data-tippy-root]"))}function $i(me){Mt.clearDelayTimeouts(),me&&Ge("onTrigger",[Mt,me]),vi();var hn=Fe(!0),In=Lt(),gn=In[0],Mn=In[1];G.isTouch&&gn==="hold"&&Mn&&(hn=Mn),hn?he=setTimeout((function(){Mt.show()}),hn):Mt.show()}function Mi(me){if(Mt.clearDelayTimeouts(),Ge("onUntrigger",[Mt,me]),Mt.state.isVisible){if(!(Mt.props.trigger.indexOf("mouseenter")>=0&&Mt.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(me.type)>=0&&Ze)){var hn=Fe(!1);hn?Ee=setTimeout((function(){Mt.state.isVisible&&Mt.hide()}),hn):je=requestAnimationFrame((function(){Mt.hide()}))}}else _i()}}function an(It,Zt){Zt===void 0&&(Zt={});var he=zt.plugins.concat(Zt.plugins||[]);document.addEventListener("touchstart",St,T),window.addEventListener("blur",m);var Ee=Object.assign({},Zt,{plugins:he}),je=V(It).reduce((function(se,mt){var Pt=mt&&Cn(mt,Ee);return Pt&&se.push(Pt),se}),[]);return z(It)?je[0]:je}an.defaultProps=zt,an.setDefaultProps=function(It){Object.keys(It).forEach((function(Zt){zt[Zt]=It[Zt]}))},an.currentInput=G;var si=Object.assign({},n.applyStyles,{effect:function(It){var Zt=It.state,he={popper:{position:Zt.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(Zt.elements.popper.style,he.popper),Zt.styles=he,Zt.elements.arrow&&Object.assign(Zt.elements.arrow.style,he.arrow)}}),$n={mouseover:"mouseenter",focusin:"focus",click:"click"},Ii={name:"animateFill",defaultValue:!1,fn:function(It){var Zt;if((Zt=It.props.render)==null||!Zt.$$tippy)return{};var he=pe(It.popper),Ee=he.box,je=he.content,se=It.props.animateFill?(function(){var mt=at();return mt.className="tippy-backdrop",rt([mt],"hidden"),mt})():null;return{onCreate:function(){se&&(Ee.insertBefore(se,Ee.firstElementChild),Ee.setAttribute("data-animatefill",""),Ee.style.overflow="hidden",It.setProps({arrow:!1,animation:"shift-away"}))},onMount:function(){if(se){var mt=Ee.style.transitionDuration,Pt=Number(mt.replace("ms",""));je.style.transitionDelay=Math.round(Pt/10)+"ms",se.style.transitionDuration=mt,rt([se],"visible")}},onShow:function(){se&&(se.style.transitionDuration="0ms")},onHide:function(){se&&rt([se],"hidden")}}}},qi={clientX:0,clientY:0},Bt=[];function be(It){var Zt=It.clientX,he=It.clientY;qi={clientX:Zt,clientY:he}}var on={name:"followCursor",defaultValue:!1,fn:function(It){var Zt=It.reference,he=At(It.props.triggerTarget||Zt),Ee=!1,je=!1,se=!0,mt=It.props;function Pt(){return It.props.followCursor==="initial"&&It.state.isVisible}function le(){he.addEventListener("mousemove",Ze)}function Oe(){he.removeEventListener("mousemove",Ze)}function Xt(){Ee=!0,It.setProps({getReferenceClientRect:null}),Ee=!1}function Ze(Ln){var sn=!Ln.target||Zt.contains(Ln.target),_n=It.props.followCursor,pi=Ln.clientX,zi=Ln.clientY,Mt=Zt.getBoundingClientRect(),ai=pi-Mt.left,tn=zi-Mt.top;!sn&&It.props.interactive||It.setProps({getReferenceClientRect:function(){var Pi=Zt.getBoundingClientRect(),_t=pi,gt=zi;_n==="initial"&&(_t=Pi.left+ai,gt=Pi.top+tn);var Lt=_n==="horizontal"?Pi.top:gt,de=_n==="vertical"?Pi.right:_t,Ce=_n==="horizontal"?Pi.bottom:gt,ge=_n==="vertical"?Pi.left:_t;return{width:de-ge,height:Ce-Lt,top:Lt,right:de,bottom:Ce,left:ge}}})}function Je(){It.props.followCursor&&(Bt.push({instance:It,doc:he}),(function(Ln){Ln.addEventListener("mousemove",be)})(he))}function yn(){(Bt=Bt.filter((function(Ln){return Ln.instance!==It}))).filter((function(Ln){return Ln.doc===he})).length===0&&(function(Ln){Ln.removeEventListener("mousemove",be)})(he)}return{onCreate:Je,onDestroy:yn,onBeforeUpdate:function(){mt=It.props},onAfterUpdate:function(Ln,sn){var _n=sn.followCursor;Ee||_n!==void 0&&mt.followCursor!==_n&&(yn(),_n?(Je(),!It.state.isMounted||je||Pt()||le()):(Oe(),Xt()))},onMount:function(){It.props.followCursor&&!je&&(se&&(Ze(qi),se=!1),Pt()||le())},onTrigger:function(Ln,sn){S(sn)&&(qi={clientX:sn.clientX,clientY:sn.clientY}),je=sn.type==="focus"},onHidden:function(){It.props.followCursor&&(Xt(),Oe(),se=!0)}}}},Bn={name:"inlinePositioning",defaultValue:!1,fn:function(It){var Zt,he=It.reference,Ee=-1,je=!1,se=[],mt={name:"tippyInlinePositioning",enabled:!0,phase:"afterWrite",fn:function(le){var Oe=le.state;It.props.inlinePositioning&&(se.indexOf(Oe.placement)!==-1&&(se=[]),Zt!==Oe.placement&&se.indexOf(Oe.placement)===-1&&(se.push(Oe.placement),It.setProps({getReferenceClientRect:function(){return(function(Xt){return(function(Ze,Je,yn,Ln){if(yn.length<2||Ze===null)return Je;if(yn.length===2&&Ln>=0&&yn[0].left>yn[1].right)return yn[Ln]||Je;switch(Ze){case"top":case"bottom":var sn=yn[0],_n=yn[yn.length-1],pi=Ze==="top",zi=sn.top,Mt=_n.bottom,ai=pi?sn.left:_n.left,tn=pi?sn.right:_n.right;return{top:zi,bottom:Mt,left:ai,right:tn,width:tn-ai,height:Mt-zi};case"left":case"right":var Pi=Math.min.apply(Math,yn.map((function(Ce){return Ce.left}))),_t=Math.max.apply(Math,yn.map((function(Ce){return Ce.right}))),gt=yn.filter((function(Ce){return Ze==="left"?Ce.left===Pi:Ce.right===_t})),Lt=gt[0].top,de=gt[gt.length-1].bottom;return{top:Lt,bottom:de,left:Pi,right:_t,width:_t-Pi,height:de-Lt};default:return Je}})(F(Xt),he.getBoundingClientRect(),et(he.getClientRects()),Ee)})(Oe.placement)}})),Zt=Oe.placement)}};function Pt(){var le;je||(le=(function(Oe,Xt){var Ze;return{popperOptions:Object.assign({},Oe.popperOptions,{modifiers:[].concat((((Ze=Oe.popperOptions)==null?void 0:Ze.modifiers)||[]).filter((function(Je){return Je.name!==Xt.name})),[Xt])})}})(It.props,mt),je=!0,It.setProps(le),je=!1)}return{onCreate:Pt,onAfterUpdate:Pt,onTrigger:function(le,Oe){if(S(Oe)){var Xt=et(It.reference.getClientRects()),Ze=Xt.find((function(yn){return yn.left-2<=Oe.clientX&&yn.right+2>=Oe.clientX&&yn.top-2<=Oe.clientY&&yn.bottom+2>=Oe.clientY})),Je=Xt.indexOf(Ze);Ee=Je>-1?Je:Ee}},onHidden:function(){Ee=-1}}}},Si={name:"sticky",defaultValue:!1,fn:function(It){var Zt=It.reference,he=It.popper;function Ee(Pt){return It.props.sticky===!0||It.props.sticky===Pt}var je=null,se=null;function mt(){var Pt=Ee("reference")?(It.popperInstance?It.popperInstance.state.elements.reference:Zt).getBoundingClientRect():null,le=Ee("popper")?he.getBoundingClientRect():null;(Pt&&Li(je,Pt)||le&&Li(se,le))&&It.popperInstance&&It.popperInstance.update(),je=Pt,se=le,It.state.isMounted&&requestAnimationFrame(mt)}return{onMount:function(){It.props.sticky&&mt()}}}};function Li(It,Zt){return!It||!Zt||It.top!==Zt.top||It.right!==Zt.right||It.bottom!==Zt.bottom||It.left!==Zt.left}return an.setDefaultProps({plugins:[Ii,on,Bn,Si],render:ve}),an.createSingleton=function(It,Zt){var he;Zt===void 0&&(Zt={});var Ee,je=It,se=[],mt=[],Pt=Zt.overrides,le=[],Oe=!1;function Xt(){mt=je.map((function(Mt){return y(Mt.props.triggerTarget||Mt.reference)})).reduce((function(Mt,ai){return Mt.concat(ai)}),[])}function Ze(){se=je.map((function(Mt){return Mt.reference}))}function Je(Mt){je.forEach((function(ai){Mt?ai.enable():ai.disable()}))}function yn(Mt){return je.map((function(ai){var tn=ai.setProps;return ai.setProps=function(Pi){tn(Pi),ai.reference===Ee&&Mt.setProps(Pi)},function(){ai.setProps=tn}}))}function Ln(Mt,ai){var tn=mt.indexOf(ai);if(ai!==Ee){Ee=ai;var Pi=(Pt||[]).concat("content").reduce((function(_t,gt){return _t[gt]=je[tn].props[gt],_t}),{});Mt.setProps(Object.assign({},Pi,{getReferenceClientRect:typeof Pi.getReferenceClientRect=="function"?Pi.getReferenceClientRect:function(){var _t;return(_t=se[tn])==null?void 0:_t.getBoundingClientRect()}}))}}Je(!1),Ze(),Xt();var sn={fn:function(){return{onDestroy:function(){Je(!0)},onHidden:function(){Ee=null},onClickOutside:function(Mt){Mt.props.showOnCreate&&!Oe&&(Oe=!0,Ee=null)},onShow:function(Mt){Mt.props.showOnCreate&&!Oe&&(Oe=!0,Ln(Mt,se[0]))},onTrigger:function(Mt,ai){Ln(Mt,ai.currentTarget)}}}},_n=an(at(),Object.assign({},M(Zt,["overrides"]),{plugins:[sn].concat(Zt.plugins||[]),triggerTarget:mt,popperOptions:Object.assign({},Zt.popperOptions,{modifiers:[].concat(((he=Zt.popperOptions)==null?void 0:he.modifiers)||[],[si])})})),pi=_n.show;_n.show=function(Mt){if(pi(),!Ee&&Mt==null)return Ln(_n,se[0]);if(!Ee||Mt!=null){if(typeof Mt=="number")return se[Mt]&&Ln(_n,se[Mt]);if(je.indexOf(Mt)>=0){var ai=Mt.reference;return Ln(_n,ai)}return se.indexOf(Mt)>=0?Ln(_n,Mt):void 0}},_n.showNext=function(){var Mt=se[0];if(!Ee)return _n.show(0);var ai=se.indexOf(Ee);_n.show(se[ai+1]||Mt)},_n.showPrevious=function(){var Mt=se[se.length-1];if(!Ee)return _n.show(Mt);var ai=se.indexOf(Ee),tn=se[ai-1]||Mt;_n.show(tn)};var zi=_n.setProps;return _n.setProps=function(Mt){Pt=Mt.overrides||Pt,zi(Mt)},_n.setInstances=function(Mt){Je(!0),le.forEach((function(ai){return ai()})),je=Mt,Je(!1),Ze(),Xt(),le=yn(_n),_n.setProps({triggerTarget:mt})},le=yn(_n),_n},an.delegate=function(It,Zt){var he=[],Ee=[],je=!1,se=Zt.target,mt=M(Zt,["target"]),Pt=Object.assign({},mt,{trigger:"manual",touch:!1}),le=Object.assign({touch:zt.touch},mt,{showOnCreate:!0}),Oe=an(It,Pt);function Xt(Je){if(Je.target&&!je){var yn=Je.target.closest(se);if(yn){var Ln=yn.getAttribute("data-tippy-trigger")||Zt.trigger||zt.trigger;if(!yn._tippy&&!(Je.type==="touchstart"&&typeof le.touch=="boolean"||Je.type!=="touchstart"&&Ln.indexOf($n[Je.type])<0)){var sn=an(yn,le);sn&&(Ee=Ee.concat(sn))}}}}function Ze(Je,yn,Ln,sn){sn===void 0&&(sn=!1),Je.addEventListener(yn,Ln,sn),he.push({node:Je,eventType:yn,handler:Ln,options:sn})}return y(Oe).forEach((function(Je){var yn=Je.destroy,Ln=Je.enable,sn=Je.disable;Je.destroy=function(_n){_n===void 0&&(_n=!0),_n&&Ee.forEach((function(pi){pi.destroy()})),Ee=[],he.forEach((function(pi){var zi=pi.node,Mt=pi.eventType,ai=pi.handler,tn=pi.options;zi.removeEventListener(Mt,ai,tn)})),he=[],yn()},Je.enable=function(){Ln(),Ee.forEach((function(_n){return _n.enable()})),je=!1},Je.disable=function(){sn(),Ee.forEach((function(_n){return _n.disable()})),je=!0},(function(_n){var pi=_n.reference;Ze(pi,"touchstart",Xt,T),Ze(pi,"mouseover",Xt),Ze(pi,"focusin",Xt),Ze(pi,"click",Xt)})(Je)})),Oe},an.hideAll=function(It){var Zt=It===void 0?{}:It,he=Zt.exclude,Ee=Zt.duration;vn.forEach((function(je){var se=!1;if(he&&(se=q(he)?je.reference===he:je.popper===he.popper),!se){var mt=je.props.duration;je.setProps({duration:Ee}),je.hide(),je.state.isDestroyed||je.setProps({duration:mt})}}))},an.roundArrow='<svg width="16" height="6" xmlns="http://www.w3.org/2000/svg"><path d="M0 6s1.796-.013 4.67-3.615C5.851.9 6.93.006 8 0c1.07-.006 2.148.887 3.343 2.385C14.233 6.005 16 6 16 6H0z"></svg>',an})),(()=>{var __webpack_modules__={20:(n,T,A)=>{(function(c){var p=[].indexOf||function(Q){for(var wt=0,d=this.length;wt<d;wt++)if(wt in this&&this[wt]===Q)return wt;return-1},v="notify",g="escapp_notifyjs",M=v+"!blank",y={t:"top",m:"middle",b:"bottom",l:"left",c:"center",r:"right"},E=["l","c","r"],F=["t","m","b"],et=["t","b","l","r"],H={t:"b",m:null,b:"t",l:"r",c:null,r:"l"},at=function(Q){var wt;return wt=[],c.each(Q.split(/\W+/),(function(d,pe){var ve;if(ve=pe.toLowerCase().charAt(0),y[ve])return wt.push(ve)})),wt},z={},S={name:"core",html:'<div class="'+g+`-wrapper">
	<div class="`+g+`-arrow"></div>
	<div class="`+g+`-container"></div>
</div>`,css:"."+g+`-corner {
	position: fixed;
	margin: 5px;
	z-index: 1050;
}

.`+g+"-corner ."+g+`-wrapper,
.`+g+"-corner ."+g+`-container {
	position: relative;
	display: block;
	height: inherit;
	width: inherit;
	margin: 3px;
}

.`+g+`-wrapper {
	z-index: 1;
	position: absolute;
	display: inline-block;
	height: 0;
	width: 0;
}

.`+g+`-container {
	display: none;
	z-index: 1;
	position: absolute;
}

.`+g+`-hidable {
	cursor: pointer;
}

[data-notify-text],[data-notify-html] {
	position: relative;
}

.`+g+`-arrow {
	position: absolute;
	z-index: 2;
	width: 0;
	height: 0;
}`},q={"border-radius":["-webkit-","-moz-"]},V=function(Q){return z[Q]},tt=function(Q){if(!Q)throw"Missing Style name";z[Q]&&delete z[Q]},rt=function(Q,wt){if(!Q)throw"Missing Style name";if(!wt)throw"Missing Style definition";if(!wt.html)throw"Missing Style HTML";var d=z[Q];d&&d.cssElem&&(window.console&&console.warn(v+": overwriting style '"+Q+"'"),z[Q].cssElem.remove()),wt.name=Q,z[Q]=wt;var pe="";wt.classes&&c.each(wt.classes,(function(Ie,vn){return pe+="."+g+"-"+wt.name+"-"+Ie+` {
`,c.each(vn,(function(Cn,an){return q[Cn]&&c.each(q[Cn],(function(si,$n){return pe+="	"+$n+Cn+": "+an+`;
`})),pe+="	"+Cn+": "+an+`;
`})),pe+=`}
`})),wt.css&&(pe+="/* styles for "+wt.name+` */
`+wt.css),pe&&(wt.cssElem=At(pe),wt.cssElem.attr("id","notify-"+wt.name));var ve={},Le=c(wt.html);ut("html",Le,ve),ut("text",Le,ve),wt.fields=ve},At=function(Q){var wt;(wt=te("style")).attr("type","text/css"),c("head").append(wt);try{wt.html(Q)}catch(d){wt[0].styleSheet.cssText=Q}return wt},ut=function(Q,wt,d){var pe;return Q!=="html"&&(Q="text"),ft(wt,"["+(pe="data-notify-"+Q)+"]").each((function(){var ve;(ve=c(this).attr(pe))||(ve=M),d[ve]=Q}))},ft=function(Q,wt){return Q.is(wt)?Q:Q.find(wt)},G={clickToHide:!0,autoHide:!0,autoHideDelay:5e3,arrowShow:!0,arrowSize:5,breakNewLines:!0,elementPosition:"bottom",globalPosition:"top right",style:"bootstrap",className:"error",showAnimation:"slideDown",showDuration:400,hideAnimation:"slideUp",hideDuration:200,gap:5},Ct=function(Q,wt){var d;return(d=function(){}).prototype=Q,c.extend(!0,new d,wt)},St=function(Q){return c.extend(G,Q)},te=function(Q){return c("<"+Q+"></"+Q+">")},m={},kt=function(Q){var wt;return Q.is("[type=radio]")&&(wt=Q.parents("form:first").find("[type=radio]").filter((function(d,pe){return c(pe).attr("name")===Q.attr("name")})),Q=wt.first()),Q},zt=function(Q,wt,d){var pe;if(typeof d=="string")d=parseInt(d,10);else if(typeof d!="number")return;if(!isNaN(d))return pe=y[H[wt.charAt(0)]],Q[pe]!==void 0&&(wt=y[pe.charAt(0)],d=-d),Q[wt]===void 0?Q[wt]=d:Q[wt]+=d,null},R=function(Q,wt,d){if(Q==="l"||Q==="t")return 0;if(Q==="c"||Q==="m")return d/2-wt/2;if(Q==="r"||Q==="b")return d-wt;throw"Invalid alignment"},xn=function(Q){return xn.e=xn.e||te("div"),xn.e.text(Q).html()};function Gt(Q,wt,d){typeof d=="string"&&(d={className:d}),this.options=Ct(G,c.isPlainObject(d)?d:{}),this.loadHTML(),this.wrapper=c(S.html),this.options.clickToHide&&this.wrapper.addClass(g+"-hidable"),this.wrapper.data(g,this),this.arrow=this.wrapper.find("."+g+"-arrow"),this.container=this.wrapper.find("."+g+"-container"),this.container.append(this.userContainer),Q&&Q.length&&(this.elementType=Q.attr("type"),this.originalElement=Q,this.elem=kt(Q),this.elem.data(g,this),this.elem.before(this.wrapper)),this.container.hide(),this.run(wt)}Gt.prototype.loadHTML=function(){var Q;Q=this.getStyle(),this.userContainer=c(Q.html),this.userFields=Q.fields},Gt.prototype.show=function(Q,wt){var d,pe,ve,Le,Ie,vn;if(vn=this,pe=function(){if(Q||vn.elem||vn.destroy(),wt)return wt()},Ie=this.container.parent().parents(":hidden").length>0,ve=this.container.add(this.arrow),d=[],Ie&&Q)Le="show";else if(Ie&&!Q)Le="hide";else if(!Ie&&Q)Le=this.options.showAnimation,d.push(this.options.showDuration);else{if(Ie||Q)return pe();Le=this.options.hideAnimation,d.push(this.options.hideDuration)}return d.push(pe),ve[Le].apply(ve,d)},Gt.prototype.setGlobalPosition=function(){var Q=this.getPosition(),wt=Q[0],d=Q[1],pe=y[wt],ve=y[d],Le=wt+"|"+d,Ie=m[Le];if(!Ie||!document.body.contains(Ie[0])){Ie=m[Le]=te("div");var vn={};vn[pe]=0,ve==="middle"?vn.top="45%":ve==="center"?vn.left="45%":vn[ve]=0,Ie.css(vn).addClass(g+"-corner"),c("body").append(Ie)}return Ie.prepend(this.wrapper)},Gt.prototype.setElementPosition=function(){var Q,wt,d,pe,ve,Le,Ie,vn,Cn,an,si,$n,Ii,qi,Bt,be,on,Bn,Si,Li,It,Zt,he,Ee,je,se,mt,Pt;for(he=(se=this.getPosition())[0],Zt=se[1],se[2],si=this.elem.position(),vn=this.elem.outerHeight(),$n=this.elem.outerWidth(),Cn=this.elem.innerHeight(),an=this.elem.innerWidth(),Pt=this.wrapper.position(),ve=this.container.height(),Le=this.container.width(),Bn=y[he],Li=H[he],(Ie={})[It=y[Li]]=he==="b"?vn:he==="r"?$n:0,zt(Ie,"top",si.top-Pt.top),zt(Ie,"left",si.left-Pt.left),qi=0,be=(mt=["top","left"]).length;qi<be;qi++)Ee=mt[qi],(Si=parseInt(this.elem.css("margin-"+Ee),10))&&zt(Ie,Ee,Si);if(Ii=Math.max(0,this.options.gap-(this.options.arrowShow?d:0)),zt(Ie,It,Ii),this.options.arrowShow){for(d=this.options.arrowSize,wt=c.extend({},Ie),Q=this.userContainer.css("border-color")||this.userContainer.css("border-top-color")||this.userContainer.css("background-color")||"white",Bt=0,on=et.length;Bt<on;Bt++)Ee=et[Bt],je=y[Ee],Ee!==Li&&(pe=je===Bn?Q:"transparent",wt["border-"+je]=d+"px solid "+pe);zt(Ie,y[Li],d),p.call(et,Zt)>=0&&zt(wt,y[Zt],2*d)}else this.arrow.hide();if(p.call(F,he)>=0?(zt(Ie,"left",R(Zt,Le,$n)),wt&&zt(wt,"left",R(Zt,d,an))):p.call(E,he)>=0&&(zt(Ie,"top",R(Zt,ve,vn)),wt&&zt(wt,"top",R(Zt,d,Cn))),this.container.is(":visible")&&(Ie.display="block"),this.container.removeAttr("style").css(Ie),wt)return this.arrow.removeAttr("style").css(wt)},Gt.prototype.getPosition=function(){var Q,wt,d,pe,ve,Le,Ie,vn;if(vn=this.options.position||(this.elem?this.options.elementPosition:this.options.globalPosition),(Q=at(vn)).length===0&&(Q[0]="b"),wt=Q[0],p.call(et,wt)<0)throw"Must be one of ["+et+"]";return(Q.length===1||(d=Q[0],p.call(F,d)>=0&&(pe=Q[1],p.call(E,pe)<0))||(ve=Q[0],p.call(E,ve)>=0&&(Le=Q[1],p.call(F,Le)<0)))&&(Q[1]=(Ie=Q[0],p.call(E,Ie)>=0?"m":"l")),Q.length===2&&(Q[2]=Q[1]),Q},Gt.prototype.getStyle=function(Q){var wt;if(Q||(Q=this.options.style),Q||(Q="default"),!(wt=z[Q]))throw"Missing style: "+Q;return wt},Gt.prototype.updateClasses=function(){var Q,wt;return Q=["base"],c.isArray(this.options.className)?Q=Q.concat(this.options.className):this.options.className&&Q.push(this.options.className),wt=this.getStyle(),Q=c.map(Q,(function(d){return g+"-"+wt.name+"-"+d})).join(" "),this.userContainer.attr("class",Q)},Gt.prototype.run=function(Q,wt){var d,pe,ve,Le,Ie;if(c.isPlainObject(wt)?c.extend(this.options,wt):c.type(wt)==="string"&&(this.options.className=wt),!this.container||Q){if(this.container||Q){for(ve in pe={},c.isPlainObject(Q)?pe=Q:pe[M]=Q,pe)d=pe[ve],(Le=this.userFields[ve])&&(Le==="text"&&(d=xn(d),this.options.breakNewLines&&(d=d.replace(/\n/g,"<br/>"))),Ie=ve===M?"":"="+ve,ft(this.userContainer,"[data-notify-"+Le+Ie+"]").html(d));this.updateClasses(),this.elem?this.setElementPosition():this.setGlobalPosition(),this.show(!0),this.options.autoHide&&(clearTimeout(this.autohideTimer),this.autohideTimer=setTimeout(this.show.bind(this,!1),this.options.autoHideDelay))}}else this.show(!1)},Gt.prototype.destroy=function(){this.wrapper.data(g,null),this.wrapper.remove()},c[v]=function(Q,wt,d){return Q&&Q.nodeName||Q.jquery?c(Q)[v](wt,d):(d=wt,new Gt(null,wt=Q,d)),Q},c.fn[v]=function(Q,wt){return c(this).each((function(){var d=kt(c(this)).data(g);d&&d.destroy(),new Gt(c(this),Q,wt)})),this},c.extend(c[v],{defaults:St,addStyle:rt,removeStyle:tt,pluginOptions:G,getStyle:V,insertCSS:At}),rt("bootstrap",{html:`<div>
<span data-notify-text></span>
</div>`,classes:{base:{"font-weight":"bold",padding:"8px 15px 8px 14px","text-shadow":"0 1px 0 rgba(255, 255, 255, 0.5)","background-color":"#fcf8e3",border:"1px solid #fbeed5","border-radius":"4px","white-space":"nowrap","padding-left":"25px","background-repeat":"no-repeat","background-position":"3px 7px"},error:{color:"#B94A48","background-color":"#F2DEDE","border-color":"#EED3D7","background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAtRJREFUeNqkVc1u00AQHq+dOD+0poIQfkIjalW0SEGqRMuRnHos3DjwAH0ArlyQeANOOSMeAA5VjyBxKBQhgSpVUKKQNGloFdw4cWw2jtfMOna6JOUArDTazXi/b3dm55socPqQhFka++aHBsI8GsopRJERNFlY88FCEk9Yiwf8RhgRyaHFQpPHCDmZG5oX2ui2yilkcTT1AcDsbYC1NMAyOi7zTX2Agx7A9luAl88BauiiQ/cJaZQfIpAlngDcvZZMrl8vFPK5+XktrWlx3/ehZ5r9+t6e+WVnp1pxnNIjgBe4/6dAysQc8dsmHwPcW9C0h3fW1hans1ltwJhy0GxK7XZbUlMp5Ww2eyan6+ft/f2FAqXGK4CvQk5HueFz7D6GOZtIrK+srupdx1GRBBqNBtzc2AiMr7nPplRdKhb1q6q6zjFhrklEFOUutoQ50xcX86ZlqaZpQrfbBdu2R6/G19zX6XSgh6RX5ubyHCM8nqSID6ICrGiZjGYYxojEsiw4PDwMSL5VKsC8Yf4VRYFzMzMaxwjlJSlCyAQ9l0CW44PBADzXhe7xMdi9HtTrdYjFYkDQL0cn4Xdq2/EAE+InCnvADTf2eah4Sx9vExQjkqXT6aAERICMewd/UAp/IeYANM2joxt+q5VI+ieq2i0Wg3l6DNzHwTERPgo1ko7XBXj3vdlsT2F+UuhIhYkp7u7CarkcrFOCtR3H5JiwbAIeImjT/YQKKBtGjRFCU5IUgFRe7fF4cCNVIPMYo3VKqxwjyNAXNepuopyqnld602qVsfRpEkkz+GFL1wPj6ySXBpJtWVa5xlhpcyhBNwpZHmtX8AGgfIExo0ZpzkWVTBGiXCSEaHh62/PoR0p/vHaczxXGnj4bSo+G78lELU80h1uogBwWLf5YlsPmgDEd4M236xjm+8nm4IuE/9u+/PH2JXZfbwz4zw1WbO+SQPpXfwG/BBgAhCNZiSb/pOQAAAAASUVORK5CYII=)"},success:{color:"#468847","background-color":"#DFF0D8","border-color":"#D6E9C6","background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAutJREFUeNq0lctPE0Ecx38zu/RFS1EryqtgJFA08YCiMZIAQQ4eRG8eDGdPJiYeTIwHTfwPiAcvXIwXLwoXPaDxkWgQ6islKlJLSQWLUraPLTv7Gme32zoF9KSTfLO7v53vZ3d/M7/fIth+IO6INt2jjoA7bjHCJoAlzCRw59YwHYjBnfMPqAKWQYKjGkfCJqAF0xwZjipQtA3MxeSG87VhOOYegVrUCy7UZM9S6TLIdAamySTclZdYhFhRHloGYg7mgZv1Zzztvgud7V1tbQ2twYA34LJmF4p5dXF1KTufnE+SxeJtuCZNsLDCQU0+RyKTF27Unw101l8e6hns3u0PBalORVVVkcaEKBJDgV3+cGM4tKKmI+ohlIGnygKX00rSBfszz/n2uXv81wd6+rt1orsZCHRdr1Imk2F2Kob3hutSxW8thsd8AXNaln9D7CTfA6O+0UgkMuwVvEFFUbbAcrkcTA8+AtOk8E6KiQiDmMFSDqZItAzEVQviRkdDdaFgPp8HSZKAEAL5Qh7Sq2lIJBJwv2scUqkUnKoZgNhcDKhKg5aH+1IkcouCAdFGAQsuWZYhOjwFHQ96oagWgRoUov1T9kRBEODAwxM2QtEUl+Wp+Ln9VRo6BcMw4ErHRYjH4/B26AlQoQQTRdHWwcd9AH57+UAXddvDD37DmrBBV34WfqiXPl61g+vr6xA9zsGeM9gOdsNXkgpEtTwVvwOklXLKm6+/p5ezwk4B+j6droBs2CsGa/gNs6RIxazl4Tc25mpTgw/apPR1LYlNRFAzgsOxkyXYLIM1V8NMwyAkJSctD1eGVKiq5wWjSPdjmeTkiKvVW4f2YPHWl3GAVq6ymcyCTgovM3FzyRiDe2TaKcEKsLpJvNHjZgPNqEtyi6mZIm4SRFyLMUsONSSdkPeFtY1n0mczoY3BHTLhwPRy9/lzcziCw9ACI+yql0VLzcGAZbYSM5CCSZg1/9oc/nn7+i8N9p/8An4JMADxhH+xHfuiKwAAAABJRU5ErkJggg==)"},info:{color:"#3A87AD","background-color":"#D9EDF7","border-color":"#BCE8F1","background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QYFAhkSsdes/QAAA8dJREFUOMvVlGtMW2UYx//POaWHXg6lLaW0ypAtw1UCgbniNOLcVOLmAjHZolOYlxmTGXVZdAnRfXQm+7SoU4mXaOaiZsEpC9FkiQs6Z6bdCnNYruM6KNBw6YWewzl9z+sHImEWv+vz7XmT95f/+3/+7wP814v+efDOV3/SoX3lHAA+6ODeUFfMfjOWMADgdk+eEKz0pF7aQdMAcOKLLjrcVMVX3xdWN29/GhYP7SvnP0cWfS8caSkfHZsPE9Fgnt02JNutQ0QYHB2dDz9/pKX8QjjuO9xUxd/66HdxTeCHZ3rojQObGQBcuNjfplkD3b19Y/6MrimSaKgSMmpGU5WevmE/swa6Oy73tQHA0Rdr2Mmv/6A1n9w9suQ7097Z9lM4FlTgTDrzZTu4StXVfpiI48rVcUDM5cmEksrFnHxfpTtU/3BFQzCQF/2bYVoNbH7zmItbSoMj40JSzmMyX5qDvriA7QdrIIpA+3cdsMpu0nXI8cV0MtKXCPZev+gCEM1S2NHPvWfP/hL+7FSr3+0p5RBEyhEN5JCKYr8XnASMT0xBNyzQGQeI8fjsGD39RMPk7se2bd5ZtTyoFYXftF6y37gx7NeUtJJOTFlAHDZLDuILU3j3+H5oOrD3yWbIztugaAzgnBKJuBLpGfQrS8wO4FZgV+c1IxaLgWVU0tMLEETCos4xMzEIv9cJXQcyagIwigDGwJgOAtHAwAhisQUjy0ORGERiELgG4iakkzo4MYAxcM5hAMi1WWG1yYCJIcMUaBkVRLdGeSU2995TLWzcUAzONJ7J6FBVBYIggMzmFbvdBV44Corg8vjhzC+EJEl8U1kJtgYrhCzgc/vvTwXKSib1paRFVRVORDAJAsw5FuTaJEhWM2SHB3mOAlhkNxwuLzeJsGwqWzf5TFNdKgtY5qHp6ZFf67Y/sAVadCaVY5YACDDb3Oi4NIjLnWMw2QthCBIsVhsUTU9tvXsjeq9+X1d75/KEs4LNOfcdf/+HthMnvwxOD0wmHaXr7ZItn2wuH2SnBzbZAbPJwpPx+VQuzcm7dgRCB57a1uBzUDRL4bfnI0RE0eaXd9W89mpjqHZnUI5Hh2l2dkZZUhOqpi2qSmpOmZ64Tuu9qlz/SEXo6MEHa3wOip46F1n7633eekV8ds8Wxjn37Wl63VVa+ej5oeEZ/82ZBETJjpJ1Rbij2D3Z/1trXUvLsblCK0XfOx0SX2kMsn9dX+d+7Kf6h8o4AIykuffjT8L20LU+w4AZd5VvEPY+XpWqLV327HR7DzXuDnD8r+ovkBehJ8i+y8YAAAAASUVORK5CYII=)"},warn:{color:"#C09853","background-color":"#FCF8E3","border-color":"#FBEED5","background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAABJlBMVEXr6eb/2oD/wi7/xjr/0mP/ykf/tQD/vBj/3o7/uQ//vyL/twebhgD/4pzX1K3z8e349vK6tHCilCWbiQymn0jGworr6dXQza3HxcKkn1vWvV/5uRfk4dXZ1bD18+/52YebiAmyr5S9mhCzrWq5t6ufjRH54aLs0oS+qD751XqPhAybhwXsujG3sm+Zk0PTwG6Shg+PhhObhwOPgQL4zV2nlyrf27uLfgCPhRHu7OmLgAafkyiWkD3l49ibiAfTs0C+lgCniwD4sgDJxqOilzDWowWFfAH08uebig6qpFHBvH/aw26FfQTQzsvy8OyEfz20r3jAvaKbhgG9q0nc2LbZxXanoUu/u5WSggCtp1anpJKdmFz/zlX/1nGJiYmuq5Dx7+sAAADoPUZSAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfdBgUBGhh4aah5AAAAlklEQVQY02NgoBIIE8EUcwn1FkIXM1Tj5dDUQhPU502Mi7XXQxGz5uVIjGOJUUUW81HnYEyMi2HVcUOICQZzMMYmxrEyMylJwgUt5BljWRLjmJm4pI1hYp5SQLGYxDgmLnZOVxuooClIDKgXKMbN5ggV1ACLJcaBxNgcoiGCBiZwdWxOETBDrTyEFey0jYJ4eHjMGWgEAIpRFRCUt08qAAAAAElFTkSuQmCC)"}}}),c((function(){At(S.css).attr("id","core-notify"),c(document).on("click","."+g+"-hidable",(function(Q){c(this).trigger("notify-hide")})),c(document).on("notify-hide","."+g+"-wrapper",(function(Q){var wt=c(this).data(g);wt&&wt.show(!1)}))}))})(A(883))},33:function(n){n.exports=(function(T){var A={};function c(p){if(A[p])return A[p].exports;var v=A[p]={i:p,l:!1,exports:{}};return T[p].call(v.exports,v,v.exports,c),v.l=!0,v.exports}return c.m=T,c.c=A,c.d=function(p,v,g){c.o(p,v)||Object.defineProperty(p,v,{enumerable:!0,get:g})},c.r=function(p){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})},c.t=function(p,v){if(1&v&&(p=c(p)),8&v||4&v&&typeof p=="object"&&p&&p.__esModule)return p;var g=Object.create(null);if(c.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:p}),2&v&&typeof p!="string")for(var M in p)c.d(g,M,function(y){return p[y]}.bind(null,M));return g},c.n=function(p){var v=p&&p.__esModule?function(){return p.default}:function(){return p};return c.d(v,"a",v),v},c.o=function(p,v){return Object.prototype.hasOwnProperty.call(p,v)},c.p="",c(c.s=90)})({17:function(T,A,c){"use strict";A.__esModule=!0,A.default=void 0;var p=c(18),v=(function(){function g(){}return g.getFirstMatch=function(M,y){var E=y.match(M);return E&&E.length>0&&E[1]||""},g.getSecondMatch=function(M,y){var E=y.match(M);return E&&E.length>1&&E[2]||""},g.matchAndReturnConst=function(M,y,E){if(M.test(y))return E},g.getWindowsVersionName=function(M){switch(M){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},g.getMacOSVersionName=function(M){var y=M.split(".").splice(0,2).map((function(E){return parseInt(E,10)||0}));if(y.push(0),y[0]===10)switch(y[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},g.getAndroidVersionName=function(M){var y=M.split(".").splice(0,2).map((function(E){return parseInt(E,10)||0}));if(y.push(0),!(y[0]===1&&y[1]<5))return y[0]===1&&y[1]<6?"Cupcake":y[0]===1&&y[1]>=6?"Donut":y[0]===2&&y[1]<2?"Eclair":y[0]===2&&y[1]===2?"Froyo":y[0]===2&&y[1]>2?"Gingerbread":y[0]===3?"Honeycomb":y[0]===4&&y[1]<1?"Ice Cream Sandwich":y[0]===4&&y[1]<4?"Jelly Bean":y[0]===4&&y[1]>=4?"KitKat":y[0]===5?"Lollipop":y[0]===6?"Marshmallow":y[0]===7?"Nougat":y[0]===8?"Oreo":y[0]===9?"Pie":void 0},g.getVersionPrecision=function(M){return M.split(".").length},g.compareVersions=function(M,y,E){E===void 0&&(E=!1);var F=g.getVersionPrecision(M),et=g.getVersionPrecision(y),H=Math.max(F,et),at=0,z=g.map([M,y],(function(S){var q=H-g.getVersionPrecision(S),V=S+new Array(q+1).join(".0");return g.map(V.split("."),(function(tt){return new Array(20-tt.length).join("0")+tt})).reverse()}));for(E&&(at=H-Math.min(F,et)),H-=1;H>=at;){if(z[0][H]>z[1][H])return 1;if(z[0][H]===z[1][H]){if(H===at)return 0;H-=1}else if(z[0][H]<z[1][H])return-1}},g.map=function(M,y){var E,F=[];if(Array.prototype.map)return Array.prototype.map.call(M,y);for(E=0;E<M.length;E+=1)F.push(y(M[E]));return F},g.find=function(M,y){var E,F;if(Array.prototype.find)return Array.prototype.find.call(M,y);for(E=0,F=M.length;E<F;E+=1){var et=M[E];if(y(et,E))return et}},g.assign=function(M){for(var y,E,F=M,et=arguments.length,H=new Array(et>1?et-1:0),at=1;at<et;at++)H[at-1]=arguments[at];if(Object.assign)return Object.assign.apply(Object,[M].concat(H));var z=function(){var S=H[y];typeof S=="object"&&S!==null&&Object.keys(S).forEach((function(q){F[q]=S[q]}))};for(y=0,E=H.length;y<E;y+=1)z();return M},g.getBrowserAlias=function(M){return p.BROWSER_ALIASES_MAP[M]},g.getBrowserTypeByAlias=function(M){return p.BROWSER_MAP[M]||""},g})();A.default=v,T.exports=A.default},18:function(T,A,c){"use strict";A.__esModule=!0,A.ENGINE_MAP=A.OS_MAP=A.PLATFORMS_MAP=A.BROWSER_MAP=A.BROWSER_ALIASES_MAP=void 0,A.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},A.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},A.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},A.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},A.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(T,A,c){"use strict";A.__esModule=!0,A.default=void 0;var p,v=(p=c(91))&&p.__esModule?p:{default:p},g=c(18);function M(E,F){for(var et=0;et<F.length;et++){var H=F[et];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(E,H.key,H)}}var y=(function(){function E(){}var F,et,H;return E.getParser=function(at,z){if(z===void 0&&(z=!1),typeof at!="string")throw new Error("UserAgent should be a string");return new v.default(at,z)},E.parse=function(at){return new v.default(at).getResult()},F=E,H=[{key:"BROWSER_MAP",get:function(){return g.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return g.ENGINE_MAP}},{key:"OS_MAP",get:function(){return g.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return g.PLATFORMS_MAP}}],(et=null)&&M(F.prototype,et),H&&M(F,H),E})();A.default=y,T.exports=A.default},91:function(T,A,c){"use strict";A.__esModule=!0,A.default=void 0;var p=E(c(92)),v=E(c(93)),g=E(c(94)),M=E(c(95)),y=E(c(17));function E(et){return et&&et.__esModule?et:{default:et}}var F=(function(){function et(at,z){if(z===void 0&&(z=!1),at==null||at==="")throw new Error("UserAgent parameter can't be empty");this._ua=at,this.parsedResult={},z!==!0&&this.parse()}var H=et.prototype;return H.getUA=function(){return this._ua},H.test=function(at){return at.test(this._ua)},H.parseBrowser=function(){var at=this;this.parsedResult.browser={};var z=y.default.find(p.default,(function(S){if(typeof S.test=="function")return S.test(at);if(S.test instanceof Array)return S.test.some((function(q){return at.test(q)}));throw new Error("Browser's test function is not valid")}));return z&&(this.parsedResult.browser=z.describe(this.getUA())),this.parsedResult.browser},H.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},H.getBrowserName=function(at){return at?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},H.getBrowserVersion=function(){return this.getBrowser().version},H.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},H.parseOS=function(){var at=this;this.parsedResult.os={};var z=y.default.find(v.default,(function(S){if(typeof S.test=="function")return S.test(at);if(S.test instanceof Array)return S.test.some((function(q){return at.test(q)}));throw new Error("Browser's test function is not valid")}));return z&&(this.parsedResult.os=z.describe(this.getUA())),this.parsedResult.os},H.getOSName=function(at){var z=this.getOS().name;return at?String(z).toLowerCase()||"":z||""},H.getOSVersion=function(){return this.getOS().version},H.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},H.getPlatformType=function(at){at===void 0&&(at=!1);var z=this.getPlatform().type;return at?String(z).toLowerCase()||"":z||""},H.parsePlatform=function(){var at=this;this.parsedResult.platform={};var z=y.default.find(g.default,(function(S){if(typeof S.test=="function")return S.test(at);if(S.test instanceof Array)return S.test.some((function(q){return at.test(q)}));throw new Error("Browser's test function is not valid")}));return z&&(this.parsedResult.platform=z.describe(this.getUA())),this.parsedResult.platform},H.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},H.getEngineName=function(at){return at?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},H.parseEngine=function(){var at=this;this.parsedResult.engine={};var z=y.default.find(M.default,(function(S){if(typeof S.test=="function")return S.test(at);if(S.test instanceof Array)return S.test.some((function(q){return at.test(q)}));throw new Error("Browser's test function is not valid")}));return z&&(this.parsedResult.engine=z.describe(this.getUA())),this.parsedResult.engine},H.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},H.getResult=function(){return y.default.assign({},this.parsedResult)},H.satisfies=function(at){var z=this,S={},q=0,V={},tt=0;if(Object.keys(at).forEach((function(te){var m=at[te];typeof m=="string"?(V[te]=m,tt+=1):typeof m=="object"&&(S[te]=m,q+=1)})),q>0){var rt=Object.keys(S),At=y.default.find(rt,(function(te){return z.isOS(te)}));if(At){var ut=this.satisfies(S[At]);if(ut!==void 0)return ut}var ft=y.default.find(rt,(function(te){return z.isPlatform(te)}));if(ft){var G=this.satisfies(S[ft]);if(G!==void 0)return G}}if(tt>0){var Ct=Object.keys(V),St=y.default.find(Ct,(function(te){return z.isBrowser(te,!0)}));if(St!==void 0)return this.compareVersion(V[St])}},H.isBrowser=function(at,z){z===void 0&&(z=!1);var S=this.getBrowserName().toLowerCase(),q=at.toLowerCase(),V=y.default.getBrowserTypeByAlias(q);return z&&V&&(q=V.toLowerCase()),q===S},H.compareVersion=function(at){var z=[0],S=at,q=!1,V=this.getBrowserVersion();if(typeof V=="string")return at[0]===">"||at[0]==="<"?(S=at.substr(1),at[1]==="="?(q=!0,S=at.substr(2)):z=[],at[0]===">"?z.push(1):z.push(-1)):at[0]==="="?S=at.substr(1):at[0]==="~"&&(q=!0,S=at.substr(1)),z.indexOf(y.default.compareVersions(V,S,q))>-1},H.isOS=function(at){return this.getOSName(!0)===String(at).toLowerCase()},H.isPlatform=function(at){return this.getPlatformType(!0)===String(at).toLowerCase()},H.isEngine=function(at){return this.getEngineName(!0)===String(at).toLowerCase()},H.is=function(at,z){return z===void 0&&(z=!1),this.isBrowser(at,z)||this.isOS(at)||this.isPlatform(at)},H.some=function(at){var z=this;return at===void 0&&(at=[]),at.some((function(S){return z.is(S)}))},et})();A.default=F,T.exports=A.default},92:function(T,A,c){"use strict";A.__esModule=!0,A.default=void 0;var p,v=(p=c(17))&&p.__esModule?p:{default:p},g=/version\/(\d+(\.?_?\d+)+)/i,M=[{test:[/googlebot/i],describe:function(y){var E={name:"Googlebot"},F=v.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,y)||v.default.getFirstMatch(g,y);return F&&(E.version=F),E}},{test:[/opera/i],describe:function(y){var E={name:"Opera"},F=v.default.getFirstMatch(g,y)||v.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,y);return F&&(E.version=F),E}},{test:[/opr\/|opios/i],describe:function(y){var E={name:"Opera"},F=v.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,y)||v.default.getFirstMatch(g,y);return F&&(E.version=F),E}},{test:[/SamsungBrowser/i],describe:function(y){var E={name:"Samsung Internet for Android"},F=v.default.getFirstMatch(g,y)||v.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,y);return F&&(E.version=F),E}},{test:[/Whale/i],describe:function(y){var E={name:"NAVER Whale Browser"},F=v.default.getFirstMatch(g,y)||v.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,y);return F&&(E.version=F),E}},{test:[/MZBrowser/i],describe:function(y){var E={name:"MZ Browser"},F=v.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,y)||v.default.getFirstMatch(g,y);return F&&(E.version=F),E}},{test:[/focus/i],describe:function(y){var E={name:"Focus"},F=v.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,y)||v.default.getFirstMatch(g,y);return F&&(E.version=F),E}},{test:[/swing/i],describe:function(y){var E={name:"Swing"},F=v.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,y)||v.default.getFirstMatch(g,y);return F&&(E.version=F),E}},{test:[/coast/i],describe:function(y){var E={name:"Opera Coast"},F=v.default.getFirstMatch(g,y)||v.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,y);return F&&(E.version=F),E}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(y){var E={name:"Opera Touch"},F=v.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,y)||v.default.getFirstMatch(g,y);return F&&(E.version=F),E}},{test:[/yabrowser/i],describe:function(y){var E={name:"Yandex Browser"},F=v.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,y)||v.default.getFirstMatch(g,y);return F&&(E.version=F),E}},{test:[/ucbrowser/i],describe:function(y){var E={name:"UC Browser"},F=v.default.getFirstMatch(g,y)||v.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,y);return F&&(E.version=F),E}},{test:[/Maxthon|mxios/i],describe:function(y){var E={name:"Maxthon"},F=v.default.getFirstMatch(g,y)||v.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,y);return F&&(E.version=F),E}},{test:[/epiphany/i],describe:function(y){var E={name:"Epiphany"},F=v.default.getFirstMatch(g,y)||v.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,y);return F&&(E.version=F),E}},{test:[/puffin/i],describe:function(y){var E={name:"Puffin"},F=v.default.getFirstMatch(g,y)||v.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,y);return F&&(E.version=F),E}},{test:[/sleipnir/i],describe:function(y){var E={name:"Sleipnir"},F=v.default.getFirstMatch(g,y)||v.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,y);return F&&(E.version=F),E}},{test:[/k-meleon/i],describe:function(y){var E={name:"K-Meleon"},F=v.default.getFirstMatch(g,y)||v.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,y);return F&&(E.version=F),E}},{test:[/micromessenger/i],describe:function(y){var E={name:"WeChat"},F=v.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,y)||v.default.getFirstMatch(g,y);return F&&(E.version=F),E}},{test:[/qqbrowser/i],describe:function(y){var E={name:/qqbrowserlite/i.test(y)?"QQ Browser Lite":"QQ Browser"},F=v.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,y)||v.default.getFirstMatch(g,y);return F&&(E.version=F),E}},{test:[/msie|trident/i],describe:function(y){var E={name:"Internet Explorer"},F=v.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,y);return F&&(E.version=F),E}},{test:[/\sedg\//i],describe:function(y){var E={name:"Microsoft Edge"},F=v.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,y);return F&&(E.version=F),E}},{test:[/edg([ea]|ios)/i],describe:function(y){var E={name:"Microsoft Edge"},F=v.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,y);return F&&(E.version=F),E}},{test:[/vivaldi/i],describe:function(y){var E={name:"Vivaldi"},F=v.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,y);return F&&(E.version=F),E}},{test:[/seamonkey/i],describe:function(y){var E={name:"SeaMonkey"},F=v.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,y);return F&&(E.version=F),E}},{test:[/sailfish/i],describe:function(y){var E={name:"Sailfish"},F=v.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,y);return F&&(E.version=F),E}},{test:[/silk/i],describe:function(y){var E={name:"Amazon Silk"},F=v.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,y);return F&&(E.version=F),E}},{test:[/phantom/i],describe:function(y){var E={name:"PhantomJS"},F=v.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,y);return F&&(E.version=F),E}},{test:[/slimerjs/i],describe:function(y){var E={name:"SlimerJS"},F=v.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,y);return F&&(E.version=F),E}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(y){var E={name:"BlackBerry"},F=v.default.getFirstMatch(g,y)||v.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,y);return F&&(E.version=F),E}},{test:[/(web|hpw)[o0]s/i],describe:function(y){var E={name:"WebOS Browser"},F=v.default.getFirstMatch(g,y)||v.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,y);return F&&(E.version=F),E}},{test:[/bada/i],describe:function(y){var E={name:"Bada"},F=v.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,y);return F&&(E.version=F),E}},{test:[/tizen/i],describe:function(y){var E={name:"Tizen"},F=v.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,y)||v.default.getFirstMatch(g,y);return F&&(E.version=F),E}},{test:[/qupzilla/i],describe:function(y){var E={name:"QupZilla"},F=v.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,y)||v.default.getFirstMatch(g,y);return F&&(E.version=F),E}},{test:[/firefox|iceweasel|fxios/i],describe:function(y){var E={name:"Firefox"},F=v.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,y);return F&&(E.version=F),E}},{test:[/electron/i],describe:function(y){var E={name:"Electron"},F=v.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,y);return F&&(E.version=F),E}},{test:[/MiuiBrowser/i],describe:function(y){var E={name:"Miui"},F=v.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,y);return F&&(E.version=F),E}},{test:[/chromium/i],describe:function(y){var E={name:"Chromium"},F=v.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,y)||v.default.getFirstMatch(g,y);return F&&(E.version=F),E}},{test:[/chrome|crios|crmo/i],describe:function(y){var E={name:"Chrome"},F=v.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,y);return F&&(E.version=F),E}},{test:[/GSA/i],describe:function(y){var E={name:"Google Search"},F=v.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,y);return F&&(E.version=F),E}},{test:function(y){var E=!y.test(/like android/i),F=y.test(/android/i);return E&&F},describe:function(y){var E={name:"Android Browser"},F=v.default.getFirstMatch(g,y);return F&&(E.version=F),E}},{test:[/playstation 4/i],describe:function(y){var E={name:"PlayStation 4"},F=v.default.getFirstMatch(g,y);return F&&(E.version=F),E}},{test:[/safari|applewebkit/i],describe:function(y){var E={name:"Safari"},F=v.default.getFirstMatch(g,y);return F&&(E.version=F),E}},{test:[/.*/i],describe:function(y){var E=y.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:v.default.getFirstMatch(E,y),version:v.default.getSecondMatch(E,y)}}}];A.default=M,T.exports=A.default},93:function(T,A,c){"use strict";A.__esModule=!0,A.default=void 0;var p,v=(p=c(17))&&p.__esModule?p:{default:p},g=c(18),M=[{test:[/Roku\/DVP/],describe:function(y){var E=v.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,y);return{name:g.OS_MAP.Roku,version:E}}},{test:[/windows phone/i],describe:function(y){var E=v.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,y);return{name:g.OS_MAP.WindowsPhone,version:E}}},{test:[/windows /i],describe:function(y){var E=v.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,y),F=v.default.getWindowsVersionName(E);return{name:g.OS_MAP.Windows,version:E,versionName:F}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(y){var E={name:g.OS_MAP.iOS},F=v.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,y);return F&&(E.version=F),E}},{test:[/macintosh/i],describe:function(y){var E=v.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,y).replace(/[_\s]/g,"."),F=v.default.getMacOSVersionName(E),et={name:g.OS_MAP.MacOS,version:E};return F&&(et.versionName=F),et}},{test:[/(ipod|iphone|ipad)/i],describe:function(y){var E=v.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,y).replace(/[_\s]/g,".");return{name:g.OS_MAP.iOS,version:E}}},{test:function(y){var E=!y.test(/like android/i),F=y.test(/android/i);return E&&F},describe:function(y){var E=v.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,y),F=v.default.getAndroidVersionName(E),et={name:g.OS_MAP.Android,version:E};return F&&(et.versionName=F),et}},{test:[/(web|hpw)[o0]s/i],describe:function(y){var E=v.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,y),F={name:g.OS_MAP.WebOS};return E&&E.length&&(F.version=E),F}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(y){var E=v.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,y)||v.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,y)||v.default.getFirstMatch(/\bbb(\d+)/i,y);return{name:g.OS_MAP.BlackBerry,version:E}}},{test:[/bada/i],describe:function(y){var E=v.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,y);return{name:g.OS_MAP.Bada,version:E}}},{test:[/tizen/i],describe:function(y){var E=v.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,y);return{name:g.OS_MAP.Tizen,version:E}}},{test:[/linux/i],describe:function(){return{name:g.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:g.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(y){var E=v.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,y);return{name:g.OS_MAP.PlayStation4,version:E}}}];A.default=M,T.exports=A.default},94:function(T,A,c){"use strict";A.__esModule=!0,A.default=void 0;var p,v=(p=c(17))&&p.__esModule?p:{default:p},g=c(18),M=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(y){var E=v.default.getFirstMatch(/(can-l01)/i,y)&&"Nova",F={type:g.PLATFORMS_MAP.mobile,vendor:"Huawei"};return E&&(F.model=E),F}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:g.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:g.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:g.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:g.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:g.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:g.PLATFORMS_MAP.tablet}}},{test:function(y){var E=y.test(/ipod|iphone/i),F=y.test(/like (ipod|iphone)/i);return E&&!F},describe:function(y){var E=v.default.getFirstMatch(/(ipod|iphone)/i,y);return{type:g.PLATFORMS_MAP.mobile,vendor:"Apple",model:E}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:g.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:g.PLATFORMS_MAP.mobile}}},{test:function(y){return y.getBrowserName(!0)==="blackberry"},describe:function(){return{type:g.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(y){return y.getBrowserName(!0)==="bada"},describe:function(){return{type:g.PLATFORMS_MAP.mobile}}},{test:function(y){return y.getBrowserName()==="windows phone"},describe:function(){return{type:g.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(y){var E=Number(String(y.getOSVersion()).split(".")[0]);return y.getOSName(!0)==="android"&&E>=3},describe:function(){return{type:g.PLATFORMS_MAP.tablet}}},{test:function(y){return y.getOSName(!0)==="android"},describe:function(){return{type:g.PLATFORMS_MAP.mobile}}},{test:function(y){return y.getOSName(!0)==="macos"},describe:function(){return{type:g.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(y){return y.getOSName(!0)==="windows"},describe:function(){return{type:g.PLATFORMS_MAP.desktop}}},{test:function(y){return y.getOSName(!0)==="linux"},describe:function(){return{type:g.PLATFORMS_MAP.desktop}}},{test:function(y){return y.getOSName(!0)==="playstation 4"},describe:function(){return{type:g.PLATFORMS_MAP.tv}}},{test:function(y){return y.getOSName(!0)==="roku"},describe:function(){return{type:g.PLATFORMS_MAP.tv}}}];A.default=M,T.exports=A.default},95:function(T,A,c){"use strict";A.__esModule=!0,A.default=void 0;var p,v=(p=c(17))&&p.__esModule?p:{default:p},g=c(18),M=[{test:function(y){return y.getBrowserName(!0)==="microsoft edge"},describe:function(y){if(/\sedg\//i.test(y))return{name:g.ENGINE_MAP.Blink};var E=v.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,y);return{name:g.ENGINE_MAP.EdgeHTML,version:E}}},{test:[/trident/i],describe:function(y){var E={name:g.ENGINE_MAP.Trident},F=v.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,y);return F&&(E.version=F),E}},{test:function(y){return y.test(/presto/i)},describe:function(y){var E={name:g.ENGINE_MAP.Presto},F=v.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,y);return F&&(E.version=F),E}},{test:function(y){var E=y.test(/gecko/i),F=y.test(/like gecko/i);return E&&!F},describe:function(y){var E={name:g.ENGINE_MAP.Gecko},F=v.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,y);return F&&(E.version=F),E}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:g.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(y){var E={name:g.ENGINE_MAP.WebKit},F=v.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,y);return F&&(E.version=F),E}}];A.default=M,T.exports=A.default}})},329:(module,exports,__webpack_require__)=>{var __WEBPACK_AMD_DEFINE_RESULT__;/**
 * [js-sha256]{@link https://github.com/emn178/js-sha256}
 *
 * @version 0.9.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */(function(){"use strict";var ERROR="input is invalid type",WINDOW=typeof window=="object",root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&typeof self=="object",NODE_JS=!root.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;NODE_JS?root=__webpack_require__.g:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&module.exports,AMD=__webpack_require__.amdO,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer!="undefined",HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];!root.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(n){return Object.prototype.toString.call(n)==="[object Array]"}),!ARRAY_BUFFER||!root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(n){return typeof n=="object"&&n.buffer&&n.buffer.constructor===ArrayBuffer});var createOutputMethod=function(n,T){return function(A){return new Sha256(T,!0).update(A)[n]()}},createMethod=function(n){var T=createOutputMethod("hex",n);NODE_JS&&(T=nodeWrap(T,n)),T.create=function(){return new Sha256(n)},T.update=function(p){return T.create().update(p)};for(var A=0;A<OUTPUT_TYPES.length;++A){var c=OUTPUT_TYPES[A];T[c]=createOutputMethod(c,n)}return T},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(n){if(typeof n=="string")return crypto.createHash(algorithm).update(n,"utf8").digest("hex");if(n==null)throw new Error(ERROR);return n.constructor===ArrayBuffer&&(n=new Uint8Array(n)),Array.isArray(n)||ArrayBuffer.isView(n)||n.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(n)).digest("hex"):method(n)};return nodeMethod},createHmacOutputMethod=function(n,T){return function(A,c){return new HmacSha256(A,T,!0).update(c)[n]()}},createHmacMethod=function(n){var T=createHmacOutputMethod("hex",n);T.create=function(p){return new HmacSha256(p,n)},T.update=function(p,v){return T.create(p).update(v)};for(var A=0;A<OUTPUT_TYPES.length;++A){var c=OUTPUT_TYPES[A];T[c]=createHmacOutputMethod(c,n)}return T};function Sha256(n,T){T?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=n}function HmacSha256(n,T,A){var c,p=typeof n;if(p==="string"){var v,g=[],M=n.length,y=0;for(c=0;c<M;++c)(v=n.charCodeAt(c))<128?g[y++]=v:v<2048?(g[y++]=192|v>>6,g[y++]=128|63&v):v<55296||v>=57344?(g[y++]=224|v>>12,g[y++]=128|v>>6&63,g[y++]=128|63&v):(v=65536+((1023&v)<<10|1023&n.charCodeAt(++c)),g[y++]=240|v>>18,g[y++]=128|v>>12&63,g[y++]=128|v>>6&63,g[y++]=128|63&v);n=g}else{if(p!=="object")throw new Error(ERROR);if(n===null)throw new Error(ERROR);if(ARRAY_BUFFER&&n.constructor===ArrayBuffer)n=new Uint8Array(n);else if(!(Array.isArray(n)||ARRAY_BUFFER&&ArrayBuffer.isView(n)))throw new Error(ERROR)}n.length>64&&(n=new Sha256(T,!0).update(n).array());var E=[],F=[];for(c=0;c<64;++c){var et=n[c]||0;E[c]=92^et,F[c]=54^et}Sha256.call(this,T,A),this.update(F),this.oKeyPad=E,this.inner=!0,this.sharedMemory=A}Sha256.prototype.update=function(n){if(!this.finalized){var T,A=typeof n;if(A!=="string"){if(A!=="object")throw new Error(ERROR);if(n===null)throw new Error(ERROR);if(ARRAY_BUFFER&&n.constructor===ArrayBuffer)n=new Uint8Array(n);else if(!(Array.isArray(n)||ARRAY_BUFFER&&ArrayBuffer.isView(n)))throw new Error(ERROR);T=!0}for(var c,p,v=0,g=n.length,M=this.blocks;v<g;){if(this.hashed&&(this.hashed=!1,M[0]=this.block,M[16]=M[1]=M[2]=M[3]=M[4]=M[5]=M[6]=M[7]=M[8]=M[9]=M[10]=M[11]=M[12]=M[13]=M[14]=M[15]=0),T)for(p=this.start;v<g&&p<64;++v)M[p>>2]|=n[v]<<SHIFT[3&p++];else for(p=this.start;v<g&&p<64;++v)(c=n.charCodeAt(v))<128?M[p>>2]|=c<<SHIFT[3&p++]:c<2048?(M[p>>2]|=(192|c>>6)<<SHIFT[3&p++],M[p>>2]|=(128|63&c)<<SHIFT[3&p++]):c<55296||c>=57344?(M[p>>2]|=(224|c>>12)<<SHIFT[3&p++],M[p>>2]|=(128|c>>6&63)<<SHIFT[3&p++],M[p>>2]|=(128|63&c)<<SHIFT[3&p++]):(c=65536+((1023&c)<<10|1023&n.charCodeAt(++v)),M[p>>2]|=(240|c>>18)<<SHIFT[3&p++],M[p>>2]|=(128|c>>12&63)<<SHIFT[3&p++],M[p>>2]|=(128|c>>6&63)<<SHIFT[3&p++],M[p>>2]|=(128|63&c)<<SHIFT[3&p++]);this.lastByteIndex=p,this.bytes+=p-this.start,p>=64?(this.block=M[16],this.start=p-64,this.hash(),this.hashed=!0):this.start=p}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296|0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var n=this.blocks,T=this.lastByteIndex;n[16]=this.block,n[T>>2]|=EXTRA[3&T],this.block=n[16],T>=56&&(this.hashed||this.hash(),n[0]=this.block,n[16]=n[1]=n[2]=n[3]=n[4]=n[5]=n[6]=n[7]=n[8]=n[9]=n[10]=n[11]=n[12]=n[13]=n[14]=n[15]=0),n[14]=this.hBytes<<3|this.bytes>>>29,n[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var n,T,A,c,p,v,g,M,y,E=this.h0,F=this.h1,et=this.h2,H=this.h3,at=this.h4,z=this.h5,S=this.h6,q=this.h7,V=this.blocks;for(n=16;n<64;++n)T=((p=V[n-15])>>>7|p<<25)^(p>>>18|p<<14)^p>>>3,A=((p=V[n-2])>>>17|p<<15)^(p>>>19|p<<13)^p>>>10,V[n]=V[n-16]+T+V[n-7]+A|0;for(y=F&et,n=0;n<64;n+=4)this.first?(this.is224?(v=300032,q=(p=V[0]-1413257819)-150054599|0,H=p+24177077|0):(v=704751109,q=(p=V[0]-210244248)-1521486534|0,H=p+143694565|0),this.first=!1):(T=(E>>>2|E<<30)^(E>>>13|E<<19)^(E>>>22|E<<10),c=(v=E&F)^E&et^y,q=H+(p=q+(A=(at>>>6|at<<26)^(at>>>11|at<<21)^(at>>>25|at<<7))+(at&z^~at&S)+K[n]+V[n])|0,H=p+(T+c)|0),T=(H>>>2|H<<30)^(H>>>13|H<<19)^(H>>>22|H<<10),c=(g=H&E)^H&F^v,S=et+(p=S+(A=(q>>>6|q<<26)^(q>>>11|q<<21)^(q>>>25|q<<7))+(q&at^~q&z)+K[n+1]+V[n+1])|0,T=((et=p+(T+c)|0)>>>2|et<<30)^(et>>>13|et<<19)^(et>>>22|et<<10),c=(M=et&H)^et&E^g,z=F+(p=z+(A=(S>>>6|S<<26)^(S>>>11|S<<21)^(S>>>25|S<<7))+(S&q^~S&at)+K[n+2]+V[n+2])|0,T=((F=p+(T+c)|0)>>>2|F<<30)^(F>>>13|F<<19)^(F>>>22|F<<10),c=(y=F&et)^F&H^M,at=E+(p=at+(A=(z>>>6|z<<26)^(z>>>11|z<<21)^(z>>>25|z<<7))+(z&S^~z&q)+K[n+3]+V[n+3])|0,E=p+(T+c)|0;this.h0=this.h0+E|0,this.h1=this.h1+F|0,this.h2=this.h2+et|0,this.h3=this.h3+H|0,this.h4=this.h4+at|0,this.h5=this.h5+z|0,this.h6=this.h6+S|0,this.h7=this.h7+q|0},Sha256.prototype.hex=function(){this.finalize();var n=this.h0,T=this.h1,A=this.h2,c=this.h3,p=this.h4,v=this.h5,g=this.h6,M=this.h7,y=HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[T>>28&15]+HEX_CHARS[T>>24&15]+HEX_CHARS[T>>20&15]+HEX_CHARS[T>>16&15]+HEX_CHARS[T>>12&15]+HEX_CHARS[T>>8&15]+HEX_CHARS[T>>4&15]+HEX_CHARS[15&T]+HEX_CHARS[A>>28&15]+HEX_CHARS[A>>24&15]+HEX_CHARS[A>>20&15]+HEX_CHARS[A>>16&15]+HEX_CHARS[A>>12&15]+HEX_CHARS[A>>8&15]+HEX_CHARS[A>>4&15]+HEX_CHARS[15&A]+HEX_CHARS[c>>28&15]+HEX_CHARS[c>>24&15]+HEX_CHARS[c>>20&15]+HEX_CHARS[c>>16&15]+HEX_CHARS[c>>12&15]+HEX_CHARS[c>>8&15]+HEX_CHARS[c>>4&15]+HEX_CHARS[15&c]+HEX_CHARS[p>>28&15]+HEX_CHARS[p>>24&15]+HEX_CHARS[p>>20&15]+HEX_CHARS[p>>16&15]+HEX_CHARS[p>>12&15]+HEX_CHARS[p>>8&15]+HEX_CHARS[p>>4&15]+HEX_CHARS[15&p]+HEX_CHARS[v>>28&15]+HEX_CHARS[v>>24&15]+HEX_CHARS[v>>20&15]+HEX_CHARS[v>>16&15]+HEX_CHARS[v>>12&15]+HEX_CHARS[v>>8&15]+HEX_CHARS[v>>4&15]+HEX_CHARS[15&v]+HEX_CHARS[g>>28&15]+HEX_CHARS[g>>24&15]+HEX_CHARS[g>>20&15]+HEX_CHARS[g>>16&15]+HEX_CHARS[g>>12&15]+HEX_CHARS[g>>8&15]+HEX_CHARS[g>>4&15]+HEX_CHARS[15&g];return this.is224||(y+=HEX_CHARS[M>>28&15]+HEX_CHARS[M>>24&15]+HEX_CHARS[M>>20&15]+HEX_CHARS[M>>16&15]+HEX_CHARS[M>>12&15]+HEX_CHARS[M>>8&15]+HEX_CHARS[M>>4&15]+HEX_CHARS[15&M]),y},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var n=this.h0,T=this.h1,A=this.h2,c=this.h3,p=this.h4,v=this.h5,g=this.h6,M=this.h7,y=[n>>24&255,n>>16&255,n>>8&255,255&n,T>>24&255,T>>16&255,T>>8&255,255&T,A>>24&255,A>>16&255,A>>8&255,255&A,c>>24&255,c>>16&255,c>>8&255,255&c,p>>24&255,p>>16&255,p>>8&255,255&p,v>>24&255,v>>16&255,v>>8&255,255&v,g>>24&255,g>>16&255,g>>8&255,255&g];return this.is224||y.push(M>>24&255,M>>16&255,M>>8&255,255&M),y},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var n=new ArrayBuffer(this.is224?28:32),T=new DataView(n);return T.setUint32(0,this.h0),T.setUint32(4,this.h1),T.setUint32(8,this.h2),T.setUint32(12,this.h3),T.setUint32(16,this.h4),T.setUint32(20,this.h5),T.setUint32(24,this.h6),this.is224||T.setUint32(28,this.h7),n},HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var n=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(n),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),__WEBPACK_AMD_DEFINE_RESULT__===void 0||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))})()},489:function(n,T,A){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */n.exports=(function(){"use strict";function c(mt){var Pt=typeof mt;return mt!==null&&(Pt==="object"||Pt==="function")}function p(mt){return typeof mt=="function"}var v=Array.isArray?Array.isArray:function(mt){return Object.prototype.toString.call(mt)==="[object Array]"},g=0,M=void 0,y=void 0,E=function(mt,Pt){ft[g]=mt,ft[g+1]=Pt,(g+=2)===2&&(y?y(G):St())};function F(mt){y=mt}function et(mt){E=mt}var H=typeof window!="undefined"?window:void 0,at=H||{},z=at.MutationObserver||at.WebKitMutationObserver,S=typeof self=="undefined"&&typeof process!="undefined"&&{}.toString.call(process)==="[object process]",q=typeof Uint8ClampedArray!="undefined"&&typeof importScripts!="undefined"&&typeof MessageChannel!="undefined";function V(){return function(){return process.nextTick(G)}}function tt(){return M!==void 0?function(){M(G)}:ut()}function rt(){var mt=0,Pt=new z(G),le=document.createTextNode("");return Pt.observe(le,{characterData:!0}),function(){le.data=mt=++mt%2}}function At(){var mt=new MessageChannel;return mt.port1.onmessage=G,function(){return mt.port2.postMessage(0)}}function ut(){var mt=setTimeout;return function(){return mt(G,1)}}var ft=new Array(1e3);function G(){for(var mt=0;mt<g;mt+=2)(0,ft[mt])(ft[mt+1]),ft[mt]=void 0,ft[mt+1]=void 0;g=0}function Ct(){try{var mt=Function("return this")().require("vertx");return M=mt.runOnLoop||mt.runOnContext,tt()}catch(Pt){return ut()}}var St=void 0;function te(mt,Pt){var le=this,Oe=new this.constructor(zt);Oe[kt]===void 0&&on(Oe);var Xt=le._state;if(Xt){var Ze=arguments[Xt-1];E((function(){return Ii(Xt,Oe,Ze,le._result)}))}else si(le,Oe,mt,Pt);return Oe}function m(mt){var Pt=this;if(mt&&typeof mt=="object"&&mt.constructor===Pt)return mt;var le=new Pt(zt);return Ie(le,mt),le}St=S?V():z?rt():q?At():H===void 0?Ct():ut();var kt=Math.random().toString(36).substring(2);function zt(){}var R=void 0,xn=1,Gt=2;function Q(){return new TypeError("You cannot resolve a promise with itself")}function wt(){return new TypeError("A promises callback cannot return that same promise.")}function d(mt,Pt,le,Oe){try{mt.call(Pt,le,Oe)}catch(Xt){return Xt}}function pe(mt,Pt,le){E((function(Oe){var Xt=!1,Ze=d(le,Pt,(function(Je){Xt||(Xt=!0,Pt!==Je?Ie(Oe,Je):Cn(Oe,Je))}),(function(Je){Xt||(Xt=!0,an(Oe,Je))}),"Settle: "+(Oe._label||" unknown promise"));!Xt&&Ze&&(Xt=!0,an(Oe,Ze))}),mt)}function ve(mt,Pt){Pt._state===xn?Cn(mt,Pt._result):Pt._state===Gt?an(mt,Pt._result):si(Pt,void 0,(function(le){return Ie(mt,le)}),(function(le){return an(mt,le)}))}function Le(mt,Pt,le){Pt.constructor===mt.constructor&&le===te&&Pt.constructor.resolve===m?ve(mt,Pt):le===void 0?Cn(mt,Pt):p(le)?pe(mt,Pt,le):Cn(mt,Pt)}function Ie(mt,Pt){if(mt===Pt)an(mt,Q());else if(c(Pt)){var le=void 0;try{le=Pt.then}catch(Oe){return void an(mt,Oe)}Le(mt,Pt,le)}else Cn(mt,Pt)}function vn(mt){mt._onerror&&mt._onerror(mt._result),$n(mt)}function Cn(mt,Pt){mt._state===R&&(mt._result=Pt,mt._state=xn,mt._subscribers.length!==0&&E($n,mt))}function an(mt,Pt){mt._state===R&&(mt._state=Gt,mt._result=Pt,E(vn,mt))}function si(mt,Pt,le,Oe){var Xt=mt._subscribers,Ze=Xt.length;mt._onerror=null,Xt[Ze]=Pt,Xt[Ze+xn]=le,Xt[Ze+Gt]=Oe,Ze===0&&mt._state&&E($n,mt)}function $n(mt){var Pt=mt._subscribers,le=mt._state;if(Pt.length!==0){for(var Oe=void 0,Xt=void 0,Ze=mt._result,Je=0;Je<Pt.length;Je+=3)Oe=Pt[Je],Xt=Pt[Je+le],Oe?Ii(le,Oe,Xt,Ze):Xt(Ze);mt._subscribers.length=0}}function Ii(mt,Pt,le,Oe){var Xt=p(le),Ze=void 0,Je=void 0,yn=!0;if(Xt){try{Ze=le(Oe)}catch(Ln){yn=!1,Je=Ln}if(Pt===Ze)return void an(Pt,wt())}else Ze=Oe;Pt._state!==R||(Xt&&yn?Ie(Pt,Ze):yn===!1?an(Pt,Je):mt===xn?Cn(Pt,Ze):mt===Gt&&an(Pt,Ze))}function qi(mt,Pt){try{Pt((function(le){Ie(mt,le)}),(function(le){an(mt,le)}))}catch(le){an(mt,le)}}var Bt=0;function be(){return Bt++}function on(mt){mt[kt]=Bt++,mt._state=void 0,mt._result=void 0,mt._subscribers=[]}function Bn(){return new Error("Array Methods must be provided an Array")}var Si=(function(){function mt(Pt,le){this._instanceConstructor=Pt,this.promise=new Pt(zt),this.promise[kt]||on(this.promise),v(le)?(this.length=le.length,this._remaining=le.length,this._result=new Array(this.length),this.length===0?Cn(this.promise,this._result):(this.length=this.length||0,this._enumerate(le),this._remaining===0&&Cn(this.promise,this._result))):an(this.promise,Bn())}return mt.prototype._enumerate=function(Pt){for(var le=0;this._state===R&&le<Pt.length;le++)this._eachEntry(Pt[le],le)},mt.prototype._eachEntry=function(Pt,le){var Oe=this._instanceConstructor,Xt=Oe.resolve;if(Xt===m){var Ze=void 0,Je=void 0,yn=!1;try{Ze=Pt.then}catch(sn){yn=!0,Je=sn}if(Ze===te&&Pt._state!==R)this._settledAt(Pt._state,le,Pt._result);else if(typeof Ze!="function")this._remaining--,this._result[le]=Pt;else if(Oe===je){var Ln=new Oe(zt);yn?an(Ln,Je):Le(Ln,Pt,Ze),this._willSettleAt(Ln,le)}else this._willSettleAt(new Oe((function(sn){return sn(Pt)})),le)}else this._willSettleAt(Xt(Pt),le)},mt.prototype._settledAt=function(Pt,le,Oe){var Xt=this.promise;Xt._state===R&&(this._remaining--,Pt===Gt?an(Xt,Oe):this._result[le]=Oe),this._remaining===0&&Cn(Xt,this._result)},mt.prototype._willSettleAt=function(Pt,le){var Oe=this;si(Pt,void 0,(function(Xt){return Oe._settledAt(xn,le,Xt)}),(function(Xt){return Oe._settledAt(Gt,le,Xt)}))},mt})();function Li(mt){return new Si(this,mt).promise}function It(mt){var Pt=this;return v(mt)?new Pt((function(le,Oe){for(var Xt=mt.length,Ze=0;Ze<Xt;Ze++)Pt.resolve(mt[Ze]).then(le,Oe)})):new Pt((function(le,Oe){return Oe(new TypeError("You must pass an array to race."))}))}function Zt(mt){var Pt=new this(zt);return an(Pt,mt),Pt}function he(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function Ee(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var je=(function(){function mt(Pt){this[kt]=be(),this._result=this._state=void 0,this._subscribers=[],zt!==Pt&&(typeof Pt!="function"&&he(),this instanceof mt?qi(this,Pt):Ee())}return mt.prototype.catch=function(Pt){return this.then(null,Pt)},mt.prototype.finally=function(Pt){var le=this,Oe=le.constructor;return p(Pt)?le.then((function(Xt){return Oe.resolve(Pt()).then((function(){return Xt}))}),(function(Xt){return Oe.resolve(Pt()).then((function(){throw Xt}))})):le.then(Pt,Pt)},mt})();function se(){var mt=void 0;if(A.g!==void 0)mt=A.g;else if(typeof self!="undefined")mt=self;else try{mt=Function("return this")()}catch(Oe){throw new Error("polyfill failed because global object is unavailable in this environment")}var Pt=mt.Promise;if(Pt){var le=null;try{le=Object.prototype.toString.call(Pt.resolve())}catch(Oe){}if(le==="[object Promise]"&&!Pt.cast)return}mt.Promise=je}return je.prototype.then=te,je.all=Li,je.race=It,je.resolve=m,je.reject=Zt,je._setScheduler=F,je._setAsap=et,je._asap=E,je.polyfill=se,je.Promise=je,je})()},491:(n,T,A)=>{A(581),n.exports=self.fetch.bind(self)},581:(n,T,A)=>{"use strict";A.r(T),A.d(T,{DOMException:()=>ut,Headers:()=>F,Request:()=>V,Response:()=>rt,fetch:()=>ft});var c=typeof globalThis!="undefined"&&globalThis||typeof self!="undefined"&&self||A.g!==void 0&&A.g||{},p={searchParams:"URLSearchParams"in c,iterable:"Symbol"in c&&"iterator"in Symbol,blob:"FileReader"in c&&"Blob"in c&&(function(){try{return new Blob,!0}catch(G){return!1}})(),formData:"FormData"in c,arrayBuffer:"ArrayBuffer"in c};if(p.arrayBuffer)var v=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],g=ArrayBuffer.isView||function(G){return G&&v.indexOf(Object.prototype.toString.call(G))>-1};function M(G){if(typeof G!="string"&&(G=String(G)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(G)||G==="")throw new TypeError('Invalid character in header field name: "'+G+'"');return G.toLowerCase()}function y(G){return typeof G!="string"&&(G=String(G)),G}function E(G){var Ct={next:function(){var St=G.shift();return{done:St===void 0,value:St}}};return p.iterable&&(Ct[Symbol.iterator]=function(){return Ct}),Ct}function F(G){this.map={},G instanceof F?G.forEach((function(Ct,St){this.append(St,Ct)}),this):Array.isArray(G)?G.forEach((function(Ct){if(Ct.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+Ct.length);this.append(Ct[0],Ct[1])}),this):G&&Object.getOwnPropertyNames(G).forEach((function(Ct){this.append(Ct,G[Ct])}),this)}function et(G){if(!G._noBody)return G.bodyUsed?Promise.reject(new TypeError("Already read")):void(G.bodyUsed=!0)}function H(G){return new Promise((function(Ct,St){G.onload=function(){Ct(G.result)},G.onerror=function(){St(G.error)}}))}function at(G){var Ct=new FileReader,St=H(Ct);return Ct.readAsArrayBuffer(G),St}function z(G){if(G.slice)return G.slice(0);var Ct=new Uint8Array(G.byteLength);return Ct.set(new Uint8Array(G)),Ct.buffer}function S(){return this.bodyUsed=!1,this._initBody=function(G){var Ct;this.bodyUsed=this.bodyUsed,this._bodyInit=G,G?typeof G=="string"?this._bodyText=G:p.blob&&Blob.prototype.isPrototypeOf(G)?this._bodyBlob=G:p.formData&&FormData.prototype.isPrototypeOf(G)?this._bodyFormData=G:p.searchParams&&URLSearchParams.prototype.isPrototypeOf(G)?this._bodyText=G.toString():p.arrayBuffer&&p.blob&&(Ct=G)&&DataView.prototype.isPrototypeOf(Ct)?(this._bodyArrayBuffer=z(G.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):p.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(G)||g(G))?this._bodyArrayBuffer=z(G):this._bodyText=G=Object.prototype.toString.call(G):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof G=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):p.searchParams&&URLSearchParams.prototype.isPrototypeOf(G)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},p.blob&&(this.blob=function(){var G=et(this);if(G)return G;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var G=et(this);return G||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}if(p.blob)return this.blob().then(at);throw new Error("could not read as ArrayBuffer")},this.text=function(){var G,Ct,St,te,m,kt=et(this);if(kt)return kt;if(this._bodyBlob)return G=this._bodyBlob,Ct=new FileReader,St=H(Ct),te=/charset=([A-Za-z0-9_-]+)/.exec(G.type),m=te?te[1]:"utf-8",Ct.readAsText(G,m),St;if(this._bodyArrayBuffer)return Promise.resolve((function(zt){for(var R=new Uint8Array(zt),xn=new Array(R.length),Gt=0;Gt<R.length;Gt++)xn[Gt]=String.fromCharCode(R[Gt]);return xn.join("")})(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},p.formData&&(this.formData=function(){return this.text().then(tt)}),this.json=function(){return this.text().then(JSON.parse)},this}F.prototype.append=function(G,Ct){G=M(G),Ct=y(Ct);var St=this.map[G];this.map[G]=St?St+", "+Ct:Ct},F.prototype.delete=function(G){delete this.map[M(G)]},F.prototype.get=function(G){return G=M(G),this.has(G)?this.map[G]:null},F.prototype.has=function(G){return this.map.hasOwnProperty(M(G))},F.prototype.set=function(G,Ct){this.map[M(G)]=y(Ct)},F.prototype.forEach=function(G,Ct){for(var St in this.map)this.map.hasOwnProperty(St)&&G.call(Ct,this.map[St],St,this)},F.prototype.keys=function(){var G=[];return this.forEach((function(Ct,St){G.push(St)})),E(G)},F.prototype.values=function(){var G=[];return this.forEach((function(Ct){G.push(Ct)})),E(G)},F.prototype.entries=function(){var G=[];return this.forEach((function(Ct,St){G.push([St,Ct])})),E(G)},p.iterable&&(F.prototype[Symbol.iterator]=F.prototype.entries);var q=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function V(G,Ct){if(!(this instanceof V))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var St,te,m=(Ct=Ct||{}).body;if(G instanceof V){if(G.bodyUsed)throw new TypeError("Already read");this.url=G.url,this.credentials=G.credentials,Ct.headers||(this.headers=new F(G.headers)),this.method=G.method,this.mode=G.mode,this.signal=G.signal,m||G._bodyInit==null||(m=G._bodyInit,G.bodyUsed=!0)}else this.url=String(G);if(this.credentials=Ct.credentials||this.credentials||"same-origin",!Ct.headers&&this.headers||(this.headers=new F(Ct.headers)),this.method=(St=Ct.method||this.method||"GET",te=St.toUpperCase(),q.indexOf(te)>-1?te:St),this.mode=Ct.mode||this.mode||null,this.signal=Ct.signal||this.signal||(function(){if("AbortController"in c)return new AbortController().signal})(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&m)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(m),!(this.method!=="GET"&&this.method!=="HEAD"||Ct.cache!=="no-store"&&Ct.cache!=="no-cache")){var kt=/([?&])_=[^&]*/;kt.test(this.url)?this.url=this.url.replace(kt,"$1_="+new Date().getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+new Date().getTime()}}function tt(G){var Ct=new FormData;return G.trim().split("&").forEach((function(St){if(St){var te=St.split("="),m=te.shift().replace(/\+/g," "),kt=te.join("=").replace(/\+/g," ");Ct.append(decodeURIComponent(m),decodeURIComponent(kt))}})),Ct}function rt(G,Ct){if(!(this instanceof rt))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(Ct||(Ct={}),this.type="default",this.status=Ct.status===void 0?200:Ct.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=Ct.statusText===void 0?"":""+Ct.statusText,this.headers=new F(Ct.headers),this.url=Ct.url||"",this._initBody(G)}V.prototype.clone=function(){return new V(this,{body:this._bodyInit})},S.call(V.prototype),S.call(rt.prototype),rt.prototype.clone=function(){return new rt(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new F(this.headers),url:this.url})},rt.error=function(){var G=new rt(null,{status:200,statusText:""});return G.ok=!1,G.status=0,G.type="error",G};var At=[301,302,303,307,308];rt.redirect=function(G,Ct){if(At.indexOf(Ct)===-1)throw new RangeError("Invalid status code");return new rt(null,{status:Ct,headers:{location:G}})};var ut=c.DOMException;try{new ut}catch(G){(ut=function(Ct,St){this.message=Ct,this.name=St;var te=Error(Ct);this.stack=te.stack}).prototype=Object.create(Error.prototype),ut.prototype.constructor=ut}function ft(G,Ct){return new Promise((function(St,te){var m=new V(G,Ct);if(m.signal&&m.signal.aborted)return te(new ut("Aborted","AbortError"));var kt=new XMLHttpRequest;function zt(){kt.abort()}if(kt.onload=function(){var xn,Gt,Q={statusText:kt.statusText,headers:(xn=kt.getAllResponseHeaders()||"",Gt=new F,xn.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(d){return d.indexOf(`
`)===0?d.substr(1,d.length):d})).forEach((function(d){var pe=d.split(":"),ve=pe.shift().trim();if(ve){var Le=pe.join(":").trim();try{Gt.append(ve,Le)}catch(Ie){console.warn("Response "+Ie.message)}}})),Gt)};m.url.indexOf("file://")===0&&(kt.status<200||kt.status>599)?Q.status=200:Q.status=kt.status,Q.url="responseURL"in kt?kt.responseURL:Q.headers.get("X-Request-URL");var wt="response"in kt?kt.response:kt.responseText;setTimeout((function(){St(new rt(wt,Q))}),0)},kt.onerror=function(){setTimeout((function(){te(new TypeError("Network request failed"))}),0)},kt.ontimeout=function(){setTimeout((function(){te(new TypeError("Network request timed out"))}),0)},kt.onabort=function(){setTimeout((function(){te(new ut("Aborted","AbortError"))}),0)},kt.open(m.method,(function(xn){try{return xn===""&&c.location.href?c.location.href:xn}catch(Gt){return xn}})(m.url),!0),m.credentials==="include"?kt.withCredentials=!0:m.credentials==="omit"&&(kt.withCredentials=!1),"responseType"in kt&&(p.blob?kt.responseType="blob":p.arrayBuffer&&(kt.responseType="arraybuffer")),Ct&&typeof Ct.headers=="object"&&!(Ct.headers instanceof F||c.Headers&&Ct.headers instanceof c.Headers)){var R=[];Object.getOwnPropertyNames(Ct.headers).forEach((function(xn){R.push(M(xn)),kt.setRequestHeader(xn,y(Ct.headers[xn]))})),m.headers.forEach((function(xn,Gt){R.indexOf(Gt)===-1&&kt.setRequestHeader(Gt,xn)}))}else m.headers.forEach((function(xn,Gt){kt.setRequestHeader(Gt,xn)}));m.signal&&(m.signal.addEventListener("abort",zt),kt.onreadystatechange=function(){kt.readyState===4&&m.signal.removeEventListener("abort",zt)}),kt.send(m._bodyInit===void 0?null:m._bodyInit)}))}ft.polyfill=!0,c.fetch||(c.fetch=ft,c.Headers=F,c.Request=V,c.Response=rt)},883:function(n,T,A){var c;function p(v){return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},p(v);/*! jQuery v3.7.1 | (c) OpenJS Foundation and other contributors | jquery.org/license */}n=A.nmd(n),(function(v,g){"use strict";p(n)=="object"&&p(n.exports)=="object"?n.exports=v.document?g(v,!0):function(M){if(!M.document)throw new Error("jQuery requires a window with a document");return g(M)}:g(v)})(typeof window!="undefined"?window:this,(function(v,g){"use strict";var M=[],y=Object.getPrototypeOf,E=M.slice,F=M.flat?function(r){return M.flat.call(r)}:function(r){return M.concat.apply([],r)},et=M.push,H=M.indexOf,at={},z=at.toString,S=at.hasOwnProperty,q=S.toString,V=q.call(Object),tt={},rt=function(r){return typeof r=="function"&&typeof r.nodeType!="number"&&typeof r.item!="function"},At=function(r){return r!=null&&r===r.window},ut=v.document,ft={type:!0,src:!0,nonce:!0,noModule:!0};function G(r,u,_){var C,B,U=(_=_||ut).createElement("script");if(U.text=r,u)for(C in ft)(B=u[C]||u.getAttribute&&u.getAttribute(C))&&U.setAttribute(C,B);_.head.appendChild(U).parentNode.removeChild(U)}function Ct(r){return r==null?r+"":p(r)=="object"||typeof r=="function"?at[z.call(r)]||"object":p(r)}var St="3.7.1",te=/HTML$/i,m=function(r,u){return new m.fn.init(r,u)};function kt(r){var u=!!r&&"length"in r&&r.length,_=Ct(r);return!rt(r)&&!At(r)&&(_==="array"||u===0||typeof u=="number"&&0<u&&u-1 in r)}function zt(r,u){return r.nodeName&&r.nodeName.toLowerCase()===u.toLowerCase()}m.fn=m.prototype={jquery:St,constructor:m,length:0,toArray:function(){return E.call(this)},get:function(r){return r==null?E.call(this):r<0?this[r+this.length]:this[r]},pushStack:function(r){var u=m.merge(this.constructor(),r);return u.prevObject=this,u},each:function(r){return m.each(this,r)},map:function(r){return this.pushStack(m.map(this,(function(u,_){return r.call(u,_,u)})))},slice:function(){return this.pushStack(E.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(m.grep(this,(function(r,u){return(u+1)%2})))},odd:function(){return this.pushStack(m.grep(this,(function(r,u){return u%2})))},eq:function(r){var u=this.length,_=+r+(r<0?u:0);return this.pushStack(0<=_&&_<u?[this[_]]:[])},end:function(){return this.prevObject||this.constructor()},push:et,sort:M.sort,splice:M.splice},m.extend=m.fn.extend=function(){var r,u,_,C,B,U,nt=arguments[0]||{},xt=1,bt=arguments.length,Dt=!1;for(typeof nt=="boolean"&&(Dt=nt,nt=arguments[xt]||{},xt++),p(nt)=="object"||rt(nt)||(nt={}),xt===bt&&(nt=this,xt--);xt<bt;xt++)if((r=arguments[xt])!=null)for(u in r)C=r[u],u!=="__proto__"&&nt!==C&&(Dt&&C&&(m.isPlainObject(C)||(B=Array.isArray(C)))?(_=nt[u],U=B&&!Array.isArray(_)?[]:B||m.isPlainObject(_)?_:{},B=!1,nt[u]=m.extend(Dt,U,C)):C!==void 0&&(nt[u]=C));return nt},m.extend({expando:"jQuery"+(St+Math.random()).replace(/\D/g,""),isReady:!0,error:function(r){throw new Error(r)},noop:function(){},isPlainObject:function(r){var u,_;return!(!r||z.call(r)!=="[object Object]"||(u=y(r))&&(typeof(_=S.call(u,"constructor")&&u.constructor)!="function"||q.call(_)!==V))},isEmptyObject:function(r){var u;for(u in r)return!1;return!0},globalEval:function(r,u,_){G(r,{nonce:u&&u.nonce},_)},each:function(r,u){var _,C=0;if(kt(r))for(_=r.length;C<_&&u.call(r[C],C,r[C])!==!1;C++);else for(C in r)if(u.call(r[C],C,r[C])===!1)break;return r},text:function(r){var u,_="",C=0,B=r.nodeType;if(!B)for(;u=r[C++];)_+=m.text(u);return B===1||B===11?r.textContent:B===9?r.documentElement.textContent:B===3||B===4?r.nodeValue:_},makeArray:function(r,u){var _=u||[];return r!=null&&(kt(Object(r))?m.merge(_,typeof r=="string"?[r]:r):et.call(_,r)),_},inArray:function(r,u,_){return u==null?-1:H.call(u,r,_)},isXMLDoc:function(r){var u=r&&r.namespaceURI,_=r&&(r.ownerDocument||r).documentElement;return!te.test(u||_&&_.nodeName||"HTML")},merge:function(r,u){for(var _=+u.length,C=0,B=r.length;C<_;C++)r[B++]=u[C];return r.length=B,r},grep:function(r,u,_){for(var C=[],B=0,U=r.length,nt=!_;B<U;B++)!u(r[B],B)!==nt&&C.push(r[B]);return C},map:function(r,u,_){var C,B,U=0,nt=[];if(kt(r))for(C=r.length;U<C;U++)(B=u(r[U],U,_))!=null&&nt.push(B);else for(U in r)(B=u(r[U],U,_))!=null&&nt.push(B);return F(nt)},guid:1,support:tt}),typeof Symbol=="function"&&(m.fn[Symbol.iterator]=M[Symbol.iterator]),m.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(r,u){at["[object "+u+"]"]=u.toLowerCase()}));var R=M.pop,xn=M.sort,Gt=M.splice,Q="[\\x20\\t\\r\\n\\f]",wt=new RegExp("^"+Q+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Q+"+$","g");m.contains=function(r,u){var _=u&&u.parentNode;return r===_||!(!_||_.nodeType!==1||!(r.contains?r.contains(_):r.compareDocumentPosition&&16&r.compareDocumentPosition(_)))};var d=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function pe(r,u){return u?r==="\0"?"\uFFFD":r.slice(0,-1)+"\\"+r.charCodeAt(r.length-1).toString(16)+" ":"\\"+r}m.escapeSelector=function(r){return(r+"").replace(d,pe)};var ve=ut,Le=et;(function(){var r,u,_,C,B,U,nt,xt,bt,Dt,ie=Le,_e=m.expando,Kt=0,ke=0,kn=N(),Vn=N(),Qn=N(),Zi=N(),Ji=function(Y,ct){return Y===ct&&(B=!0),0},ur="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",hr="(?:\\\\[\\da-fA-F]{1,6}"+Q+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Yn="\\["+Q+"*("+hr+")(?:"+Q+"*([*^$|!~]?=)"+Q+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+hr+"))|)"+Q+"*\\]",ji=":("+hr+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Yn+")*)|.*)\\)|)",hi=new RegExp(Q+"+","g"),Wi=new RegExp("^"+Q+"*,"+Q+"*"),Ar=new RegExp("^"+Q+"*([>+~]|"+Q+")"+Q+"*"),Ir=new RegExp(Q+"|>"),Sr=new RegExp(ji),Dr=new RegExp("^"+hr+"$"),Er={ID:new RegExp("^#("+hr+")"),CLASS:new RegExp("^\\.("+hr+")"),TAG:new RegExp("^("+hr+"|[*])"),ATTR:new RegExp("^"+Yn),PSEUDO:new RegExp("^"+ji),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Q+"*(even|odd|(([+-]|)(\\d*)n|)"+Q+"*(?:([+-]|)"+Q+"*(\\d+)|))"+Q+"*\\)|)","i"),bool:new RegExp("^(?:"+ur+")$","i"),needsContext:new RegExp("^"+Q+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Q+"*((?:-\\d)?\\d*)"+Q+"*\\)|)(?=[^-]|$)","i")},Tr=/^(?:input|select|textarea|button)$/i,Nr=/^h\d$/i,ar=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,or=/[+~]/,tr=new RegExp("\\\\[\\da-fA-F]{1,6}"+Q+"?|\\\\([^\\r\\n\\f])","g"),yi=function(Y,ct){var Yt="0x"+Y.slice(1)-65536;return ct||(Yt<0?String.fromCharCode(Yt+65536):String.fromCharCode(Yt>>10|55296,1023&Yt|56320))},P=function(){lt()},a=jt((function(Y){return Y.disabled===!0&&zt(Y,"fieldset")}),{dir:"parentNode",next:"legend"});try{ie.apply(M=E.call(ve.childNodes),ve.childNodes),M[ve.childNodes.length].nodeType}catch(Y){ie={apply:function(ct,Yt){Le.apply(ct,E.call(Yt))},call:function(ct){Le.apply(ct,E.call(arguments,1))}}}function b(Y,ct,Yt,ae){var Ae,dn,mn,Sn,fn,Ti,ii,oi=ct&&ct.ownerDocument,Ei=ct?ct.nodeType:9;if(Yt=Yt||[],typeof Y!="string"||!Y||Ei!==1&&Ei!==9&&Ei!==11)return Yt;if(!ae&&(lt(ct),ct=ct||U,xt)){if(Ei!==11&&(fn=ar.exec(Y)))if(Ae=fn[1]){if(Ei===9){if(!(mn=ct.getElementById(Ae)))return Yt;if(mn.id===Ae)return ie.call(Yt,mn),Yt}else if(oi&&(mn=oi.getElementById(Ae))&&b.contains(ct,mn)&&mn.id===Ae)return ie.call(Yt,mn),Yt}else{if(fn[2])return ie.apply(Yt,ct.getElementsByTagName(Y)),Yt;if((Ae=fn[3])&&ct.getElementsByClassName)return ie.apply(Yt,ct.getElementsByClassName(Ae)),Yt}if(!(Zi[Y+" "]||bt&&bt.test(Y))){if(ii=Y,oi=ct,Ei===1&&(Ir.test(Y)||Ar.test(Y))){for((oi=or.test(Y)&&un(ct.parentNode)||ct)==ct&&tt.scope||((Sn=ct.getAttribute("id"))?Sn=m.escapeSelector(Sn):ct.setAttribute("id",Sn=_e)),dn=(Ti=pt(Y)).length;dn--;)Ti[dn]=(Sn?"#"+Sn:":scope")+" "+qt(Ti[dn]);ii=Ti.join(",")}try{return ie.apply(Yt,oi.querySelectorAll(ii)),Yt}catch(Kn){Zi(Y,!0)}finally{Sn===_e&&ct.removeAttribute("id")}}}return Re(Y.replace(wt,"$1"),ct,Yt,ae)}function N(){var Y=[];return function ct(Yt,ae){return Y.push(Yt+" ")>u.cacheLength&&delete ct[Y.shift()],ct[Yt+" "]=ae}}function st(Y){return Y[_e]=!0,Y}function Ot(Y){var ct=U.createElement("fieldset");try{return!!Y(ct)}catch(Yt){return!1}finally{ct.parentNode&&ct.parentNode.removeChild(ct),ct=null}}function we(Y){return function(ct){return zt(ct,"input")&&ct.type===Y}}function $e(Y){return function(ct){return(zt(ct,"input")||zt(ct,"button"))&&ct.type===Y}}function Be(Y){return function(ct){return"form"in ct?ct.parentNode&&ct.disabled===!1?"label"in ct?"label"in ct.parentNode?ct.parentNode.disabled===Y:ct.disabled===Y:ct.isDisabled===Y||ct.isDisabled!==!Y&&a(ct)===Y:ct.disabled===Y:"label"in ct&&ct.disabled===Y}}function Rn(Y){return st((function(ct){return ct=+ct,st((function(Yt,ae){for(var Ae,dn=Y([],Yt.length,ct),mn=dn.length;mn--;)Yt[Ae=dn[mn]]&&(Yt[Ae]=!(ae[Ae]=Yt[Ae]))}))}))}function un(Y){return Y&&Y.getElementsByTagName!==void 0&&Y}function lt(Y){var ct,Yt=Y?Y.ownerDocument||Y:ve;return Yt!=U&&Yt.nodeType===9&&Yt.documentElement&&(nt=(U=Yt).documentElement,xt=!m.isXMLDoc(U),Dt=nt.matches||nt.webkitMatchesSelector||nt.msMatchesSelector,nt.msMatchesSelector&&ve!=U&&(ct=U.defaultView)&&ct.top!==ct&&ct.addEventListener("unload",P),tt.getById=Ot((function(ae){return nt.appendChild(ae).id=m.expando,!U.getElementsByName||!U.getElementsByName(m.expando).length})),tt.disconnectedMatch=Ot((function(ae){return Dt.call(ae,"*")})),tt.scope=Ot((function(){return U.querySelectorAll(":scope")})),tt.cssHas=Ot((function(){try{return U.querySelector(":has(*,:jqfake)"),!1}catch(ae){return!0}})),tt.getById?(u.filter.ID=function(ae){var Ae=ae.replace(tr,yi);return function(dn){return dn.getAttribute("id")===Ae}},u.find.ID=function(ae,Ae){if(Ae.getElementById!==void 0&&xt){var dn=Ae.getElementById(ae);return dn?[dn]:[]}}):(u.filter.ID=function(ae){var Ae=ae.replace(tr,yi);return function(dn){var mn=dn.getAttributeNode!==void 0&&dn.getAttributeNode("id");return mn&&mn.value===Ae}},u.find.ID=function(ae,Ae){if(Ae.getElementById!==void 0&&xt){var dn,mn,Sn,fn=Ae.getElementById(ae);if(fn){if((dn=fn.getAttributeNode("id"))&&dn.value===ae)return[fn];for(Sn=Ae.getElementsByName(ae),mn=0;fn=Sn[mn++];)if((dn=fn.getAttributeNode("id"))&&dn.value===ae)return[fn]}return[]}}),u.find.TAG=function(ae,Ae){return Ae.getElementsByTagName!==void 0?Ae.getElementsByTagName(ae):Ae.querySelectorAll(ae)},u.find.CLASS=function(ae,Ae){if(Ae.getElementsByClassName!==void 0&&xt)return Ae.getElementsByClassName(ae)},bt=[],Ot((function(ae){var Ae;nt.appendChild(ae).innerHTML="<a id='"+_e+"' href='' disabled='disabled'></a><select id='"+_e+"-\r\\' disabled='disabled'><option selected=''></option></select>",ae.querySelectorAll("[selected]").length||bt.push("\\["+Q+"*(?:value|"+ur+")"),ae.querySelectorAll("[id~="+_e+"-]").length||bt.push("~="),ae.querySelectorAll("a#"+_e+"+*").length||bt.push(".#.+[+~]"),ae.querySelectorAll(":checked").length||bt.push(":checked"),(Ae=U.createElement("input")).setAttribute("type","hidden"),ae.appendChild(Ae).setAttribute("name","D"),nt.appendChild(ae).disabled=!0,ae.querySelectorAll(":disabled").length!==2&&bt.push(":enabled",":disabled"),(Ae=U.createElement("input")).setAttribute("name",""),ae.appendChild(Ae),ae.querySelectorAll("[name='']").length||bt.push("\\["+Q+"*name"+Q+"*="+Q+`*(?:''|"")`)})),tt.cssHas||bt.push(":has"),bt=bt.length&&new RegExp(bt.join("|")),Ji=function(ae,Ae){if(ae===Ae)return B=!0,0;var dn=!ae.compareDocumentPosition-!Ae.compareDocumentPosition;return dn||(1&(dn=(ae.ownerDocument||ae)==(Ae.ownerDocument||Ae)?ae.compareDocumentPosition(Ae):1)||!tt.sortDetached&&Ae.compareDocumentPosition(ae)===dn?ae===U||ae.ownerDocument==ve&&b.contains(ve,ae)?-1:Ae===U||Ae.ownerDocument==ve&&b.contains(ve,Ae)?1:C?H.call(C,ae)-H.call(C,Ae):0:4&dn?-1:1)}),U}for(r in b.matches=function(Y,ct){return b(Y,null,null,ct)},b.matchesSelector=function(Y,ct){if(lt(Y),xt&&!Zi[ct+" "]&&(!bt||!bt.test(ct)))try{var Yt=Dt.call(Y,ct);if(Yt||tt.disconnectedMatch||Y.document&&Y.document.nodeType!==11)return Yt}catch(ae){Zi(ct,!0)}return 0<b(ct,U,null,[Y]).length},b.contains=function(Y,ct){return(Y.ownerDocument||Y)!=U&&lt(Y),m.contains(Y,ct)},b.attr=function(Y,ct){(Y.ownerDocument||Y)!=U&&lt(Y);var Yt=u.attrHandle[ct.toLowerCase()],ae=Yt&&S.call(u.attrHandle,ct.toLowerCase())?Yt(Y,ct,!xt):void 0;return ae!==void 0?ae:Y.getAttribute(ct)},b.error=function(Y){throw new Error("Syntax error, unrecognized expression: "+Y)},m.uniqueSort=function(Y){var ct,Yt=[],ae=0,Ae=0;if(B=!tt.sortStable,C=!tt.sortStable&&E.call(Y,0),xn.call(Y,Ji),B){for(;ct=Y[Ae++];)ct===Y[Ae]&&(ae=Yt.push(Ae));for(;ae--;)Gt.call(Y,Yt[ae],1)}return C=null,Y},m.fn.uniqueSort=function(){return this.pushStack(m.uniqueSort(E.apply(this)))},(u=m.expr={cacheLength:50,createPseudo:st,match:Er,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(Y){return Y[1]=Y[1].replace(tr,yi),Y[3]=(Y[3]||Y[4]||Y[5]||"").replace(tr,yi),Y[2]==="~="&&(Y[3]=" "+Y[3]+" "),Y.slice(0,4)},CHILD:function(Y){return Y[1]=Y[1].toLowerCase(),Y[1].slice(0,3)==="nth"?(Y[3]||b.error(Y[0]),Y[4]=+(Y[4]?Y[5]+(Y[6]||1):2*(Y[3]==="even"||Y[3]==="odd")),Y[5]=+(Y[7]+Y[8]||Y[3]==="odd")):Y[3]&&b.error(Y[0]),Y},PSEUDO:function(Y){var ct,Yt=!Y[6]&&Y[2];return Er.CHILD.test(Y[0])?null:(Y[3]?Y[2]=Y[4]||Y[5]||"":Yt&&Sr.test(Yt)&&(ct=pt(Yt,!0))&&(ct=Yt.indexOf(")",Yt.length-ct)-Yt.length)&&(Y[0]=Y[0].slice(0,ct),Y[2]=Yt.slice(0,ct)),Y.slice(0,3))}},filter:{TAG:function(Y){var ct=Y.replace(tr,yi).toLowerCase();return Y==="*"?function(){return!0}:function(Yt){return zt(Yt,ct)}},CLASS:function(Y){var ct=kn[Y+" "];return ct||(ct=new RegExp("(^|"+Q+")"+Y+"("+Q+"|$)"))&&kn(Y,(function(Yt){return ct.test(typeof Yt.className=="string"&&Yt.className||Yt.getAttribute!==void 0&&Yt.getAttribute("class")||"")}))},ATTR:function(Y,ct,Yt){return function(ae){var Ae=b.attr(ae,Y);return Ae==null?ct==="!=":!ct||(Ae+="",ct==="="?Ae===Yt:ct==="!="?Ae!==Yt:ct==="^="?Yt&&Ae.indexOf(Yt)===0:ct==="*="?Yt&&-1<Ae.indexOf(Yt):ct==="$="?Yt&&Ae.slice(-Yt.length)===Yt:ct==="~="?-1<(" "+Ae.replace(hi," ")+" ").indexOf(Yt):ct==="|="&&(Ae===Yt||Ae.slice(0,Yt.length+1)===Yt+"-"))}},CHILD:function(Y,ct,Yt,ae,Ae){var dn=Y.slice(0,3)!=="nth",mn=Y.slice(-4)!=="last",Sn=ct==="of-type";return ae===1&&Ae===0?function(fn){return!!fn.parentNode}:function(fn,Ti,ii){var oi,Ei,Kn,lr,gr,dr=dn!==mn?"nextSibling":"previousSibling",br=fn.parentNode,xr=Sn&&fn.nodeName.toLowerCase(),Cr=!ii&&!Sn,Yi=!1;if(br){if(dn){for(;dr;){for(Kn=fn;Kn=Kn[dr];)if(Sn?zt(Kn,xr):Kn.nodeType===1)return!1;gr=dr=Y==="only"&&!gr&&"nextSibling"}return!0}if(gr=[mn?br.firstChild:br.lastChild],mn&&Cr){for(Yi=(lr=(oi=(Ei=br[_e]||(br[_e]={}))[Y]||[])[0]===Kt&&oi[1])&&oi[2],Kn=lr&&br.childNodes[lr];Kn=++lr&&Kn&&Kn[dr]||(Yi=lr=0)||gr.pop();)if(Kn.nodeType===1&&++Yi&&Kn===fn){Ei[Y]=[Kt,lr,Yi];break}}else if(Cr&&(Yi=lr=(oi=(Ei=fn[_e]||(fn[_e]={}))[Y]||[])[0]===Kt&&oi[1]),Yi===!1)for(;(Kn=++lr&&Kn&&Kn[dr]||(Yi=lr=0)||gr.pop())&&(!(Sn?zt(Kn,xr):Kn.nodeType===1)||!++Yi||(Cr&&((Ei=Kn[_e]||(Kn[_e]={}))[Y]=[Kt,Yi]),Kn!==fn)););return(Yi-=Ae)===ae||Yi%ae==0&&0<=Yi/ae}}},PSEUDO:function(Y,ct){var Yt,ae=u.pseudos[Y]||u.setFilters[Y.toLowerCase()]||b.error("unsupported pseudo: "+Y);return ae[_e]?ae(ct):1<ae.length?(Yt=[Y,Y,"",ct],u.setFilters.hasOwnProperty(Y.toLowerCase())?st((function(Ae,dn){for(var mn,Sn=ae(Ae,ct),fn=Sn.length;fn--;)Ae[mn=H.call(Ae,Sn[fn])]=!(dn[mn]=Sn[fn])})):function(Ae){return ae(Ae,0,Yt)}):ae}},pseudos:{not:st((function(Y){var ct=[],Yt=[],ae=Se(Y.replace(wt,"$1"));return ae[_e]?st((function(Ae,dn,mn,Sn){for(var fn,Ti=ae(Ae,null,Sn,[]),ii=Ae.length;ii--;)(fn=Ti[ii])&&(Ae[ii]=!(dn[ii]=fn))})):function(Ae,dn,mn){return ct[0]=Ae,ae(ct,null,mn,Yt),ct[0]=null,!Yt.pop()}})),has:st((function(Y){return function(ct){return 0<b(Y,ct).length}})),contains:st((function(Y){return Y=Y.replace(tr,yi),function(ct){return-1<(ct.textContent||m.text(ct)).indexOf(Y)}})),lang:st((function(Y){return Dr.test(Y||"")||b.error("unsupported lang: "+Y),Y=Y.replace(tr,yi).toLowerCase(),function(ct){var Yt;do if(Yt=xt?ct.lang:ct.getAttribute("xml:lang")||ct.getAttribute("lang"))return(Yt=Yt.toLowerCase())===Y||Yt.indexOf(Y+"-")===0;while((ct=ct.parentNode)&&ct.nodeType===1);return!1}})),target:function(Y){var ct=v.location&&v.location.hash;return ct&&ct.slice(1)===Y.id},root:function(Y){return Y===nt},focus:function(Y){return Y===(function(){try{return U.activeElement}catch(ct){}})()&&U.hasFocus()&&!!(Y.type||Y.href||~Y.tabIndex)},enabled:Be(!1),disabled:Be(!0),checked:function(Y){return zt(Y,"input")&&!!Y.checked||zt(Y,"option")&&!!Y.selected},selected:function(Y){return Y.parentNode&&Y.parentNode.selectedIndex,Y.selected===!0},empty:function(Y){for(Y=Y.firstChild;Y;Y=Y.nextSibling)if(Y.nodeType<6)return!1;return!0},parent:function(Y){return!u.pseudos.empty(Y)},header:function(Y){return Nr.test(Y.nodeName)},input:function(Y){return Tr.test(Y.nodeName)},button:function(Y){return zt(Y,"input")&&Y.type==="button"||zt(Y,"button")},text:function(Y){var ct;return zt(Y,"input")&&Y.type==="text"&&((ct=Y.getAttribute("type"))==null||ct.toLowerCase()==="text")},first:Rn((function(){return[0]})),last:Rn((function(Y,ct){return[ct-1]})),eq:Rn((function(Y,ct,Yt){return[Yt<0?Yt+ct:Yt]})),even:Rn((function(Y,ct){for(var Yt=0;Yt<ct;Yt+=2)Y.push(Yt);return Y})),odd:Rn((function(Y,ct){for(var Yt=1;Yt<ct;Yt+=2)Y.push(Yt);return Y})),lt:Rn((function(Y,ct,Yt){var ae;for(ae=Yt<0?Yt+ct:ct<Yt?ct:Yt;0<=--ae;)Y.push(ae);return Y})),gt:Rn((function(Y,ct,Yt){for(var ae=Yt<0?Yt+ct:Yt;++ae<ct;)Y.push(ae);return Y}))}}).pseudos.nth=u.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})u.pseudos[r]=we(r);for(r in{submit:!0,reset:!0})u.pseudos[r]=$e(r);function Tt(){}function pt(Y,ct){var Yt,ae,Ae,dn,mn,Sn,fn,Ti=Vn[Y+" "];if(Ti)return ct?0:Ti.slice(0);for(mn=Y,Sn=[],fn=u.preFilter;mn;){for(dn in Yt&&!(ae=Wi.exec(mn))||(ae&&(mn=mn.slice(ae[0].length)||mn),Sn.push(Ae=[])),Yt=!1,(ae=Ar.exec(mn))&&(Yt=ae.shift(),Ae.push({value:Yt,type:ae[0].replace(wt," ")}),mn=mn.slice(Yt.length)),u.filter)!(ae=Er[dn].exec(mn))||fn[dn]&&!(ae=fn[dn](ae))||(Yt=ae.shift(),Ae.push({value:Yt,type:dn,matches:ae}),mn=mn.slice(Yt.length));if(!Yt)break}return ct?mn.length:mn?b.error(Y):Vn(Y,Sn).slice(0)}function qt(Y){for(var ct=0,Yt=Y.length,ae="";ct<Yt;ct++)ae+=Y[ct].value;return ae}function jt(Y,ct,Yt){var ae=ct.dir,Ae=ct.next,dn=Ae||ae,mn=Yt&&dn==="parentNode",Sn=ke++;return ct.first?function(fn,Ti,ii){for(;fn=fn[ae];)if(fn.nodeType===1||mn)return Y(fn,Ti,ii);return!1}:function(fn,Ti,ii){var oi,Ei,Kn=[Kt,Sn];if(ii){for(;fn=fn[ae];)if((fn.nodeType===1||mn)&&Y(fn,Ti,ii))return!0}else for(;fn=fn[ae];)if(fn.nodeType===1||mn)if(Ei=fn[_e]||(fn[_e]={}),Ae&&zt(fn,Ae))fn=fn[ae]||fn;else{if((oi=Ei[dn])&&oi[0]===Kt&&oi[1]===Sn)return Kn[2]=oi[2];if((Ei[dn]=Kn)[2]=Y(fn,Ti,ii))return!0}return!1}}function rn(Y){return 1<Y.length?function(ct,Yt,ae){for(var Ae=Y.length;Ae--;)if(!Y[Ae](ct,Yt,ae))return!1;return!0}:Y[0]}function An(Y,ct,Yt,ae,Ae){for(var dn,mn=[],Sn=0,fn=Y.length,Ti=ct!=null;Sn<fn;Sn++)(dn=Y[Sn])&&(Yt&&!Yt(dn,ae,Ae)||(mn.push(dn),Ti&&ct.push(Sn)));return mn}function ni(Y,ct,Yt,ae,Ae,dn){return ae&&!ae[_e]&&(ae=ni(ae)),Ae&&!Ae[_e]&&(Ae=ni(Ae,dn)),st((function(mn,Sn,fn,Ti){var ii,oi,Ei,Kn,lr=[],gr=[],dr=Sn.length,br=mn||(function(Cr,Yi,Fr){for(var kr=0,Rr=Yi.length;kr<Rr;kr++)b(Cr,Yi[kr],Fr);return Fr})(ct||"*",fn.nodeType?[fn]:fn,[]),xr=!Y||!mn&&ct?br:An(br,lr,Y,fn,Ti);if(Yt?Yt(xr,Kn=Ae||(mn?Y:dr||ae)?[]:Sn,fn,Ti):Kn=xr,ae)for(ii=An(Kn,gr),ae(ii,[],fn,Ti),oi=ii.length;oi--;)(Ei=ii[oi])&&(Kn[gr[oi]]=!(xr[gr[oi]]=Ei));if(mn){if(Ae||Y){if(Ae){for(ii=[],oi=Kn.length;oi--;)(Ei=Kn[oi])&&ii.push(xr[oi]=Ei);Ae(null,Kn=[],ii,Ti)}for(oi=Kn.length;oi--;)(Ei=Kn[oi])&&-1<(ii=Ae?H.call(mn,Ei):lr[oi])&&(mn[ii]=!(Sn[ii]=Ei))}}else Kn=An(Kn===Sn?Kn.splice(dr,Kn.length):Kn),Ae?Ae(null,Sn,Kn,Ti):ie.apply(Sn,Kn)}))}function Wn(Y){for(var ct,Yt,ae,Ae=Y.length,dn=u.relative[Y[0].type],mn=dn||u.relative[" "],Sn=dn?1:0,fn=jt((function(oi){return oi===ct}),mn,!0),Ti=jt((function(oi){return-1<H.call(ct,oi)}),mn,!0),ii=[function(oi,Ei,Kn){var lr=!dn&&(Kn||Ei!=_)||((ct=Ei).nodeType?fn(oi,Ei,Kn):Ti(oi,Ei,Kn));return ct=null,lr}];Sn<Ae;Sn++)if(Yt=u.relative[Y[Sn].type])ii=[jt(rn(ii),Yt)];else{if((Yt=u.filter[Y[Sn].type].apply(null,Y[Sn].matches))[_e]){for(ae=++Sn;ae<Ae&&!u.relative[Y[ae].type];ae++);return ni(1<Sn&&rn(ii),1<Sn&&qt(Y.slice(0,Sn-1).concat({value:Y[Sn-2].type===" "?"*":""})).replace(wt,"$1"),Yt,Sn<ae&&Wn(Y.slice(Sn,ae)),ae<Ae&&Wn(Y=Y.slice(ae)),ae<Ae&&qt(Y))}ii.push(Yt)}return rn(ii)}function Se(Y,ct){var Yt,ae,Ae,dn,mn,Sn,fn=[],Ti=[],ii=Qn[Y+" "];if(!ii){for(ct||(ct=pt(Y)),Yt=ct.length;Yt--;)(ii=Wn(ct[Yt]))[_e]?fn.push(ii):Ti.push(ii);(ii=Qn(Y,(ae=Ti,dn=0<(Ae=fn).length,mn=0<ae.length,Sn=function(oi,Ei,Kn,lr,gr){var dr,br,xr,Cr=0,Yi="0",Fr=oi&&[],kr=[],Rr=_,Xr=oi||mn&&u.find.TAG("*",gr),Yr=Kt+=Rr==null?1:Math.random()||.1,Gr=Xr.length;for(gr&&(_=Ei==U||Ei||gr);Yi!==Gr&&(dr=Xr[Yi])!=null;Yi++){if(mn&&dr){for(br=0,Ei||dr.ownerDocument==U||(lt(dr),Kn=!xt);xr=ae[br++];)if(xr(dr,Ei||U,Kn)){ie.call(lr,dr);break}gr&&(Kt=Yr)}dn&&((dr=!xr&&dr)&&Cr--,oi&&Fr.push(dr))}if(Cr+=Yi,dn&&Yi!==Cr){for(br=0;xr=Ae[br++];)xr(Fr,kr,Ei,Kn);if(oi){if(0<Cr)for(;Yi--;)Fr[Yi]||kr[Yi]||(kr[Yi]=R.call(lr));kr=An(kr)}ie.apply(lr,kr),gr&&!oi&&0<kr.length&&1<Cr+Ae.length&&m.uniqueSort(lr)}return gr&&(Kt=Yr,_=Rr),Fr},dn?st(Sn):Sn))).selector=Y}return ii}function Re(Y,ct,Yt,ae){var Ae,dn,mn,Sn,fn,Ti=typeof Y=="function"&&Y,ii=!ae&&pt(Y=Ti.selector||Y);if(Yt=Yt||[],ii.length===1){if(2<(dn=ii[0]=ii[0].slice(0)).length&&(mn=dn[0]).type==="ID"&&ct.nodeType===9&&xt&&u.relative[dn[1].type]){if(!(ct=(u.find.ID(mn.matches[0].replace(tr,yi),ct)||[])[0]))return Yt;Ti&&(ct=ct.parentNode),Y=Y.slice(dn.shift().value.length)}for(Ae=Er.needsContext.test(Y)?0:dn.length;Ae--&&(mn=dn[Ae],!u.relative[Sn=mn.type]);)if((fn=u.find[Sn])&&(ae=fn(mn.matches[0].replace(tr,yi),or.test(dn[0].type)&&un(ct.parentNode)||ct))){if(dn.splice(Ae,1),!(Y=ae.length&&qt(dn)))return ie.apply(Yt,ae),Yt;break}}return(Ti||Se(Y,ii))(ae,ct,!xt,Yt,!ct||or.test(Y)&&un(ct.parentNode)||ct),Yt}Tt.prototype=u.filters=u.pseudos,u.setFilters=new Tt,tt.sortStable=_e.split("").sort(Ji).join("")===_e,lt(),tt.sortDetached=Ot((function(Y){return 1&Y.compareDocumentPosition(U.createElement("fieldset"))})),m.find=b,m.expr[":"]=m.expr.pseudos,m.unique=m.uniqueSort,b.compile=Se,b.select=Re,b.setDocument=lt,b.tokenize=pt,b.escape=m.escapeSelector,b.getText=m.text,b.isXML=m.isXMLDoc,b.selectors=m.expr,b.support=m.support,b.uniqueSort=m.uniqueSort})();var Ie=function(r,u,_){for(var C=[],B=_!==void 0;(r=r[u])&&r.nodeType!==9;)if(r.nodeType===1){if(B&&m(r).is(_))break;C.push(r)}return C},vn=function(r,u){for(var _=[];r;r=r.nextSibling)r.nodeType===1&&r!==u&&_.push(r);return _},Cn=m.expr.match.needsContext,an=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function si(r,u,_){return rt(u)?m.grep(r,(function(C,B){return!!u.call(C,B,C)!==_})):u.nodeType?m.grep(r,(function(C){return C===u!==_})):typeof u!="string"?m.grep(r,(function(C){return-1<H.call(u,C)!==_})):m.filter(u,r,_)}m.filter=function(r,u,_){var C=u[0];return _&&(r=":not("+r+")"),u.length===1&&C.nodeType===1?m.find.matchesSelector(C,r)?[C]:[]:m.find.matches(r,m.grep(u,(function(B){return B.nodeType===1})))},m.fn.extend({find:function(r){var u,_,C=this.length,B=this;if(typeof r!="string")return this.pushStack(m(r).filter((function(){for(u=0;u<C;u++)if(m.contains(B[u],this))return!0})));for(_=this.pushStack([]),u=0;u<C;u++)m.find(r,B[u],_);return 1<C?m.uniqueSort(_):_},filter:function(r){return this.pushStack(si(this,r||[],!1))},not:function(r){return this.pushStack(si(this,r||[],!0))},is:function(r){return!!si(this,typeof r=="string"&&Cn.test(r)?m(r):r||[],!1).length}});var $n,Ii=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(m.fn.init=function(r,u,_){var C,B;if(!r)return this;if(_=_||$n,typeof r=="string"){if(!(C=r[0]==="<"&&r[r.length-1]===">"&&3<=r.length?[null,r,null]:Ii.exec(r))||!C[1]&&u)return!u||u.jquery?(u||_).find(r):this.constructor(u).find(r);if(C[1]){if(u=u instanceof m?u[0]:u,m.merge(this,m.parseHTML(C[1],u&&u.nodeType?u.ownerDocument||u:ut,!0)),an.test(C[1])&&m.isPlainObject(u))for(C in u)rt(this[C])?this[C](u[C]):this.attr(C,u[C]);return this}return(B=ut.getElementById(C[2]))&&(this[0]=B,this.length=1),this}return r.nodeType?(this[0]=r,this.length=1,this):rt(r)?_.ready!==void 0?_.ready(r):r(m):m.makeArray(r,this)}).prototype=m.fn,$n=m(ut);var qi=/^(?:parents|prev(?:Until|All))/,Bt={children:!0,contents:!0,next:!0,prev:!0};function be(r,u){for(;(r=r[u])&&r.nodeType!==1;);return r}m.fn.extend({has:function(r){var u=m(r,this),_=u.length;return this.filter((function(){for(var C=0;C<_;C++)if(m.contains(this,u[C]))return!0}))},closest:function(r,u){var _,C=0,B=this.length,U=[],nt=typeof r!="string"&&m(r);if(!Cn.test(r)){for(;C<B;C++)for(_=this[C];_&&_!==u;_=_.parentNode)if(_.nodeType<11&&(nt?-1<nt.index(_):_.nodeType===1&&m.find.matchesSelector(_,r))){U.push(_);break}}return this.pushStack(1<U.length?m.uniqueSort(U):U)},index:function(r){return r?typeof r=="string"?H.call(m(r),this[0]):H.call(this,r.jquery?r[0]:r):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(r,u){return this.pushStack(m.uniqueSort(m.merge(this.get(),m(r,u))))},addBack:function(r){return this.add(r==null?this.prevObject:this.prevObject.filter(r))}}),m.each({parent:function(r){var u=r.parentNode;return u&&u.nodeType!==11?u:null},parents:function(r){return Ie(r,"parentNode")},parentsUntil:function(r,u,_){return Ie(r,"parentNode",_)},next:function(r){return be(r,"nextSibling")},prev:function(r){return be(r,"previousSibling")},nextAll:function(r){return Ie(r,"nextSibling")},prevAll:function(r){return Ie(r,"previousSibling")},nextUntil:function(r,u,_){return Ie(r,"nextSibling",_)},prevUntil:function(r,u,_){return Ie(r,"previousSibling",_)},siblings:function(r){return vn((r.parentNode||{}).firstChild,r)},children:function(r){return vn(r.firstChild)},contents:function(r){return r.contentDocument!=null&&y(r.contentDocument)?r.contentDocument:(zt(r,"template")&&(r=r.content||r),m.merge([],r.childNodes))}},(function(r,u){m.fn[r]=function(_,C){var B=m.map(this,u,_);return r.slice(-5)!=="Until"&&(C=_),C&&typeof C=="string"&&(B=m.filter(C,B)),1<this.length&&(Bt[r]||m.uniqueSort(B),qi.test(r)&&B.reverse()),this.pushStack(B)}}));var on=/[^\x20\t\r\n\f]+/g;function Bn(r){return r}function Si(r){throw r}function Li(r,u,_,C){var B;try{r&&rt(B=r.promise)?B.call(r).done(u).fail(_):r&&rt(B=r.then)?B.call(r,u,_):u.apply(void 0,[r].slice(C))}catch(U){_.apply(void 0,[U])}}m.Callbacks=function(r){var u,_;r=typeof r=="string"?(u=r,_={},m.each(u.match(on)||[],(function(Kt,ke){_[ke]=!0})),_):m.extend({},r);var C,B,U,nt,xt=[],bt=[],Dt=-1,ie=function(){for(nt=nt||r.once,U=C=!0;bt.length;Dt=-1)for(B=bt.shift();++Dt<xt.length;)xt[Dt].apply(B[0],B[1])===!1&&r.stopOnFalse&&(Dt=xt.length,B=!1);r.memory||(B=!1),C=!1,nt&&(xt=B?[]:"")},_e={add:function(){return xt&&(B&&!C&&(Dt=xt.length-1,bt.push(B)),(function Kt(ke){m.each(ke,(function(kn,Vn){rt(Vn)?r.unique&&_e.has(Vn)||xt.push(Vn):Vn&&Vn.length&&Ct(Vn)!=="string"&&Kt(Vn)}))})(arguments),B&&!C&&ie()),this},remove:function(){return m.each(arguments,(function(Kt,ke){for(var kn;-1<(kn=m.inArray(ke,xt,kn));)xt.splice(kn,1),kn<=Dt&&Dt--})),this},has:function(Kt){return Kt?-1<m.inArray(Kt,xt):0<xt.length},empty:function(){return xt&&(xt=[]),this},disable:function(){return nt=bt=[],xt=B="",this},disabled:function(){return!xt},lock:function(){return nt=bt=[],B||C||(xt=B=""),this},locked:function(){return!!nt},fireWith:function(Kt,ke){return nt||(ke=[Kt,(ke=ke||[]).slice?ke.slice():ke],bt.push(ke),C||ie()),this},fire:function(){return _e.fireWith(this,arguments),this},fired:function(){return!!U}};return _e},m.extend({Deferred:function(r){var u=[["notify","progress",m.Callbacks("memory"),m.Callbacks("memory"),2],["resolve","done",m.Callbacks("once memory"),m.Callbacks("once memory"),0,"resolved"],["reject","fail",m.Callbacks("once memory"),m.Callbacks("once memory"),1,"rejected"]],_="pending",C={state:function(){return _},always:function(){return B.done(arguments).fail(arguments),this},catch:function(U){return C.then(null,U)},pipe:function(){var U=arguments;return m.Deferred((function(nt){m.each(u,(function(xt,bt){var Dt=rt(U[bt[4]])&&U[bt[4]];B[bt[1]]((function(){var ie=Dt&&Dt.apply(this,arguments);ie&&rt(ie.promise)?ie.promise().progress(nt.notify).done(nt.resolve).fail(nt.reject):nt[bt[0]+"With"](this,Dt?[ie]:arguments)}))})),U=null})).promise()},then:function(U,nt,xt){var bt=0;function Dt(ie,_e,Kt,ke){return function(){var kn=this,Vn=arguments,Qn=function(){var Ji,ur;if(!(ie<bt)){if((Ji=Kt.apply(kn,Vn))===_e.promise())throw new TypeError("Thenable self-resolution");ur=Ji&&(p(Ji)=="object"||typeof Ji=="function")&&Ji.then,rt(ur)?ke?ur.call(Ji,Dt(bt,_e,Bn,ke),Dt(bt,_e,Si,ke)):(bt++,ur.call(Ji,Dt(bt,_e,Bn,ke),Dt(bt,_e,Si,ke),Dt(bt,_e,Bn,_e.notifyWith))):(Kt!==Bn&&(kn=void 0,Vn=[Ji]),(ke||_e.resolveWith)(kn,Vn))}},Zi=ke?Qn:function(){try{Qn()}catch(Ji){m.Deferred.exceptionHook&&m.Deferred.exceptionHook(Ji,Zi.error),bt<=ie+1&&(Kt!==Si&&(kn=void 0,Vn=[Ji]),_e.rejectWith(kn,Vn))}};ie?Zi():(m.Deferred.getErrorHook?Zi.error=m.Deferred.getErrorHook():m.Deferred.getStackHook&&(Zi.error=m.Deferred.getStackHook()),v.setTimeout(Zi))}}return m.Deferred((function(ie){u[0][3].add(Dt(0,ie,rt(xt)?xt:Bn,ie.notifyWith)),u[1][3].add(Dt(0,ie,rt(U)?U:Bn)),u[2][3].add(Dt(0,ie,rt(nt)?nt:Si))})).promise()},promise:function(U){return U!=null?m.extend(U,C):C}},B={};return m.each(u,(function(U,nt){var xt=nt[2],bt=nt[5];C[nt[1]]=xt.add,bt&&xt.add((function(){_=bt}),u[3-U][2].disable,u[3-U][3].disable,u[0][2].lock,u[0][3].lock),xt.add(nt[3].fire),B[nt[0]]=function(){return B[nt[0]+"With"](this===B?void 0:this,arguments),this},B[nt[0]+"With"]=xt.fireWith})),C.promise(B),r&&r.call(B,B),B},when:function(r){var u=arguments.length,_=u,C=Array(_),B=E.call(arguments),U=m.Deferred(),nt=function(xt){return function(bt){C[xt]=this,B[xt]=1<arguments.length?E.call(arguments):bt,--u||U.resolveWith(C,B)}};if(u<=1&&(Li(r,U.done(nt(_)).resolve,U.reject,!u),U.state()==="pending"||rt(B[_]&&B[_].then)))return U.then();for(;_--;)Li(B[_],nt(_),U.reject);return U.promise()}});var It=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;m.Deferred.exceptionHook=function(r,u){v.console&&v.console.warn&&r&&It.test(r.name)&&v.console.warn("jQuery.Deferred exception: "+r.message,r.stack,u)},m.readyException=function(r){v.setTimeout((function(){throw r}))};var Zt=m.Deferred();function he(){ut.removeEventListener("DOMContentLoaded",he),v.removeEventListener("load",he),m.ready()}m.fn.ready=function(r){return Zt.then(r).catch((function(u){m.readyException(u)})),this},m.extend({isReady:!1,readyWait:1,ready:function(r){(r===!0?--m.readyWait:m.isReady)||(m.isReady=!0)!==r&&0<--m.readyWait||Zt.resolveWith(ut,[m])}}),m.ready.then=Zt.then,ut.readyState==="complete"||ut.readyState!=="loading"&&!ut.documentElement.doScroll?v.setTimeout(m.ready):(ut.addEventListener("DOMContentLoaded",he),v.addEventListener("load",he));var Ee=function(r,u,_,C,B,U,nt){var xt=0,bt=r.length,Dt=_==null;if(Ct(_)==="object")for(xt in B=!0,_)Ee(r,u,xt,_[xt],!0,U,nt);else if(C!==void 0&&(B=!0,rt(C)||(nt=!0),Dt&&(nt?(u.call(r,C),u=null):(Dt=u,u=function(ie,_e,Kt){return Dt.call(m(ie),Kt)})),u))for(;xt<bt;xt++)u(r[xt],_,nt?C:C.call(r[xt],xt,u(r[xt],_)));return B?r:Dt?u.call(r):bt?u(r[0],_):U},je=/^-ms-/,se=/-([a-z])/g;function mt(r,u){return u.toUpperCase()}function Pt(r){return r.replace(je,"ms-").replace(se,mt)}var le=function(r){return r.nodeType===1||r.nodeType===9||!+r.nodeType};function Oe(){this.expando=m.expando+Oe.uid++}Oe.uid=1,Oe.prototype={cache:function(r){var u=r[this.expando];return u||(u={},le(r)&&(r.nodeType?r[this.expando]=u:Object.defineProperty(r,this.expando,{value:u,configurable:!0}))),u},set:function(r,u,_){var C,B=this.cache(r);if(typeof u=="string")B[Pt(u)]=_;else for(C in u)B[Pt(C)]=u[C];return B},get:function(r,u){return u===void 0?this.cache(r):r[this.expando]&&r[this.expando][Pt(u)]},access:function(r,u,_){return u===void 0||u&&typeof u=="string"&&_===void 0?this.get(r,u):(this.set(r,u,_),_!==void 0?_:u)},remove:function(r,u){var _,C=r[this.expando];if(C!==void 0){if(u!==void 0)for(_=(u=Array.isArray(u)?u.map(Pt):(u=Pt(u))in C?[u]:u.match(on)||[]).length;_--;)delete C[u[_]];(u===void 0||m.isEmptyObject(C))&&(r.nodeType?r[this.expando]=void 0:delete r[this.expando])}},hasData:function(r){var u=r[this.expando];return u!==void 0&&!m.isEmptyObject(u)}};var Xt=new Oe,Ze=new Oe,Je=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,yn=/[A-Z]/g;function Ln(r,u,_){var C,B;if(_===void 0&&r.nodeType===1)if(C="data-"+u.replace(yn,"-$&").toLowerCase(),typeof(_=r.getAttribute(C))=="string"){try{_=(B=_)==="true"||B!=="false"&&(B==="null"?null:B===+B+""?+B:Je.test(B)?JSON.parse(B):B)}catch(U){}Ze.set(r,u,_)}else _=void 0;return _}m.extend({hasData:function(r){return Ze.hasData(r)||Xt.hasData(r)},data:function(r,u,_){return Ze.access(r,u,_)},removeData:function(r,u){Ze.remove(r,u)},_data:function(r,u,_){return Xt.access(r,u,_)},_removeData:function(r,u){Xt.remove(r,u)}}),m.fn.extend({data:function(r,u){var _,C,B,U=this[0],nt=U&&U.attributes;if(r===void 0){if(this.length&&(B=Ze.get(U),U.nodeType===1&&!Xt.get(U,"hasDataAttrs"))){for(_=nt.length;_--;)nt[_]&&(C=nt[_].name).indexOf("data-")===0&&(C=Pt(C.slice(5)),Ln(U,C,B[C]));Xt.set(U,"hasDataAttrs",!0)}return B}return p(r)=="object"?this.each((function(){Ze.set(this,r)})):Ee(this,(function(xt){var bt;if(U&&xt===void 0)return(bt=Ze.get(U,r))!==void 0||(bt=Ln(U,r))!==void 0?bt:void 0;this.each((function(){Ze.set(this,r,xt)}))}),null,u,1<arguments.length,null,!0)},removeData:function(r){return this.each((function(){Ze.remove(this,r)}))}}),m.extend({queue:function(r,u,_){var C;if(r)return u=(u||"fx")+"queue",C=Xt.get(r,u),_&&(!C||Array.isArray(_)?C=Xt.access(r,u,m.makeArray(_)):C.push(_)),C||[]},dequeue:function(r,u){u=u||"fx";var _=m.queue(r,u),C=_.length,B=_.shift(),U=m._queueHooks(r,u);B==="inprogress"&&(B=_.shift(),C--),B&&(u==="fx"&&_.unshift("inprogress"),delete U.stop,B.call(r,(function(){m.dequeue(r,u)}),U)),!C&&U&&U.empty.fire()},_queueHooks:function(r,u){var _=u+"queueHooks";return Xt.get(r,_)||Xt.access(r,_,{empty:m.Callbacks("once memory").add((function(){Xt.remove(r,[u+"queue",_])}))})}}),m.fn.extend({queue:function(r,u){var _=2;return typeof r!="string"&&(u=r,r="fx",_--),arguments.length<_?m.queue(this[0],r):u===void 0?this:this.each((function(){var C=m.queue(this,r,u);m._queueHooks(this,r),r==="fx"&&C[0]!=="inprogress"&&m.dequeue(this,r)}))},dequeue:function(r){return this.each((function(){m.dequeue(this,r)}))},clearQueue:function(r){return this.queue(r||"fx",[])},promise:function(r,u){var _,C=1,B=m.Deferred(),U=this,nt=this.length,xt=function(){--C||B.resolveWith(U,[U])};for(typeof r!="string"&&(u=r,r=void 0),r=r||"fx";nt--;)(_=Xt.get(U[nt],r+"queueHooks"))&&_.empty&&(C++,_.empty.add(xt));return xt(),B.promise(u)}});var sn=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,_n=new RegExp("^(?:([+-])=|)("+sn+")([a-z%]*)$","i"),pi=["Top","Right","Bottom","Left"],zi=ut.documentElement,Mt=function(r){return m.contains(r.ownerDocument,r)},ai={composed:!0};zi.getRootNode&&(Mt=function(r){return m.contains(r.ownerDocument,r)||r.getRootNode(ai)===r.ownerDocument});var tn=function(r,u){return(r=u||r).style.display==="none"||r.style.display===""&&Mt(r)&&m.css(r,"display")==="none"};function Pi(r,u,_,C){var B,U,nt=20,xt=C?function(){return C.cur()}:function(){return m.css(r,u,"")},bt=xt(),Dt=_&&_[3]||(m.cssNumber[u]?"":"px"),ie=r.nodeType&&(m.cssNumber[u]||Dt!=="px"&&+bt)&&_n.exec(m.css(r,u));if(ie&&ie[3]!==Dt){for(bt/=2,Dt=Dt||ie[3],ie=+bt||1;nt--;)m.style(r,u,ie+Dt),(1-U)*(1-(U=xt()/bt||.5))<=0&&(nt=0),ie/=U;ie*=2,m.style(r,u,ie+Dt),_=_||[]}return _&&(ie=+ie||+bt||0,B=_[1]?ie+(_[1]+1)*_[2]:+_[2],C&&(C.unit=Dt,C.start=ie,C.end=B)),B}var _t={};function gt(r,u){for(var _,C,B,U,nt,xt,bt,Dt=[],ie=0,_e=r.length;ie<_e;ie++)(C=r[ie]).style&&(_=C.style.display,u?(_==="none"&&(Dt[ie]=Xt.get(C,"display")||null,Dt[ie]||(C.style.display="")),C.style.display===""&&tn(C)&&(Dt[ie]=(bt=nt=U=void 0,nt=(B=C).ownerDocument,xt=B.nodeName,(bt=_t[xt])||(U=nt.body.appendChild(nt.createElement(xt)),bt=m.css(U,"display"),U.parentNode.removeChild(U),bt==="none"&&(bt="block"),_t[xt]=bt)))):_!=="none"&&(Dt[ie]="none",Xt.set(C,"display",_)));for(ie=0;ie<_e;ie++)Dt[ie]!=null&&(r[ie].style.display=Dt[ie]);return r}m.fn.extend({show:function(){return gt(this,!0)},hide:function(){return gt(this)},toggle:function(r){return typeof r=="boolean"?r?this.show():this.hide():this.each((function(){tn(this)?m(this).show():m(this).hide()}))}});var Lt,de,Ce=/^(?:checkbox|radio)$/i,ge=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ze=/^$|^module$|\/(?:java|ecma)script/i;Lt=ut.createDocumentFragment().appendChild(ut.createElement("div")),(de=ut.createElement("input")).setAttribute("type","radio"),de.setAttribute("checked","checked"),de.setAttribute("name","t"),Lt.appendChild(de),tt.checkClone=Lt.cloneNode(!0).cloneNode(!0).lastChild.checked,Lt.innerHTML="<textarea>x</textarea>",tt.noCloneChecked=!!Lt.cloneNode(!0).lastChild.defaultValue,Lt.innerHTML="<option></option>",tt.option=!!Lt.lastChild;var Me={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Fe(r,u){var _;return _=r.getElementsByTagName!==void 0?r.getElementsByTagName(u||"*"):r.querySelectorAll!==void 0?r.querySelectorAll(u||"*"):[],u===void 0||u&&zt(r,u)?m.merge([r],_):_}function bn(r,u){for(var _=0,C=r.length;_<C;_++)Xt.set(r[_],"globalEval",!u||Xt.get(u[_],"globalEval"))}Me.tbody=Me.tfoot=Me.colgroup=Me.caption=Me.thead,Me.th=Me.td,tt.option||(Me.optgroup=Me.option=[1,"<select multiple='multiple'>","</select>"]);var Ge=/<|&#?\w+;/;function We(r,u,_,C,B){for(var U,nt,xt,bt,Dt,ie,_e=u.createDocumentFragment(),Kt=[],ke=0,kn=r.length;ke<kn;ke++)if((U=r[ke])||U===0)if(Ct(U)==="object")m.merge(Kt,U.nodeType?[U]:U);else if(Ge.test(U)){for(nt=nt||_e.appendChild(u.createElement("div")),xt=(ge.exec(U)||["",""])[1].toLowerCase(),bt=Me[xt]||Me._default,nt.innerHTML=bt[1]+m.htmlPrefilter(U)+bt[2],ie=bt[0];ie--;)nt=nt.lastChild;m.merge(Kt,nt.childNodes),(nt=_e.firstChild).textContent=""}else Kt.push(u.createTextNode(U));for(_e.textContent="",ke=0;U=Kt[ke++];)if(C&&-1<m.inArray(U,C))B&&B.push(U);else if(Dt=Mt(U),nt=Fe(_e.appendChild(U),"script"),Dt&&bn(nt),_)for(ie=0;U=nt[ie++];)ze.test(U.type||"")&&_.push(U);return _e}var Jn=/^([^.]*)(?:\.(.+)|)/;function zn(){return!0}function jn(){return!1}function On(r,u,_,C,B,U){var nt,xt;if(p(u)=="object"){for(xt in typeof _!="string"&&(C=C||_,_=void 0),u)On(r,xt,_,C,u[xt],U);return r}if(C==null&&B==null?(B=_,C=_=void 0):B==null&&(typeof _=="string"?(B=C,C=void 0):(B=C,C=_,_=void 0)),B===!1)B=jn;else if(!B)return r;return U===1&&(nt=B,(B=function(bt){return m().off(bt),nt.apply(this,arguments)}).guid=nt.guid||(nt.guid=m.guid++)),r.each((function(){m.event.add(this,u,B,C,_)}))}function Dn(r,u,_){_?(Xt.set(r,u,!1),m.event.add(r,u,{namespace:!1,handler:function(C){var B,U=Xt.get(this,u);if(1&C.isTrigger&&this[u]){if(U)(m.event.special[u]||{}).delegateType&&C.stopPropagation();else if(U=E.call(arguments),Xt.set(this,u,U),this[u](),B=Xt.get(this,u),Xt.set(this,u,!1),U!==B)return C.stopImmediatePropagation(),C.preventDefault(),B}else U&&(Xt.set(this,u,m.event.trigger(U[0],U.slice(1),this)),C.stopPropagation(),C.isImmediatePropagationStopped=zn)}})):Xt.get(r,u)===void 0&&m.event.add(r,u,zn)}m.event={global:{},add:function(r,u,_,C,B){var U,nt,xt,bt,Dt,ie,_e,Kt,ke,kn,Vn,Qn=Xt.get(r);if(le(r))for(_.handler&&(_=(U=_).handler,B=U.selector),B&&m.find.matchesSelector(zi,B),_.guid||(_.guid=m.guid++),(bt=Qn.events)||(bt=Qn.events=Object.create(null)),(nt=Qn.handle)||(nt=Qn.handle=function(Zi){return m!==void 0&&m.event.triggered!==Zi.type?m.event.dispatch.apply(r,arguments):void 0}),Dt=(u=(u||"").match(on)||[""]).length;Dt--;)ke=Vn=(xt=Jn.exec(u[Dt])||[])[1],kn=(xt[2]||"").split(".").sort(),ke&&(_e=m.event.special[ke]||{},ke=(B?_e.delegateType:_e.bindType)||ke,_e=m.event.special[ke]||{},ie=m.extend({type:ke,origType:Vn,data:C,handler:_,guid:_.guid,selector:B,needsContext:B&&m.expr.match.needsContext.test(B),namespace:kn.join(".")},U),(Kt=bt[ke])||((Kt=bt[ke]=[]).delegateCount=0,_e.setup&&_e.setup.call(r,C,kn,nt)!==!1||r.addEventListener&&r.addEventListener(ke,nt)),_e.add&&(_e.add.call(r,ie),ie.handler.guid||(ie.handler.guid=_.guid)),B?Kt.splice(Kt.delegateCount++,0,ie):Kt.push(ie),m.event.global[ke]=!0)},remove:function(r,u,_,C,B){var U,nt,xt,bt,Dt,ie,_e,Kt,ke,kn,Vn,Qn=Xt.hasData(r)&&Xt.get(r);if(Qn&&(bt=Qn.events)){for(Dt=(u=(u||"").match(on)||[""]).length;Dt--;)if(ke=Vn=(xt=Jn.exec(u[Dt])||[])[1],kn=(xt[2]||"").split(".").sort(),ke){for(_e=m.event.special[ke]||{},Kt=bt[ke=(C?_e.delegateType:_e.bindType)||ke]||[],xt=xt[2]&&new RegExp("(^|\\.)"+kn.join("\\.(?:.*\\.|)")+"(\\.|$)"),nt=U=Kt.length;U--;)ie=Kt[U],!B&&Vn!==ie.origType||_&&_.guid!==ie.guid||xt&&!xt.test(ie.namespace)||C&&C!==ie.selector&&(C!=="**"||!ie.selector)||(Kt.splice(U,1),ie.selector&&Kt.delegateCount--,_e.remove&&_e.remove.call(r,ie));nt&&!Kt.length&&(_e.teardown&&_e.teardown.call(r,kn,Qn.handle)!==!1||m.removeEvent(r,ke,Qn.handle),delete bt[ke])}else for(ke in bt)m.event.remove(r,ke+u[Dt],_,C,!0);m.isEmptyObject(bt)&&Xt.remove(r,"handle events")}},dispatch:function(r){var u,_,C,B,U,nt,xt=new Array(arguments.length),bt=m.event.fix(r),Dt=(Xt.get(this,"events")||Object.create(null))[bt.type]||[],ie=m.event.special[bt.type]||{};for(xt[0]=bt,u=1;u<arguments.length;u++)xt[u]=arguments[u];if(bt.delegateTarget=this,!ie.preDispatch||ie.preDispatch.call(this,bt)!==!1){for(nt=m.event.handlers.call(this,bt,Dt),u=0;(B=nt[u++])&&!bt.isPropagationStopped();)for(bt.currentTarget=B.elem,_=0;(U=B.handlers[_++])&&!bt.isImmediatePropagationStopped();)bt.rnamespace&&U.namespace!==!1&&!bt.rnamespace.test(U.namespace)||(bt.handleObj=U,bt.data=U.data,(C=((m.event.special[U.origType]||{}).handle||U.handler).apply(B.elem,xt))!==void 0&&(bt.result=C)===!1&&(bt.preventDefault(),bt.stopPropagation()));return ie.postDispatch&&ie.postDispatch.call(this,bt),bt.result}},handlers:function(r,u){var _,C,B,U,nt,xt=[],bt=u.delegateCount,Dt=r.target;if(bt&&Dt.nodeType&&!(r.type==="click"&&1<=r.button)){for(;Dt!==this;Dt=Dt.parentNode||this)if(Dt.nodeType===1&&(r.type!=="click"||Dt.disabled!==!0)){for(U=[],nt={},_=0;_<bt;_++)nt[B=(C=u[_]).selector+" "]===void 0&&(nt[B]=C.needsContext?-1<m(B,this).index(Dt):m.find(B,this,null,[Dt]).length),nt[B]&&U.push(C);U.length&&xt.push({elem:Dt,handlers:U})}}return Dt=this,bt<u.length&&xt.push({elem:Dt,handlers:u.slice(bt)}),xt},addProp:function(r,u){Object.defineProperty(m.Event.prototype,r,{enumerable:!0,configurable:!0,get:rt(u)?function(){if(this.originalEvent)return u(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[r]},set:function(_){Object.defineProperty(this,r,{enumerable:!0,configurable:!0,writable:!0,value:_})}})},fix:function(r){return r[m.expando]?r:new m.Event(r)},special:{load:{noBubble:!0},click:{setup:function(r){var u=this||r;return Ce.test(u.type)&&u.click&&zt(u,"input")&&Dn(u,"click",!0),!1},trigger:function(r){var u=this||r;return Ce.test(u.type)&&u.click&&zt(u,"input")&&Dn(u,"click"),!0},_default:function(r){var u=r.target;return Ce.test(u.type)&&u.click&&zt(u,"input")&&Xt.get(u,"click")||zt(u,"a")}},beforeunload:{postDispatch:function(r){r.result!==void 0&&r.originalEvent&&(r.originalEvent.returnValue=r.result)}}}},m.removeEvent=function(r,u,_){r.removeEventListener&&r.removeEventListener(u,_)},m.Event=function(r,u){if(!(this instanceof m.Event))return new m.Event(r,u);r&&r.type?(this.originalEvent=r,this.type=r.type,this.isDefaultPrevented=r.defaultPrevented||r.defaultPrevented===void 0&&r.returnValue===!1?zn:jn,this.target=r.target&&r.target.nodeType===3?r.target.parentNode:r.target,this.currentTarget=r.currentTarget,this.relatedTarget=r.relatedTarget):this.type=r,u&&m.extend(this,u),this.timeStamp=r&&r.timeStamp||Date.now(),this[m.expando]=!0},m.Event.prototype={constructor:m.Event,isDefaultPrevented:jn,isPropagationStopped:jn,isImmediatePropagationStopped:jn,isSimulated:!1,preventDefault:function(){var r=this.originalEvent;this.isDefaultPrevented=zn,r&&!this.isSimulated&&r.preventDefault()},stopPropagation:function(){var r=this.originalEvent;this.isPropagationStopped=zn,r&&!this.isSimulated&&r.stopPropagation()},stopImmediatePropagation:function(){var r=this.originalEvent;this.isImmediatePropagationStopped=zn,r&&!this.isSimulated&&r.stopImmediatePropagation(),this.stopPropagation()}},m.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},m.event.addProp),m.each({focus:"focusin",blur:"focusout"},(function(r,u){function _(C){if(ut.documentMode){var B=Xt.get(this,"handle"),U=m.event.fix(C);U.type=C.type==="focusin"?"focus":"blur",U.isSimulated=!0,B(C),U.target===U.currentTarget&&B(U)}else m.event.simulate(u,C.target,m.event.fix(C))}m.event.special[r]={setup:function(){var C;if(Dn(this,r,!0),!ut.documentMode)return!1;(C=Xt.get(this,u))||this.addEventListener(u,_),Xt.set(this,u,(C||0)+1)},trigger:function(){return Dn(this,r),!0},teardown:function(){var C;if(!ut.documentMode)return!1;(C=Xt.get(this,u)-1)?Xt.set(this,u,C):(this.removeEventListener(u,_),Xt.remove(this,u))},_default:function(C){return Xt.get(C.target,r)},delegateType:u},m.event.special[u]={setup:function(){var C=this.ownerDocument||this.document||this,B=ut.documentMode?this:C,U=Xt.get(B,u);U||(ut.documentMode?this.addEventListener(u,_):C.addEventListener(r,_,!0)),Xt.set(B,u,(U||0)+1)},teardown:function(){var C=this.ownerDocument||this.document||this,B=ut.documentMode?this:C,U=Xt.get(B,u)-1;U?Xt.set(B,u,U):(ut.documentMode?this.removeEventListener(u,_):C.removeEventListener(r,_,!0),Xt.remove(B,u))}}})),m.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(r,u){m.event.special[r]={delegateType:u,bindType:u,handle:function(_){var C,B=_.relatedTarget,U=_.handleObj;return B&&(B===this||m.contains(this,B))||(_.type=U.origType,C=U.handler.apply(this,arguments),_.type=u),C}}})),m.fn.extend({on:function(r,u,_,C){return On(this,r,u,_,C)},one:function(r,u,_,C){return On(this,r,u,_,C,1)},off:function(r,u,_){var C,B;if(r&&r.preventDefault&&r.handleObj)return C=r.handleObj,m(r.delegateTarget).off(C.namespace?C.origType+"."+C.namespace:C.origType,C.selector,C.handler),this;if(p(r)=="object"){for(B in r)this.off(B,u,r[B]);return this}return u!==!1&&typeof u!="function"||(_=u,u=void 0),_===!1&&(_=jn),this.each((function(){m.event.remove(this,r,_,u)}))}});var vi=/<script|<style|<link/i,_i=/checked\s*(?:[^=]|=\s*.checked.)/i,gi=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function ri(r,u){return zt(r,"table")&&zt(u.nodeType!==11?u:u.firstChild,"tr")&&m(r).children("tbody")[0]||r}function Un(r){return r.type=(r.getAttribute("type")!==null)+"/"+r.type,r}function ti(r){return(r.type||"").slice(0,5)==="true/"?r.type=r.type.slice(5):r.removeAttribute("type"),r}function li(r,u){var _,C,B,U,nt,xt;if(u.nodeType===1){if(Xt.hasData(r)&&(xt=Xt.get(r).events))for(B in Xt.remove(u,"handle events"),xt)for(_=0,C=xt[B].length;_<C;_++)m.event.add(u,B,xt[B][_]);Ze.hasData(r)&&(U=Ze.access(r),nt=m.extend({},U),Ze.set(u,nt))}}function ei(r,u,_,C){u=F(u);var B,U,nt,xt,bt,Dt,ie=0,_e=r.length,Kt=_e-1,ke=u[0],kn=rt(ke);if(kn||1<_e&&typeof ke=="string"&&!tt.checkClone&&_i.test(ke))return r.each((function(Vn){var Qn=r.eq(Vn);kn&&(u[0]=ke.call(this,Vn,Qn.html())),ei(Qn,u,_,C)}));if(_e&&(U=(B=We(u,r[0].ownerDocument,!1,r,C)).firstChild,B.childNodes.length===1&&(B=U),U||C)){for(xt=(nt=m.map(Fe(B,"script"),Un)).length;ie<_e;ie++)bt=B,ie!==Kt&&(bt=m.clone(bt,!0,!0),xt&&m.merge(nt,Fe(bt,"script"))),_.call(r[ie],bt,ie);if(xt)for(Dt=nt[nt.length-1].ownerDocument,m.map(nt,ti),ie=0;ie<xt;ie++)bt=nt[ie],ze.test(bt.type||"")&&!Xt.access(bt,"globalEval")&&m.contains(Dt,bt)&&(bt.src&&(bt.type||"").toLowerCase()!=="module"?m._evalUrl&&!bt.noModule&&m._evalUrl(bt.src,{nonce:bt.nonce||bt.getAttribute("nonce")},Dt):G(bt.textContent.replace(gi,""),bt,Dt))}return r}function mi(r,u,_){for(var C,B=u?m.filter(u,r):r,U=0;(C=B[U])!=null;U++)_||C.nodeType!==1||m.cleanData(Fe(C)),C.parentNode&&(_&&Mt(C)&&bn(Fe(C,"script")),C.parentNode.removeChild(C));return r}m.extend({htmlPrefilter:function(r){return r},clone:function(r,u,_){var C,B,U,nt,xt,bt,Dt,ie=r.cloneNode(!0),_e=Mt(r);if(!(tt.noCloneChecked||r.nodeType!==1&&r.nodeType!==11||m.isXMLDoc(r)))for(nt=Fe(ie),C=0,B=(U=Fe(r)).length;C<B;C++)xt=U[C],(Dt=(bt=nt[C]).nodeName.toLowerCase())==="input"&&Ce.test(xt.type)?bt.checked=xt.checked:Dt!=="input"&&Dt!=="textarea"||(bt.defaultValue=xt.defaultValue);if(u)if(_)for(U=U||Fe(r),nt=nt||Fe(ie),C=0,B=U.length;C<B;C++)li(U[C],nt[C]);else li(r,ie);return 0<(nt=Fe(ie,"script")).length&&bn(nt,!_e&&Fe(r,"script")),ie},cleanData:function(r){for(var u,_,C,B=m.event.special,U=0;(_=r[U])!==void 0;U++)if(le(_)){if(u=_[Xt.expando]){if(u.events)for(C in u.events)B[C]?m.event.remove(_,C):m.removeEvent(_,C,u.handle);_[Xt.expando]=void 0}_[Ze.expando]&&(_[Ze.expando]=void 0)}}}),m.fn.extend({detach:function(r){return mi(this,r,!0)},remove:function(r){return mi(this,r)},text:function(r){return Ee(this,(function(u){return u===void 0?m.text(this):this.empty().each((function(){this.nodeType!==1&&this.nodeType!==11&&this.nodeType!==9||(this.textContent=u)}))}),null,r,arguments.length)},append:function(){return ei(this,arguments,(function(r){this.nodeType!==1&&this.nodeType!==11&&this.nodeType!==9||ri(this,r).appendChild(r)}))},prepend:function(){return ei(this,arguments,(function(r){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var u=ri(this,r);u.insertBefore(r,u.firstChild)}}))},before:function(){return ei(this,arguments,(function(r){this.parentNode&&this.parentNode.insertBefore(r,this)}))},after:function(){return ei(this,arguments,(function(r){this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling)}))},empty:function(){for(var r,u=0;(r=this[u])!=null;u++)r.nodeType===1&&(m.cleanData(Fe(r,!1)),r.textContent="");return this},clone:function(r,u){return r=r!=null&&r,u=u==null?r:u,this.map((function(){return m.clone(this,r,u)}))},html:function(r){return Ee(this,(function(u){var _=this[0]||{},C=0,B=this.length;if(u===void 0&&_.nodeType===1)return _.innerHTML;if(typeof u=="string"&&!vi.test(u)&&!Me[(ge.exec(u)||["",""])[1].toLowerCase()]){u=m.htmlPrefilter(u);try{for(;C<B;C++)(_=this[C]||{}).nodeType===1&&(m.cleanData(Fe(_,!1)),_.innerHTML=u);_=0}catch(U){}}_&&this.empty().append(u)}),null,r,arguments.length)},replaceWith:function(){var r=[];return ei(this,arguments,(function(u){var _=this.parentNode;m.inArray(this,r)<0&&(m.cleanData(Fe(this)),_&&_.replaceChild(u,this))}),r)}}),m.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(r,u){m.fn[r]=function(_){for(var C,B=[],U=m(_),nt=U.length-1,xt=0;xt<=nt;xt++)C=xt===nt?this:this.clone(!0),m(U[xt])[u](C),et.apply(B,C.get());return this.pushStack(B)}}));var xi=new RegExp("^("+sn+")(?!px)[a-z%]+$","i"),Bi=/^--/,Ui=function(r){var u=r.ownerDocument.defaultView;return u&&u.opener||(u=v),u.getComputedStyle(r)},ir=function(r,u,_){var C,B,U={};for(B in u)U[B]=r.style[B],r.style[B]=u[B];for(B in C=_.call(r),u)r.style[B]=U[B];return C},er=new RegExp(pi.join("|"),"i");function $i(r,u,_){var C,B,U,nt,xt=Bi.test(u),bt=r.style;return(_=_||Ui(r))&&(nt=_.getPropertyValue(u)||_[u],xt&&nt&&(nt=nt.replace(wt,"$1")||void 0),nt!==""||Mt(r)||(nt=m.style(r,u)),!tt.pixelBoxStyles()&&xi.test(nt)&&er.test(u)&&(C=bt.width,B=bt.minWidth,U=bt.maxWidth,bt.minWidth=bt.maxWidth=bt.width=nt,nt=_.width,bt.width=C,bt.minWidth=B,bt.maxWidth=U)),nt!==void 0?nt+"":nt}function Mi(r,u){return{get:function(){if(!r())return(this.get=u).apply(this,arguments);delete this.get}}}(function(){function r(){if(Dt){bt.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Dt.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",zi.appendChild(bt).appendChild(Dt);var ie=v.getComputedStyle(Dt);_=ie.top!=="1%",xt=u(ie.marginLeft)===12,Dt.style.right="60%",U=u(ie.right)===36,C=u(ie.width)===36,Dt.style.position="absolute",B=u(Dt.offsetWidth/3)===12,zi.removeChild(bt),Dt=null}}function u(ie){return Math.round(parseFloat(ie))}var _,C,B,U,nt,xt,bt=ut.createElement("div"),Dt=ut.createElement("div");Dt.style&&(Dt.style.backgroundClip="content-box",Dt.cloneNode(!0).style.backgroundClip="",tt.clearCloneStyle=Dt.style.backgroundClip==="content-box",m.extend(tt,{boxSizingReliable:function(){return r(),C},pixelBoxStyles:function(){return r(),U},pixelPosition:function(){return r(),_},reliableMarginLeft:function(){return r(),xt},scrollboxSize:function(){return r(),B},reliableTrDimensions:function(){var ie,_e,Kt,ke;return nt==null&&(ie=ut.createElement("table"),_e=ut.createElement("tr"),Kt=ut.createElement("div"),ie.style.cssText="position:absolute;left:-11111px;border-collapse:separate",_e.style.cssText="box-sizing:content-box;border:1px solid",_e.style.height="1px",Kt.style.height="9px",Kt.style.display="block",zi.appendChild(ie).appendChild(_e).appendChild(Kt),ke=v.getComputedStyle(_e),nt=parseInt(ke.height,10)+parseInt(ke.borderTopWidth,10)+parseInt(ke.borderBottomWidth,10)===_e.offsetHeight,zi.removeChild(ie)),nt}}))})();var me=["Webkit","Moz","ms"],hn=ut.createElement("div").style,In={};function gn(r){return m.cssProps[r]||In[r]||(r in hn?r:In[r]=(function(u){for(var _=u[0].toUpperCase()+u.slice(1),C=me.length;C--;)if((u=me[C]+_)in hn)return u})(r)||r)}var Mn=/^(none|table(?!-c[ea]).+)/,Xn={position:"absolute",visibility:"hidden",display:"block"},Gi={letterSpacing:"0",fontWeight:"400"};function nr(r,u,_){var C=_n.exec(u);return C?Math.max(0,C[2]-(_||0))+(C[3]||"px"):u}function Ci(r,u,_,C,B,U){var nt=u==="width"?1:0,xt=0,bt=0,Dt=0;if(_===(C?"border":"content"))return 0;for(;nt<4;nt+=2)_==="margin"&&(Dt+=m.css(r,_+pi[nt],!0,B)),C?(_==="content"&&(bt-=m.css(r,"padding"+pi[nt],!0,B)),_!=="margin"&&(bt-=m.css(r,"border"+pi[nt]+"Width",!0,B))):(bt+=m.css(r,"padding"+pi[nt],!0,B),_!=="padding"?bt+=m.css(r,"border"+pi[nt]+"Width",!0,B):xt+=m.css(r,"border"+pi[nt]+"Width",!0,B));return!C&&0<=U&&(bt+=Math.max(0,Math.ceil(r["offset"+u[0].toUpperCase()+u.slice(1)]-U-bt-xt-.5))||0),bt+Dt}function Vi(r,u,_){var C=Ui(r),B=(!tt.boxSizingReliable()||_)&&m.css(r,"boxSizing",!1,C)==="border-box",U=B,nt=$i(r,u,C),xt="offset"+u[0].toUpperCase()+u.slice(1);if(xi.test(nt)){if(!_)return nt;nt="auto"}return(!tt.boxSizingReliable()&&B||!tt.reliableTrDimensions()&&zt(r,"tr")||nt==="auto"||!parseFloat(nt)&&m.css(r,"display",!1,C)==="inline")&&r.getClientRects().length&&(B=m.css(r,"boxSizing",!1,C)==="border-box",(U=xt in r)&&(nt=r[xt])),(nt=parseFloat(nt)||0)+Ci(r,u,_||(B?"border":"content"),U,C,nt)+"px"}function Gn(r,u,_,C,B){return new Gn.prototype.init(r,u,_,C,B)}m.extend({cssHooks:{opacity:{get:function(r,u){if(u){var _=$i(r,"opacity");return _===""?"1":_}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(r,u,_,C){if(r&&r.nodeType!==3&&r.nodeType!==8&&r.style){var B,U,nt,xt=Pt(u),bt=Bi.test(u),Dt=r.style;if(bt||(u=gn(xt)),nt=m.cssHooks[u]||m.cssHooks[xt],_===void 0)return nt&&"get"in nt&&(B=nt.get(r,!1,C))!==void 0?B:Dt[u];(U=p(_))==="string"&&(B=_n.exec(_))&&B[1]&&(_=Pi(r,u,B),U="number"),_!=null&&_==_&&(U!=="number"||bt||(_+=B&&B[3]||(m.cssNumber[xt]?"":"px")),tt.clearCloneStyle||_!==""||u.indexOf("background")!==0||(Dt[u]="inherit"),nt&&"set"in nt&&(_=nt.set(r,_,C))===void 0||(bt?Dt.setProperty(u,_):Dt[u]=_))}},css:function(r,u,_,C){var B,U,nt,xt=Pt(u);return Bi.test(u)||(u=gn(xt)),(nt=m.cssHooks[u]||m.cssHooks[xt])&&"get"in nt&&(B=nt.get(r,!0,_)),B===void 0&&(B=$i(r,u,C)),B==="normal"&&u in Gi&&(B=Gi[u]),_===""||_?(U=parseFloat(B),_===!0||isFinite(U)?U||0:B):B}}),m.each(["height","width"],(function(r,u){m.cssHooks[u]={get:function(_,C,B){if(C)return!Mn.test(m.css(_,"display"))||_.getClientRects().length&&_.getBoundingClientRect().width?Vi(_,u,B):ir(_,Xn,(function(){return Vi(_,u,B)}))},set:function(_,C,B){var U,nt=Ui(_),xt=!tt.scrollboxSize()&&nt.position==="absolute",bt=(xt||B)&&m.css(_,"boxSizing",!1,nt)==="border-box",Dt=B?Ci(_,u,B,bt,nt):0;return bt&&xt&&(Dt-=Math.ceil(_["offset"+u[0].toUpperCase()+u.slice(1)]-parseFloat(nt[u])-Ci(_,u,"border",!1,nt)-.5)),Dt&&(U=_n.exec(C))&&(U[3]||"px")!=="px"&&(_.style[u]=C,C=m.css(_,u)),nr(0,C,Dt)}}})),m.cssHooks.marginLeft=Mi(tt.reliableMarginLeft,(function(r,u){if(u)return(parseFloat($i(r,"marginLeft"))||r.getBoundingClientRect().left-ir(r,{marginLeft:0},(function(){return r.getBoundingClientRect().left})))+"px"})),m.each({margin:"",padding:"",border:"Width"},(function(r,u){m.cssHooks[r+u]={expand:function(_){for(var C=0,B={},U=typeof _=="string"?_.split(" "):[_];C<4;C++)B[r+pi[C]+u]=U[C]||U[C-2]||U[0];return B}},r!=="margin"&&(m.cssHooks[r+u].set=nr)})),m.fn.extend({css:function(r,u){return Ee(this,(function(_,C,B){var U,nt,xt={},bt=0;if(Array.isArray(C)){for(U=Ui(_),nt=C.length;bt<nt;bt++)xt[C[bt]]=m.css(_,C[bt],!1,U);return xt}return B!==void 0?m.style(_,C,B):m.css(_,C)}),r,u,1<arguments.length)}}),((m.Tween=Gn).prototype={constructor:Gn,init:function(r,u,_,C,B,U){this.elem=r,this.prop=_,this.easing=B||m.easing._default,this.options=u,this.start=this.now=this.cur(),this.end=C,this.unit=U||(m.cssNumber[_]?"":"px")},cur:function(){var r=Gn.propHooks[this.prop];return r&&r.get?r.get(this):Gn.propHooks._default.get(this)},run:function(r){var u,_=Gn.propHooks[this.prop];return this.options.duration?this.pos=u=m.easing[this.easing](r,this.options.duration*r,0,1,this.options.duration):this.pos=u=r,this.now=(this.end-this.start)*u+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),_&&_.set?_.set(this):Gn.propHooks._default.set(this),this}}).init.prototype=Gn.prototype,(Gn.propHooks={_default:{get:function(r){var u;return r.elem.nodeType!==1||r.elem[r.prop]!=null&&r.elem.style[r.prop]==null?r.elem[r.prop]:(u=m.css(r.elem,r.prop,""))&&u!=="auto"?u:0},set:function(r){m.fx.step[r.prop]?m.fx.step[r.prop](r):r.elem.nodeType!==1||!m.cssHooks[r.prop]&&r.elem.style[gn(r.prop)]==null?r.elem[r.prop]=r.now:m.style(r.elem,r.prop,r.now+r.unit)}}}).scrollTop=Gn.propHooks.scrollLeft={set:function(r){r.elem.nodeType&&r.elem.parentNode&&(r.elem[r.prop]=r.now)}},m.easing={linear:function(r){return r},swing:function(r){return .5-Math.cos(r*Math.PI)/2},_default:"swing"},m.fx=Gn.prototype.init,m.fx.step={};var Oi,Fi,Xi,fr,Pr=/^(?:toggle|show|hide)$/,Or=/queueHooks$/;function yr(){Fi&&(ut.hidden===!1&&v.requestAnimationFrame?v.requestAnimationFrame(yr):v.setTimeout(yr,m.fx.interval),m.fx.tick())}function Qi(){return v.setTimeout((function(){Oi=void 0})),Oi=Date.now()}function Ki(r,u){var _,C=0,B={height:r};for(u=u?1:0;C<4;C+=2-u)B["margin"+(_=pi[C])]=B["padding"+_]=r;return u&&(B.opacity=B.width=r),B}function _r(r,u,_){for(var C,B=(pr.tweeners[u]||[]).concat(pr.tweeners["*"]),U=0,nt=B.length;U<nt;U++)if(C=B[U].call(_,u,r))return C}function pr(r,u,_){var C,B,U=0,nt=pr.prefilters.length,xt=m.Deferred().always((function(){delete bt.elem})),bt=function(){if(B)return!1;for(var _e=Oi||Qi(),Kt=Math.max(0,Dt.startTime+Dt.duration-_e),ke=1-(Kt/Dt.duration||0),kn=0,Vn=Dt.tweens.length;kn<Vn;kn++)Dt.tweens[kn].run(ke);return xt.notifyWith(r,[Dt,ke,Kt]),ke<1&&Vn?Kt:(Vn||xt.notifyWith(r,[Dt,1,0]),xt.resolveWith(r,[Dt]),!1)},Dt=xt.promise({elem:r,props:m.extend({},u),opts:m.extend(!0,{specialEasing:{},easing:m.easing._default},_),originalProperties:u,originalOptions:_,startTime:Oi||Qi(),duration:_.duration,tweens:[],createTween:function(_e,Kt){var ke=m.Tween(r,Dt.opts,_e,Kt,Dt.opts.specialEasing[_e]||Dt.opts.easing);return Dt.tweens.push(ke),ke},stop:function(_e){var Kt=0,ke=_e?Dt.tweens.length:0;if(B)return this;for(B=!0;Kt<ke;Kt++)Dt.tweens[Kt].run(1);return _e?(xt.notifyWith(r,[Dt,1,0]),xt.resolveWith(r,[Dt,_e])):xt.rejectWith(r,[Dt,_e]),this}}),ie=Dt.props;for((function(_e,Kt){var ke,kn,Vn,Qn,Zi;for(ke in _e)if(Vn=Kt[kn=Pt(ke)],Qn=_e[ke],Array.isArray(Qn)&&(Vn=Qn[1],Qn=_e[ke]=Qn[0]),ke!==kn&&(_e[kn]=Qn,delete _e[ke]),(Zi=m.cssHooks[kn])&&"expand"in Zi)for(ke in Qn=Zi.expand(Qn),delete _e[kn],Qn)ke in _e||(_e[ke]=Qn[ke],Kt[ke]=Vn);else Kt[kn]=Vn})(ie,Dt.opts.specialEasing);U<nt;U++)if(C=pr.prefilters[U].call(Dt,r,ie,Dt.opts))return rt(C.stop)&&(m._queueHooks(Dt.elem,Dt.opts.queue).stop=C.stop.bind(C)),C;return m.map(ie,_r,Dt),rt(Dt.opts.start)&&Dt.opts.start.call(r,Dt),Dt.progress(Dt.opts.progress).done(Dt.opts.done,Dt.opts.complete).fail(Dt.opts.fail).always(Dt.opts.always),m.fx.timer(m.extend(bt,{elem:r,anim:Dt,queue:Dt.opts.queue})),Dt}m.Animation=m.extend(pr,{tweeners:{"*":[function(r,u){var _=this.createTween(r,u);return Pi(_.elem,r,_n.exec(u),_),_}]},tweener:function(r,u){rt(r)?(u=r,r=["*"]):r=r.match(on);for(var _,C=0,B=r.length;C<B;C++)_=r[C],pr.tweeners[_]=pr.tweeners[_]||[],pr.tweeners[_].unshift(u)},prefilters:[function(r,u,_){var C,B,U,nt,xt,bt,Dt,ie,_e="width"in u||"height"in u,Kt=this,ke={},kn=r.style,Vn=r.nodeType&&tn(r),Qn=Xt.get(r,"fxshow");for(C in _.queue||((nt=m._queueHooks(r,"fx")).unqueued==null&&(nt.unqueued=0,xt=nt.empty.fire,nt.empty.fire=function(){nt.unqueued||xt()}),nt.unqueued++,Kt.always((function(){Kt.always((function(){nt.unqueued--,m.queue(r,"fx").length||nt.empty.fire()}))}))),u)if(B=u[C],Pr.test(B)){if(delete u[C],U=U||B==="toggle",B===(Vn?"hide":"show")){if(B!=="show"||!Qn||Qn[C]===void 0)continue;Vn=!0}ke[C]=Qn&&Qn[C]||m.style(r,C)}if((bt=!m.isEmptyObject(u))||!m.isEmptyObject(ke))for(C in _e&&r.nodeType===1&&(_.overflow=[kn.overflow,kn.overflowX,kn.overflowY],(Dt=Qn&&Qn.display)==null&&(Dt=Xt.get(r,"display")),(ie=m.css(r,"display"))==="none"&&(Dt?ie=Dt:(gt([r],!0),Dt=r.style.display||Dt,ie=m.css(r,"display"),gt([r]))),(ie==="inline"||ie==="inline-block"&&Dt!=null)&&m.css(r,"float")==="none"&&(bt||(Kt.done((function(){kn.display=Dt})),Dt==null&&(ie=kn.display,Dt=ie==="none"?"":ie)),kn.display="inline-block")),_.overflow&&(kn.overflow="hidden",Kt.always((function(){kn.overflow=_.overflow[0],kn.overflowX=_.overflow[1],kn.overflowY=_.overflow[2]}))),bt=!1,ke)bt||(Qn?"hidden"in Qn&&(Vn=Qn.hidden):Qn=Xt.access(r,"fxshow",{display:Dt}),U&&(Qn.hidden=!Vn),Vn&&gt([r],!0),Kt.done((function(){for(C in Vn||gt([r]),Xt.remove(r,"fxshow"),ke)m.style(r,C,ke[C])}))),bt=_r(Vn?Qn[C]:0,C,Kt),C in Qn||(Qn[C]=bt.start,Vn&&(bt.end=bt.start,bt.start=0))}],prefilter:function(r,u){u?pr.prefilters.unshift(r):pr.prefilters.push(r)}}),m.speed=function(r,u,_){var C=r&&p(r)=="object"?m.extend({},r):{complete:_||!_&&u||rt(r)&&r,duration:r,easing:_&&u||u&&!rt(u)&&u};return m.fx.off?C.duration=0:typeof C.duration!="number"&&(C.duration in m.fx.speeds?C.duration=m.fx.speeds[C.duration]:C.duration=m.fx.speeds._default),C.queue!=null&&C.queue!==!0||(C.queue="fx"),C.old=C.complete,C.complete=function(){rt(C.old)&&C.old.call(this),C.queue&&m.dequeue(this,C.queue)},C},m.fn.extend({fadeTo:function(r,u,_,C){return this.filter(tn).css("opacity",0).show().end().animate({opacity:u},r,_,C)},animate:function(r,u,_,C){var B=m.isEmptyObject(r),U=m.speed(u,_,C),nt=function(){var xt=pr(this,m.extend({},r),U);(B||Xt.get(this,"finish"))&&xt.stop(!0)};return nt.finish=nt,B||U.queue===!1?this.each(nt):this.queue(U.queue,nt)},stop:function(r,u,_){var C=function(B){var U=B.stop;delete B.stop,U(_)};return typeof r!="string"&&(_=u,u=r,r=void 0),u&&this.queue(r||"fx",[]),this.each((function(){var B=!0,U=r!=null&&r+"queueHooks",nt=m.timers,xt=Xt.get(this);if(U)xt[U]&&xt[U].stop&&C(xt[U]);else for(U in xt)xt[U]&&xt[U].stop&&Or.test(U)&&C(xt[U]);for(U=nt.length;U--;)nt[U].elem!==this||r!=null&&nt[U].queue!==r||(nt[U].anim.stop(_),B=!1,nt.splice(U,1));!B&&_||m.dequeue(this,r)}))},finish:function(r){return r!==!1&&(r=r||"fx"),this.each((function(){var u,_=Xt.get(this),C=_[r+"queue"],B=_[r+"queueHooks"],U=m.timers,nt=C?C.length:0;for(_.finish=!0,m.queue(this,r,[]),B&&B.stop&&B.stop.call(this,!0),u=U.length;u--;)U[u].elem===this&&U[u].queue===r&&(U[u].anim.stop(!0),U.splice(u,1));for(u=0;u<nt;u++)C[u]&&C[u].finish&&C[u].finish.call(this);delete _.finish}))}}),m.each(["toggle","show","hide"],(function(r,u){var _=m.fn[u];m.fn[u]=function(C,B,U){return C==null||typeof C=="boolean"?_.apply(this,arguments):this.animate(Ki(u,!0),C,B,U)}})),m.each({slideDown:Ki("show"),slideUp:Ki("hide"),slideToggle:Ki("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(r,u){m.fn[r]=function(_,C,B){return this.animate(u,_,C,B)}})),m.timers=[],m.fx.tick=function(){var r,u=0,_=m.timers;for(Oi=Date.now();u<_.length;u++)(r=_[u])()||_[u]!==r||_.splice(u--,1);_.length||m.fx.stop(),Oi=void 0},m.fx.timer=function(r){m.timers.push(r),m.fx.start()},m.fx.interval=13,m.fx.start=function(){Fi||(Fi=!0,yr())},m.fx.stop=function(){Fi=null},m.fx.speeds={slow:600,fast:200,_default:400},m.fn.delay=function(r,u){return r=m.fx&&m.fx.speeds[r]||r,u=u||"fx",this.queue(u,(function(_,C){var B=v.setTimeout(_,r);C.stop=function(){v.clearTimeout(B)}}))},Xi=ut.createElement("input"),fr=ut.createElement("select").appendChild(ut.createElement("option")),Xi.type="checkbox",tt.checkOn=Xi.value!=="",tt.optSelected=fr.selected,(Xi=ut.createElement("input")).value="t",Xi.type="radio",tt.radioValue=Xi.value==="t";var rr,s=m.expr.attrHandle;m.fn.extend({attr:function(r,u){return Ee(this,m.attr,r,u,1<arguments.length)},removeAttr:function(r){return this.each((function(){m.removeAttr(this,r)}))}}),m.extend({attr:function(r,u,_){var C,B,U=r.nodeType;if(U!==3&&U!==8&&U!==2)return r.getAttribute===void 0?m.prop(r,u,_):(U===1&&m.isXMLDoc(r)||(B=m.attrHooks[u.toLowerCase()]||(m.expr.match.bool.test(u)?rr:void 0)),_!==void 0?_===null?void m.removeAttr(r,u):B&&"set"in B&&(C=B.set(r,_,u))!==void 0?C:(r.setAttribute(u,_+""),_):B&&"get"in B&&(C=B.get(r,u))!==null?C:(C=m.find.attr(r,u))==null?void 0:C)},attrHooks:{type:{set:function(r,u){if(!tt.radioValue&&u==="radio"&&zt(r,"input")){var _=r.value;return r.setAttribute("type",u),_&&(r.value=_),u}}}},removeAttr:function(r,u){var _,C=0,B=u&&u.match(on);if(B&&r.nodeType===1)for(;_=B[C++];)r.removeAttribute(_)}}),rr={set:function(r,u,_){return u===!1?m.removeAttr(r,_):r.setAttribute(_,_),_}},m.each(m.expr.match.bool.source.match(/\w+/g),(function(r,u){var _=s[u]||m.find.attr;s[u]=function(C,B,U){var nt,xt,bt=B.toLowerCase();return U||(xt=s[bt],s[bt]=nt,nt=_(C,B,U)!=null?bt:null,s[bt]=xt),nt}}));var f=/^(?:input|select|textarea|button)$/i,x=/^(?:a|area)$/i;function k(r){return(r.match(on)||[]).join(" ")}function L(r){return r.getAttribute&&r.getAttribute("class")||""}function X(r){return Array.isArray(r)?r:typeof r=="string"&&r.match(on)||[]}m.fn.extend({prop:function(r,u){return Ee(this,m.prop,r,u,1<arguments.length)},removeProp:function(r){return this.each((function(){delete this[m.propFix[r]||r]}))}}),m.extend({prop:function(r,u,_){var C,B,U=r.nodeType;if(U!==3&&U!==8&&U!==2)return U===1&&m.isXMLDoc(r)||(u=m.propFix[u]||u,B=m.propHooks[u]),_!==void 0?B&&"set"in B&&(C=B.set(r,_,u))!==void 0?C:r[u]=_:B&&"get"in B&&(C=B.get(r,u))!==null?C:r[u]},propHooks:{tabIndex:{get:function(r){var u=m.find.attr(r,"tabindex");return u?parseInt(u,10):f.test(r.nodeName)||x.test(r.nodeName)&&r.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),tt.optSelected||(m.propHooks.selected={get:function(r){var u=r.parentNode;return u&&u.parentNode&&u.parentNode.selectedIndex,null},set:function(r){var u=r.parentNode;u&&(u.selectedIndex,u.parentNode&&u.parentNode.selectedIndex)}}),m.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){m.propFix[this.toLowerCase()]=this})),m.fn.extend({addClass:function(r){var u,_,C,B,U,nt;return rt(r)?this.each((function(xt){m(this).addClass(r.call(this,xt,L(this)))})):(u=X(r)).length?this.each((function(){if(C=L(this),_=this.nodeType===1&&" "+k(C)+" "){for(U=0;U<u.length;U++)B=u[U],_.indexOf(" "+B+" ")<0&&(_+=B+" ");nt=k(_),C!==nt&&this.setAttribute("class",nt)}})):this},removeClass:function(r){var u,_,C,B,U,nt;return rt(r)?this.each((function(xt){m(this).removeClass(r.call(this,xt,L(this)))})):arguments.length?(u=X(r)).length?this.each((function(){if(C=L(this),_=this.nodeType===1&&" "+k(C)+" "){for(U=0;U<u.length;U++)for(B=u[U];-1<_.indexOf(" "+B+" ");)_=_.replace(" "+B+" "," ");nt=k(_),C!==nt&&this.setAttribute("class",nt)}})):this:this.attr("class","")},toggleClass:function(r,u){var _,C,B,U,nt=p(r),xt=nt==="string"||Array.isArray(r);return rt(r)?this.each((function(bt){m(this).toggleClass(r.call(this,bt,L(this),u),u)})):typeof u=="boolean"&&xt?u?this.addClass(r):this.removeClass(r):(_=X(r),this.each((function(){if(xt)for(U=m(this),B=0;B<_.length;B++)C=_[B],U.hasClass(C)?U.removeClass(C):U.addClass(C);else r!==void 0&&nt!=="boolean"||((C=L(this))&&Xt.set(this,"__className__",C),this.setAttribute&&this.setAttribute("class",C||r===!1?"":Xt.get(this,"__className__")||""))})))},hasClass:function(r){var u,_,C=0;for(u=" "+r+" ";_=this[C++];)if(_.nodeType===1&&-1<(" "+k(L(_))+" ").indexOf(u))return!0;return!1}});var it=/\r/g;m.fn.extend({val:function(r){var u,_,C,B=this[0];return arguments.length?(C=rt(r),this.each((function(U){var nt;this.nodeType===1&&((nt=C?r.call(this,U,m(this).val()):r)==null?nt="":typeof nt=="number"?nt+="":Array.isArray(nt)&&(nt=m.map(nt,(function(xt){return xt==null?"":xt+""}))),(u=m.valHooks[this.type]||m.valHooks[this.nodeName.toLowerCase()])&&"set"in u&&u.set(this,nt,"value")!==void 0||(this.value=nt))}))):B?(u=m.valHooks[B.type]||m.valHooks[B.nodeName.toLowerCase()])&&"get"in u&&(_=u.get(B,"value"))!==void 0?_:typeof(_=B.value)=="string"?_.replace(it,""):_==null?"":_:void 0}}),m.extend({valHooks:{option:{get:function(r){var u=m.find.attr(r,"value");return u!=null?u:k(m.text(r))}},select:{get:function(r){var u,_,C,B=r.options,U=r.selectedIndex,nt=r.type==="select-one",xt=nt?null:[],bt=nt?U+1:B.length;for(C=U<0?bt:nt?U:0;C<bt;C++)if(((_=B[C]).selected||C===U)&&!_.disabled&&(!_.parentNode.disabled||!zt(_.parentNode,"optgroup"))){if(u=m(_).val(),nt)return u;xt.push(u)}return xt},set:function(r,u){for(var _,C,B=r.options,U=m.makeArray(u),nt=B.length;nt--;)((C=B[nt]).selected=-1<m.inArray(m.valHooks.option.get(C),U))&&(_=!0);return _||(r.selectedIndex=-1),U}}}}),m.each(["radio","checkbox"],(function(){m.valHooks[this]={set:function(r,u){if(Array.isArray(u))return r.checked=-1<m.inArray(m(r).val(),u)}},tt.checkOn||(m.valHooks[this].get=function(r){return r.getAttribute("value")===null?"on":r.value})}));var dt=v.location,Nt={guid:Date.now()},Et=/\?/;m.parseXML=function(r){var u,_;if(!r||typeof r!="string")return null;try{u=new v.DOMParser().parseFromString(r,"text/xml")}catch(C){}return _=u&&u.getElementsByTagName("parsererror")[0],u&&!_||m.error("Invalid XML: "+(_?m.map(_.childNodes,(function(C){return C.textContent})).join(`
`):r)),u};var Qt=/^(?:focusinfocus|focusoutblur)$/,Ht=function(r){r.stopPropagation()};m.extend(m.event,{trigger:function(r,u,_,C){var B,U,nt,xt,bt,Dt,ie,_e,Kt=[_||ut],ke=S.call(r,"type")?r.type:r,kn=S.call(r,"namespace")?r.namespace.split("."):[];if(U=_e=nt=_=_||ut,_.nodeType!==3&&_.nodeType!==8&&!Qt.test(ke+m.event.triggered)&&(-1<ke.indexOf(".")&&(ke=(kn=ke.split(".")).shift(),kn.sort()),bt=ke.indexOf(":")<0&&"on"+ke,(r=r[m.expando]?r:new m.Event(ke,p(r)=="object"&&r)).isTrigger=C?2:3,r.namespace=kn.join("."),r.rnamespace=r.namespace?new RegExp("(^|\\.)"+kn.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,r.result=void 0,r.target||(r.target=_),u=u==null?[r]:m.makeArray(u,[r]),ie=m.event.special[ke]||{},C||!ie.trigger||ie.trigger.apply(_,u)!==!1)){if(!C&&!ie.noBubble&&!At(_)){for(xt=ie.delegateType||ke,Qt.test(xt+ke)||(U=U.parentNode);U;U=U.parentNode)Kt.push(U),nt=U;nt===(_.ownerDocument||ut)&&Kt.push(nt.defaultView||nt.parentWindow||v)}for(B=0;(U=Kt[B++])&&!r.isPropagationStopped();)_e=U,r.type=1<B?xt:ie.bindType||ke,(Dt=(Xt.get(U,"events")||Object.create(null))[r.type]&&Xt.get(U,"handle"))&&Dt.apply(U,u),(Dt=bt&&U[bt])&&Dt.apply&&le(U)&&(r.result=Dt.apply(U,u),r.result===!1&&r.preventDefault());return r.type=ke,C||r.isDefaultPrevented()||ie._default&&ie._default.apply(Kt.pop(),u)!==!1||!le(_)||bt&&rt(_[ke])&&!At(_)&&((nt=_[bt])&&(_[bt]=null),m.event.triggered=ke,r.isPropagationStopped()&&_e.addEventListener(ke,Ht),_[ke](),r.isPropagationStopped()&&_e.removeEventListener(ke,Ht),m.event.triggered=void 0,nt&&(_[bt]=nt)),r.result}},simulate:function(r,u,_){var C=m.extend(new m.Event,_,{type:r,isSimulated:!0});m.event.trigger(C,null,u)}}),m.fn.extend({trigger:function(r,u){return this.each((function(){m.event.trigger(r,u,this)}))},triggerHandler:function(r,u){var _=this[0];if(_)return m.event.trigger(r,u,_,!0)}});var Vt=/\[\]$/,ne=/\r?\n/g,wn=/^(?:submit|button|image|reset|file)$/i,en=/^(?:input|select|textarea|keygen)/i;function ln(r,u,_,C){var B;if(Array.isArray(u))m.each(u,(function(U,nt){_||Vt.test(r)?C(r,nt):ln(r+"["+(p(nt)=="object"&&nt!=null?U:"")+"]",nt,_,C)}));else if(_||Ct(u)!=="object")C(r,u);else for(B in u)ln(r+"["+B+"]",u[B],_,C)}m.param=function(r,u){var _,C=[],B=function(U,nt){var xt=rt(nt)?nt():nt;C[C.length]=encodeURIComponent(U)+"="+encodeURIComponent(xt==null?"":xt)};if(r==null)return"";if(Array.isArray(r)||r.jquery&&!m.isPlainObject(r))m.each(r,(function(){B(this.name,this.value)}));else for(_ in r)ln(_,r[_],u,B);return C.join("&")},m.fn.extend({serialize:function(){return m.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var r=m.prop(this,"elements");return r?m.makeArray(r):this})).filter((function(){var r=this.type;return this.name&&!m(this).is(":disabled")&&en.test(this.nodeName)&&!wn.test(r)&&(this.checked||!Ce.test(r))})).map((function(r,u){var _=m(this).val();return _==null?null:Array.isArray(_)?m.map(_,(function(C){return{name:u.name,value:C.replace(ne,`\r
`)}})):{name:u.name,value:_.replace(ne,`\r
`)}})).get()}});var Tn=/%20/g,Di=/#.*$/,Ni=/([?&])_=[^&]*/,Fn=/^(.*?):[ \t]*([^\r\n]*)$/gm,ot=/^(?:GET|HEAD)$/,ht=/^\/\//,Rt={},Jt={},ye="*/".concat("*"),ue=ut.createElement("a");function Ne(r){return function(u,_){typeof u!="string"&&(_=u,u="*");var C,B=0,U=u.toLowerCase().match(on)||[];if(rt(_))for(;C=U[B++];)C[0]==="+"?(C=C.slice(1)||"*",(r[C]=r[C]||[]).unshift(_)):(r[C]=r[C]||[]).push(_)}}function Ve(r,u,_,C){var B={},U=r===Jt;function nt(xt){var bt;return B[xt]=!0,m.each(r[xt]||[],(function(Dt,ie){var _e=ie(u,_,C);return typeof _e!="string"||U||B[_e]?U?!(bt=_e):void 0:(u.dataTypes.unshift(_e),nt(_e),!1)})),bt}return nt(u.dataTypes[0])||!B["*"]&&nt("*")}function Qe(r,u){var _,C,B=m.ajaxSettings.flatOptions||{};for(_ in u)u[_]!==void 0&&((B[_]?r:C||(C={}))[_]=u[_]);return C&&m.extend(!0,r,C),r}ue.href=dt.href,m.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:dt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(dt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ye,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":m.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(r,u){return u?Qe(Qe(r,m.ajaxSettings),u):Qe(m.ajaxSettings,r)},ajaxPrefilter:Ne(Rt),ajaxTransport:Ne(Jt),ajax:function(r,u){p(r)=="object"&&(u=r,r=void 0),u=u||{};var _,C,B,U,nt,xt,bt,Dt,ie,_e,Kt=m.ajaxSetup({},u),ke=Kt.context||Kt,kn=Kt.context&&(ke.nodeType||ke.jquery)?m(ke):m.event,Vn=m.Deferred(),Qn=m.Callbacks("once memory"),Zi=Kt.statusCode||{},Ji={},ur={},hr="canceled",Yn={readyState:0,getResponseHeader:function(hi){var Wi;if(bt){if(!U)for(U={};Wi=Fn.exec(B);)U[Wi[1].toLowerCase()+" "]=(U[Wi[1].toLowerCase()+" "]||[]).concat(Wi[2]);Wi=U[hi.toLowerCase()+" "]}return Wi==null?null:Wi.join(", ")},getAllResponseHeaders:function(){return bt?B:null},setRequestHeader:function(hi,Wi){return bt==null&&(hi=ur[hi.toLowerCase()]=ur[hi.toLowerCase()]||hi,Ji[hi]=Wi),this},overrideMimeType:function(hi){return bt==null&&(Kt.mimeType=hi),this},statusCode:function(hi){var Wi;if(hi)if(bt)Yn.always(hi[Yn.status]);else for(Wi in hi)Zi[Wi]=[Zi[Wi],hi[Wi]];return this},abort:function(hi){var Wi=hi||hr;return _&&_.abort(Wi),ji(0,Wi),this}};if(Vn.promise(Yn),Kt.url=((r||Kt.url||dt.href)+"").replace(ht,dt.protocol+"//"),Kt.type=u.method||u.type||Kt.method||Kt.type,Kt.dataTypes=(Kt.dataType||"*").toLowerCase().match(on)||[""],Kt.crossDomain==null){xt=ut.createElement("a");try{xt.href=Kt.url,xt.href=xt.href,Kt.crossDomain=ue.protocol+"//"+ue.host!=xt.protocol+"//"+xt.host}catch(hi){Kt.crossDomain=!0}}if(Kt.data&&Kt.processData&&typeof Kt.data!="string"&&(Kt.data=m.param(Kt.data,Kt.traditional)),Ve(Rt,Kt,u,Yn),bt)return Yn;for(ie in(Dt=m.event&&Kt.global)&&m.active++==0&&m.event.trigger("ajaxStart"),Kt.type=Kt.type.toUpperCase(),Kt.hasContent=!ot.test(Kt.type),C=Kt.url.replace(Di,""),Kt.hasContent?Kt.data&&Kt.processData&&(Kt.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(Kt.data=Kt.data.replace(Tn,"+")):(_e=Kt.url.slice(C.length),Kt.data&&(Kt.processData||typeof Kt.data=="string")&&(C+=(Et.test(C)?"&":"?")+Kt.data,delete Kt.data),Kt.cache===!1&&(C=C.replace(Ni,"$1"),_e=(Et.test(C)?"&":"?")+"_="+Nt.guid+++_e),Kt.url=C+_e),Kt.ifModified&&(m.lastModified[C]&&Yn.setRequestHeader("If-Modified-Since",m.lastModified[C]),m.etag[C]&&Yn.setRequestHeader("If-None-Match",m.etag[C])),(Kt.data&&Kt.hasContent&&Kt.contentType!==!1||u.contentType)&&Yn.setRequestHeader("Content-Type",Kt.contentType),Yn.setRequestHeader("Accept",Kt.dataTypes[0]&&Kt.accepts[Kt.dataTypes[0]]?Kt.accepts[Kt.dataTypes[0]]+(Kt.dataTypes[0]!=="*"?", "+ye+"; q=0.01":""):Kt.accepts["*"]),Kt.headers)Yn.setRequestHeader(ie,Kt.headers[ie]);if(Kt.beforeSend&&(Kt.beforeSend.call(ke,Yn,Kt)===!1||bt))return Yn.abort();if(hr="abort",Qn.add(Kt.complete),Yn.done(Kt.success),Yn.fail(Kt.error),_=Ve(Jt,Kt,u,Yn)){if(Yn.readyState=1,Dt&&kn.trigger("ajaxSend",[Yn,Kt]),bt)return Yn;Kt.async&&0<Kt.timeout&&(nt=v.setTimeout((function(){Yn.abort("timeout")}),Kt.timeout));try{bt=!1,_.send(Ji,ji)}catch(hi){if(bt)throw hi;ji(-1,hi)}}else ji(-1,"No Transport");function ji(hi,Wi,Ar,Ir){var Sr,Dr,Er,Tr,Nr,ar=Wi;bt||(bt=!0,nt&&v.clearTimeout(nt),_=void 0,B=Ir||"",Yn.readyState=0<hi?4:0,Sr=200<=hi&&hi<300||hi===304,Ar&&(Tr=(function(or,tr,yi){for(var P,a,b,N,st=or.contents,Ot=or.dataTypes;Ot[0]==="*";)Ot.shift(),P===void 0&&(P=or.mimeType||tr.getResponseHeader("Content-Type"));if(P){for(a in st)if(st[a]&&st[a].test(P)){Ot.unshift(a);break}}if(Ot[0]in yi)b=Ot[0];else{for(a in yi){if(!Ot[0]||or.converters[a+" "+Ot[0]]){b=a;break}N||(N=a)}b=b||N}if(b)return b!==Ot[0]&&Ot.unshift(b),yi[b]})(Kt,Yn,Ar)),!Sr&&-1<m.inArray("script",Kt.dataTypes)&&m.inArray("json",Kt.dataTypes)<0&&(Kt.converters["text script"]=function(){}),Tr=(function(or,tr,yi,P){var a,b,N,st,Ot,we={},$e=or.dataTypes.slice();if($e[1])for(N in or.converters)we[N.toLowerCase()]=or.converters[N];for(b=$e.shift();b;)if(or.responseFields[b]&&(yi[or.responseFields[b]]=tr),!Ot&&P&&or.dataFilter&&(tr=or.dataFilter(tr,or.dataType)),Ot=b,b=$e.shift()){if(b==="*")b=Ot;else if(Ot!=="*"&&Ot!==b){if(!(N=we[Ot+" "+b]||we["* "+b])){for(a in we)if((st=a.split(" "))[1]===b&&(N=we[Ot+" "+st[0]]||we["* "+st[0]])){N===!0?N=we[a]:we[a]!==!0&&(b=st[0],$e.unshift(st[1]));break}}if(N!==!0)if(N&&or.throws)tr=N(tr);else try{tr=N(tr)}catch(Be){return{state:"parsererror",error:N?Be:"No conversion from "+Ot+" to "+b}}}}return{state:"success",data:tr}})(Kt,Tr,Yn,Sr),Sr?(Kt.ifModified&&((Nr=Yn.getResponseHeader("Last-Modified"))&&(m.lastModified[C]=Nr),(Nr=Yn.getResponseHeader("etag"))&&(m.etag[C]=Nr)),hi===204||Kt.type==="HEAD"?ar="nocontent":hi===304?ar="notmodified":(ar=Tr.state,Dr=Tr.data,Sr=!(Er=Tr.error))):(Er=ar,!hi&&ar||(ar="error",hi<0&&(hi=0))),Yn.status=hi,Yn.statusText=(Wi||ar)+"",Sr?Vn.resolveWith(ke,[Dr,ar,Yn]):Vn.rejectWith(ke,[Yn,ar,Er]),Yn.statusCode(Zi),Zi=void 0,Dt&&kn.trigger(Sr?"ajaxSuccess":"ajaxError",[Yn,Kt,Sr?Dr:Er]),Qn.fireWith(ke,[Yn,ar]),Dt&&(kn.trigger("ajaxComplete",[Yn,Kt]),--m.active||m.event.trigger("ajaxStop")))}return Yn},getJSON:function(r,u,_){return m.get(r,u,_,"json")},getScript:function(r,u){return m.get(r,void 0,u,"script")}}),m.each(["get","post"],(function(r,u){m[u]=function(_,C,B,U){return rt(C)&&(U=U||B,B=C,C=void 0),m.ajax(m.extend({url:_,type:u,dataType:U,data:C,success:B},m.isPlainObject(_)&&_))}})),m.ajaxPrefilter((function(r){var u;for(u in r.headers)u.toLowerCase()==="content-type"&&(r.contentType=r.headers[u]||"")})),m._evalUrl=function(r,u,_){return m.ajax({url:r,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(C){m.globalEval(C,u,_)}})},m.fn.extend({wrapAll:function(r){var u;return this[0]&&(rt(r)&&(r=r.call(this[0])),u=m(r,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&u.insertBefore(this[0]),u.map((function(){for(var _=this;_.firstElementChild;)_=_.firstElementChild;return _})).append(this)),this},wrapInner:function(r){return rt(r)?this.each((function(u){m(this).wrapInner(r.call(this,u))})):this.each((function(){var u=m(this),_=u.contents();_.length?_.wrapAll(r):u.append(r)}))},wrap:function(r){var u=rt(r);return this.each((function(_){m(this).wrapAll(u?r.call(this,_):r)}))},unwrap:function(r){return this.parent(r).not("body").each((function(){m(this).replaceWith(this.childNodes)})),this}}),m.expr.pseudos.hidden=function(r){return!m.expr.pseudos.visible(r)},m.expr.pseudos.visible=function(r){return!!(r.offsetWidth||r.offsetHeight||r.getClientRects().length)},m.ajaxSettings.xhr=function(){try{return new v.XMLHttpRequest}catch(r){}};var Nn={0:200,1223:204},ci=m.ajaxSettings.xhr();tt.cors=!!ci&&"withCredentials"in ci,tt.ajax=ci=!!ci,m.ajaxTransport((function(r){var u,_;if(tt.cors||ci&&!r.crossDomain)return{send:function(C,B){var U,nt=r.xhr();if(nt.open(r.type,r.url,r.async,r.username,r.password),r.xhrFields)for(U in r.xhrFields)nt[U]=r.xhrFields[U];for(U in r.mimeType&&nt.overrideMimeType&&nt.overrideMimeType(r.mimeType),r.crossDomain||C["X-Requested-With"]||(C["X-Requested-With"]="XMLHttpRequest"),C)nt.setRequestHeader(U,C[U]);u=function(xt){return function(){u&&(u=_=nt.onload=nt.onerror=nt.onabort=nt.ontimeout=nt.onreadystatechange=null,xt==="abort"?nt.abort():xt==="error"?typeof nt.status!="number"?B(0,"error"):B(nt.status,nt.statusText):B(Nn[nt.status]||nt.status,nt.statusText,(nt.responseType||"text")!=="text"||typeof nt.responseText!="string"?{binary:nt.response}:{text:nt.responseText},nt.getAllResponseHeaders()))}},nt.onload=u(),_=nt.onerror=nt.ontimeout=u("error"),nt.onabort!==void 0?nt.onabort=_:nt.onreadystatechange=function(){nt.readyState===4&&v.setTimeout((function(){u&&_()}))},u=u("abort");try{nt.send(r.hasContent&&r.data||null)}catch(xt){if(u)throw xt}},abort:function(){u&&u()}}})),m.ajaxPrefilter((function(r){r.crossDomain&&(r.contents.script=!1)})),m.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(r){return m.globalEval(r),r}}}),m.ajaxPrefilter("script",(function(r){r.cache===void 0&&(r.cache=!1),r.crossDomain&&(r.type="GET")})),m.ajaxTransport("script",(function(r){var u,_;if(r.crossDomain||r.scriptAttrs)return{send:function(C,B){u=m("<script>").attr(r.scriptAttrs||{}).prop({charset:r.scriptCharset,src:r.url}).on("load error",_=function(U){u.remove(),_=null,U&&B(U.type==="error"?404:200,U.type)}),ut.head.appendChild(u[0])},abort:function(){_&&_()}}}));var yt,ce=[],qe=/(=)\?(?=&|$)|\?\?/;m.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var r=ce.pop()||m.expando+"_"+Nt.guid++;return this[r]=!0,r}}),m.ajaxPrefilter("json jsonp",(function(r,u,_){var C,B,U,nt=r.jsonp!==!1&&(qe.test(r.url)?"url":typeof r.data=="string"&&(r.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&qe.test(r.data)&&"data");if(nt||r.dataTypes[0]==="jsonp")return C=r.jsonpCallback=rt(r.jsonpCallback)?r.jsonpCallback():r.jsonpCallback,nt?r[nt]=r[nt].replace(qe,"$1"+C):r.jsonp!==!1&&(r.url+=(Et.test(r.url)?"&":"?")+r.jsonp+"="+C),r.converters["script json"]=function(){return U||m.error(C+" was not called"),U[0]},r.dataTypes[0]="json",B=v[C],v[C]=function(){U=arguments},_.always((function(){B===void 0?m(v).removeProp(C):v[C]=B,r[C]&&(r.jsonpCallback=u.jsonpCallback,ce.push(C)),U&&rt(B)&&B(U[0]),U=B=void 0})),"script"})),tt.createHTMLDocument=((yt=ut.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",yt.childNodes.length===2),m.parseHTML=function(r,u,_){return typeof r!="string"?[]:(typeof u=="boolean"&&(_=u,u=!1),u||(tt.createHTMLDocument?((C=(u=ut.implementation.createHTMLDocument("")).createElement("base")).href=ut.location.href,u.head.appendChild(C)):u=ut),U=!_&&[],(B=an.exec(r))?[u.createElement(B[1])]:(B=We([r],u,U),U&&U.length&&m(U).remove(),m.merge([],B.childNodes)));var C,B,U},m.fn.load=function(r,u,_){var C,B,U,nt=this,xt=r.indexOf(" ");return-1<xt&&(C=k(r.slice(xt)),r=r.slice(0,xt)),rt(u)?(_=u,u=void 0):u&&p(u)=="object"&&(B="POST"),0<nt.length&&m.ajax({url:r,type:B||"GET",dataType:"html",data:u}).done((function(bt){U=arguments,nt.html(C?m("<div>").append(m.parseHTML(bt)).find(C):bt)})).always(_&&function(bt,Dt){nt.each((function(){_.apply(this,U||[bt.responseText,Dt,bt])}))}),this},m.expr.pseudos.animated=function(r){return m.grep(m.timers,(function(u){return r===u.elem})).length},m.offset={setOffset:function(r,u,_){var C,B,U,nt,xt,bt,Dt=m.css(r,"position"),ie=m(r),_e={};Dt==="static"&&(r.style.position="relative"),xt=ie.offset(),U=m.css(r,"top"),bt=m.css(r,"left"),(Dt==="absolute"||Dt==="fixed")&&-1<(U+bt).indexOf("auto")?(nt=(C=ie.position()).top,B=C.left):(nt=parseFloat(U)||0,B=parseFloat(bt)||0),rt(u)&&(u=u.call(r,_,m.extend({},xt))),u.top!=null&&(_e.top=u.top-xt.top+nt),u.left!=null&&(_e.left=u.left-xt.left+B),"using"in u?u.using.call(r,_e):ie.css(_e)}},m.fn.extend({offset:function(r){if(arguments.length)return r===void 0?this:this.each((function(B){m.offset.setOffset(this,r,B)}));var u,_,C=this[0];return C?C.getClientRects().length?(u=C.getBoundingClientRect(),_=C.ownerDocument.defaultView,{top:u.top+_.pageYOffset,left:u.left+_.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var r,u,_,C=this[0],B={top:0,left:0};if(m.css(C,"position")==="fixed")u=C.getBoundingClientRect();else{for(u=this.offset(),_=C.ownerDocument,r=C.offsetParent||_.documentElement;r&&(r===_.body||r===_.documentElement)&&m.css(r,"position")==="static";)r=r.parentNode;r&&r!==C&&r.nodeType===1&&((B=m(r).offset()).top+=m.css(r,"borderTopWidth",!0),B.left+=m.css(r,"borderLeftWidth",!0))}return{top:u.top-B.top-m.css(C,"marginTop",!0),left:u.left-B.left-m.css(C,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var r=this.offsetParent;r&&m.css(r,"position")==="static";)r=r.offsetParent;return r||zi}))}}),m.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(r,u){var _=u==="pageYOffset";m.fn[r]=function(C){return Ee(this,(function(B,U,nt){var xt;if(At(B)?xt=B:B.nodeType===9&&(xt=B.defaultView),nt===void 0)return xt?xt[u]:B[U];xt?xt.scrollTo(_?xt.pageXOffset:nt,_?nt:xt.pageYOffset):B[U]=nt}),r,C,arguments.length)}})),m.each(["top","left"],(function(r,u){m.cssHooks[u]=Mi(tt.pixelPosition,(function(_,C){if(C)return C=$i(_,u),xi.test(C)?m(_).position()[u]+"px":C}))})),m.each({Height:"height",Width:"width"},(function(r,u){m.each({padding:"inner"+r,content:u,"":"outer"+r},(function(_,C){m.fn[C]=function(B,U){var nt=arguments.length&&(_||typeof B!="boolean"),xt=_||(B===!0||U===!0?"margin":"border");return Ee(this,(function(bt,Dt,ie){var _e;return At(bt)?C.indexOf("outer")===0?bt["inner"+r]:bt.document.documentElement["client"+r]:bt.nodeType===9?(_e=bt.documentElement,Math.max(bt.body["scroll"+r],_e["scroll"+r],bt.body["offset"+r],_e["offset"+r],_e["client"+r])):ie===void 0?m.css(bt,Dt,xt):m.style(bt,Dt,ie,xt)}),u,nt?B:void 0,nt)}}))})),m.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(r,u){m.fn[u]=function(_){return this.on(u,_)}})),m.fn.extend({bind:function(r,u,_){return this.on(r,null,u,_)},unbind:function(r,u){return this.off(r,null,u)},delegate:function(r,u,_,C){return this.on(u,r,_,C)},undelegate:function(r,u,_){return arguments.length===1?this.off(r,"**"):this.off(u,r||"**",_)},hover:function(r,u){return this.on("mouseenter",r).on("mouseleave",u||r)}}),m.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(r,u){m.fn[u]=function(_,C){return 0<arguments.length?this.on(u,null,_,C):this.trigger(u)}}));var De=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;m.proxy=function(r,u){var _,C,B;if(typeof u=="string"&&(_=r[u],u=r,r=_),rt(r))return C=E.call(arguments,2),(B=function(){return r.apply(u||this,C.concat(E.call(arguments)))}).guid=r.guid=r.guid||m.guid++,B},m.holdReady=function(r){r?m.readyWait++:m.ready(!0)},m.isArray=Array.isArray,m.parseJSON=JSON.parse,m.nodeName=zt,m.isFunction=rt,m.isWindow=At,m.camelCase=Pt,m.type=Ct,m.now=Date.now,m.isNumeric=function(r){var u=m.type(r);return(u==="number"||u==="string")&&!isNaN(r-parseFloat(r))},m.trim=function(r){return r==null?"":(r+"").replace(De,"$1")},(c=function(){return m}.apply(T,[]))===void 0||(n.exports=c);var Ue=v.jQuery,di=v.$;return m.noConflict=function(r){return v.$===m&&(v.$=di),r&&v.jQuery===m&&(v.jQuery=Ue),m},g===void 0&&(v.jQuery=v.$=m),m}))}},__webpack_module_cache__={};function __webpack_require__(n){var T=__webpack_module_cache__[n];if(T!==void 0)return T.exports;var A=__webpack_module_cache__[n]={id:n,loaded:!1,exports:{}};return __webpack_modules__[n].call(A.exports,A,A.exports,__webpack_require__),A.loaded=!0,A.exports}__webpack_require__.amdO={},__webpack_require__.n=n=>{var T=n&&n.__esModule?()=>n.default:()=>n;return __webpack_require__.d(T,{a:T}),T},__webpack_require__.d=(n,T)=>{for(var A in T)__webpack_require__.o(T,A)&&!__webpack_require__.o(n,A)&&Object.defineProperty(n,A,{enumerable:!0,get:T[A]})},__webpack_require__.g=(function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(n){if(typeof window=="object")return window}})(),__webpack_require__.o=(n,T)=>Object.prototype.hasOwnProperty.call(n,T),__webpack_require__.r=n=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},__webpack_require__.nmd=n=>(n.paths=[],n.children||(n.children=[]),n);var __webpack_exports__={};(()=>{"use strict";var n={};__webpack_require__.r(n),__webpack_require__.d(n,{clear:()=>xn,getChildSetting:()=>Gt,getSetting:()=>kt,init:()=>Ct,isSupported:()=>St,removeChildSetting:()=>wt,removeSetting:()=>R,saveChildSetting:()=>Q,saveSetting:()=>zt});var T={};__webpack_require__.r(T),__webpack_require__.d(T,{clear:()=>Cn,getSetting:()=>Le,init:()=>ve,removeSetting:()=>vn,saveSetting:()=>Ie});var A={};__webpack_require__.r(A),__webpack_require__.d(A,{Decoder:()=>ue,Encoder:()=>Jt,PacketType:()=>Rt,protocol:()=>ht}),__webpack_require__(489),__webpack_require__(491);var c=__webpack_require__(33),p=__webpack_require__.n(c);__webpack_require__(883);function v(P){return v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},v(P)}function g(P,a){if(v(P)!=="object"||v(a)!=="object"||P instanceof Array)return a!==void 0?a:P;for(var b=Object.keys(Object.assign({},P,a)),N=b.length,st=0;st<N;st++)P[b[st]]=g(P[b[st]],a[b[st]]);return P}function M(){try{return(function(P){var a={};if(typeof P!="string")return a;var b=P.split("?");if(b.length<=1)return a;for(var N=b[1].split("#")[0].split("&"),st=0;st<N.length;st++){var Ot=N[st].split("=");Ot.length===2&&(a[Ot[0]]=decodeURIComponent(Ot[1]))}return a})(window.location.href)}catch(P){return{}}}function y(P,a,b){if(typeof P!="string"||typeof a!="string"||typeof b!="string")return P;var N=P.split("#");P=N[0];var st=a+"="+encodeURIComponent(b);return P.indexOf("?")>-1?P+="&"+st:P+="?"+st,N.length>1&&(P=P+"#"+N[1]),P}var E,F=function(){var P;try{P=document.location.protocol}catch(b){}if(typeof P=="string"){var a=P.match(/[\w]+/);P=a instanceof Array&&typeof a[0]=="string"?a[0]:"unknown"}return P},et,H,at={en:{"i.button_ok":"Ok","i.button_nok":"Cancel","i.button_retry":"Retry","i.generic_error_title":"Error","i.auth_title":"Authentication required","i.auth_text":"Enter your Escapp user credentials (email and password). For this authentication to be successful, you must have previously registered with your user to the escape room on the Escapp platform.","i.auth_title_wrong_credentials":"Authentication error","i.auth_text_wrong_credentials":"The credentials provided are not correct. You need to enter your Escapp user credentials (email and password). For this authentication to be successful, you must have previously registered with your user to the escape room on the Escapp platform.","i.auth_email_label":"Email","i.auth_password_label":"Password","i.connecton_error_title":"Connection Error","i.connecton_error_text":"Unable to connect to the Escapp platform.","i.completion_title":"\xA1Escape Room Completed!","i.completion_text":"\xA1Congratulations! You have completed the escape room. On the escapp platform you can check the ranking to see in which position you have ended.","i.initialization_error_title":"Escapp client initialization error","i.initialization_error_endpoint":"Escapp client could not be started correctly because the Escapp endpoint was not provided.","i.initialization_error_endpoint_format":"Escapp client could not be started correctly because the format of the provided Escapp endpoint is incorrect.","i.initialization_error_linkedPuzzleIds":"Escapp client could not be started correctly because neither resourceId nor linkedPuzzleIds were provided.","i.participation_error_NOT_ACTIVE":"You are a participant of this escape room but the turn you have signed up for has not started yet.","i.participation_error_NOT_AUTHENTICATED":"Authentication is required before submitting puzzle solutions.","i.participation_error_NOT_PARTICIPANT":"You are not a participant of this escape room.","i.participation_error_NOT_STARTED":"You are a participant of this escape room but you need to click on the 'Start' button in the Escapp platform in order to start the escape room.","i.participation_error_TOO_LATE":"You are a participant of this escape room but the turn you have signed up for has ended or you have run out of time.","i.puzzles_required":"You shouldn't be here. You must complete previous puzzles before accessing this one.","i.restore_title":"Status update","i.restore_auto_text":"A newer application status was found on the Escapp server. The application is going to be updated based on this status.","i.restore_request_text":"A newer application status was found on the Escapp server. Do you want to update the application based on this status? If you don't, your application could be in a different state than the rest of your team members.","i.start_title":"Do you want to start the escape room?","i.start_text":"Press 'Ok' to start the escape room right now or 'Cancel' to start it later.<br/>Once the escape room has been started, time will start to run and it cannot be stopped.","i.notification_start":"The Escape Room begins. Good luck #{team}!","i.notification_member_join":"#{member} has joined the Escape Room","i.notification_member_leave":"#{member} has left the Escape Room","i.notification_hint_new":"Your team has obtained a new hint. Access the Escapp platform to read it.","i.notification_puzzle_success":"Your team has solved a new puzzle.","i.notification_puzzle_success_end1":"\xA1Good job #{team}!","i.notification_puzzle_success_end2":"\xA1Well done #{team}!","i.notification_puzzle_success_end3":"\xA1Keep up the good work #{team}!","i.notification_ranking_1_up":"Congratulations #{team}! You are first in the leaderboard","i.notification_ranking_2_up":"Awesome #{team}! You are second in the leaderboard","i.notification_ranking_3_up":"Very good #{team}! You are third in the leaderboard","i.notification_ranking_1_same":"Very good #{team}, you continue leading the leaderboard!","i.notification_ranking_2_same":"Great #{team}, you continue second in the leaderboard!","i.notification_ranking_3_same":"Good #{team}, you continue third in the leaderboard!","i.notification_ranking_2_down":"#{teamOther} just overtook you in the leaderboard! Now you are second in the leaderboard","i.notification_ranking_3_down":"#{teamOther} just overtook you in the leaderboard! Now you are third in the leaderboard","i.notification_ranking_up":"#{team} has advanced to position #{position} in the leaderboard!","i.notification_ranking_down":"#{teamOther} just overtook you! #{team} is now at position #{position} in the leaderboard","i.notification_ranking_down_generic":"#{team} is now at position #{position} in the leaderboard","i.notification_ranking_generic":"#{team} is at position #{position} in the leaderboard","i.notification_ranking_1_other":"#{team} is now at the first position of the leaderboard!","i.notification_ranking_2_other":"#{team} is now at the second position of the leaderboard!","i.notification_ranking_3_other":"#{team} is now at the third position of the leaderboard!","i.notification_time_hours_and_minutes":"#{hours} hours and #{minutes} minutes to run out of time","i.notification_time_one_hour_and_minutes":"One hour and #{minutes} minutes to run out of time","i.notification_time_hours":"#{hours} hours to run out of time","i.notification_time_one_hour":"1 hour to run out of time","i.notification_time_minutes":"#{minutes} minutes to run out of time","i.notification_time_one_minute":"1 minute to run out of time","i.notification_time_runout":"Time's up!","i.notification_time_runout_title":"Escape room completed","i.not_supported_title":"Unsupported web browser","i.not_supported_text":"We are sorry. Your web browser does not allow to perform this activity. Try a different browser."},es:{"i.button_ok":"Ok","i.button_nok":"Cancelar","i.button_retry":"Reintentar","i.generic_error_title":"Error","i.auth_title":"Autenticaci\xF3n necesaria","i.auth_text":"Introduce las credenciales (correo y contrase\xF1a) de tu usuario en la plataforma Escapp. Para que esta autenticaci\xF3n tenga \xE9xito, previamente debes de haberte inscrito con tu usuario a la escape room en la plataforma Escapp.","i.auth_title_wrong_credentials":"Error de autenticaci\xF3n","i.auth_text_wrong_credentials":"Las credenciales aportadas no son correctas. Debes introducir las credenciales (correo y contrase\xF1a) de tu usuario en la plataforma Escapp. Para que esta autenticaci\xF3n tenga \xE9xito, previamente debes de haberte inscrito con tu usuario a la escape room en la plataforma Escapp.","i.auth_email_label":"Correo electr\xF3nico","i.auth_password_label":"Contrase\xF1a","i.connecton_error_title":"Error de conexi\xF3n","i.connecton_error_text":"No se ha podido conectar con la plataforma Escapp.","i.completion_title":"\xA1Escape Room Completada!","i.completion_text":"\xA1Enhorabuena! Has completado la escape room.<br/>En la <a href='#{escappURL}' target='_blank'>plataforma escapp</a> puedes consultar el ranking para ver en que posici\xF3n has finalizado.","i.initialization_error_title":"Error de inicializaci\xF3n de Escapp client","i.initialization_error_endpoint":"Escapp client no se pudo iniciar correctamente porque no se proporcion\xF3 la URL de la plataforma Escapp.","i.initialization_error_endpoint_format":"Escapp client no se pudo iniciar correctamente porque la URL proporcionada para acceder a la plataforma Escapp tiene un formato incorrecto.","i.initialization_error_linkedPuzzleIds":"Escapp client no se pudo iniciar correctamente porque no se ha proporcionado ni resourceId ni linkedPuzzleIds.","i.participation_error_NOT_ACTIVE":"Eres participante de esta escape room pero el turno al que te has apuntado a\xFAn no ha empezado.","i.participation_error_NOT_AUTHENTICATED":"Es necesario autenticarse antes de enviar soluciones de retos.","i.participation_error_NOT_PARTICIPANT":"No eres participante de esta escape room.","i.participation_error_NOT_STARTED":"Eres participante de esta escape room pero no le has dado al bot\xF3n de comenzar en la plataforma escapp.","i.participation_error_TOO_LATE":"Eres participante de esta escape room pero el turno al que te has apuntado ha terminado o te has quedado sin tiempo.","i.puzzles_required":"No deber\xEDas estar aqu\xED. Debes completar retos anteriores antes de acceder a este.","i.restore_title":"Actualizaci\xF3n de estado","i.restore_auto_text":"Se encontr\xF3 un estado m\xE1s reciente de la aplicaci\xF3n en el servidor de Escapp. Se va a actualizar la aplicaci\xF3n en base a este estado.","i.restore_request_text":"Se encontr\xF3 un estado m\xE1s reciente de la aplicaci\xF3n en el servidor de Escapp. \xBFDesea actualizar la aplicaci\xF3n en base a este estado? Si no lo hace su aplicaci\xF3n podr\xEDa estar en un estado diferente al del resto de miembros de su equipo.","i.start_title":"\xBFQuieres iniciar la escape room?","i.start_text":"Pulsa 'Ok' para empezar la escape room ahora mismo o 'Cancelar' para iniciarla en otro momento.<br/>Una vez iniciada la escape room, empezar\xE1 a correr el tiempo y \xE9ste no podr\xE1 ser detenido.","i.notification_start":"Empieza la Escape Room. \xA1Suerte #{team}!","i.notification_member_join":"#{member} se ha unido a la Escape Room","i.notification_member_leave":"#{member} ha abandonado la Escape Room","i.notification_hint_new":"Tu equipo ha conseguido una nueva pista. Accede a la plataforma Escapp para consultarla.","i.notification_puzzle_success":"Tu equipo ha superado un nuevo reto.","i.notification_puzzle_success_end1":"\xA1Buen trabajo #{team}!","i.notification_puzzle_success_end2":"\xA1Bien hecho #{team}!","i.notification_puzzle_success_end3":"\xA1Seguid as\xED #{team}!","i.notification_ranking_1_up":"\xA1Enhorabuena #{team}! Vais primeros en la clasificaci\xF3n!","i.notification_ranking_2_up":"\xA1Genial #{team}! Vais segundos en la clasificaci\xF3n","i.notification_ranking_3_up":"\xA1Muy bien #{team}! Vais terceros en la clasificaci\xF3n","i.notification_ranking_1_same":"Muy bien #{team}, \xA1segu\xEDs encabezando la clasificaci\xF3n!","i.notification_ranking_2_same":"Estupendo #{team}, \xA1segu\xEDs segundos en la clasificaci\xF3n!","i.notification_ranking_3_same":"Bien #{team}, \xA1segu\xEDs terceros en la clasificaci\xF3n!","i.notification_ranking_2_down":"\xA1#{teamOther} os acaba de adelantar en la clasificaci\xF3n! Ahora v\xE1is segundos","i.notification_ranking_3_down":"\xA1#{teamOther} os acaba de adelantar en la clasificaci\xF3n! Ahora v\xE1is terceros","i.notification_ranking_up":"\xA1#{team} ha avanzado a la #{position}\xBA posici\xF3n de la clasificaci\xF3n!","i.notification_ranking_down":"\xA1#{teamOther} os acaba de adelantar! #{team} ahora ocupa la #{position}\xBA posici\xF3n de la clasificaci\xF3n","i.notification_ranking_down_generic":"#{team} ahora ocupa la #{position}\xBA posici\xF3n de la clasificaci\xF3n","i.notification_ranking_generic":"#{team} est\xE1 en la #{position}\xBA posici\xF3n de la clasificaci\xF3n","i.notification_ranking_1_other":"#{teamOther} se ha colocado en la primera posici\xF3n de la clasificaci\xF3n","i.notification_ranking_2_other":"#{teamOther} se ha colocado en la segunda posici\xF3n de la clasificaci\xF3n","i.notification_ranking_3_other":"#{teamOther} se ha colocado en la tercera posici\xF3n de la clasificaci\xF3n","i.notification_time_hours_and_minutes":"Faltan #{hours} horas y #{minutes} minutos para que se agote el tiempo","i.notification_time_one_hour_and_minutes":"Falta 1 hora y #{minutes} minutos para que se agote el tiempo","i.notification_time_hours":"Faltan #{hours} horas para que se agote el tiempo","i.notification_time_one_hour":"Falta 1 hora para que se agote el tiempo","i.notification_time_minutes":"Faltan #{minutes} minutos para que se agote el tiempo","i.notification_time_one_minute":"Falta 1 minuto para que se agote el tiempo","i.notification_time_runout":"\xA1Se ha agotado el tiempo!","i.notification_time_runout_title":"Escape room finalizada","i.notsupported_title":"Navegador web no soportado","i.notsupported_text":"Lo sentimos. Su navegador web no permite realizar esta actividad. Pruebe con otro navegador."}};function z(P){return z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},z(P)}function S(P){if(et===void 0){var a={availableLocales:["es","en"],defaultLocale:"en",locale:void 0};if(H=g(a,P),et=at,z(P)=="object"&&z(P.locales)==="object"&&(et=g(et,P.locales),delete H.locales),q(H.defaultLocale)===!1&&(H.availableLocales!==void 0&&H.availableLocales instanceof Array&&H.availableLocales.length>0?H.defaultLocale=H.availableLocales[0]:H.defaultLocale=a.defaultLocale),q(H.locale)===!1){var b=(function(){var N=M();if(q(N.locale))return N.locale;var st=navigator.language||navigator.userLanguage;if(typeof st=="string"&&st.indexOf("-")!==-1&&(st=st.split("-")[0]),q(st))return st})();q(b)?H.locale=b:H.locale=H.defaultLocale}}}function q(P){return typeof P=="string"&&H.availableLocales.indexOf(P)!==-1}function V(P,a){return et[H.locale]!==void 0&&typeof et[H.locale][P]=="string"?tt(et[H.locale][P],a):H.locale!==H.defaultLocale&&et[H.defaultLocale]!==void 0&&typeof et[H.defaultLocale][P]=="string"?tt(et[H.defaultLocale][P],a):H.locale!=="EN"&&H.defaultLocale!=="EN"&&et.en!==void 0&&typeof et.en[P]=="string"?tt(et.en[P],a):void 0}function tt(P,a){if(z(a)!=="object")return P;for(var b in a){var N="#{"+b+"}";P.indexOf(N)!==-1&&(st=P,Ot=N,we=a[b],P=st.replace(new RegExp(Ot.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),we))}var st,Ot,we;return P}function rt(P){return rt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},rt(P)}var At,ut,ft=!1,G=!1;function Ct(P,a){At===void 0&&typeof P=="string"&&(At=P,ft=St(),G=ft&&!a)}function St(){return!!window.localStorage&&typeof localStorage.getItem=="function"&&typeof localStorage.setItem=="function"&&typeof localStorage.removeItem=="function"}function te(){if(!G)return{};var P=localStorage.getItem(At);if(P==null)return{};try{return JSON.parse(P)}catch(a){return{}}}function m(P){if(G){try{P=JSON.stringify(P),localStorage.setItem(At,P)}catch(a){return}return P}}function kt(P){if(G){var a=te();return rt(a)==="object"?a[P]:void 0}}function zt(P,a){if(G){var b=te();return rt(b)==="object"?(b[P]=a,m(b)):void 0}}function R(P){if(G){var a=te();return rt(a)==="object"?(delete a[P],m(a)):void 0}}function xn(){ft&&localStorage.removeItem(At)}function Gt(P,a){if(G){var b=kt(P);return rt(b)==="object"?b[a]:void 0}}function Q(P,a,b){if(G){var N=kt(P);return N===void 0&&(N={}),rt(N)==="object"?(N[a]=b,zt(P,N)):void 0}}function wt(P,a){if(G){var b=kt(P);return rt(b)==="object"?(delete b[a],zt(P,b)):void 0}}var d=!1,pe="appData";function ve(P,a){d=(ut=P)!==void 0&&!a}function Le(P){return d?ut.getChildSetting(pe,P):void 0}function Ie(P,a){return d?ut.saveChildSetting(pe,P,a):void 0}function vn(P){return d?ut.removeChildSetting(pe,P):void 0}function Cn(){return d?ut.removeSetting(pe):void 0}const an=(function(){function P(pt,qt){var jt=(65535&pt)+(65535&qt);return(pt>>16)+(qt>>16)+(jt>>16)<<16|65535&jt}function a(pt,qt,jt,rn,An,ni){return P((Wn=P(P(qt,pt),P(rn,ni)))<<(Se=An)|Wn>>>32-Se,jt);var Wn,Se}function b(pt,qt,jt,rn,An,ni,Wn){return a(qt&jt|~qt&rn,pt,qt,An,ni,Wn)}function N(pt,qt,jt,rn,An,ni,Wn){return a(qt&rn|jt&~rn,pt,qt,An,ni,Wn)}function st(pt,qt,jt,rn,An,ni,Wn){return a(qt^jt^rn,pt,qt,An,ni,Wn)}function Ot(pt,qt,jt,rn,An,ni,Wn){return a(jt^(qt|~rn),pt,qt,An,ni,Wn)}function we(pt,qt){var jt,rn,An,ni,Wn;pt[qt>>5]|=128<<qt%32,pt[14+(qt+64>>>9<<4)]=qt;var Se=1732584193,Re=-271733879,Y=-1732584194,ct=271733878;for(jt=0;jt<pt.length;jt+=16)rn=Se,An=Re,ni=Y,Wn=ct,Se=b(Se,Re,Y,ct,pt[jt],7,-680876936),ct=b(ct,Se,Re,Y,pt[jt+1],12,-389564586),Y=b(Y,ct,Se,Re,pt[jt+2],17,606105819),Re=b(Re,Y,ct,Se,pt[jt+3],22,-1044525330),Se=b(Se,Re,Y,ct,pt[jt+4],7,-176418897),ct=b(ct,Se,Re,Y,pt[jt+5],12,1200080426),Y=b(Y,ct,Se,Re,pt[jt+6],17,-1473231341),Re=b(Re,Y,ct,Se,pt[jt+7],22,-45705983),Se=b(Se,Re,Y,ct,pt[jt+8],7,1770035416),ct=b(ct,Se,Re,Y,pt[jt+9],12,-1958414417),Y=b(Y,ct,Se,Re,pt[jt+10],17,-42063),Re=b(Re,Y,ct,Se,pt[jt+11],22,-1990404162),Se=b(Se,Re,Y,ct,pt[jt+12],7,1804603682),ct=b(ct,Se,Re,Y,pt[jt+13],12,-40341101),Y=b(Y,ct,Se,Re,pt[jt+14],17,-1502002290),Se=N(Se,Re=b(Re,Y,ct,Se,pt[jt+15],22,1236535329),Y,ct,pt[jt+1],5,-165796510),ct=N(ct,Se,Re,Y,pt[jt+6],9,-1069501632),Y=N(Y,ct,Se,Re,pt[jt+11],14,643717713),Re=N(Re,Y,ct,Se,pt[jt],20,-373897302),Se=N(Se,Re,Y,ct,pt[jt+5],5,-701558691),ct=N(ct,Se,Re,Y,pt[jt+10],9,38016083),Y=N(Y,ct,Se,Re,pt[jt+15],14,-660478335),Re=N(Re,Y,ct,Se,pt[jt+4],20,-405537848),Se=N(Se,Re,Y,ct,pt[jt+9],5,568446438),ct=N(ct,Se,Re,Y,pt[jt+14],9,-1019803690),Y=N(Y,ct,Se,Re,pt[jt+3],14,-187363961),Re=N(Re,Y,ct,Se,pt[jt+8],20,1163531501),Se=N(Se,Re,Y,ct,pt[jt+13],5,-1444681467),ct=N(ct,Se,Re,Y,pt[jt+2],9,-51403784),Y=N(Y,ct,Se,Re,pt[jt+7],14,1735328473),Se=st(Se,Re=N(Re,Y,ct,Se,pt[jt+12],20,-1926607734),Y,ct,pt[jt+5],4,-378558),ct=st(ct,Se,Re,Y,pt[jt+8],11,-2022574463),Y=st(Y,ct,Se,Re,pt[jt+11],16,1839030562),Re=st(Re,Y,ct,Se,pt[jt+14],23,-35309556),Se=st(Se,Re,Y,ct,pt[jt+1],4,-1530992060),ct=st(ct,Se,Re,Y,pt[jt+4],11,1272893353),Y=st(Y,ct,Se,Re,pt[jt+7],16,-155497632),Re=st(Re,Y,ct,Se,pt[jt+10],23,-1094730640),Se=st(Se,Re,Y,ct,pt[jt+13],4,681279174),ct=st(ct,Se,Re,Y,pt[jt],11,-358537222),Y=st(Y,ct,Se,Re,pt[jt+3],16,-722521979),Re=st(Re,Y,ct,Se,pt[jt+6],23,76029189),Se=st(Se,Re,Y,ct,pt[jt+9],4,-640364487),ct=st(ct,Se,Re,Y,pt[jt+12],11,-421815835),Y=st(Y,ct,Se,Re,pt[jt+15],16,530742520),Se=Ot(Se,Re=st(Re,Y,ct,Se,pt[jt+2],23,-995338651),Y,ct,pt[jt],6,-198630844),ct=Ot(ct,Se,Re,Y,pt[jt+7],10,1126891415),Y=Ot(Y,ct,Se,Re,pt[jt+14],15,-1416354905),Re=Ot(Re,Y,ct,Se,pt[jt+5],21,-57434055),Se=Ot(Se,Re,Y,ct,pt[jt+12],6,1700485571),ct=Ot(ct,Se,Re,Y,pt[jt+3],10,-1894986606),Y=Ot(Y,ct,Se,Re,pt[jt+10],15,-1051523),Re=Ot(Re,Y,ct,Se,pt[jt+1],21,-2054922799),Se=Ot(Se,Re,Y,ct,pt[jt+8],6,1873313359),ct=Ot(ct,Se,Re,Y,pt[jt+15],10,-30611744),Y=Ot(Y,ct,Se,Re,pt[jt+6],15,-1560198380),Re=Ot(Re,Y,ct,Se,pt[jt+13],21,1309151649),Se=Ot(Se,Re,Y,ct,pt[jt+4],6,-145523070),ct=Ot(ct,Se,Re,Y,pt[jt+11],10,-1120210379),Y=Ot(Y,ct,Se,Re,pt[jt+2],15,718787259),Re=Ot(Re,Y,ct,Se,pt[jt+9],21,-343485551),Se=P(Se,rn),Re=P(Re,An),Y=P(Y,ni),ct=P(ct,Wn);return[Se,Re,Y,ct]}function $e(pt){var qt,jt="",rn=32*pt.length;for(qt=0;qt<rn;qt+=8)jt+=String.fromCharCode(pt[qt>>5]>>>qt%32&255);return jt}function Be(pt){var qt,jt=[];for(jt[(pt.length>>2)-1]=void 0,qt=0;qt<jt.length;qt+=1)jt[qt]=0;var rn=8*pt.length;for(qt=0;qt<rn;qt+=8)jt[qt>>5]|=(255&pt.charCodeAt(qt/8))<<qt%32;return jt}function Rn(pt){var qt,jt,rn="0123456789abcdef",An="";for(jt=0;jt<pt.length;jt+=1)qt=pt.charCodeAt(jt),An+=rn.charAt(qt>>>4&15)+rn.charAt(15&qt);return An}function un(pt){return unescape(encodeURIComponent(pt))}function lt(pt){return(function(qt){return $e(we(Be(qt),8*qt.length))})(un(pt))}function Tt(pt,qt){return(function(jt,rn){var An,ni,Wn=Be(jt),Se=[],Re=[];for(Se[15]=Re[15]=void 0,Wn.length>16&&(Wn=we(Wn,8*jt.length)),An=0;An<16;An+=1)Se[An]=909522486^Wn[An],Re[An]=1549556828^Wn[An];return ni=we(Se.concat(Be(rn)),512+8*rn.length),$e(we(Re.concat(ni),640))})(un(pt),un(qt))}return function(pt,qt,jt){return qt?jt?Tt(qt,pt):Rn(Tt(qt,pt)):jt?lt(pt):Rn(lt(pt))}})();var si=__webpack_require__(329),$n=!1,Ii=void 0;function qi(P){$n!==!0&&($n=!0,Ii=P)}function Bt(P){return Bt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Bt(P)}function be(P){return(function(a){if(Array.isArray(a))return on(a)})(P)||(function(a){if(typeof Symbol!="undefined"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)})(P)||(function(a,b){if(a){if(typeof a=="string")return on(a,b);var N={}.toString.call(a).slice(8,-1);return N==="Object"&&a.constructor&&(N=a.constructor.name),N==="Map"||N==="Set"?Array.from(a):N==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N)?on(a,b):void 0}})(P)||(function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function on(P,a){(a==null||a>P.length)&&(a=P.length);for(var b=0,N=Array(a);b<a;b++)N[b]=P[b];return N}function Bn(P,a){for(var b=0;b<a.length;b++){var N=a[b];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(P,Si(N.key),N)}}function Si(P){var a=(function(b,N){if(Bt(b)!="object"||!b)return b;var st=b[Symbol.toPrimitive];if(st!==void 0){var Ot=st.call(b,N||"default");if(Bt(Ot)!="object")return Ot;throw new TypeError("@@toPrimitive must return a primitive value.")}return(N==="string"?String:Number)(b)})(P,"string");return Bt(a)=="symbol"?a:a+""}const Li=(It=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],Zt=(function(){return P=function N(st){var Ot=st.targetModal,we=st.triggers,$e=we===void 0?[]:we,Be=st.onShow,Rn=Be===void 0?function(){}:Be,un=st.onClose,lt=un===void 0?function(){}:un,Tt=st.openTrigger,pt=Tt===void 0?"data-micromodal-trigger":Tt,qt=st.closeTrigger,jt=qt===void 0?"data-micromodal-close":qt,rn=st.disableScroll,An=rn!==void 0&&rn,ni=st.disableFocus,Wn=ni!==void 0&&ni,Se=st.awaitCloseAnimation,Re=Se!==void 0&&Se,Y=st.awaitOpenAnimation,ct=Y!==void 0&&Y,Yt=st.debugMode,ae=Yt!==void 0&&Yt,Ae=st.inputs,dn=Ae===void 0?void 0:Ae,mn=st.buttons,Sn=mn===void 0?void 0:mn;(function(fn,Ti){if(!(fn instanceof Ti))throw new TypeError("Cannot call a class as a function")})(this,N),this.modal=document.getElementById(Ot),this.config={debugMode:ae,disableScroll:An,openTrigger:pt,closeTrigger:jt,onShow:Rn,onClose:lt,awaitCloseAnimation:Re,awaitOpenAnimation:ct,disableFocus:Wn,inputs:dn,buttons:Sn},$e.length>0&&this.registerTriggers.apply(this,be($e)),this.onClick=this.onClick.bind(this),this.onKeydown=this.onKeydown.bind(this),this.onInputKeyup=this.onInputKeyup.bind(this),dn!==void 0&&dn.length>0?(this.modal.classList.add("require-input"),this.modal.classList.add("invalid-input")):(this.modal.classList.remove("require-input"),this.modal.classList.remove("invalid-input"))},a=[{key:"registerTriggers",value:function(){for(var N=this,st=arguments.length,Ot=new Array(st),we=0;we<st;we++)Ot[we]=arguments[we];Ot.filter(Boolean).forEach((function($e){$e.addEventListener("click",(function(Be){return N.showModal(Be)}))}))}},{key:"showModal",value:function(){var N=this;if(this.activeElement=document.activeElement,this.modal.setAttribute("aria-hidden","false"),this.modal.classList.add("is-open"),this.scrollBehaviour("disable"),this.addEventListeners(),this.config.awaitOpenAnimation){var st=function(){N.modal.removeEventListener("animationend",st,!1),N.setFocusToFirstNode()};this.modal.addEventListener("animationend",st,!1)}else this.setFocusToFirstNode();this.config.onShow(this.modal,this.activeElement)}},{key:"closeModal",value:function(N){var st=this.modal;this.modal.setAttribute("aria-hidden","true"),this.removeEventListeners(),this.scrollBehaviour("enable"),this.activeElement&&this.activeElement.focus();var Ot={choice:void 0,inputs:[]};if(this.config.inputs!==void 0){for(var we=[],$e=0;$e<this.config.inputs.length;$e++){var Be=document.getElementById("escapp-modal-input"+($e+1));we.push(Be.value)}Ot.inputs=we}this.config.buttons!==void 0&&this.config.buttons instanceof Array&&this.config.buttons.length>0?(Ot.choice=!1,N!==void 0&&(N.keyCode===13&&typeof this.config.buttons[0].response=="string"?Ot.choice=this.config.buttons[0].response:N.target!==void 0&&typeof N.target.getAttribute("response")=="string"&&(Ot.choice=N.target.getAttribute("response")))):Ot.choice=!0,this.config.onClose(this.modal,Ot),this.config.awaitCloseAnimation?this.modal.addEventListener("animationend",(function Rn(){st.classList.remove("is-open"),st.removeEventListener("animationend",Rn,!1)}),!1):st.classList.remove("is-open")}},{key:"scrollBehaviour",value:function(N){if(this.config.disableScroll){var st=document.querySelector("body");switch(N){case"enable":Object.assign(st.style,{overflow:"",height:""});break;case"disable":Object.assign(st.style,{overflow:"hidden",height:"100vh"})}}}},{key:"addEventListeners",value:function(){if(this.modal.addEventListener("touchstart",this.onClick),this.modal.addEventListener("click",this.onClick),document.addEventListener("keydown",this.onKeydown),this.config.inputs!==void 0)for(var N=0;N<this.config.inputs.length;N++){var st=document.getElementById("escapp-modal-input"+(N+1));st&&st.addEventListener("keydown",this.onInputKeyup)}}},{key:"removeEventListeners",value:function(){if(this.modal.removeEventListener("touchstart",this.onClick),this.modal.removeEventListener("click",this.onClick),document.removeEventListener("keydown",this.onKeydown),this.config.inputs!==void 0)for(var N=0;N<this.config.inputs.length;N++){var st=document.getElementById("escapp-modal-input"+(N+1));st&&st.removeEventListener("keydown",this.onInputKeyup)}}},{key:"onClick",value:function(N){N.target.hasAttribute(this.config.closeTrigger)&&((N.target.classList.contains("ignore_input_validation")||this.validateInputs())&&this.closeModal(N),N.preventDefault())}},{key:"onKeydown",value:function(N){N.keyCode===27&&(this.config.inputs!==void 0||this.config.buttons!==void 0&&this.config.buttons.length!==1||(this.closeModal(N),N.preventDefault())),N.keyCode===13&&(!this.validateInputs()||this.config.buttons!==void 0&&this.config.buttons.length!==1||(this.closeModal(N),N.preventDefault())),N.keyCode===9&&this.maintainFocus(N)}},{key:"onInputKeyup",value:function(N){var st=this;setTimeout((function(){st.validateInputs()?st.modal.classList.remove("invalid-input"):st.modal.classList.add("invalid-input")}),20)}},{key:"getFocusableNodes",value:function(){var N=this.modal.querySelectorAll(It);return Array.apply(void 0,be(N))}},{key:"setFocusToFirstNode",value:function(){if(!this.config.disableFocus){var N=this.getFocusableNodes();N.length&&N[0].focus()}}},{key:"maintainFocus",value:function(N){var st=this.getFocusableNodes();if(this.modal.contains(document.activeElement)){var Ot=st.indexOf(document.activeElement);N.shiftKey&&Ot===0&&(st[st.length-1].focus(),N.preventDefault()),N.shiftKey||Ot!==st.length-1||(st[0].focus(),N.preventDefault())}else st[0].focus()}},{key:"validateInputs",value:function(){if(this.config.inputs===void 0||this.config.inputs.length===0)return!0;for(var N=0;N<this.config.inputs.length;N++){var st=document.getElementById("escapp-modal-input"+(N+1));if(this.validateInput(st,this.config.inputs[N])===!1)return!1}return!0}},{key:"validateInput",value:function(N,st){var Ot=N.value;return Ot!==""&&(typeof st.validate!="function"||st.validate(Ot))}}],a&&Bn(P.prototype,a),b&&Bn(P,b),Object.defineProperty(P,"prototype",{writable:!1}),P;var P,a,b})(),he=null,Ee=function(P){if(!document.getElementById(P))return console.warn("MicroModal: \u2757Seems like you have missed %c'".concat(P,"'"),"background-color: #f8f9fa;color: #50596c;font-weight: bold;","ID somewhere in your code. Refer example below to resolve it."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<div class="escapp-modal" id="'.concat(P,'"></div>')),!1},je=function(P,a){if((function(N){N.length<=0&&(console.warn("MicroModal: \u2757Please specify at least one %c'micromodal-trigger'","background-color: #f8f9fa;color: #50596c;font-weight: bold;","data attribute."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<a href="#" data-micromodal-trigger="my-modal"></a>'))})(P),!a)return!0;for(var b in a)Ee(b);return!0},se={init:function(P){var a=Object.assign({},{openTrigger:"data-micromodal-trigger"},P),b=be(document.querySelectorAll("[".concat(a.openTrigger,"]"))),N=(function(we,$e){var Be=[];return we.forEach((function(Rn){var un=Rn.attributes[$e].value;Be[un]===void 0&&(Be[un]=[]),Be[un].push(Rn)})),Be})(b,a.openTrigger);if(a.debugMode!==!0||je(b,N)!==!1)for(var st in N){var Ot=N[st];a.targetModal=st,a.triggers=be(Ot),he=new Zt(a)}},show:function(P,a){var b=a||{};b.targetModal=P,b.debugMode===!0&&Ee(P)===!1||(he=new Zt(b)).showModal()},close:function(P,a){(a||{}).targetModal=P,P&&(he.modal=document.getElementById(P)),typeof a.onClose=="function"&&(he.config.onClose=a.onClose),he.closeModal()}},se);var It,Zt,he,Ee,je,se,mt,Pt=__webpack_require__(883),le=!1;function Oe(P){if(Pt("#escapp-modal").hasClass("is-open"))Li.close("escapp-modal",{onClose:function(Ot,we){setTimeout((function(){Oe(P)}),50)}});else{var a;if(Pt("#escapp-modal-title").html(P.title),Pt("#escapp-modal-content p.content").html(P.text),Pt(".escapp-modal-input").remove(),typeof P.img=="string"?(Pt("#escapp-modal .escapp-modal__content div.escapp_content_img_wrapper img").attr("src",P.img),Pt("#escapp-modal .escapp-modal__content div.escapp_content_img_wrapper").show()):(Pt("#escapp-modal .escapp-modal__content div.escapp_content_img_wrapper img").attr("src",""),Pt("#escapp-modal .escapp-modal__content div.escapp_content_img_wrapper").hide()),P.escapp!==!1)a="logo";else{var b=["logo","lock"].indexOf(P.icon);b!==-1&&(a=["logo","lock"][b])}if(a===void 0?Pt("div.escapp-modal__container img.dialog_corner").hide():(Pt("div.escapp-modal__container img.dialog_corner."+a).show(),Pt("div.escapp-modal__container img.dialog_corner:not(."+a+")").hide()),P.inputs instanceof Array&&P.inputs.length>0)for(var N=0;N<P.inputs.length;N++)Pt("#escapp-modal-content").append('<p><input id="escapp-modal-input'+(N+1)+'" class="escapp-modal-input" type="text" spellcheck="false"/></p>'),typeof P.inputs[N].type=="string"&&Pt("#escapp-modal-input"+(N+1)).attr("type",P.inputs[N].type),typeof P.inputs[N].label=="string"&&Pt("#escapp-modal-input"+(N+1)).attr("placeholder",P.inputs[N].label),typeof P.inputs[N].autocomplete=="string"&&Pt("#escapp-modal-input"+(N+1)).attr("autocomplete",P.inputs[N].autocomplete);if(Pt("footer.escapp-modal__footer .escapp-modal__btn").remove(),P.buttons instanceof Array)for(var st=P.buttons.length-1;st>=0;st--)Pt("footer.escapp-modal__footer").append('<button id="escapp-modal-button'+(st+1)+'"class="escapp-modal__btn" data-micromodal-close>'+P.buttons[st].label+"</button>"),typeof P.buttons[st].response=="string"&&Pt("#escapp-modal-button"+(st+1)).attr("response",P.buttons[st].response),P.buttons[st].ignoreInputs===!0&&Pt("#escapp-modal-button"+(st+1)).addClass("ignore_input_validation");else Pt("footer.escapp-modal__footer").append('<button class="escapp-modal__btn" data-micromodal-close>'+V("i.button_ok")+"</button>");P.escapp!==!1?(Pt("#escapp-modal").addClass("escapp_dialog"),Pt("#escapp-modal").removeClass("escapp_custom_dialog")):(Pt("#escapp-modal").removeClass("escapp_dialog"),Pt("#escapp-modal").addClass("escapp_custom_dialog")),Li.show("escapp-modal",{onShow:function(Ot,we){typeof P.openCallback=="function"&&P.openCallback()},onClose:function(Ot,we){typeof P.closeCallback=="function"&&P.closeCallback(we)},inputs:P.inputs,buttons:P.buttons})}}__webpack_require__(20);var Xt=__webpack_require__(883);function Ze(P){return Ze=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Ze(P)}var Je,yn=!1,Ln=!1,sn=!1,_n=0;function pi(P){if(yn!==!0){switch(yn=!0,P.enabled){case!0:Ln=!0;break;case"FALSE_IF_EMBED":Ln=(function(){if(typeof E=="boolean")return E;var a=!0;try{a=window.location!==window.parent.location}catch(b){}return E=a,a})()===!1;break;default:Ln=!1}Xt.notify.addStyle("escapp",{html:`<div>
<span data-notify-text></span>
</div>`})}}function zi(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Ln===!0&&Ze(P)==="object"&&typeof P.text=="string"&&P.text.trim()!=="")switch(P.escapp===!0&&(P.type="event"),["ranking","info","warning","event","time","error"].indexOf(P.type)===-1&&(P.type="event"),P.type){case"ranking":return(function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},b=g(a,{className:"ranking"});return Mt(b)})(P);case"info":return(function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},b=g(a,{className:"info"});return Mt(b)})(P);case"warning":return(function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},b=g(a,{className:"warn",autoHide:!1});return Mt(b)})(P);case"event":return(function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},b=g(a,{className:"event"});return Mt(b)})(P);case"time":return(function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},b=g(a,{className:"time"});return Mt(b)})(P);case"error":return(function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},b=g(a,{className:"error",autoHide:!1});return Mt(b)})(P);default:return}}function Mt(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=ai(P.text),b=g({className:"event",style:"escapp",clickToHide:!0,autoHide:!0,autoHideDelay:ai(P.text),globalPosition:"top right",showAnimation:"fadeIn",showDuration:600,hideAnimation:"fadeOut",hideDuration:600,gap:0},P);["success","info","warn","error","ranking","event"].indexOf(P.className)===-1&&(P.className="event"),_n=a,sn===!1&&(sn=!0,Je=setInterval((function(){(_n=Math.max(0,_n-1e3))===0&&Je!==void 0&&(clearInterval(Je),sn=!1)}),1e3)),Xt.notify(b.text,b)}function ai(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return _n+Math.min(2e4,Math.max(4e3,1e3+500*P.split(" ").length))}var tn={maxCount:150,speed:2,frameInterval:15,alpha:1,gradient:!1,start:null,stop:null,toggle:null,pause:null,resume:null,togglePause:null,remove:null,isPaused:null,isRunning:null};tn.start=We,tn.stop=Jn,tn.toggle=function(){gt?Jn():We()},tn.pause=Fe,tn.resume=bn,tn.togglePause=function(){Lt?bn():Fe()},tn.isPaused=function(){return Lt},tn.remove=function(){stop(),Lt=!1,Ce=[]},tn.isRunning=function(){return gt};var Pi=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame,_t=["rgba(30,144,255,","rgba(107,142,35,","rgba(255,215,0,","rgba(255,192,203,","rgba(106,90,205,","rgba(173,216,230,","rgba(238,130,238,","rgba(152,251,152,","rgba(70,130,180,","rgba(244,164,96,","rgba(210,105,30,","rgba(220,20,60,"],gt=!1,Lt=!1,de=Date.now(),Ce=[],ge=0,ze=null;function Me(P,a,b){return P.color=_t[Math.random()*_t.length|0]+(tn.alpha+")"),P.color2=_t[Math.random()*_t.length|0]+(tn.alpha+")"),P.x=Math.random()*a,P.y=Math.random()*b-b,P.diameter=10*Math.random()+5,P.tilt=10*Math.random()-10,P.tiltAngleIncrement=.07*Math.random()+.05,P.tiltAngle=Math.random()*Math.PI,P}function Fe(){Lt=!0}function bn(){Lt=!1,Ge()}function Ge(){if(!Lt)if(Ce.length===0)ze.clearRect(0,0,window.innerWidth,window.innerHeight);else{var P=Date.now(),a=P-de;(!Pi||a>tn.frameInterval)&&(ze.clearRect(0,0,window.innerWidth,window.innerHeight),(function(){var b,N=window.innerWidth,st=window.innerHeight;ge+=.01;for(var Ot=0;Ot<Ce.length;Ot++)b=Ce[Ot],!gt&&b.y<-15?b.y=st+100:(b.tiltAngle+=b.tiltAngleIncrement,b.x+=Math.sin(ge)-.5,b.y+=.5*(Math.cos(ge)+b.diameter+tn.speed),b.tilt=15*Math.sin(b.tiltAngle)),(b.x>N+20||b.x<-20||b.y>st)&&(gt&&Ce.length<=tn.maxCount?Me(b,N,st):(Ce.splice(Ot,1),Ot--))})(),(function(b){for(var N,st,Ot,we,$e=0;$e<Ce.length;$e++){if(N=Ce[$e],b.beginPath(),b.lineWidth=N.diameter,st=(Ot=N.x+N.tilt)+N.diameter/2,we=N.y+N.tilt+N.diameter/2,tn.gradient){var Be=b.createLinearGradient(st,N.y,Ot,we);Be.addColorStop("0",N.color),Be.addColorStop("1.0",N.color2),b.strokeStyle=Be}else b.strokeStyle=N.color;b.moveTo(st,N.y),b.lineTo(Ot,we),b.stroke()}})(ze),de=P-a%tn.frameInterval),requestAnimationFrame(Ge)}}function We(P,a,b){var N=window.innerWidth,st=window.innerHeight;window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(Be){return window.setTimeout(Be,tn.frameInterval)};var Ot=document.getElementById("confetti-canvas");Ot===null?((Ot=document.createElement("canvas")).setAttribute("id","confetti-canvas"),Ot.setAttribute("style","display:block;z-index:999999;pointer-events:none;position:fixed;top:0"),document.body.prepend(Ot),Ot.width=N,Ot.height=st,window.addEventListener("resize",(function(){Ot.width=window.innerWidth,Ot.height=window.innerHeight}),!0),ze=Ot.getContext("2d")):ze===null&&(ze=Ot.getContext("2d"));var we=tn.maxCount;if(a)if(b)if(a==b)we=Ce.length+b;else{if(a>b){var $e=a;a=b,b=$e}we=Ce.length+(Math.random()*(b-a)+a|0)}else we=Ce.length+a;else b&&(we=Ce.length+b);for(;Ce.length<we;)Ce.push(Me({},N,st));gt=!0,Lt=!1,Ge(),P&&window.setTimeout(Jn,P)}function Jn(){gt=!1}var zn=!1,jn=[];const On=Object.create(null);On.open="0",On.close="1",On.ping="2",On.pong="3",On.message="4",On.upgrade="5",On.noop="6";const Dn=Object.create(null);Object.keys(On).forEach((P=>{Dn[On[P]]=P}));const vi={type:"error",data:"parser error"},_i=typeof Blob=="function"||typeof Blob!="undefined"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",gi=typeof ArrayBuffer=="function",ri=P=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(P):P&&P.buffer instanceof ArrayBuffer,Un=({type:P,data:a},b,N)=>_i&&a instanceof Blob?b?N(a):ti(a,N):gi&&(a instanceof ArrayBuffer||ri(a))?b?N(a):ti(new Blob([a]),N):N(On[P]+(a||"")),ti=(P,a)=>{const b=new FileReader;return b.onload=function(){const N=b.result.split(",")[1];a("b"+(N||""))},b.readAsDataURL(P)};function li(P){return P instanceof Uint8Array?P:P instanceof ArrayBuffer?new Uint8Array(P):new Uint8Array(P.buffer,P.byteOffset,P.byteLength)}let ei;const mi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xi=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(let P=0;P<64;P++)xi[mi.charCodeAt(P)]=P;const Bi=typeof ArrayBuffer=="function",Ui=(P,a)=>{if(typeof P!="string")return{type:"message",data:er(P,a)};const b=P.charAt(0);return b==="b"?{type:"message",data:ir(P.substring(1),a)}:Dn[b]?P.length>1?{type:Dn[b],data:P.substring(1)}:{type:Dn[b]}:vi},ir=(P,a)=>{if(Bi){const b=(N=>{let st,Ot,we,$e,Be,Rn=.75*N.length,un=N.length,lt=0;N[N.length-1]==="="&&(Rn--,N[N.length-2]==="="&&Rn--);const Tt=new ArrayBuffer(Rn),pt=new Uint8Array(Tt);for(st=0;st<un;st+=4)Ot=xi[N.charCodeAt(st)],we=xi[N.charCodeAt(st+1)],$e=xi[N.charCodeAt(st+2)],Be=xi[N.charCodeAt(st+3)],pt[lt++]=Ot<<2|we>>4,pt[lt++]=(15&we)<<4|$e>>2,pt[lt++]=(3&$e)<<6|63&Be;return Tt})(P);return er(b,a)}return{base64:!0,data:P}},er=(P,a)=>a==="blob"?P instanceof Blob?P:new Blob([P]):P instanceof ArrayBuffer?P:P.buffer,$i="";function Mi(){return new TransformStream({transform(P,a){(function(b,N){_i&&b.data instanceof Blob?b.data.arrayBuffer().then(li).then(N):gi&&(b.data instanceof ArrayBuffer||ri(b.data))?N(li(b.data)):Un(b,!1,(st=>{ei||(ei=new TextEncoder),N(ei.encode(st))}))})(P,(b=>{const N=b.length;let st;if(N<126)st=new Uint8Array(1),new DataView(st.buffer).setUint8(0,N);else if(N<65536){st=new Uint8Array(3);const Ot=new DataView(st.buffer);Ot.setUint8(0,126),Ot.setUint16(1,N)}else{st=new Uint8Array(9);const Ot=new DataView(st.buffer);Ot.setUint8(0,127),Ot.setBigUint64(1,BigInt(N))}P.data&&typeof P.data!="string"&&(st[0]|=128),a.enqueue(st),a.enqueue(b)}))}})}let me;function hn(P){return P.reduce(((a,b)=>a+b.length),0)}function In(P,a){if(P[0].length===a)return P.shift();const b=new Uint8Array(a);let N=0;for(let st=0;st<a;st++)b[st]=P[0][N++],N===P[0].length&&(P.shift(),N=0);return P.length&&N<P[0].length&&(P[0]=P[0].slice(N)),b}function gn(P){if(P)return(function(a){for(var b in gn.prototype)a[b]=gn.prototype[b];return a})(P)}gn.prototype.on=gn.prototype.addEventListener=function(P,a){return this._callbacks=this._callbacks||{},(this._callbacks["$"+P]=this._callbacks["$"+P]||[]).push(a),this},gn.prototype.once=function(P,a){function b(){this.off(P,b),a.apply(this,arguments)}return b.fn=a,this.on(P,b),this},gn.prototype.off=gn.prototype.removeListener=gn.prototype.removeAllListeners=gn.prototype.removeEventListener=function(P,a){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var b,N=this._callbacks["$"+P];if(!N)return this;if(arguments.length==1)return delete this._callbacks["$"+P],this;for(var st=0;st<N.length;st++)if((b=N[st])===a||b.fn===a){N.splice(st,1);break}return N.length===0&&delete this._callbacks["$"+P],this},gn.prototype.emit=function(P){this._callbacks=this._callbacks||{};for(var a=new Array(arguments.length-1),b=this._callbacks["$"+P],N=1;N<arguments.length;N++)a[N-1]=arguments[N];if(b){N=0;for(var st=(b=b.slice(0)).length;N<st;++N)b[N].apply(this,a)}return this},gn.prototype.emitReserved=gn.prototype.emit,gn.prototype.listeners=function(P){return this._callbacks=this._callbacks||{},this._callbacks["$"+P]||[]},gn.prototype.hasListeners=function(P){return!!this.listeners(P).length};const Mn=typeof Promise=="function"&&typeof Promise.resolve=="function"?P=>Promise.resolve().then(P):(P,a)=>a(P,0),Xn=typeof self!="undefined"?self:typeof window!="undefined"?window:Function("return this")();function Gi(P,...a){return a.reduce(((b,N)=>(P.hasOwnProperty(N)&&(b[N]=P[N]),b)),{})}const nr=Xn.setTimeout,Ci=Xn.clearTimeout;function Vi(P,a){a.useNativeTimers?(P.setTimeoutFn=nr.bind(Xn),P.clearTimeoutFn=Ci.bind(Xn)):(P.setTimeoutFn=Xn.setTimeout.bind(Xn),P.clearTimeoutFn=Xn.clearTimeout.bind(Xn))}function Gn(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class Oi extends Error{constructor(a,b,N){super(a),this.description=b,this.context=N,this.type="TransportError"}}class Fi extends gn{constructor(a){super(),this.writable=!1,Vi(this,a),this.opts=a,this.query=a.query,this.socket=a.socket,this.supportsBinary=!a.forceBase64}onError(a,b,N){return super.emitReserved("error",new Oi(a,b,N)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return this.readyState!=="opening"&&this.readyState!=="open"||(this.doClose(),this.onClose()),this}send(a){this.readyState==="open"&&this.write(a)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(a){const b=Ui(a,this.socket.binaryType);this.onPacket(b)}onPacket(a){super.emitReserved("packet",a)}onClose(a){this.readyState="closed",super.emitReserved("close",a)}pause(a){}createUri(a,b={}){return a+"://"+this._hostname()+this._port()+this.opts.path+this._query(b)}_hostname(){const a=this.opts.hostname;return a.indexOf(":")===-1?a:"["+a+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(a){const b=(function(N){let st="";for(let Ot in N)N.hasOwnProperty(Ot)&&(st.length&&(st+="&"),st+=encodeURIComponent(Ot)+"="+encodeURIComponent(N[Ot]));return st})(a);return b.length?"?"+b:""}}class Xi extends Fi{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(a){this.readyState="pausing";const b=()=>{this.readyState="paused",a()};if(this._polling||!this.writable){let N=0;this._polling&&(N++,this.once("pollComplete",(function(){--N||b()}))),this.writable||(N++,this.once("drain",(function(){--N||b()})))}else b()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(a){((b,N)=>{const st=b.split($i),Ot=[];for(let we=0;we<st.length;we++){const $e=Ui(st[we],N);if(Ot.push($e),$e.type==="error")break}return Ot})(a,this.socket.binaryType).forEach((b=>{if(this.readyState==="opening"&&b.type==="open"&&this.onOpen(),b.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(b)})),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const a=()=>{this.write([{type:"close"}])};this.readyState==="open"?a():this.once("open",a)}write(a){this.writable=!1,((b,N)=>{const st=b.length,Ot=new Array(st);let we=0;b.forEach((($e,Be)=>{Un($e,!1,(Rn=>{Ot[Be]=Rn,++we===st&&N(Ot.join($i))}))}))})(a,(b=>{this.doWrite(b,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){const a=this.opts.secure?"https":"http",b=this.query||{};return this.opts.timestampRequests!==!1&&(b[this.opts.timestampParam]=Gn()),this.supportsBinary||b.sid||(b.b64=1),this.createUri(a,b)}}let fr=!1;try{fr=typeof XMLHttpRequest!="undefined"&&"withCredentials"in new XMLHttpRequest}catch(P){}const Pr=fr;function Or(){}class yr extends Xi{constructor(a){if(super(a),typeof location!="undefined"){const b=location.protocol==="https:";let N=location.port;N||(N=b?"443":"80"),this.xd=typeof location!="undefined"&&a.hostname!==location.hostname||N!==a.port}}doWrite(a,b){const N=this.request({method:"POST",data:a});N.on("success",b),N.on("error",((st,Ot)=>{this.onError("xhr post error",st,Ot)}))}doPoll(){const a=this.request();a.on("data",this.onData.bind(this)),a.on("error",((b,N)=>{this.onError("xhr poll error",b,N)})),this.pollXhr=a}}class Qi extends gn{constructor(a,b,N){super(),this.createRequest=a,Vi(this,N),this._opts=N,this._method=N.method||"GET",this._uri=b,this._data=N.data!==void 0?N.data:null,this._create()}_create(){var a;const b=Gi(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");b.xdomain=!!this._opts.xd;const N=this._xhr=this.createRequest(b);try{N.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){N.setDisableHeaderCheck&&N.setDisableHeaderCheck(!0);for(let st in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(st)&&N.setRequestHeader(st,this._opts.extraHeaders[st])}}catch(st){}if(this._method==="POST")try{N.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(st){}try{N.setRequestHeader("Accept","*/*")}catch(st){}(a=this._opts.cookieJar)===null||a===void 0||a.addCookies(N),"withCredentials"in N&&(N.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(N.timeout=this._opts.requestTimeout),N.onreadystatechange=()=>{var st;N.readyState===3&&((st=this._opts.cookieJar)===null||st===void 0||st.parseCookies(N.getResponseHeader("set-cookie"))),N.readyState===4&&(N.status===200||N.status===1223?this._onLoad():this.setTimeoutFn((()=>{this._onError(typeof N.status=="number"?N.status:0)}),0))},N.send(this._data)}catch(st){return void this.setTimeoutFn((()=>{this._onError(st)}),0)}typeof document!="undefined"&&(this._index=Qi.requestsCount++,Qi.requests[this._index]=this)}_onError(a){this.emitReserved("error",a,this._xhr),this._cleanup(!0)}_cleanup(a){if(this._xhr!==void 0&&this._xhr!==null){if(this._xhr.onreadystatechange=Or,a)try{this._xhr.abort()}catch(b){}typeof document!="undefined"&&delete Qi.requests[this._index],this._xhr=null}}_onLoad(){const a=this._xhr.responseText;a!==null&&(this.emitReserved("data",a),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Qi.requestsCount=0,Qi.requests={},typeof document!="undefined"&&(typeof attachEvent=="function"?attachEvent("onunload",Ki):typeof addEventListener=="function"&&addEventListener("onpagehide"in Xn?"pagehide":"unload",Ki,!1));function Ki(){for(let P in Qi.requests)Qi.requests.hasOwnProperty(P)&&Qi.requests[P].abort()}const _r=(function(){const P=pr({xdomain:!1});return P&&P.responseType!==null})();function pr(P){const a=P.xdomain;try{if(typeof XMLHttpRequest!="undefined"&&(!a||Pr))return new XMLHttpRequest}catch(b){}if(!a)try{return new Xn[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(b){}}const rr=typeof navigator!="undefined"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class s extends Fi{get name(){return"websocket"}doOpen(){const a=this.uri(),b=this.opts.protocols,N=rr?{}:Gi(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(N.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(a,b,N)}catch(st){return this.emitReserved("error",st)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=a=>this.onClose({description:"websocket connection closed",context:a}),this.ws.onmessage=a=>this.onData(a.data),this.ws.onerror=a=>this.onError("websocket error",a)}write(a){this.writable=!1;for(let b=0;b<a.length;b++){const N=a[b],st=b===a.length-1;Un(N,this.supportsBinary,(Ot=>{try{this.doWrite(N,Ot)}catch(we){}st&&Mn((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){this.ws!==void 0&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const a=this.opts.secure?"wss":"ws",b=this.query||{};return this.opts.timestampRequests&&(b[this.opts.timestampParam]=Gn()),this.supportsBinary||(b.b64=1),this.createUri(a,b)}}const f=Xn.WebSocket||Xn.MozWebSocket,x={websocket:class extends s{createSocket(P,a,b){return rr?new f(P,a,b):a?new f(P,a):new f(P)}doWrite(P,a){this.ws.send(a)}},webtransport:class extends Fi{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(P){return this.emitReserved("error",P)}this._transport.closed.then((()=>{this.onClose()})).catch((P=>{this.onError("webtransport error",P)})),this._transport.ready.then((()=>{this._transport.createBidirectionalStream().then((P=>{const a=(function(we,$e){me||(me=new TextDecoder);const Be=[];let Rn=0,un=-1,lt=!1;return new TransformStream({transform(Tt,pt){for(Be.push(Tt);;){if(Rn===0){if(hn(Be)<1)break;const qt=In(Be,1);lt=!(128&~qt[0]),un=127&qt[0],Rn=un<126?3:un===126?1:2}else if(Rn===1){if(hn(Be)<2)break;const qt=In(Be,2);un=new DataView(qt.buffer,qt.byteOffset,qt.length).getUint16(0),Rn=3}else if(Rn===2){if(hn(Be)<8)break;const qt=In(Be,8),jt=new DataView(qt.buffer,qt.byteOffset,qt.length),rn=jt.getUint32(0);if(rn>Math.pow(2,21)-1){pt.enqueue(vi);break}un=rn*Math.pow(2,32)+jt.getUint32(4),Rn=3}else{if(hn(Be)<un)break;const qt=In(Be,un);pt.enqueue(Ui(lt?qt:me.decode(qt),$e)),Rn=0}if(un===0||un>we){pt.enqueue(vi);break}}}})})(Number.MAX_SAFE_INTEGER,this.socket.binaryType),b=P.readable.pipeThrough(a).getReader(),N=Mi();N.readable.pipeTo(P.writable),this._writer=N.writable.getWriter();const st=()=>{b.read().then((({done:we,value:$e})=>{we||(this.onPacket($e),st())})).catch((we=>{}))};st();const Ot={type:"open"};this.query.sid&&(Ot.data=`{"sid":"${this.query.sid}"}`),this._writer.write(Ot).then((()=>this.onOpen()))}))}))}write(P){this.writable=!1;for(let a=0;a<P.length;a++){const b=P[a],N=a===P.length-1;this._writer.write(b).then((()=>{N&&Mn((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){var P;(P=this._transport)===null||P===void 0||P.close()}},polling:class extends yr{constructor(P){super(P);const a=P&&P.forceBase64;this.supportsBinary=_r&&!a}request(P={}){return Object.assign(P,{xd:this.xd},this.opts),new Qi(pr,this.uri(),P)}}},k=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,L=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function X(P){if(P.length>8e3)throw"URI too long";const a=P,b=P.indexOf("["),N=P.indexOf("]");b!=-1&&N!=-1&&(P=P.substring(0,b)+P.substring(b,N).replace(/:/g,";")+P.substring(N,P.length));let st=k.exec(P||""),Ot={},we=14;for(;we--;)Ot[L[we]]=st[we]||"";return b!=-1&&N!=-1&&(Ot.source=a,Ot.host=Ot.host.substring(1,Ot.host.length-1).replace(/;/g,":"),Ot.authority=Ot.authority.replace("[","").replace("]","").replace(/;/g,":"),Ot.ipv6uri=!0),Ot.pathNames=(function($e,Be){const Rn=/\/{2,9}/g,un=Be.replace(Rn,"/").split("/");return Be.slice(0,1)!="/"&&Be.length!==0||un.splice(0,1),Be.slice(-1)=="/"&&un.splice(un.length-1,1),un})(0,Ot.path),Ot.queryKey=(function($e,Be){const Rn={};return Be.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(un,lt,Tt){lt&&(Rn[lt]=Tt)})),Rn})(0,Ot.query),Ot}const it=typeof addEventListener=="function"&&typeof removeEventListener=="function",dt=[];it&&addEventListener("offline",(()=>{dt.forEach((P=>P()))}),!1);class Nt extends gn{constructor(a,b){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,a&&typeof a=="object"&&(b=a,a=null),a){const N=X(a);b.hostname=N.host,b.secure=N.protocol==="https"||N.protocol==="wss",b.port=N.port,N.query&&(b.query=N.query)}else b.host&&(b.hostname=X(b.host).host);Vi(this,b),this.secure=b.secure!=null?b.secure:typeof location!="undefined"&&location.protocol==="https:",b.hostname&&!b.port&&(b.port=this.secure?"443":"80"),this.hostname=b.hostname||(typeof location!="undefined"?location.hostname:"localhost"),this.port=b.port||(typeof location!="undefined"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},b.transports.forEach((N=>{const st=N.prototype.name;this.transports.push(st),this._transportsByName[st]=N})),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},b),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=(function(N){let st={},Ot=N.split("&");for(let we=0,$e=Ot.length;we<$e;we++){let Be=Ot[we].split("=");st[decodeURIComponent(Be[0])]=decodeURIComponent(Be[1])}return st})(this.opts.query)),it&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},dt.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(a){const b=Object.assign({},this.opts.query);b.EIO=4,b.transport=a,this.id&&(b.sid=this.id);const N=Object.assign({},this.opts,{query:b,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[a]);return new this._transportsByName[a](N)}_open(){if(this.transports.length===0)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);const a=this.opts.rememberUpgrade&&Nt.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const b=this.createTransport(a);b.open(),this.setTransport(b)}setTransport(a){this.transport&&this.transport.removeAllListeners(),this.transport=a,a.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",(b=>this._onClose("transport close",b)))}onOpen(){this.readyState="open",Nt.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(a){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",a),this.emitReserved("heartbeat"),a.type){case"open":this.onHandshake(JSON.parse(a.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const b=new Error("server error");b.code=a.data,this._onError(b);break;case"message":this.emitReserved("data",a.data),this.emitReserved("message",a.data)}}onHandshake(a){this.emitReserved("handshake",a),this.id=a.sid,this.transport.query.sid=a.sid,this._pingInterval=a.pingInterval,this._pingTimeout=a.pingTimeout,this._maxPayload=a.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const a=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+a,this._pingTimeoutTimer=this.setTimeoutFn((()=>{this._onClose("ping timeout")}),a),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const a=this._getWritablePackets();this.transport.send(a),this._prevBufferLen=a.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let a=1;for(let N=0;N<this.writeBuffer.length;N++){const st=this.writeBuffer[N].data;if(st&&(a+=typeof(b=st)=="string"?(function(Ot){let we=0,$e=0;for(let Be=0,Rn=Ot.length;Be<Rn;Be++)we=Ot.charCodeAt(Be),we<128?$e+=1:we<2048?$e+=2:we<55296||we>=57344?$e+=3:(Be++,$e+=4);return $e})(b):Math.ceil(1.33*(b.byteLength||b.size))),N>0&&a>this._maxPayload)return this.writeBuffer.slice(0,N);a+=2}var b;return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const a=Date.now()>this._pingTimeoutTime;return a&&(this._pingTimeoutTime=0,Mn((()=>{this._onClose("ping timeout")}),this.setTimeoutFn)),a}write(a,b,N){return this._sendPacket("message",a,b,N),this}send(a,b,N){return this._sendPacket("message",a,b,N),this}_sendPacket(a,b,N,st){if(typeof b=="function"&&(st=b,b=void 0),typeof N=="function"&&(st=N,N=null),this.readyState==="closing"||this.readyState==="closed")return;(N=N||{}).compress=N.compress!==!1;const Ot={type:a,data:b,options:N};this.emitReserved("packetCreate",Ot),this.writeBuffer.push(Ot),st&&this.once("flush",st),this.flush()}close(){const a=()=>{this._onClose("forced close"),this.transport.close()},b=()=>{this.off("upgrade",b),this.off("upgradeError",b),a()},N=()=>{this.once("upgrade",b),this.once("upgradeError",b)};return this.readyState!=="opening"&&this.readyState!=="open"||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?N():a()})):this.upgrading?N():a()),this}_onError(a){if(Nt.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",a),this._onClose("transport error",a)}_onClose(a,b){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),it&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const N=dt.indexOf(this._offlineEventListener);N!==-1&&dt.splice(N,1)}this.readyState="closed",this.id=null,this.emitReserved("close",a,b),this.writeBuffer=[],this._prevBufferLen=0}}}Nt.protocol=4;class Et extends Nt{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let a=0;a<this._upgrades.length;a++)this._probe(this._upgrades[a])}_probe(a){let b=this.createTransport(a),N=!1;Nt.priorWebsocketSuccess=!1;const st=()=>{N||(b.send([{type:"ping",data:"probe"}]),b.once("packet",(lt=>{if(!N)if(lt.type==="pong"&&lt.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",b),!b)return;Nt.priorWebsocketSuccess=b.name==="websocket",this.transport.pause((()=>{N||this.readyState!=="closed"&&(un(),this.setTransport(b),b.send([{type:"upgrade"}]),this.emitReserved("upgrade",b),b=null,this.upgrading=!1,this.flush())}))}else{const Tt=new Error("probe error");Tt.transport=b.name,this.emitReserved("upgradeError",Tt)}})))};function Ot(){N||(N=!0,un(),b.close(),b=null)}const we=lt=>{const Tt=new Error("probe error: "+lt);Tt.transport=b.name,Ot(),this.emitReserved("upgradeError",Tt)};function $e(){we("transport closed")}function Be(){we("socket closed")}function Rn(lt){b&&lt.name!==b.name&&Ot()}const un=()=>{b.removeListener("open",st),b.removeListener("error",we),b.removeListener("close",$e),this.off("close",Be),this.off("upgrading",Rn)};b.once("open",st),b.once("error",we),b.once("close",$e),this.once("close",Be),this.once("upgrading",Rn),this._upgrades.indexOf("webtransport")!==-1&&a!=="webtransport"?this.setTimeoutFn((()=>{N||b.open()}),200):b.open()}onHandshake(a){this._upgrades=this._filterUpgrades(a.upgrades),super.onHandshake(a)}_filterUpgrades(a){const b=[];for(let N=0;N<a.length;N++)~this.transports.indexOf(a[N])&&b.push(a[N]);return b}}class Qt extends Et{constructor(a,b={}){const N=typeof a=="object"?a:b;(!N.transports||N.transports&&typeof N.transports[0]=="string")&&(N.transports=(N.transports||["polling","websocket","webtransport"]).map((st=>x[st])).filter((st=>!!st))),super(a,N)}}const Ht=typeof ArrayBuffer=="function",Vt=Object.prototype.toString,ne=typeof Blob=="function"||typeof Blob!="undefined"&&Vt.call(Blob)==="[object BlobConstructor]",wn=typeof File=="function"||typeof File!="undefined"&&Vt.call(File)==="[object FileConstructor]";function en(P){return Ht&&(P instanceof ArrayBuffer||(a=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(a):a.buffer instanceof ArrayBuffer)(P))||ne&&P instanceof Blob||wn&&P instanceof File}function ln(P,a){if(!P||typeof P!="object")return!1;if(Array.isArray(P)){for(let b=0,N=P.length;b<N;b++)if(ln(P[b]))return!0;return!1}if(en(P))return!0;if(P.toJSON&&typeof P.toJSON=="function"&&arguments.length===1)return ln(P.toJSON(),!0);for(const b in P)if(Object.prototype.hasOwnProperty.call(P,b)&&ln(P[b]))return!0;return!1}function Tn(P){const a=[],b=P.data,N=P;return N.data=Di(b,a),N.attachments=a.length,{packet:N,buffers:a}}function Di(P,a){if(!P)return P;if(en(P)){const b={_placeholder:!0,num:a.length};return a.push(P),b}if(Array.isArray(P)){const b=new Array(P.length);for(let N=0;N<P.length;N++)b[N]=Di(P[N],a);return b}if(typeof P=="object"&&!(P instanceof Date)){const b={};for(const N in P)Object.prototype.hasOwnProperty.call(P,N)&&(b[N]=Di(P[N],a));return b}return P}function Ni(P,a){return P.data=Fn(P.data,a),delete P.attachments,P}function Fn(P,a){if(!P)return P;if(P&&P._placeholder===!0){if(typeof P.num=="number"&&P.num>=0&&P.num<a.length)return a[P.num];throw new Error("illegal attachments")}if(Array.isArray(P))for(let b=0;b<P.length;b++)P[b]=Fn(P[b],a);else if(typeof P=="object")for(const b in P)Object.prototype.hasOwnProperty.call(P,b)&&(P[b]=Fn(P[b],a));return P}const ot=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],ht=5;var Rt;(function(P){P[P.CONNECT=0]="CONNECT",P[P.DISCONNECT=1]="DISCONNECT",P[P.EVENT=2]="EVENT",P[P.ACK=3]="ACK",P[P.CONNECT_ERROR=4]="CONNECT_ERROR",P[P.BINARY_EVENT=5]="BINARY_EVENT",P[P.BINARY_ACK=6]="BINARY_ACK"})(Rt||(Rt={}));class Jt{constructor(a){this.replacer=a}encode(a){return a.type!==Rt.EVENT&&a.type!==Rt.ACK||!ln(a)?[this.encodeAsString(a)]:this.encodeAsBinary({type:a.type===Rt.EVENT?Rt.BINARY_EVENT:Rt.BINARY_ACK,nsp:a.nsp,data:a.data,id:a.id})}encodeAsString(a){let b=""+a.type;return a.type!==Rt.BINARY_EVENT&&a.type!==Rt.BINARY_ACK||(b+=a.attachments+"-"),a.nsp&&a.nsp!=="/"&&(b+=a.nsp+","),a.id!=null&&(b+=a.id),a.data!=null&&(b+=JSON.stringify(a.data,this.replacer)),b}encodeAsBinary(a){const b=Tn(a),N=this.encodeAsString(b.packet),st=b.buffers;return st.unshift(N),st}}function ye(P){return Object.prototype.toString.call(P)==="[object Object]"}class ue extends gn{constructor(a){super(),this.reviver=a}add(a){let b;if(typeof a=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");b=this.decodeString(a);const N=b.type===Rt.BINARY_EVENT;N||b.type===Rt.BINARY_ACK?(b.type=N?Rt.EVENT:Rt.ACK,this.reconstructor=new Ne(b),b.attachments===0&&super.emitReserved("decoded",b)):super.emitReserved("decoded",b)}else{if(!en(a)&&!a.base64)throw new Error("Unknown type: "+a);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");b=this.reconstructor.takeBinaryData(a),b&&(this.reconstructor=null,super.emitReserved("decoded",b))}}decodeString(a){let b=0;const N={type:Number(a.charAt(0))};if(Rt[N.type]===void 0)throw new Error("unknown packet type "+N.type);if(N.type===Rt.BINARY_EVENT||N.type===Rt.BINARY_ACK){const Ot=b+1;for(;a.charAt(++b)!=="-"&&b!=a.length;);const we=a.substring(Ot,b);if(we!=Number(we)||a.charAt(b)!=="-")throw new Error("Illegal attachments");N.attachments=Number(we)}if(a.charAt(b+1)==="/"){const Ot=b+1;for(;++b&&!(a.charAt(b)===","||b===a.length););N.nsp=a.substring(Ot,b)}else N.nsp="/";const st=a.charAt(b+1);if(st!==""&&Number(st)==st){const Ot=b+1;for(;++b;){const we=a.charAt(b);if(we==null||Number(we)!=we){--b;break}if(b===a.length)break}N.id=Number(a.substring(Ot,b+1))}if(a.charAt(++b)){const Ot=this.tryParse(a.substr(b));if(!ue.isPayloadValid(N.type,Ot))throw new Error("invalid payload");N.data=Ot}return N}tryParse(a){try{return JSON.parse(a,this.reviver)}catch(b){return!1}}static isPayloadValid(a,b){switch(a){case Rt.CONNECT:return ye(b);case Rt.DISCONNECT:return b===void 0;case Rt.CONNECT_ERROR:return typeof b=="string"||ye(b);case Rt.EVENT:case Rt.BINARY_EVENT:return Array.isArray(b)&&(typeof b[0]=="number"||typeof b[0]=="string"&&ot.indexOf(b[0])===-1);case Rt.ACK:case Rt.BINARY_ACK:return Array.isArray(b)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Ne{constructor(a){this.packet=a,this.buffers=[],this.reconPack=a}takeBinaryData(a){if(this.buffers.push(a),this.buffers.length===this.reconPack.attachments){const b=Ni(this.reconPack,this.buffers);return this.finishedReconstruction(),b}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function Ve(P,a,b){return P.on(a,b),function(){P.off(a,b)}}const Qe=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Nn extends gn{constructor(a,b,N){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=a,this.nsp=b,N&&N.auth&&(this.auth=N.auth),this._opts=Object.assign({},N),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const a=this.io;this.subs=[Ve(a,"open",this.onopen.bind(this)),Ve(a,"packet",this.onpacket.bind(this)),Ve(a,"error",this.onerror.bind(this)),Ve(a,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen()),this}open(){return this.connect()}send(...a){return a.unshift("message"),this.emit.apply(this,a),this}emit(a,...b){var N,st,Ot;if(Qe.hasOwnProperty(a))throw new Error('"'+a.toString()+'" is a reserved event name');if(b.unshift(a),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(b),this;const we={type:Rt.EVENT,data:b,options:{}};if(we.options.compress=this.flags.compress!==!1,typeof b[b.length-1]=="function"){const Rn=this.ids++,un=b.pop();this._registerAckCallback(Rn,un),we.id=Rn}const $e=(st=(N=this.io.engine)===null||N===void 0?void 0:N.transport)===null||st===void 0?void 0:st.writable,Be=this.connected&&!(!((Ot=this.io.engine)===null||Ot===void 0)&&Ot._hasPingExpired());return this.flags.volatile&&!$e||(Be?(this.notifyOutgoingListeners(we),this.packet(we)):this.sendBuffer.push(we)),this.flags={},this}_registerAckCallback(a,b){var N;const st=(N=this.flags.timeout)!==null&&N!==void 0?N:this._opts.ackTimeout;if(st===void 0)return void(this.acks[a]=b);const Ot=this.io.setTimeoutFn((()=>{delete this.acks[a];for(let $e=0;$e<this.sendBuffer.length;$e++)this.sendBuffer[$e].id===a&&this.sendBuffer.splice($e,1);b.call(this,new Error("operation has timed out"))}),st),we=(...$e)=>{this.io.clearTimeoutFn(Ot),b.apply(this,$e)};we.withError=!0,this.acks[a]=we}emitWithAck(a,...b){return new Promise(((N,st)=>{const Ot=(we,$e)=>we?st(we):N($e);Ot.withError=!0,b.push(Ot),this.emit(a,...b)}))}_addToQueue(a){let b;typeof a[a.length-1]=="function"&&(b=a.pop());const N={id:this._queueSeq++,tryCount:0,pending:!1,args:a,flags:Object.assign({fromQueue:!0},this.flags)};a.push(((st,...Ot)=>{if(N===this._queue[0])return st!==null?N.tryCount>this._opts.retries&&(this._queue.shift(),b&&b(st)):(this._queue.shift(),b&&b(null,...Ot)),N.pending=!1,this._drainQueue()})),this._queue.push(N),this._drainQueue()}_drainQueue(a=!1){if(!this.connected||this._queue.length===0)return;const b=this._queue[0];b.pending&&!a||(b.pending=!0,b.tryCount++,this.flags=b.flags,this.emit.apply(this,b.args))}packet(a){a.nsp=this.nsp,this.io._packet(a)}onopen(){typeof this.auth=="function"?this.auth((a=>{this._sendConnectPacket(a)})):this._sendConnectPacket(this.auth)}_sendConnectPacket(a){this.packet({type:Rt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},a):a})}onerror(a){this.connected||this.emitReserved("connect_error",a)}onclose(a,b){this.connected=!1,delete this.id,this.emitReserved("disconnect",a,b),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach((a=>{if(!this.sendBuffer.some((b=>String(b.id)===a))){const b=this.acks[a];delete this.acks[a],b.withError&&b.call(this,new Error("socket has been disconnected"))}}))}onpacket(a){if(a.nsp===this.nsp)switch(a.type){case Rt.CONNECT:a.data&&a.data.sid?this.onconnect(a.data.sid,a.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Rt.EVENT:case Rt.BINARY_EVENT:this.onevent(a);break;case Rt.ACK:case Rt.BINARY_ACK:this.onack(a);break;case Rt.DISCONNECT:this.ondisconnect();break;case Rt.CONNECT_ERROR:this.destroy();const b=new Error(a.data.message);b.data=a.data.data,this.emitReserved("connect_error",b)}}onevent(a){const b=a.data||[];a.id!=null&&b.push(this.ack(a.id)),this.connected?this.emitEvent(b):this.receiveBuffer.push(Object.freeze(b))}emitEvent(a){if(this._anyListeners&&this._anyListeners.length){const b=this._anyListeners.slice();for(const N of b)N.apply(this,a)}super.emit.apply(this,a),this._pid&&a.length&&typeof a[a.length-1]=="string"&&(this._lastOffset=a[a.length-1])}ack(a){const b=this;let N=!1;return function(...st){N||(N=!0,b.packet({type:Rt.ACK,id:a,data:st}))}}onack(a){const b=this.acks[a.id];typeof b=="function"&&(delete this.acks[a.id],b.withError&&a.data.unshift(null),b.apply(this,a.data))}onconnect(a,b){this.id=a,this.recovered=b&&this._pid===b,this._pid=b,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach((a=>this.emitEvent(a))),this.receiveBuffer=[],this.sendBuffer.forEach((a=>{this.notifyOutgoingListeners(a),this.packet(a)})),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((a=>a())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Rt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(a){return this.flags.compress=a,this}get volatile(){return this.flags.volatile=!0,this}timeout(a){return this.flags.timeout=a,this}onAny(a){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(a),this}prependAny(a){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(a),this}offAny(a){if(!this._anyListeners)return this;if(a){const b=this._anyListeners;for(let N=0;N<b.length;N++)if(a===b[N])return b.splice(N,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(a){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(a),this}prependAnyOutgoing(a){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(a),this}offAnyOutgoing(a){if(!this._anyOutgoingListeners)return this;if(a){const b=this._anyOutgoingListeners;for(let N=0;N<b.length;N++)if(a===b[N])return b.splice(N,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(a){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const b=this._anyOutgoingListeners.slice();for(const N of b)N.apply(this,a.data)}}}function ci(P){P=P||{},this.ms=P.min||100,this.max=P.max||1e4,this.factor=P.factor||2,this.jitter=P.jitter>0&&P.jitter<=1?P.jitter:0,this.attempts=0}ci.prototype.duration=function(){var P=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var a=Math.random(),b=Math.floor(a*this.jitter*P);P=1&Math.floor(10*a)?P+b:P-b}return 0|Math.min(P,this.max)},ci.prototype.reset=function(){this.attempts=0},ci.prototype.setMin=function(P){this.ms=P},ci.prototype.setMax=function(P){this.max=P},ci.prototype.setJitter=function(P){this.jitter=P};class yt extends gn{constructor(a,b){var N;super(),this.nsps={},this.subs=[],a&&typeof a=="object"&&(b=a,a=void 0),(b=b||{}).path=b.path||"/socket.io",this.opts=b,Vi(this,b),this.reconnection(b.reconnection!==!1),this.reconnectionAttempts(b.reconnectionAttempts||1/0),this.reconnectionDelay(b.reconnectionDelay||1e3),this.reconnectionDelayMax(b.reconnectionDelayMax||5e3),this.randomizationFactor((N=b.randomizationFactor)!==null&&N!==void 0?N:.5),this.backoff=new ci({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(b.timeout==null?2e4:b.timeout),this._readyState="closed",this.uri=a;const st=b.parser||A;this.encoder=new st.Encoder,this.decoder=new st.Decoder,this._autoConnect=b.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(a){return arguments.length?(this._reconnection=!!a,a||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(a){return a===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=a,this)}reconnectionDelay(a){var b;return a===void 0?this._reconnectionDelay:(this._reconnectionDelay=a,(b=this.backoff)===null||b===void 0||b.setMin(a),this)}randomizationFactor(a){var b;return a===void 0?this._randomizationFactor:(this._randomizationFactor=a,(b=this.backoff)===null||b===void 0||b.setJitter(a),this)}reconnectionDelayMax(a){var b;return a===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=a,(b=this.backoff)===null||b===void 0||b.setMax(a),this)}timeout(a){return arguments.length?(this._timeout=a,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(a){if(~this._readyState.indexOf("open"))return this;this.engine=new Qt(this.uri,this.opts);const b=this.engine,N=this;this._readyState="opening",this.skipReconnect=!1;const st=Ve(b,"open",(function(){N.onopen(),a&&a()})),Ot=$e=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",$e),a?a($e):this.maybeReconnectOnOpen()},we=Ve(b,"error",Ot);if(this._timeout!==!1){const $e=this._timeout,Be=this.setTimeoutFn((()=>{st(),Ot(new Error("timeout")),b.close()}),$e);this.opts.autoUnref&&Be.unref(),this.subs.push((()=>{this.clearTimeoutFn(Be)}))}return this.subs.push(st),this.subs.push(we),this}connect(a){return this.open(a)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const a=this.engine;this.subs.push(Ve(a,"ping",this.onping.bind(this)),Ve(a,"data",this.ondata.bind(this)),Ve(a,"error",this.onerror.bind(this)),Ve(a,"close",this.onclose.bind(this)),Ve(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(a){try{this.decoder.add(a)}catch(b){this.onclose("parse error",b)}}ondecoded(a){Mn((()=>{this.emitReserved("packet",a)}),this.setTimeoutFn)}onerror(a){this.emitReserved("error",a)}socket(a,b){let N=this.nsps[a];return N?this._autoConnect&&!N.active&&N.connect():(N=new Nn(this,a,b),this.nsps[a]=N),N}_destroy(a){const b=Object.keys(this.nsps);for(const N of b)if(this.nsps[N].active)return;this._close()}_packet(a){const b=this.encoder.encode(a);for(let N=0;N<b.length;N++)this.engine.write(b[N],a.options)}cleanup(){this.subs.forEach((a=>a())),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(a,b){var N;this.cleanup(),(N=this.engine)===null||N===void 0||N.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",a,b),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const a=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const b=this.backoff.duration();this._reconnecting=!0;const N=this.setTimeoutFn((()=>{a.skipReconnect||(this.emitReserved("reconnect_attempt",a.backoff.attempts),a.skipReconnect||a.open((st=>{st?(a._reconnecting=!1,a.reconnect(),this.emitReserved("reconnect_error",st)):a.onreconnect()})))}),b);this.opts.autoUnref&&N.unref(),this.subs.push((()=>{this.clearTimeoutFn(N)}))}}onreconnect(){const a=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",a)}}const ce={};function qe(P,a){typeof P=="object"&&(a=P,P=void 0);const b=(function(Be,Rn="",un){let lt=Be;un=un||typeof location!="undefined"&&location,Be==null&&(Be=un.protocol+"//"+un.host),typeof Be=="string"&&(Be.charAt(0)==="/"&&(Be=Be.charAt(1)==="/"?un.protocol+Be:un.host+Be),/^(https?|wss?):\/\//.test(Be)||(Be=un!==void 0?un.protocol+"//"+Be:"https://"+Be),lt=X(Be)),lt.port||(/^(http|ws)$/.test(lt.protocol)?lt.port="80":/^(http|ws)s$/.test(lt.protocol)&&(lt.port="443")),lt.path=lt.path||"/";const Tt=lt.host.indexOf(":")!==-1?"["+lt.host+"]":lt.host;return lt.id=lt.protocol+"://"+Tt+":"+lt.port+Rn,lt.href=lt.protocol+"://"+Tt+(un&&un.port===lt.port?"":":"+lt.port),lt})(P,(a=a||{}).path||"/socket.io"),N=b.source,st=b.id,Ot=b.path,we=ce[st]&&Ot in ce[st].nsps;let $e;return a.forceNew||a["force new connection"]||a.multiplex===!1||we?$e=new yt(N,a):(ce[st]||(ce[st]=new yt(N,a)),$e=ce[st]),b.query&&!a.query&&(a.query=b.queryKey),$e.socket(b.path,a)}function De(P){return De=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},De(P)}Object.assign(qe,{Manager:yt,Socket:Nn,io:qe,connect:qe});var Ue,di,r,u,_,C=!1,B=qe,U={connected:!1,connectedTeamMembers:[],reconnectionTeamMembers:{},ranking:void 0,firstRankingNotificationShown:!1,allowSecondaryRankingNotifications:!0};function nt(P,a){if(U.connected!==!0){u=a.localErState.teamId,_=a.teamName,U.ranking=a.localErState.ranking;var b={escapeRoom:r,email:P.email,token:P.token};(function(N){N.on("connect",xt),N.on("disconnect",Dt),N.on("INITIAL_INFO",bt),N.on("JOIN",ie),N.on("LEAVE",_e),N.on("HINT_RESPONSE",Kt),N.on("PUZZLE_RESPONSE",ke),N.on("TEAM_PROGRESS",kn),N.on("MESSAGE",Vn),N.on("connect_error",(function(st){})),N.on("error",(function(st){}))})(B(di,{query:b}))}}function xt(){U.connected=!0}function bt(P){P.connectedMembers instanceof Array&&(U.connectedTeamMembers=P.connectedMembers)}function Dt(){U.connected=!1}function ie(P){if(De(P)==="object"&&typeof P.username=="string"){var a=Object.assign([],U.connectedTeamMembers);P.connectedMembers instanceof Array&&(U.connectedTeamMembers=P.connectedMembers);var b=P.username,N=Ue.getSettings();if(b!==N.user.email&&N.localErState.teamMembers instanceof Array&&N.localErState.teamMembers.indexOf(b)!==-1&&a.indexOf(b)===-1&&U.reconnectionTeamMembers[b]===void 0){var st=Ue._getMemberNameFromERState(N.localErState,b);typeof st=="string"&&(function(Ot){var we={type:"info"};we.text=V("i.notification_member_join",{member:Ot}),Ue.displayCustomNotification(we.text,we)})(st)}}}function _e(P){if(De(P)==="object"&&typeof P.username=="string"){var a=Object.assign([],U.connectedTeamMembers);P.connectedMembers instanceof Array&&(U.connectedTeamMembers=P.connectedMembers);var b=P.username,N=Ue.getSettings();b!==N.user.email&&N.localErState.teamMembers.indexOf(b)!==-1&&a.indexOf(b)!==-1&&U.connectedTeamMembers.indexOf(b)===-1&&(typeof U.reconnectionTeamMembers[b]=="number"?U.reconnectionTeamMembers[b]=U.reconnectionTeamMembers[b]+1:U.reconnectionTeamMembers[b]=1,setTimeout((function(){if(typeof U.reconnectionTeamMembers[b]=="number"&&(U.reconnectionTeamMembers[b]=U.reconnectionTeamMembers[b]-1,U.reconnectionTeamMembers[b]===0&&delete U.reconnectionTeamMembers[b]),U.connectedTeamMembers.indexOf(b)===-1&&U.reconnectionTeamMembers[b]===void 0){var st=Ue._getMemberNameFromERState(N.localErState,b);typeof st=="string"&&(function(Ot){var we={type:"info"};we.text=V("i.notification_member_leave",{member:Ot}),Ue.displayCustomNotification(we.text,we)})(st)}}),3e3))}}function Kt(P){typeof P.msg=="string"&&(function(a){var b={type:"event",autoHide:!0};b.text=V("i.notification_hint_new",{hint:a}),Ue.displayCustomNotification(b.text,b)})(P.msg)}function ke(P){if(P.code==="OK"&&typeof P.puzzleOrder=="number"){var a=Object.assign([],Ue._getNewestState().puzzlesSolved);Ue._updateRemoteErState(P.erState),a.indexOf(P.puzzleOrder)===-1?(b=P.puzzleOrder,N={type:"event"},Ot=1,we=3,st=Math.floor(Math.random()*(we-Ot+1)+Ot),N.text=V("i.notification_puzzle_success",{puzzle:b})+" "+V("i.notification_puzzle_success_end"+st,{team:_}),Ue.displayCustomNotification(N.text,N),setTimeout((function(){Qn(P.erState)}),2e3)):Qn(P.erState)}var b,N,st,Ot,we}function kn(P){De(P)==="object"&&P.ranking instanceof Array&&P.ranking.length>0&&(function(a){var b=void 0;if(U.ranking instanceof Array&&(b=Object.assign([],U.ranking)),U.ranking=a,!(!(b instanceof Array)||!(a instanceof Array)||(function(Wn){if(Wn instanceof Array){for(var Se=0;Se<Wn.length;Se++)if(Wn[Se].count>0)return!1}return!0})(a))&&!(u===void 0||typeof _!="string")){var N=Zi(b,u),st=Zi(a,u);if(!(typeof N!="number"||typeof st!="number")){var Ot=st<N,we=st===N,$e=st>N,Be=Ue._getTeamFromRanking(u,a),Rn=De(Be)==="object"&&typeof Be.count=="number"?Be.count:0,un=void 0,lt=u;U.firstRankingNotificationShown===!1&&Rn>0&&(we||$e)&&(Ot=st<=3,we=!1,$e=!1);var Tt=!1;if(Rn>0&&st<=3){switch(st){case 1:Ot?un=V("i.notification_ranking_1_up",{team:_}):we&&(un=V("i.notification_ranking_1_same",{team:_}));break;case 2:Ot?un=V("i.notification_ranking_2_up",{team:_}):we?un=V("i.notification_ranking_2_same",{team:_}):$e&&(un=V("i.notification_ranking_2_down",{teamOther:a[0].name,team:_}));break;case 3:Ot?un=V("i.notification_ranking_3_up",{team:_}):we?un=V("i.notification_ranking_3_same",{team:_}):$e&&(un=V("i.notification_ranking_3_down",{teamOther:b.length>0&&b[0].id!==a[0].id?a[0].name:a[1].name,team:_}))}Tt=typeof un=="string"}if(un===void 0)if(Ot&&Rn>0)un=V("i.notification_ranking_up",{team:_,position:st});else if($e&&Rn>0){var pt=(function(Wn,Se,Re,Y){if(!(Re<=0||Y<=Re||Re>=Wn.length||Y>Se.length)){for(var ct=[],Yt=Re;Yt<Wn.length;Yt++)ct.push(Wn[Yt].id);if(ct.length!==0){for(var ae=[],Ae=Y-1;Ae>=0;Ae--)ct.indexOf(Se[Ae].id)!==-1&&ae.push(Se[Ae].name);if(ae.length===1)return ae[0]}}})(b,a,N,st);un=typeof pt=="string"?V("i.notification_ranking_down",{teamOther:pt,team:_,position:st}):V("i.notification_ranking_down_generic",{team:_,position:st})}else{if((U.firstRankingNotificationShown===!0||Rn===0)&&b instanceof Array){var qt=b.length,jt=a.length;qt>0&&jt>0&&(b[0].id!==a[0].id&&a[0].id!==u?(lt=a[0].id,un=V("i.notification_ranking_1_other",{teamOther:a[0].name})):qt>1&&jt>1&&(b[1].id!==a[1].id&&a[1].id!==u?(lt=a[1].id,un=V("i.notification_ranking_2_other",{teamOther:a[1].name})):qt>2&&jt>2&&b[2].id!==a[2].id&&a[2].id!==u&&(lt=a[2].id,un=V("i.notification_ranking_3_other",{teamOther:a[2].name}))))}un===void 0&&(un=V("i.notification_ranking_generic",{team:_,position:st}))}var rn=$e===!0&&Rn>0&&N<=3&&st>3;(we===!0||lt!==u||$e===!0&&Tt===!1&&rn===!1)&&U.allowSecondaryRankingNotifications===!1&&(un=void 0),typeof un=="string"&&(U.allowSecondaryRankingNotifications=!1,setTimeout((function(){U.allowSecondaryRankingNotifications=!0}),24e4),U.firstRankingNotificationShown===!1&&lt===u&&(U.firstRankingNotificationShown=!0),An=un,ni={type:"ranking"},Ue.displayCustomNotification(An,ni));var An,ni}}})(P.ranking)}function Vn(P){if(P&&P.msg&&typeof P.msg=="string"&&P.msg.length){var a={type:"info"};a.text=P.msg,Ue.displayCustomNotification(a.text,a)}}function Qn(P){var a=Object.assign({},Ue.getSettings().localErState),b=Ue._isRemoteStateNewestForApp();Ue._validateStateToRestore((function(N){De(N)==="object"&&b&&Ue._isStateNewestThan(N,a)&&typeof Ue.getSettings().onNewErStateCallback=="function"&&Ue.getSettings().onNewErStateCallback(N)}))}function Zi(P,a){if(typeof a=="number"&&P instanceof Array){for(var b=0;b<P.length;b++)if(P[b].id===a)return b+1}}var Ji,ur,hr=!1,Yn=!1,ji=void 0,hi=!1,Wi=void 0,Ar=void 0,Ir=void 0,Sr=[0,1,2,5,10,15,30,45,60,75,90,105];function Dr(P,a){if(ji===void 0&&typeof P=="number"&&typeof a=="number")if(P<=0||a<=0)hi=!0;else{ur=a;var b=(ji=P)/3600,N=Math.floor(b),st=Math.floor(60*(b-N)),Ot=(ji-3600*N-60*st)%(Ar=ji>240?10:1);setTimeout((function(){ji=Math.max(0,ji-Ot),Er(),Yn&&Tr()}),1e3*Ot)}}function Er(){Wi!==void 0&&clearInterval(Wi),typeof ji!="number"||ji<=0||(Ar=ji>240?10:1,Wi=setInterval((function(){ji=Math.max(0,ji-Ar),Ar===10?ji<=240&&Er():ji===0&&(hi=!0,clearInterval(Wi),Yn&&Sr.indexOf(0)!==-1&&Nr(),Ji._onTimeRunOut())}),1e3*Ar))}function Tr(){if(typeof ji=="number"&&hi!==!0){Ir!==void 0&&clearTimeout(Ir);var P=void 0,a=ji/3600;if(a>=2)P=3600*(a-Math.floor(a));else for(var b=ji/60,N=Sr.sort((function(Ot,we){return we-Ot})),st=0;st<N.length;st++)if(b>=N[st]){P=60*(b-N[st]);break}typeof P=="number"&&(Ir=setTimeout((function(){hi!==!0&&(Nr(),setTimeout((function(){Tr()}),1e3*(Ar+1)))}),1e3*P))}}function Nr(){if(!(Yn!==!0||typeof ji!="number"||Ji.isERCompleted()||Math.abs(ji-ur)<30)){var P=void 0,a=ji/3600,b=Math.floor(a),N=Math.round(60*(a-b)),st=ji-3600*b-60*N;Math.abs(st)<=Ar+1&&(b>0?P=N===0?b===1?V("i.notification_time_one_hour"):V("i.notification_time_hours",{hours:b}):V(b===1?"i.notification_time_one_hour_and_minutes":"i.notification_time_hours_and_minutes",{hours:b,minutes:N}):N>0?P=N===1?V("i.notification_time_one_minute"):V("i.notification_time_minutes",{minutes:N}):N===0&&hi===!0&&(P=V("i.notification_time_runout"))),typeof P=="string"&&Ji.displayCustomNotification(P,{type:"time"})}}var ar=__webpack_require__(883);function or(P){return(function(a){if(Array.isArray(a))return tr(a)})(P)||(function(a){if(typeof Symbol!="undefined"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)})(P)||(function(a,b){if(a){if(typeof a=="string")return tr(a,b);var N={}.toString.call(a).slice(8,-1);return N==="Object"&&a.constructor&&(N=a.constructor.name),N==="Map"||N==="Set"?Array.from(a):N==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N)?tr(a,b):void 0}})(P)||(function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function tr(P,a){(a==null||a>P.length)&&(a=P.length);for(var b=0,N=Array(a);b<a;b++)N[b]=P[b];return N}function yi(P){return yi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},yi(P)}window.ESCAPP=function(P){var a={},b={},N={endpoint:void 0,imagesPath:"/assets/images/",linkedPuzzleIds:void 0,relatedPuzzleIds:void 0,requiredPuzzlesIds:void 0,user:{email:void 0,token:void 0},preview:!1,silent:!1,forceValidation:!0,autovalidate:!1,notifications:!1,rtc:!0,restoreState:"REQUEST_USER",I18n:void 0,browserRestrictions:{"internet explorer":">10",chrome:">41",firefox:">38"},browserRestrictionsDefault:!0,countdown:!0,jQuery:!1,initCallback:void 0,onNewErStateCallback:void 0,onErRestartCallback:void 0},st={erId:void 0,localStorageKey:void 0,encryptKey:void 0,user:{authenticated:!1,participation:void 0},localErState:void 0,remoteErState:void 0,lastSolvedPuzzleId:void 0,nextPuzzleId:void 0,allPuzzlesSolved:!1,teamName:void 0,duration:void 0,remainingTime:void 0,puzzlesRequirements:!0},Ot={puzzleData:{},puzzlesSolved:[],progress:0,score:0,nPuzzles:void 0,hintsAllowed:void 0,startTime:void 0,remainingTime:void 0,strictTime:!1,teamId:void 0,teamMembers:void 0,ranking:void 0},we=!1,$e=!1,Be=[],Rn=!1,un=!1;this.init=function(lt){if(we!==!0){yi(lt)!="object"&&(lt={});var Tt=this._getAppSettingsFromEnvironment();yi(Tt)!=="object"&&(Tt={}),yi(Tt.escappClientSettings)==="object"&&(lt=g(lt,Object.assign({},Tt.escappClientSettings))),delete(Tt=Object.assign({},Tt)).escappClientSettings,b=Tt,(a=g(g(N,lt),st)).preview===!0?(a.silent=!0,a.rtc=!1,a.restoreState="NEVER"):a.preview=!1,a.silent===!0?(a.forceValidation=!1,a.notifications=!1,a.restoreState!=="AUTO"&&(["AUTO_NOTIFICATION","REQUEST_USER"].indexOf(a.restoreState)!==-1?a.restoreState="AUTO":a.restoreState="NEVER")):a.silent=!1,yi(a.relatedPuzzleIds)!=="object"&&yi(a.linkedPuzzleIds)==="object"&&(a.relatedPuzzleIds=a.linkedPuzzleIds);var pt,qt=M();if(typeof a.endpoint!="string"&&qt.escapp_endpoint!==void 0&&(a.endpoint=(function(ni){if(typeof ni=="string"){var Wn=ni.match(/^https?:\/\//);if(Wn instanceof Array&&Wn.length===1){var Se=Wn[0].replace("://",""),Re=F();Se!=Re&&Re==="https"&&(ni="https"+ni.replace(Se,""))}}return ni})(qt.escapp_endpoint)),typeof a.endpoint=="string"?(a.erId=this._getERIdFromEscappEndpoint(a.endpoint),this._isValidEscappEndpoint(a.endpoint)!=="false"&&typeof a.erId=="string"||Be.push("i.initialization_error_endpoint_format")):Be.push("i.initialization_error_endpoint"),a.resourceId===void 0&&(a.linkedPuzzleIds instanceof Array&&a.linkedPuzzleIds.length>0?a.resourceId=a.linkedPuzzleIds.join("-"):a.preview?Be.push("i.initialization_error_linkedPuzzleIds"):a.resourceId="preview"),a.localStorageKey===void 0&&(a.localStorageKey="ESCAPP_"+a.erId+"_"+a.resourceId),a.encryptKey===void 0&&(a.encryptKey=a.localStorageKey),S(a.I18n),Ct(a.localStorageKey,a.preview),ve(n,a.preview),qi(a.encryptKey),pt={imagesPath:a.imagesPath},le!==!0&&(le=!0,mt=pt.imagesPath,Pt("body").prepend('<div class="escapp-modal micromodal-slide" id="escapp-modal" aria-hidden="true"><div class="escapp-modal__overlay" tabIndex="-1"><div class="escapp-modal__container" role="dialog" aria-modal="true"><header class="escapp-modal__header"><h2 class="escapp-modal__title" id="escapp-modal-title"></h2></header><main class="escapp-modal__content" id="escapp-modal-content"><p class="content"></p></main><footer class="escapp-modal__footer"></footer></div></div>'),Pt("#escapp-modal div.escapp-modal__container").prepend('<img class="dialog_corner logo" src="'+mt+'escapp_logo_dark.png"/>'),Pt("#escapp-modal div.escapp-modal__container").prepend('<img class="dialog_corner lock" src="'+mt+'lock.svg"/>'),Pt("#escapp-modal .escapp-modal__content").prepend('<div class="escapp_content_img_wrapper"><img src="'+mt+'trophy.png"/></div>'),Li.init({disableScroll:!0,disableFocus:!1,awaitOpenAnimation:!1,awaitCloseAnimation:!1,debugMode:!1})),pi({enabled:a.notifications}),(function(ni){zn!==!0&&(zn=!0,ni.imagesPath)})({imagesPath:a.imagesPath}),(function(){var ni=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(C!==!0){C=!0,Ue=ni.escapp;var Wn,Se=(function(Y){var ct;try{ct=Y.split("/")[2]}catch(Yt){}return ct})(ni.endpoint);if(Se!==void 0){var Re=(function(Y){var ct="ws://";try{Y.match("https://")&&(ct="wss://")}catch(Yt){}return ct})(ni.endpoint);di=Re+Se,Wn=ni.endpoint,r=Wn.split("/").pop()}}})({endpoint:a.endpoint,escapp:this}),(function(){var ni=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};hr!==!0&&(hr=!0,Yn=ni.notifications===!0,Ji=ni.escapp)})({notifications:Ln&&a.countdown,escapp:this}),a.preview&&this._resetForPreview(),this._getUserCredentials(a.user)===void 0){var jt=this._getUserCredentials({email:qt.escapp_email||qt.email,token:qt.escapp_token||qt.token});if(jt!==void 0)a.user=jt;else{var rn=kt("user");this._getUserCredentials(rn)!==void 0&&(a.user=rn)}}yi(a.user)==="object"&&(a.user.authenticated=!1);var An=kt("localErState");this._validateERState(An)===!1&&(An=g({},Ot)),a.localErState=An,zt("localErState",a.localErState),this._updateAppPuzzlesState(),a.jQuery===!0&&window.jQuery===void 0&&(window.$=window.jQuery=this.getJQuery()),we=!0,$e=Be.length===0,this._enableBeforeEachCheckInitialization(),this._checkInitialization()}},this._getAppSettingsFromEnvironment=function(){var lt=window,Tt=0;try{for(;yi(lt.ESCAPP_APP_SETTINGS)!=="object"&&lt.parent&&lt.parent!==lt&&Tt<=1;)Tt+=1,lt=lt.parent;if(yi(lt.ESCAPP_APP_SETTINGS)==="object")return lt.ESCAPP_APP_SETTINGS}catch(pt){}},this._isValidEscappEndpoint=function(lt){return/^(https?:\/\/[a-zA-Z][^\/]*\/api\/escapeRooms\/[0-9]+)$/.test(lt)},this._getERIdFromEscappEndpoint=function(lt){var Tt=lt.match(/^(https?:\/\/[a-zA-Z][^\/]*\/api\/escapeRooms\/([0-9]+))$/);return Tt?parseInt(Tt[2],10)+"":void 0},this._enableBeforeEachCheckInitialization=function(){for(var lt=this,Tt=Object.keys(this),pt=["init","getSettings","getAppSettings","isSupported"],qt=function(){var An=rn[jt],ni=typeof lt[An]=="function",Wn=An.startsWith("_"),Se=pt.includes(An);if(!ni||An==="constructor"||Wn||Se)return 1;var Re=lt[An].bind(lt);lt[An]=function(){if(lt._checkInitialization()!==!1)return Re.apply(void 0,arguments)}},jt=0,rn=Tt;jt<rn.length;jt++)qt()},this._checkInitialization=function(){return!!$e||(this._displayInitializationErrorDialog(),!1)},this._getUserCredentials=function(lt){if(yi(lt)==="object"&&typeof lt.email=="string"&&(typeof lt.token=="string"||typeof lt.password=="string")){var Tt={email:lt.email};return typeof lt.token=="string"?Tt.token=lt.token:Tt.password=lt.password,Tt}},this.isSupported=function(){var lt;try{(lt=p().getParser(window.navigator.userAgent).satisfies(a.browserRestrictions))===void 0&&(lt=a.browserRestrictionsDefault)}catch(pt){lt=a.browserRestrictionsDefault}var Tt=St();return lt&&Tt},this.validate=function(lt){return this.isSupported()?this.validateUser(lt):a.silent?this._safeCall(lt,!1):this.displayCustomEscappDialog(V("i.not_supported_title"),V("i.not_supported_text"),{},function(Tt){this._safeCall(lt,!1)}.bind(this))},this.validateUser=function(lt){if(yi(a.user)!=="object"||typeof a.user.token!="string"){if(a.silent)return this._safeCall(lt,!1);this._displayUserAuthDialog(!0,function(Tt){this._onUserAuthDialogResponse(Tt,function(pt){return pt?this._validateUserAfterAuth(lt):this._onValidateUserFail(lt)}.bind(this))}.bind(this))}else this.retrieveState(function(Tt,pt){return Tt||a.silent||!a.forceValidation?this._safeCall(lt,Tt,pt):this._onValidateUserFail(lt)}.bind(this))},this._onUserAuthDialogResponse=function(lt,Tt){if(lt.choice==="ok"||a.forceValidation!==!1){var pt={email:lt.inputs[0],password:lt.inputs[1]};this._auth(pt,function(qt){if(a.user.authenticated!==!0)return this._displayUserAuthDialog(!1,Tt);switch(a.user.participation){case"PARTICIPANT":this._safeCall(Tt,!0);case"NOT_STARTED":this._startEscapeRoom(function(jt){this._safeCall(Tt,jt)}.bind(this));break;case"NOT_A_PARTICIPANT":case"AUTHOR":case"NOT_ACTIVE":case"TOO_LATE":this._displayUserParticipationErrorDialog(function(){this._safeCall(Tt,!1)}.bind(this))}}.bind(this))}else this._safeCall(Tt,!a.forceValidation)},this._onValidateUserFail=function(lt){return a.user.authenticated!==!0?this._retryAfterAuthFail(lt):this._safeCall(lt,!1)},this._retryAfterAuthFail=function(lt){return this._resetUser(),this.validateUser(lt)},this._resetUser=function(){a.user=Object.assign({},st.user),R("user"),this._resetErState()},this._resetErState=function(){a.localErState=Ot,a.remoteErState=void 0,R("localErState")},this._resetForPreview=function(){this._resetErState(),xn()},this._validateUserAfterAuth=function(lt){this._validatePreviousPuzzles(function(Tt){Tt||a.forceValidation===!1?this._validateStateToRestore(function(pt){this._afterValidateUser(),this._safeCall(lt,Tt,pt)}.bind(this)):this._safeCall(lt,!1)}.bind(this))},this._validatePreviousPuzzles=function(lt){if(a.requiredPuzzlesIds instanceof Array&&a.requiredPuzzlesIds.length!==0){var Tt=this._getNewestState();if(this._validateERState(Tt)===!1)a.puzzlesRequirements=!1;else for(var pt=0;pt<a.requiredPuzzlesIds.length;pt++)if(Tt.puzzlesSolved.indexOf(a.requiredPuzzlesIds[pt])===-1){a.puzzlesRequirements=!1;break}if(a.puzzlesRequirements===!1){if(a.silent)return this._safeCall(lt,!1);this._displayPuzzleRequirementDialog(function(qt){this._safeCall(lt,!1)}.bind(this))}else this._safeCall(lt,!0)}else this._safeCall(lt,!0)},this._afterValidateUser=function(){un!==!0&&(un=!0,this._connect(),Dr(a.remainingTime,a.duration))},this._startEscapeRoom=function(lt){this._displayStartDialog(function(Tt){Tt===!0?this.start(function(pt){pt===!0&&this._displayStartNotification(),this._safeCall(lt,pt===!0)}.bind(this)):this._safeCall(lt,!1)}.bind(this))},this._displayDialog=function(){var lt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(lt=g({escapp:!0},lt),!a.silent||lt.ignoreSilent!==!1)return Oe(lt)},this.displayCustomDialog=function(lt,Tt,pt,qt){var jt={title:lt,text:Tt,escapp:!1,icon:void 0};typeof qt=="function"&&(jt.closeCallback=qt),yi(pt)==="object"&&(jt=Object.assign(jt,pt)),this._displayDialog(jt)},this.displayCustomEscappDialog=function(lt,Tt,pt,qt){var jt=g(pt||{},{escapp:!0});this.displayCustomDialog(lt,Tt,jt,qt)},this.displayPuzzleDialog=function(lt,Tt,pt,qt){var jt={escapp:!1,icon:"lock",inputs:[{type:"text",autocomplete:"off",validate:function(rn){return typeof(An=rn)=="string"&&An.trim()!=="";var An}}]};jt.buttons=[{response:"ok",label:V("i.button_ok")},{response:"cancel",label:V("i.button_nok"),ignoreInputs:!0}],typeof qt=="function"&&(jt.closeCallback=function(rn){rn.inputs instanceof Array&&rn.inputs.length===1&&(rn.value=rn.inputs[0]),qt(rn)}),yi(pt)==="object"&&(jt=Object.assign(jt,pt)),this.displayCustomDialog(lt,Tt,jt,qt)},this.displayCompletionDialog=function(lt,Tt){var pt={escapp:!0,img:a.imagesPath+"/trophy.png"};yi(lt)==="object"&&(pt=Object.assign(pt,lt)),pt.closeCallback=function(){setTimeout(function(){this.stopAnimation("confetti")}.bind(this),1500),this._safeCall(Tt)}.bind(this),this.startAnimation("confetti"),this.displayCustomDialog(V("i.completion_title"),V("i.completion_text",{escappURL:this._getEscappPlatformFinishURL()}),pt,Tt)},this._getEscappPlatformFinishURL=function(){return this._getEscappPlatformURL()+"/finish"},this._getEscappPlatformURL=function(){return this._isValidEscappEndpoint(a.endpoint)?a.endpoint.replace("/api",""):""},this._displayUserAuthDialog=function(lt,Tt){var pt={requireInput:!0};lt?(pt.title=V("i.auth_title"),pt.text=V("i.auth_text")):(pt.title=V("i.auth_title_wrong_credentials"),pt.text=V("i.auth_text_wrong_credentials")),pt.inputs=[{type:"text",label:V("i.auth_email_label"),validate:function(qt){return(function(jt){return typeof jt=="string"&&/\S+@\S+\.\S+/.test(jt)})(qt)}},{type:"password",label:V("i.auth_password_label")}],pt.buttons=[{response:"ok",label:V("i.button_ok")}],a.forceValidation===!1&&pt.buttons.push({response:"cancel",label:V("i.button_nok"),ignoreInputs:!0}),pt.closeCallback=function(qt){this._safeCall(Tt,qt)}.bind(this),this._displayDialog(pt)},this._displayUserParticipationErrorDialog=function(lt){var Tt={};if(Tt.title=V("i.generic_error_title"),this.isUserLoggedIn())switch(a.user.participation){case"TOO_LATE":Tt.text=V("i.participation_error_TOO_LATE");break;case"NOT_ACTIVE":Tt.text=V("i.participation_error_NOT_ACTIVE");break;case"NOT_STARTED":Tt.text=V("i.participation_error_NOT_STARTED");break;default:Tt.text=V("i.participation_error_NOT_PARTICIPANT")}else Tt.text=V("i.participation_error_NOT_AUTHENTICATED");typeof lt=="function"&&(Tt.closeCallback=lt),Tt.buttons=[],a.forceValidation!==!1&&this.isUserLoggedIn()!==!1||Tt.buttons.push({response:"ok",label:V("i.button_ok")}),this._displayDialog(Tt)},this._displayPuzzleRequirementDialog=function(lt){var Tt={};Tt.title=V("i.generic_error_title"),Tt.text=V("i.puzzles_required"),Tt.buttons=[],a.forceValidation===!1&&Tt.buttons.push({response:"ok",label:V("i.button_ok")}),typeof lt=="function"&&(Tt.closeCallback=lt),this._displayDialog(Tt)},this._displayRestoreStateDialog=function(lt){var Tt={requireInput:!0};Tt.title=V("i.restore_title"),a.restoreState==="AUTO_NOTIFICATION"?Tt.text=V("i.restore_auto_text"):(Tt.text=V("i.restore_request_text"),Tt.buttons=[{response:"ok",label:V("i.button_ok")},{response:"nok",label:V("i.button_nok")}]),typeof lt=="function"&&(Tt.closeCallback=function(pt){lt(a.restoreState==="AUTO_NOTIFICATION"||pt.choice==="ok")}.bind(this)),this._displayDialog(Tt)},this._displayStartDialog=function(lt){var Tt={};Tt.title=V("i.start_title"),Tt.text=V("i.start_text"),Tt.buttons=[{response:"ok",label:V("i.button_ok")},{response:"nok",label:V("i.button_nok")}],typeof lt=="function"&&(Tt.closeCallback=function(pt){lt(pt.choice==="ok")}.bind(this)),this._displayDialog(Tt)},this._displayInitializationErrorDialog=function(lt){if(Rn!==!0){var Tt;Rn=!0,Tt=Be instanceof Array&&Be.length>0&&typeof Be[0]=="string"&&Be[0].trim()!==""?Be[0]:"Escapp Client could not be started correctly due to an unknown error.";try{var pt={icon:void 0,escapp:!1,ignoreSilent:!0};try{pt.title=V("i.initialization_error_title"),pt.text=Tt.startsWith("i.")?V(Tt):Tt}catch(qt){}typeof pt.title=="string"&&pt.title.trim()!==""||(pt.title="Escapp client initialization error"),typeof pt.text=="string"&&pt.text.trim()!==""||(pt.text=Tt),pt.closeCallback=function(qt){Rn=!1,this._safeCall(lt)}.bind(this),this._displayDialog(pt)}catch(qt){alert(Tt),Rn=!1,this._safeCall(lt)}}},this._displayConnectionErrorDialog=function(lt,Tt){var pt={};pt.title=V("i.connecton_error_title"),pt.text=V("i.connecton_error_text"),pt.buttons=[{response:"retry",label:V("i.button_retry")}],lt===!0&&pt.buttons.push({response:"nok",label:V("i.button_nok")}),pt.closeCallback=function(qt){this._safeCall(Tt,qt.choice)}.bind(this),this._displayDialog(pt)},this._displayNotification=function(){var lt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return zi(lt=g({escapp:!0},lt))},this.displayCustomNotification=function(lt,Tt){var pt={text:lt,escapp:!1,icon:void 0};yi(Tt)==="object"&&(pt=Object.assign(pt,Tt)),this._displayNotification(pt)},this.displayCustomEscappNotification=function(lt,Tt){var pt=g(Tt||{},{escapp:!0});this.displayCustomNotification(lt,pt)},this._displayStartNotification=function(){if(a.teamName===void 0||this._getNewestState().puzzlesSolved.length!==0)return!1;var lt={};lt.text=V("i.notification_start",{team:a.teamName}),this._displayNotification(lt)},this.startAnimation=function(lt,Tt){(function(pt,qt){var jt=!0;pt==="confetti"?We():jt=!1,jt!==!1&&(jn.indexOf(pt)===-1&&jn.push(pt),typeof qt=="number"&&setTimeout(function(){this.stopAnimation(pt)}.bind(this),qt))})(lt,Tt)},this.stopAnimation=function(lt){(function(Tt){var pt=jn.indexOf(Tt);pt!==-1&&(Tt==="confetti"&&Jn(),jn.splice(pt,1))})(lt)},this._validateStateToRestore=function(lt){if(a.restoreState==="NEVER")return this._safeCall(lt);var Tt=this._isRemoteStateNewest(),pt=this._getNewestState();return a.restoreState==="AUTO"||Tt===!1||a.relatedPuzzleIds instanceof Array&&a.relatedPuzzleIds.length>0&&this._isRemoteStateNewestForApp()===!1?this._updateErStates(pt,lt):void this._displayRestoreStateDialog(function(qt){return qt===!1&&(pt=a.localErState),this._updateErStates(pt,lt)}.bind(this))},this._updateErStates=function(lt,Tt){this._validateERState(lt)&&(a.localErState=lt,zt("localErState",a.localErState),a.remoteErState=void 0,this._updateAppPuzzlesState(),this._updateTrackingLocalErState()),this._safeCall(Tt,lt)},this._updateRemoteErState=function(lt){if(this._validateERState(lt)!==!1&&!a.preview){a.remoteErState=lt;var Tt=!1;this._validateERState(a.localErState)&&a.localErState.startTime!==void 0&&a.localErState.startTime!==lt.startTime&&(a.localErState=a.remoteErState,Tt=!0);for(var pt=["nPuzzles","hintsAllowed","startTime","remainingTime","duration","teamId","teamMembers","ranking"],qt=0;qt<pt.length;qt++)a.localErState[pt[qt]]===void 0&&lt[pt[qt]]!==void 0&&(a.localErState[pt[qt]]=lt[pt[qt]]);if(yi(a.remoteErState.puzzleData)==="object"&&Object.keys(a.remoteErState.puzzleData).length>0)for(var jt=0;jt<a.localErState.puzzlesSolved.length;jt++){var rn=a.remoteErState.puzzleData[a.localErState.puzzlesSolved[jt]];yi(rn)==="object"&&(a.localErState.puzzleData[a.localErState.puzzlesSolved[jt]]=rn)}this._updateAppPuzzlesState(),this._updateTrackingLocalErState(),this._validateERState(a.localErState)&&zt("localErState",a.localErState),Tt&&typeof a.onErRestartCallback=="function"&&a.onErRestartCallback(a.remoteErState)}},this._updateTrackingLocalErState=function(){a.localErState.progress=100*a.localErState.puzzlesSolved.length/a.localErState.nPuzzles;for(var lt=0,Tt=Object.keys(a.localErState.puzzleData),pt=0;pt<Tt.length;pt++)lt+=a.localErState.puzzleData[Tt[pt]].score;a.localErState.score=lt},this._updateSettingsFromInitialErState=function(lt){if(this._validateERState(lt)!==!1){var Tt=this._getTeamNameFromERState(lt);typeof Tt=="string"&&(a.teamName=Tt),typeof lt.duration=="number"&&(a.duration=lt.duration),typeof lt.remainingTime=="number"&&(a.remainingTime=lt.remainingTime),a.preview&&typeof a.remainingTime!="number"&&typeof a.duration=="number"&&(a.remainingTime=a.duration)}},this._updateAppPuzzlesState=function(){var lt=void 0,Tt=void 0,pt=!1,qt=this.getSolvedPuzzles();qt instanceof Array&&qt.length>0&&(lt=Math.max.apply(Math,or(qt)));var jt=this.getUnsolvedPuzzles();jt instanceof Array&&(jt.length>0?Tt=Math.min.apply(Math,or(jt)):(pt=!0,Tt=lt)),a.lastSolvedPuzzleId=lt,a.nextPuzzleId=Tt,a.allPuzzlesSolved=pt},this._getNewestState=function(){return this._isRemoteStateNewest()?a.remoteErState:a.localErState},this._isRemoteStateNewest=function(lt){var Tt=this._validateERState(a.localErState);if(this._validateERState(a.remoteErState)===!1)return!1;if(Tt===!1)return!0;if(lt===!0&&a.relatedPuzzleIds instanceof Array&&a.relatedPuzzleIds.length>0){var pt=g({},a.localErState);pt.puzzlesSolved=pt.puzzlesSolved.filter((function(jt){return a.relatedPuzzleIds.indexOf(jt)!==-1}));var qt=g({},a.remoteErState);return qt.puzzlesSolved=qt.puzzlesSolved.filter((function(jt){return a.relatedPuzzleIds.indexOf(jt)!==-1})),this._isStateNewestThan(qt,pt)}return this._isStateNewestThan(a.remoteErState,a.localErState)},this._isStateNewestThan=function(lt,Tt){return lt.puzzlesSolved.length!==0&&(Tt.puzzlesSolved.length===0||lt.puzzlesSolved.length>Tt.puzzlesSolved.length)},this._isRemoteStateNewestForApp=function(){return this._isRemoteStateNewest(!0)},this._validateERState=function(lt){return yi(lt)==="object"&&lt.puzzlesSolved instanceof Array},this._auth=function(lt,Tt){var pt=this._getUserCredentials(lt);if(pt===void 0)return this._safeCall(Tt,!1);var qt=this,jt=a.endpoint+"/auth",rn=Object.assign({},pt);rn.preview=a.preview,fetch(jt,{method:"POST",body:JSON.stringify(rn),headers:{"Content-type":"application/json","Accept-Language":"es-ES"}}).then((function(An){return An.json()})).then((function(An){delete pt.password,a.user=pt,typeof An.token=="string"&&(a.user.token=An.token),a.user.authenticated=An.authentication===!0,a.user.participation=An.participation,zt("user",a.user),qt._updateSettingsFromInitialErState(An.erState),qt._updateRemoteErState(An.erState),qt._safeCall(Tt,a.user.authenticated)})).catch((function(An){qt._displayConnectionErrorDialog(!1,(function(){qt._auth(lt,Tt)}))}))},this.retrieveState=function(lt){this._auth(a.user,function(Tt){if(Tt&&a.user.authenticated)return a.preview?["AUTHOR","PARTICIPANT"].indexOf(a.user.participation)!==-1?this._validateUserAfterAuth(lt):this._safeCall(lt,!1):["PARTICIPANT","NOT_STARTED"].indexOf(a.user.participation)!==-1?a.user.participation==="NOT_STARTED"?a.silent?this._safeCall(lt,!1):this._startEscapeRoom(function(pt){return pt===!0?this._validateUserAfterAuth(lt):this.validateUser(lt)}.bind(this)):this._validateUserAfterAuth(lt):a.silent?this._safeCall(lt,!1):this._displayUserParticipationErrorDialog(function(){this._safeCall(lt,!1)}.bind(this));this._safeCall(lt,!1)}.bind(this))},this.submitPuzzle=function(lt,Tt){var pt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},qt=arguments.length>3?arguments[3]:void 0;if(this.isUserValidParticipant()===!1&&!a.silent)return this._displayUserParticipationErrorDialog(qt);var jt=this._getUserCredentials(a.user);if(jt===void 0)return this._safeCall(qt,!1,{msg:"Invalid params"});if(lt===void 0)return this._safeCall(qt,!1,{msg:"Puzzle id not provided"});if(a.puzzlesRequirements!==!0)return this._safeCall(qt,!1,{msg:"Invalid puzzle requirements"});a.preview&&(pt.readonly=!0);var rn=this,An=a.endpoint+"/puzzles/"+lt+(pt.readonly===!0?"/check_solution":"/submit"),ni=jt;ni.solution=Tt,ni.preview=a.preview,fetch(An,{method:"POST",body:JSON.stringify(ni),headers:{"Content-type":"application/json","Accept-Language":"es-ES"}}).then((function(Wn){return Wn.json()})).then((function(Wn){if(!(Wn.participation==="PARTICIPANT"||a.preview&&["AUTHOR"].indexOf(a.user.participation)!==-1))return a.silent?rn._safeCall(qt,!1,Wn):rn._displayUserParticipationErrorDialog(function(){this._safeCall(qt,!1,Wn)}.bind(rn));var Se=Wn.code==="OK"&&Wn.correctAnswer===!0;pt.readonly!==!0&&(Se&&rn._validateERState(a.localErState)&&a.localErState.puzzlesSolved.indexOf(lt)===-1&&(a.localErState.puzzlesSolved.push(lt),zt("localErState",a.localErState)),rn._updateRemoteErState(Wn.erState)),rn._safeCall(qt,Se,Wn)})).catch((function(Wn){if(a.silent)return rn._safeCall(qt,!1);rn._displayConnectionErrorDialog(!0,(function(Se){Se==="retry"&&rn.submitPuzzle(lt,Tt,pt,qt)}))}))},this.checkPuzzle=function(lt,Tt){var pt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},qt=arguments.length>3?arguments[3]:void 0;pt.readonly=!0,this.submitPuzzle(lt,Tt,pt,qt)},this.submitNextPuzzle=function(lt){var Tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},pt=arguments.length>2?arguments[2]:void 0;this.submitPuzzle(this.getNextPuzzle(),lt,Tt,pt)},this.checkNextPuzzle=function(lt){var Tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},pt=arguments.length>2?arguments[2]:void 0;Tt.readonly=!0,this.checkPuzzle(this.getNextPuzzle(),lt,Tt,pt)},this.start=function(lt){var Tt=this._getUserCredentials(a.user);if(Tt===void 0||this.isUserLoggedIn()===!1)return this._safeCall(lt,!1);var pt=this,qt=a.endpoint+"/start",jt=Tt;fetch(qt,{method:"POST",body:JSON.stringify(jt),headers:{"Content-type":"application/json","Accept-Language":"es-ES"}}).then((function(rn){return rn.json()})).then((function(rn){pt._updateRemoteErState(rn.erState);var An=rn.code==="OK";An&&(pt._updateSettingsFromInitialErState(rn.erState),a.user.participation=rn.participation,zt("user",a.user)),pt._safeCall(lt,An,rn)})).catch((function(rn){if(a.silent)return pt._safeCall(lt,!1);pt._displayConnectionErrorDialog(!0,function(An){An==="retry"?pt.start(lt):pt._safeCall(lt,!1)}.bind(pt))}))},this._connect=function(){if(a.rtc===!0){var lt=this._getUserCredentials(a.user);lt!==void 0&&nt(lt,a)}},this._getTeamNameFromERState=function(lt){var Tt=this._getTeamFromERState(lt);return yi(Tt)==="object"?Tt.name:void 0},this._getMemberNameFromERState=function(lt,Tt){var pt=this._getTeamFromERState(lt);if(pt!==void 0&&pt.teamMembers instanceof Array){for(var qt=0;qt<pt.teamMembers.length;qt++)if(pt.teamMembers[qt].username===Tt)return pt.teamMembers[qt].name}},this._getTeamFromERState=function(lt){return this._getTeamFromRanking(lt.teamId,lt.ranking)},this._getTeamFromRanking=function(lt,Tt){if(typeof lt=="number"&&Tt instanceof Array){for(var pt=0;pt<Tt.length;pt++)if(Tt[pt].id===lt)return Tt[pt]}},this._hasBeenSuccesfullyInitialized=function(){return $e},this.getSettings=function(){return a},this.getAppSettings=function(){return b},this.registerCallback=function(lt,Tt){typeof lt=="string"&&["initCallback","onNewErStateCallback","onErRestartCallback"].indexOf(lt)!=-1&&typeof Tt=="function"&&(a[lt]=Tt)},this.getStorage=function(){return T},this.getJQuery=function(){return ar},this.isUserLoggedIn=function(){return a.user.authenticated===!0},this.isUserValidParticipant=function(){return this._getUserCredentials(a.user)!==void 0&&a.user.authenticated===!0&&(a.user.participation==="PARTICIPANT"||!(!a.preview||["AUTHOR"].indexOf(a.user.participation)===-1))},this.isPreviewMode=function(){return a.preview},this.getSolvedPuzzles=function(){return a.linkedPuzzleIds instanceof Array&&this._validateERState(a.localErState)&&a.localErState.puzzlesSolved instanceof Array?a.localErState.puzzlesSolved.filter((function(lt){return a.linkedPuzzleIds.includes(lt)})):[]},this.getUnsolvedPuzzles=function(){var lt=this.getSolvedPuzzles();return a.linkedPuzzleIds instanceof Array&&lt instanceof Array?a.linkedPuzzleIds.filter((function(Tt){return!lt.includes(Tt)})):[]},this.getLastSolvedPuzzle=function(){return a.lastSolvedPuzzleId},this.getLastSolution=function(){if(a.lastSolvedPuzzleId!==void 0&&this._validateERState(a.localErState)&&yi(a.localErState.puzzleData)==="object"){var lt=a.localErState.puzzleData[a.lastSolvedPuzzleId];if(yi(lt)==="object"&&typeof lt.solution=="string")return lt.solution}},this.getNextPuzzle=function(){return a.nextPuzzleId},this.getAllPuzzlesSolved=function(){return a.allPuzzlesSolved},this._onTimeRunOut=function(){this._validateERState(a.localErState)&&a.localErState.strictTime===!0&&(a.user.participation="TOO_LATE",a.silent||Yn!==!1||this.displayCustomEscappDialog(V("i.notification_time_runout_title"),V("i.notification_time_runout"),{}))},this.isERCompleted=function(){var lt=this._getNewestState();return!!(this._validateERState(lt)&&lt.puzzlesSolved instanceof Array&&typeof lt.nPuzzles=="number")&&lt.puzzlesSolved.length===lt.nPuzzles},this.isEREnded=function(){return this.isERCompleted()||hi},this.reset=function(lt){this._resetUser(),xn(),this._safeCall(lt)},this.encrypt=function(lt,Tt){return(function(pt,qt){var jt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof pt!="string"||pt.trim()==="")return pt;switch(qt){case"MD5":return an(pt);case"SHA-256":var rn=typeof jt.key=="string"?jt.key:Ii;return typeof rn!="string"||rn.trim()===""?pt:si.hmac(rn,pt);default:return pt}})(lt,Tt,arguments.length>2&&arguments[2]!==void 0?arguments[2]:{})},this.addEscappSettingsToUrl=function(lt){return this._addEndpointParamToUrl(this._addLocaleParamToUrl(this._addUserCredentialsToUrl(lt)))},this._addUserCredentialsToUrl=function(lt){var Tt=this._getUserCredentials(a.user);return Tt===void 0?lt:(lt=y(lt,"escapp_email",Tt.email),lt=y(lt,"escapp_token",Tt.token))},this._addLocaleParamToUrl=function(lt){var Tt=M();return typeof Tt.locale=="string"&&(lt=y(lt,"locale",Tt.locale)),lt},this._addEndpointParamToUrl=function(lt){var Tt=M();return typeof Tt.escapp_endpoint=="string"&&(lt=y(lt,"escapp_endpoint",Tt.escapp_endpoint)),lt},this._safeCall=function(lt){if(typeof lt=="function"){for(var Tt=arguments.length,pt=new Array(Tt>1?Tt-1:0),qt=1;qt<Tt;qt++)pt[qt-1]=arguments[qt];lt.apply(void 0,pt)}},this.init(P),a.autovalidate===!0?this.validate(a.initCallback):typeof a.initCallback=="function"&&a.initCallback()},window.escapp_client_environment="production"})()})();var SceneMaker=SceneMaker||{};SceneMaker.Locales={en:{"i.ActionEvent":"Triggering event:","i.ActionEventPuzzleSolved":"Puzzle solved","i.ActionEventSlideRevealed":"Screen or view accessed","i.ActionEventSlideRevealedFirstTime":"Screen or view accessed for the first time","i.ActionParamsPuzzle":"Puzzle:","i.ActionParamsPuzzleSolution":"Puzzle solution:","i.ActionParamsScreen":"Screen:","i.ActionParamsScreenReplacement":"Replace with:","i.ActionParamsSlide":"Screen or view:","i.ActionParamsText":"Text:","i.ActionParamsURL":"URL:","i.ActionParamsView":"View","i.ActionType":"Action:","i.ActionTypeChangeBackground":"Change background of screen or view","i.ActionTypeChangeScreen":"Change screen","i.ActionTypeDisableHotzone":"Disable zone","i.ActionTypeEnableHotzone":"Enable zone","i.ActionTypeGoToScreen":"Go to screen","i.ActionTypeHideHotspot":"Hide hotspot","i.ActionTypeOpenLink":"Open link","i.ActionTypeOpenView":"Open view","i.ActionTypePlaySound":"Play sound","i.ActionTypeShowHotspot":"Show hotspot","i.ActionTypeShowText":"Show text","i.ActionTypeSolvePuzzle":"Solve escape room puzzle","i.ActionTypeStopSound":"Stop sound","i.ActionWarningChangeBackground":"If the new background image has different dimensions from the original, the position of the zones will vary.","i.AddCaption":"Caption","i.AddContent":"Add Content","i.AddHotspot":"Add hotspot","i.AddImageURL":"Add image URL","i.AddMultimediaURL":"Add video or audio URL (YouTube or HTML5)","i.AddScreen":"Add Screen","i.AddView":"Add View","i.AddWebURL":"Add web URL","i.AddZone":"Add zone","i.AreYouSure":"Are you sure?","i.AreYouSureContent":"Are you sure you want to delete this content?","i.AreYouSureDeleteHotspot":"Are you sure you want to delete this hotspot?","i.AreYouSureDeleteHotzone":"Are you sure you want to delete this zone?","i.AreYouSureDeleteScreen":"Are you sure you want to delete this screen?","i.AreYouSureDeleteView":"Are you sure you want to delete this view?","i.AspectRatio":"Aspect ratio","i.Background":"Background","i.cancel":"cancel","i.Continue":"Continue","i.CursorVisibility":"Cursor on hover:","i.CursorVisibilityDefault":"No change","i.CursorVisibilityPointer":"Pointer","i.Delete":"Delete","i.delete":"delete","i.Description":"Description","i.Done":"Done","i.Enabled":"Enabled:","i.Exit":"Exit","i.ExitConfirmation":"You are about to leave Scene Maker. Any changes not saved will be lost.","i.ExitConfirmationMenu":"The scene has been modified. Closing without saving will discard your changes. What would you like to do?","i.exitWSaving":"exit without saving","i.HotspotActions":"Actions to perform when the hotspot is clicked","i.HotspotID":"Hotspot ID:","i.HotzoneActions":"Actions to perform when the zone is clicked","i.HotzoneID":"Zone ID:","i.Image":"Image","i.ImageSource":"Source:","i.ImageSourceGallery":"Gallery","i.ImageSourceURL":"URL","i.ImageURL":"URL:","i.LockAspectRatio":"Maintain aspect ratio:","i.Multimedia":"Video & audio","i.NewAction":"Add action","i.no":"no","i.No":"No","i.NoSlidesOnSaveNotification":"Create at least one screen before saving.","i.Object":"Object","i.Ok":"Ok","i.OSettingsPreview":"Include preview param in the URL.","i.OSettingsUnload":"Unload the web page when hiding the view.","i.Position":"Position","i.PositionX":"X (px):","i.PositionY":"Y (px):","i.Preview":"Preview","i.Properties":"Properties","i.PuzzleOption":"Puzzle #{number}","i.Rotation":"Rotation angle (\xB0):","i.Save":"Save","i.saveAndExit":"save and exit","i.Saved":"Saved","i.Saving":"Saving","i.SceneActions":"Actions","i.SceneCaption":"Scene caption","i.SceneCaptionText":"Text","i.SceneCaptionMode":"Display mode:","i.SceneCaptionModeClosable":"Can be closed","i.SceneCaptionModeFixed":"Always visible","i.SceneCaptionModeMinimizable":"Can be minimized","i.Screen":"Screen","i.ScreenOption":"Screen #{number}","i.Settings":"Settings","i.Size":"Size","i.SizeHeight":"Height (px):","i.SizeWidth":"Width (px):","i.Text":"Text","i.Title":"Scene title","i.Unspecified":"Unspecified","i.Untitled":"Untitled","i.Url":"Url","i.url":"url","i.Video":"Video","i.View":"View","i.ViewOption":"View #{viewNumber} - Screen #{screenNumber}","i.Views":"Views","i.ViewsType":"Choose view type","i.ViewsTypeImage":"Image","i.ViewsTypeOther":"Other content","i.Visibility":"Visibility:","i.VisibilityHidden":"Hidden","i.VisibilityVisible":"Visible","i.WrongResource":"This resource is corrupted or incompatible with the current version of Scene Maker and cannot be loaded.","i.yes":"yes","i.Yes":"Yes","i.ZoneTooltip":"Click here to add content"},es:{"i.ActionEvent":"Evento desencadenante:","i.ActionEventPuzzleSolved":"Reto resuelto","i.ActionEventSlideRevealed":"Pantalla o vista accedida","i.ActionEventSlideRevealedFirstTime":"Pantalla o vista accedida por primera vez","i.ActionParamsPuzzle":"Reto:","i.ActionParamsPuzzleSolution":"Soluci\xF3n del reto:","i.ActionParamsScreen":"Pantalla:","i.ActionParamsScreenReplacement":"Reemplazar con:","i.ActionParamsSlide":"Pantalla o vista:","i.ActionParamsText":"Texto:","i.ActionParamsURL":"URL:","i.ActionParamsView":"Vista","i.ActionType":"Acci\xF3n:","i.ActionTypeChangeBackground":"Cambiar fondo de una pantalla o vista","i.ActionTypeChangeScreen":"Cambiar pantalla","i.ActionTypeDisableHotzone":"Deshabilitar zona","i.ActionTypeEnableHotzone":"Habilitar zona","i.ActionTypeGoToScreen":"Ir a la pantalla","i.ActionTypeHideHotspot":"Ocultar hotspot","i.ActionTypeOpenLink":"Abrir enlace","i.ActionTypeOpenView":"Abrir vista","i.ActionTypePlaySound":"Reproducir sonido","i.ActionTypeShowHotspot":"Mostrar hotspot","i.ActionTypeShowText":"Mostrar texto","i.ActionTypeSolvePuzzle":"Resolver reto de la escape room","i.ActionTypeStopSound":"Detener sonido","i.ActionWarningChangeBackground":"Si la nueva imagen de fondo tiene dimensiones diferentes a la original, la posici\xF3n de las zonas variar\xE1.","i.AddCaption":"R\xF3tulo","i.AddContent":"A\xF1adir contenido","i.AddHotspot":"A\xF1adir hotspot","i.AddImageURL":"A\xF1adir URL de una imagen","i.AddMultimediaURL":"A\xF1adir URL de video o audio (YouTube o HTML5)","i.AddScreen":"A\xF1adir pantalla","i.AddView":"A\xF1adir vista","i.AddWebURL":"A\xF1adir URL de una web","i.AddZone":"A\xF1adir zona","i.AreYouSure":"\xBFEst\xE1 seguro?","i.AreYouSureContent":"\xBFEst\xE1 seguro de que desea eliminar este contenido?","i.AreYouSureDeleteHotspot":"\xBFEst\xE1 seguro de que desea eliminar este hotspot?","i.AreYouSureDeleteHotzone":"\xBFEst\xE1 seguro de que desea eliminar esta zona?","i.AreYouSureDeleteScreen":"\xBFEst\xE1 seguro de que desea eliminar esta pantalla?","i.AreYouSureDeleteView":"\xBFEst\xE1 seguro de que desea eliminar esta vista?","i.AspectRatio":"Relaci\xF3n de aspecto","i.Background":"Fondo","i.cancel":"cancelar","i.Continue":"Continuar","i.CursorVisibility":"Cursor al pasar el rat\xF3n:","i.CursorVisibilityDefault":"No cambiar","i.CursorVisibilityPointer":"Puntero","i.Delete":"Borrar","i.delete":"borrar","i.Description":"Descripci\xF3n","i.Done":"Hecho","i.Enabled":"Habilitado:","i.Exit":"Salir","i.ExitConfirmation":"Est\xE1 a punto de salir de Scene Maker. Los cambios no guardados se perder\xE1n.","i.ExitConfirmationMenu":"El escenario ha sido modificado. Si cierra sin guardar, se perder\xE1n los cambios. \xBFQu\xE9 desea hacer?","i.exitWSaving":"salir sin guardar","i.HotspotActions":"Acciones al hacer clic en el hotspot","i.HotspotID":"ID del hotspot:","i.HotzoneActions":"Acciones al hacer clic en la zona","i.HotzoneID":"ID de la zona:","i.Image":"Imagen","i.ImageSource":"Fuente:","i.ImageSourceGallery":"Galer\xEDa","i.ImageSourceURL":"URL","i.ImageURL":"URL:","i.LockAspectRatio":"Mantener relaci\xF3n de aspecto:","i.Multimedia":"V\xEDdeo & audio","i.NewAction":"A\xF1adir acci\xF3n","i.no":"no","i.No":"No","i.NoSlidesOnSaveNotification":"Cree al menos una pantalla antes de guardar.","i.Object":"Objeto","i.Ok":"Aceptar","i.OSettingsPreview":"Incluir par\xE1metro de previsualizaci\xF3n en la URL.","i.OSettingsUnload":"Cerrar la p\xE1gina web al ocultar la vista.","i.Position":"Posici\xF3n","i.PositionX":"X (px):","i.PositionY":"Y (px):","i.Preview":"Vista previa","i.Properties":"Propiedades","i.PuzzleOption":"Reto #{number}","i.Rotation":"\xC1ngulo de rotaci\xF3n (\xB0):","i.Save":"Guardar","i.saveAndExit":"guardar y salir","i.Saved":"Guardado","i.Saving":"Guardando","i.SceneActions":"Acciones","i.SceneCaption":"R\xF3tulo de la escena","i.SceneCaptionText":"Texto","i.SceneCaptionMode":"Modo de visualizaci\xF3n:","i.SceneCaptionModeClosable":"Se puede cerrar","i.SceneCaptionModeFixed":"Siempre visible","i.SceneCaptionModeMinimizable":"Se puede minimizar","i.Screen":"Pantalla","i.ScreenOption":"Pantalla #{number}","i.Settings":"Configuraci\xF3n","i.Size":"Tama\xF1o","i.SizeHeight":"Alto (px):","i.SizeWidth":"Ancho (px):","i.Text":"Texto","i.Title":"T\xEDtulo del escenario","i.Unspecified":"No especificado","i.Untitled":"Sin t\xEDtulo","i.Url":"Url","i.url":"url","i.Video":"Video","i.View":"Vista","i.ViewOption":"Vista #{viewNumber} - Pantalla #{screenNumber}","i.Views":"Vistas","i.ViewsType":"Elige tipo de vista","i.ViewsTypeImage":"Imagen","i.ViewsTypeOther":"Otro contenido","i.Visibility":"Visibilidad:","i.VisibilityHidden":"Oculto","i.VisibilityVisible":"Visible","i.WrongResource":"Este recurso est\xE1 da\xF1ado o es incompatible con la versi\xF3n actual de Scene Maker y no se puede cargar.","i.yes":"s\xED","i.Yes":"S\xED","i.ZoneTooltip":"Haz clic aqu\xED para a\xF1adir contenido"}},SceneMaker.Constant=SceneMaker.Constant||{},SceneMaker.Constant.NONE="none",SceneMaker.Constant.UNKNOWN="Unknown",SceneMaker.Constant.SCREEN="screen",SceneMaker.Constant.VIEW="view",SceneMaker.Constant.VIEW_IMAGE="view_image",SceneMaker.Constant.VIEW_CONTENT="view_content",SceneMaker.Constant.TEXT="text",SceneMaker.Constant.IMAGE="image",SceneMaker.Constant.AUDIO="audio",SceneMaker.Constant.VIDEO="video",SceneMaker.Constant.OBJECT="object",SceneMaker.Constant.IE="Internet Explorer",SceneMaker.Constant.FIREFOX="Mozilla Firefox",SceneMaker.Constant.CHROME="Google Chrome",SceneMaker.Constant.SAFARI="Safari",SceneMaker.Constant.ANDROID_BROWSER="Android Browser",SceneMaker.Constant.MEDIA={},SceneMaker.Constant.MEDIA.IMAGE="image",SceneMaker.Constant.MEDIA.HTML5_VIDEO="HTML5_VIDEO",SceneMaker.Constant.MEDIA.YOUTUBE_VIDEO="YouTube",SceneMaker.Constant.MEDIA.HTML5_AUDIO="HTML5_AUDIO",SceneMaker.Constant.MEDIA.WEB="web",SceneMaker.Constant.MEDIA.REUSABLE_PUZZLE_INSTANCE="reusable_puzzle_instance",SceneMaker.Constant.MEDIA.PDF="pdf",SceneMaker.Constant.MEDIA.DOC="doc",SceneMaker.Constant.MEDIA.PPT="ppt",SceneMaker.Constant.MEDIA.JSON="json",SceneMaker.Constant.WRAPPER={},SceneMaker.Constant.WRAPPER.EMBED="EMBED",SceneMaker.Constant.WRAPPER.OBJECT="OBJECT",SceneMaker.Constant.WRAPPER.IFRAME="IFRAME",SceneMaker.Constant.WRAPPER.VIDEO="VIDEO",SceneMaker.Constant.WRAPPER.AUDIO="AUDIO",SceneMaker.Constant.WRAPPER.IMAGE="IMG",SceneMaker.Configuration=(function(n,T,A){var c,p=function(g){typeof g=="undefined"&&(g={}),c=g,n.ImagesPath=c.ImagesPath,n.StylesheetsPath=c.StylesheetsPath,n.PreviewPath=c.PreviewPath,n.UploadScenePath=c.UploadScenePath},v=function(){return typeof c=="undefined"?{}:c};return{init:p,getConfiguration:v}})(SceneMaker,jQuery),SceneMaker.I18n=(function(n,T,A){var c="en",p,v,g,M,y,E,F=function(m,kt){var zt=n.Configuration.getConfiguration();if(p=at(),g=et(),S(zt.defaultLanguage)&&(c=zt.defaultLanguage),S(m.lang))M=m.lang;else{var R=navigator.language||navigator.userLanguage;S(R)?M=R:typeof kt=="object"&&S(kt.language)?M=kt.language:M=c}E=n.Locales,typeof v=="object"?y=v:y=E},et=function(){for(var m=[],kt=at(),zt=0;zt<kt.length;zt++)for(var R=Object.keys(kt[zt]),xn=0;xn<R.length;xn++)m.indexOf(R[xn])==-1&&m.push(R[xn]);return m},H=function(){return g instanceof Array?g:et()},at=function(){var m=[],kt=n.Configuration.getConfiguration();return typeof n.Locales=="object"&&m.push(n.Locales),typeof kt=="object"&&typeof kt.locales=="object"&&(m.push(kt.locales),v=kt.locales),m},z=function(){return p instanceof Array?p:at()},S=function(m){return typeof m=="string"&&H().indexOf(m)!=-1},q=function(){T("[i18n-key]").each(function(m,kt){var zt=G(T(kt).attr("i18n-key"));if(typeof zt!="undefined")switch(kt.tagName){case"INPUT":V(kt,zt);break;case"TEXTAREA":rt(kt,zt);break;case"DIV":tt(kt,zt);break;case"LI":At(kt,zt);break;case"IMG":ut(kt,zt);break;default:ft(kt,zt);break}}),T("[i18n-key-tooltip]").each(function(m,kt){var zt=G(T(kt).attr("i18n-key-tooltip"));typeof zt!="undefined"&&T(kt).attr("title",zt)}),T("[i18n-key-href]").each(function(m,kt){var zt=G(T(kt).attr("i18n-key-href"));typeof zt!="undefined"&&T(kt).attr("href",zt)})},V=function(m,kt){T(m).val()!==""&&T(m).val(kt),T(m).attr("placeholder")&&T(m).attr("placeholder",kt)},tt=function(m,kt){T(m).attr("data-text")!=A&&T(m).attr("data-text",kt),T(m).attr("title")!=A&&T(m).attr("title",kt)},rt=function(m,kt){T(m).attr("placeholder",kt)},At=function(m,kt){T(m).attr("data-text")!=A?T(m).attr("data-text",kt):ft(m,kt)},ut=function(m,kt){var zt="src";typeof T(m).attr("srctoload")!="undefined"&&(zt="srctoload"),T(m).attr(zt,n.ImagesPath+kt)},ft=function(m,kt){T(m).text(kt)},G=function(m,kt){var zt=Ct(y,m,kt);if(typeof zt=="string"||(zt=Ct(E,m,kt),typeof zt=="string"))return zt;var R=/^i\./g;return R.exec(m)!=null?A:m},Ct=function(m,kt,zt){return typeof m[M]!="undefined"&&typeof m[M][kt]=="string"?St(m[M][kt],zt):M!=c&&typeof m[c]!="undefined"&&typeof m[c][kt]=="string"?St(m[c][kt],zt):A},St=function(m,kt){if(typeof kt!="object")return m;for(var zt in kt){var R="#{"+zt+"}";m.indexOf(R)!=-1&&(m=m.replaceAll(R,kt[zt]))}return m},te=function(){return M};return{init:F,getAvailableLanguages:H,getAvailableLocales:z,getLanguage:te,getTrans:G,translateUI:q}})(SceneMaker,jQuery),SceneMaker.User=(function(n,T,A){var c,p=function(et){var H={};typeof et=="object"&&(H=et.user),g(H)},v=function(){return Object.keys(c).length>0?c:A},g=function(et){typeof et=="object"?c=et:c={}},M=function(){return c&&typeof c.token=="string"&&c.id},y=function(){return c.name},E=function(){return c.id},F=function(){return c.token};return{init:p,getUser:v,setUser:g,isLogged:M,getName:y,getId:E,getToken:F}})(SceneMaker,jQuery),SceneMaker.Object=(function(n,T,A){var c=function(){n.Object.PDF.init(),n.Object.GoogleDOC.init()};function p(q,V,tt){this.wrapper=q,this.source=V,this.type=tt}var v=function(q){var V=null;if(typeof q=="string"){var tt=new RegExp("^<video","g");tt.exec(q)!==null&&(V="VIDEO");var rt=new RegExp("^<audio","g");rt.exec(q)!==null&&(V="AUDIO")}if(V===null||typeof V=="undefined"){var At=T(q)[0];typeof At!="undefined"&&(V=At.tagName)}var ut=g(q,V),ft;switch(V){case"VIDEO":ft=n.Constant.MEDIA.HTML5_VIDEO;break;case"AUDIO":ft=n.Constant.MEDIA.HTML5_AUDIO;break;case"IFRAME":default:ft=z(ut)}return new p(V,ut,ft)},g=function(q,V){var tt=null;switch(V){case null:tt=q;break;case n.Constant.WRAPPER.IMAGE:case n.Constant.WRAPPER.EMBED:case n.Constant.WRAPPER.IFRAME:tt=T(q).attr("src");break;case n.Constant.WRAPPER.OBJECT:typeof T(q).attr("src")!="undefined"?tt=T(q).attr("src"):typeof T(q).attr("data")!="undefined"&&(tt=T(q).attr("data"));break;case n.Constant.WRAPPER.VIDEO:return n.Video.HTML5.getSources(q);case n.Constant.WRAPPER.AUDIO:return n.Audio.HTML5.getSources(q);default:n.Debugging.log("Unrecognized object wrapper: "+V);break}if(V==null||V==n.Constant.WRAPPER.IFRAME){var rt=/(^https?:\/\/docs.google.com\/viewer\?url=)/g,At=tt.match(rt);At instanceof Array&&At.length===1&&(tt=tt.replace(At[0],"").replace("&embedded=true",""))}return tt},M=/(http(s)?:\/\/)([aA-zZ0-9%=_&+?])+([./-][aA-zZ0-9%=_&+?]+)*[/]?/g,y=/(www[.])([aA-zZ0-9%=_&+?])+([./-][aA-zZ0-9%=_&+?]+)*[/]?/g,E=/(http(s)?:\/\/)?(((youtu.be\/)([aA-zZ0-9-]+))|((www.youtube.com\/((watch\?v=)|(embed\/)|(v\/)))([aA-z0-9-Z&=.])+))/g,F=/^https?:\/\/[^\/]+\/escapeRooms\/[A-Za-z0-9]+\/reusablePuzzleInstances\/[A-Za-z0-9]+\/render$/,et=["mp4","webm","ogg"],H=["jpg","jpeg","png","gif","bmp","svg"],at=["mp3","wav","ogg"],z=function(q){if(typeof q=="object"&&q!==null&&typeof q.length=="number"&&q.length>0&&(q=q[0]),typeof q!="string")return null;if(q.match(F)!==null)return n.Constant.MEDIA.REUSABLE_PUZZLE_INSTANCE;if(q.match(E)!==null)return n.Constant.MEDIA.YOUTUBE_VIDEO;q=q.split("?")[0];var V=S(q);return H.indexOf(V)!==-1?n.Constant.MEDIA.IMAGE:V==="pdf"?n.Constant.MEDIA.PDF:et.indexOf(V)!==-1?n.Constant.MEDIA.HTML5_VIDEO:at.indexOf(V)!==-1?n.Constant.MEDIA.HTML5_AUDIO:V==="json"?n.Constant.MEDIA.JSON:V==="doc"||V==="docx"?n.Constant.MEDIA.DOC:V==="ppt"||V==="pptx"||V==="odp"?n.Constant.MEDIA.PPT:q.match(M)!==null||q.match(y)!==null?n.Constant.MEDIA.WEB:V},S=function(q){return q.split(".").pop().split("&")[0].toLowerCase()};return{init:c,getExtensionFromSrc:S,getObjectInfo:v}})(SceneMaker,jQuery),SceneMaker.Object.PDF=(function(n,T,A){var c=!1,p=function(){c=n.Status.getDevice().features.pdfReader},v=function(M){return M=n.Utils.checkUrlProtocol(M),c?"<iframe src='"+M+"'></iframe>":n.Object.GoogleDOC.generateWrapper(M)},g=function(M,y){if(typeof y!="object"||typeof y.source!="string")return"";var E=M.style?M.style:"",F=v(y.source),et="objectelement";return y.extraClasses&&(et=et+" "+y.extraClasses),"<div id='"+M.id+"' class='"+et+"' objectStyle='"+E+`' objectWrapper="`+F+'"></div>'};return{init:p,generateWrapper:v,renderPDFFromJSON:g}})(SceneMaker,jQuery),SceneMaker.Object.GoogleDOC=(function(n,T,A){var c=function(){},p=function(v){return v=n.Utils.checkUrlProtocol(v),"<iframe src='https://docs.google.com/viewer?url="+v+"&embedded=true'></iframe>"};return{init:c,generateWrapper:p}})(SceneMaker,jQuery),SceneMaker.Renderer=(function(n,T,A){var c=function(){},p=function(S){var q=v(S);if(q){T("section.slides").append(T(q)),n.Marker.drawSlideWithMarkers(S);for(var V=S.views.length,tt=0;tt<V;tt++){var rt=S.views[tt];n.Marker.drawSlideWithMarkers(rt)}}},v=function(S){for(var q="",V=S.views.length,tt=0;tt<V;tt++){var rt=S.views[tt];q+=g(rt)}return T("<article type='"+S.type+"' id='"+S.id+"'>"+q+"</article>")},g=function(S){if(S.type===n.Constant.VIEW_CONTENT)return y(S);if(S.type===n.Constant.VIEW_IMAGE)return M(S)},M=function(S){var q="hide_in_screen",V="<div class='close_view' id='close"+S.id+"'></div>";return"<article class='"+q+"' type='"+n.Constant.VIEW_IMAGE+"' id='"+S.id+"'>"+V+"</article>"},y=function(S){for(var q="",V="hide_in_screen",tt="<div class='close_view' id='close"+S.id+"'></div>",rt=S.elements.length,At=0;At<rt;At++){var ut=S.elements[At];ut.type===n.Constant.TEXT?q+=F(ut):ut.type===n.Constant.IMAGE?q+=et(ut):ut.type===n.Constant.VIDEO?q+=H(ut):ut.type===n.Constant.AUDIO?q+=at(ut):ut.type===n.Constant.OBJECT?(q+=z(ut),V+=" object"):q+=E(ut)}return"<article class='"+V+"' type='"+n.Constant.VIEW_CONTENT+"' id='"+S.id+"'>"+tt+q+"</article>"},E=function(S){return"<div id='"+S.id+"' class='view_content_text'></div>"},F=function(S){return"<div id='"+S.id+"' class='view_content_text textArea'>"+S.body+"</div>"},et=function(S){var q=T("<div id='"+S.id+"' class='view_content_image_wrapper'></div>"),V=T("<img class='view_content_image' src='"+S.body+"' style='"+S.style+"' />");if(S.hyperlink){var tt=T("<a href='"+S.hyperlink+"' target='blank_'></a>");T(tt).append(V),T(q).append(tt)}else T(q).append(V);return n.Utils.getOuterHTML(q)},H=function(S){var q="<div id='"+S.id+"' class='view_content_video_wrapper'>",V=n.Video.HTML5.renderVideoFromJSON(S,{id:n.Utils.getId(S.id+"_video"),extraClasses:["view_content_video"],timestamp:!0});return q=q+V+"</div>",q},at=function(S){var q="<div id='"+S.id+"' class='view_content_audio_wrapper'>",V=n.Audio.HTML5.renderAudioFromJSON(S,{id:n.Utils.getId(S.id+"_audio"),extraClasses:["view_content_audio"],timestamp:!0});return q=q+V+"</div>",q},z=function(S){var q=S.settings||{},V=q.unloadObject===!1?"unloadableObject":"",tt=n.Object.getObjectInfo(S.body);switch(tt.type){case n.Constant.MEDIA.YOUTUBE_VIDEO:return n.Video.Youtube.renderVideoFromJSON(S,{extraClasses:"objectelement youtubeelement "+V});case n.Constant.MEDIA.PDF:return n.Object.PDF.renderPDFFromJSON(S,{extraClasses:V,source:tt.source});default:var rt=T(S.body),At=rt.attr("src");typeof At!="undefined"&&(At=n.Utils.checkWebUrl(At),(tt.type===n.Constant.MEDIA.REUSABLE_PUZZLE_INSTANCE||q.addPreviewParamToObject===!0)&&(At=n.Utils.addParamToUrl(At,"escapp_preview",""+n.Status.isPreview())),rt.attr("src",At)),tt.type===n.Constant.MEDIA.REUSABLE_PUZZLE_INSTANCE&&rt.attr("reusablepuzzleinstance","true");var ut=n.Utils.getOuterHTML(rt),ft=S.style?S.style:"";return"<div id='"+S.id+"' class='objectelement "+V+"' objectStyle='"+ft+"' objectWrapper='"+ut+"'></div>"}};return{init:c,renderScreen:p}})(SceneMaker,jQuery),SceneMaker.Debugging=(function(n,T,A){var c=!1,p,v=function(H){H&&typeof H.developping=="boolean"?(c=H.developping,c&&H.developmentSettings&&(p=H.developmentSettings)):(c=!1,p=null)},g=function(...H){window.console&&window.console.log&&c&&console.log(...H)},M=function(){c=!0},y=function(){c=!1},E=function(){return c},F=function(){return p?p.actionInit:"nothing"},et=function(){return p&&p.testing_scene?p.testing_scene:(g("Error: Please specify development settings"),null)};return{init:v,log:g,enableDevelopingMode:M,disableDevelopingMode:y,isDevelopping:E,getActionInit:F,getTestingScene:et}})(SceneMaker,jQuery),SceneMaker.Scene=(function(n,T){var A=function(c,p){n.ViewerAdapter.applyAspectRatio(c.aspectRatio),n.Renderer.init();for(var v=c.screens,g=0;g<v.length;g++)n.Renderer.renderScreen(v[g]);typeof p=="function"&&p()};return{init:A}})(SceneMaker),SceneMaker.Video=(function(n,T,A){var c=function(){n.Video.HTML5.init(),n.Video.Youtube.init()};return{init:c}})(SceneMaker,jQuery),SceneMaker.Video.HTML5=(function(n,T,A){var c=function(){},p=function(){var S=T("video, audio");T.each(S,function(q,V){var tt=V.tagName==="VIDEO";tt&&T(V).focus(function(rt){this.blur()})})},v=function(S){var q=T(S).find("video, audio");T.each(q,function(V,tt){T(tt).attr("wasplayingonslideleave")=="true"?tt.play():T(tt).attr("wasplayingonslideleave")=="false"||typeof T(tt).attr("wasplayingonslideleave")=="undefined"&&T(tt).attr("autoplayonslideenter")=="true"&&tt.play()})},g=function(S){var q=T(S).find("video, audio");T.each(q,function(V,tt){var rt=!tt.paused;T(tt).attr("wasplayingonslideleave",rt),rt&&tt.pause()})},M=function(S,q){var V=q||{};return typeof V.id=="undefined"&&(V.id=typeof S!="undefined"&&S.id?S.id:n.Utils.getId()),typeof V.controls=="undefined"&&(V.controls=S.controls),V.style=S.style,V.autoplay=S.autoplay,V.loop=S.loop,y(at(S),V)},y=function(S,q){var V=T("<video></video>");if(T(V).attr("preload","metadata"),q&&q.extraAttrs)for(var tt in q.extraAttrs)T(V).attr(tt,q.extraAttrs[tt]);if(q){if(q.id&&T(V).attr("id",q.id),typeof q.onVideoReady=="string")try{for(var rt=q.onVideoReady.split("."),At=window[rt[0]],ut=1;ut<rt.length;ut++)At=At[rt[ut]];typeof At=="function"&&T(V).attr("onloadeddata",q.onVideoReady+"(this)")}catch(Ct){}if(q.extraClasses)for(var ft=q.extraClasses.length,G=0;G<ft;G++)T(V).addClass(q.extraClasses[G]);q.controls!==!1&&T(V).attr("controls","controls"),typeof q.autoplay!="undefined"&&T(V).attr("autoplayonslideenter",q.autoplay),typeof q.poster=="string"&&T(V).attr("poster",q.poster),q.loop===!0&&T(V).attr("loop","loop"),q.style&&T(V).attr("style",q.style)}return typeof T(V).attr("onloadeddata")=="undefined"&&T(V).attr("onloadeddata","SceneMaker.Video.HTML5.onVideoReady(this)"),V=n.Utils.getOuterHTML(V),V=V.split("</video>")[0],(!q||q.loadSources!==!1)&&(T.each(S,function(Ct,St){if(typeof St.src=="string"){var te=St.src;typeof q!="undefined"&&q.timestamp===!0&&(te=n.Utils.addParamToUrl(te,"timestamp",""+new Date().getTime()));var m=St.mimeType?"type='"+St.mimeType+"' ":"";V=V+"<source src='"+te+"' "+m+">"}}),S.length>0&&(V=V+"<p>Your browser does not support HTML5 video.</p>")),V=V+"</video>",V},E=function(S,q,tt){var tt=tt||{};T.each(S,function(rt,At){if(typeof At.src=="string"){var ut=At.src;tt.timestamp===!0&&(ut=n.Utils.addParamToUrl(ut,"timestamp",""+new Date().getTime()));var ft=At.mimeType?"type='"+At.mimeType+"' ":"";T(q).append("<source src='"+ut+"' "+ft+">")}}),S.length>0&&T(q).append("<p>Your browser does not support HTML5 video.</p>")},F=function(S){typeof S!="undefined"&&(S.readyState==4||S.readyState==3)&&T(S).attr("loaded","true")},et=function(S){if(typeof S=="string"){for(var q=[],V=new RegExp(`src=('||")([a-z-.://0-9]+)`,"g"),tt;tt=V.exec(S);)tt.length>2&&q.push(tt[2]),V.lastIndex=tt.index+1;return q.map(function(rt){return{src:rt,mimeType:H(rt)}})}try{return T(S).find("source").map(function(){return{src:this.src,mimeType:H(this.src)}})}catch(rt){return[]}return[]},H=function(S){var q=n.Object.getObjectInfo(S).source;return"video/"+q.split(".").pop().split("?")[0]},at=function(S){if(typeof S!="object")return[];if(typeof S.sources=="string")try{var q=JSON.parse(S.sources)}catch(V){return[]}else if(typeof S.sources=="object")var q=S.sources;return q},z=function(S){if(typeof S=="string"){var q=new RegExp(`poster=('||")([a-z.://0-9?=%]+)`,"g"),V=q.exec(S);return typeof V!="undefined"&&V!=null&&V.length>2?V[2]:A}return T(S).attr("poster")};return{init:c,setMultimediaEvents:p,playMultimedia:v,stopMultimedia:g,renderVideoFromJSON:M,renderVideoFromSources:y,addSourcesToVideoTag:E,getSources:et,getSourcesFromJSON:at,getPoster:z,onVideoReady:F}})(SceneMaker,jQuery);var youtubePlayers={},YT=YT||{};YT.PlayerState=YT.PlayerState||{},YT.PlayerState.UNSTARTED=-1,YT.PlayerState.ENDED=0,YT.PlayerState.PLAYING=1,YT.PlayerState.PAUSED=2,YT.PlayerState.BUFFERING=3,YT.PlayerState.CUED=5;var _youTubeIframeApiReady=!1;function onYouTubeIframeAPIReady(){_youTubeIframeApiReady=!0}SceneMaker.Video.Youtube=(function(n,T,A){var c=!0,p=function(){v(),setTimeout(function(){c=!1},11e3)},v=function(){var z=document.createElement("script");z.src="https://www.youtube.com/iframe_api";var S=document.getElementsByTagName("script")[0];S.parentNode.insertBefore(z,S)},g=function(){return!!(window.YT&&_youTubeIframeApiReady===!0)},M=function(z,V){var q=z.body||z.source,V=V||{};return V.id=z.id?z.id:n.Utils.getId(),V.objectStyle=z.style,y(q,V)},y=function(z,S){var q=S&&S.id?S.id:n.Utils.getId(),V=n.Utils.getId(),tt="",rt="";S&&(S.extraClasses&&(tt=tt+" "+S.extraClasses),S.objectStyle?rt="objectStyle='"+S.objectStyle+"' ":S.style&&(rt="objectStyle='"+S.style+"' "));var At="<div id='"+q+"' ytContainerId='"+V+"' class='"+tt+"' "+rt+" source='"+z+"'></div>";return At},E=function(z,S){var q=1,V=F,tt=et;if(S&&(typeof S.controls=="boolean"&&(q=S.controls===!0?1:0),typeof S.onReadyCallback=="function"&&(V=S.onReadyCallback),typeof S.onPlayerError=="function"&&(tt=S.onPlayerError)),!g()){if(c)setTimeout(function(){E(z,S)},1e3);else{T(z).html("<img src='"+n.ImagesPath+"adverts/advert_content_unavailable.png'/>"),T(z).addClass("videoOfflineContainer");var rt=T(z).find("img");T(rt).load(function(G){T(rt).css("margin-top",(T(z).height()-T(rt).height())/2+"px")}),tt()}return}var At=H(T(z).attr("source"));if(At===null){tt();return}var ut=T(z).attr("ytContainerId"),ft=typeof T(z).attr("objectStyle")!="undefined"?"style='"+T(z).attr("objectStyle")+"' ":"";T(z).html("<div id='"+ut+"' videotype='"+n.Constant.MEDIA.YOUTUBE_VIDEO+"' "+ft+"'></div>"),youtubePlayers[ut]=new YT.Player(ut,{height:"100%",width:"100%",videoId:At,playerVars:{autoplay:0,controls:q,enablejsapi:1,showinfo:0,wmode:"transparent",rel:0},events:{onReady:V,onError:tt}}),T("#"+ut).attr("wmode","transparent")},F=function(z){},et=function(z){},H=function(z){var S=null;if(!z)return S;var q=/https?:\/\/?youtu.be\/([aA-zZ0-9-]+)/g,V=/(https?:\/\/)?(www.youtube.com\/watch\?v=|embed\/)([aA-zZ0-9-]+)[&=.]*/g,tt=/(https?:\/\/)?(www.youtube.com\/v\/)([aA-zZ0-9-]+)/g,rt=/(https?:\/\/)?(www.youtube.com\/embed\/)([aA-zZ0-9-]+)/g;if(z.match(q)!=null){var At=q.exec(z);return At&&At[1]&&(S=At[1]),S}if(z.match(V)!=null){var At=z.split("&")[0],At=V.exec(z);return At&&At[3]&&(S=At[3]),S}if(z.match(tt)!=null){var At=z.split("&")[0],At=tt.exec(z);return At&&At[3]&&(S=At[3]),S}if(z.match(rt)!=null){var At=z.split("&")[0],At=rt.exec(z);return At&&At[3]&&(S=At[3]),S}return S},at=function(z){return"https://www.youtube.com/embed/"+n.Video.Youtube.getYoutubeIdFromURL(n.Object.getObjectInfo(z).source)};return{init:p,renderVideoFromJSON:M,renderVideoFromSource:y,loadYoutubeObject:E,getYoutubeIdFromURL:H,getEmbedSource:at}})(SceneMaker,jQuery),SceneMaker.Audio=(function(n,T,A){var c=function(){n.Audio.HTML5.init()};return{init:c}})(SceneMaker,jQuery),SceneMaker.Audio.HTML5=(function(n,T,A){var c,p=function(){var z=new Audio;c={player:z,url:A},z.addEventListener("ended",()=>{c.url=A})},v=function(z){typeof c=="undefined"||typeof c.player=="undefined"||typeof z=="string"&&c.url===z||(c.url=z,c.player.pause(),c.player.currentTime=0,c.player.src=z,c.player.play().then(()=>{}).catch(S=>{c.url=A}))},g=function(z){typeof c=="undefined"||typeof c.player=="undefined"||typeof z=="string"&&c.url===z&&(c.player.pause(),c.url=A)},M=function(z,S){var q=S||{};return typeof q.id=="undefined"&&(q.id=typeof z!="undefined"&&z.id?z.id:n.Utils.getId()),typeof q.controls=="undefined"&&(q.controls=z.controls),q.style=z.style,q.autoplay=z.autoplay,q.loop=z.loop,y(H(z),q)},y=function(z,S){var q=T("<audio></audio>");if(T(q).attr("preload","metadata"),T(q).addClass("veaudioelement"),S&&S.extraAttrs)for(var V in S.extraAttrs)T(q).attr(V,S.extraAttrs[V]);if(S){if(S.id&&T(q).attr("id",S.id),typeof S.onAudioReady=="string")try{for(var tt=S.onAudioReady.split("."),rt=window[tt[0]],At=1;At<tt.length;At++)rt=rt[tt[At]];typeof rt=="function"&&T(q).attr("onloadeddata",S.onAudioReady+"(this)")}catch(G){}if(S.extraClasses)for(var ut=S.extraClasses.length,ft=0;ft<ut;ft++)T(q).addClass(S.extraClasses[ft]);S.controls!==!1&&T(q).attr("controls","controls"),typeof S.autoplay!="undefined"&&T(q).attr("autoplayonslideenter",S.autoplay),S.loop===!0&&T(q).attr("loop","loop"),S.style&&T(q).attr("style",S.style)}return typeof T(q).attr("onloadeddata")=="undefined"&&T(q).attr("onloadeddata","SceneMaker.Audio.HTML5.onAudioReady(this)"),q=n.Utils.getOuterHTML(q),q=q.split("</audio>")[0],(!S||S.loadSources!==!1)&&(T.each(z,function(G,Ct){if(typeof Ct.src=="string"){var St=Ct.src;typeof S!="undefined"&&S.timestamp===!0&&(St=n.Utils.addParamToUrl(St,"timestamp",""+new Date().getTime()));var te=Ct.mimeType?"type='"+Ct.mimeType+"' ":"";q=q+"<source src='"+St+"' "+te+">"}}),z.length>0&&(q=q+"<p>Your browser does not support HTML5 audio.</p>")),q=q+"</audio>",q},E=function(z,S,V){var V=V||{};T.each(z,function(tt,rt){if(typeof rt.src=="string"){var At=rt.src;V.timestamp===!0&&(At=n.Utils.addParamToUrl(At,"timestamp",""+new Date().getTime()));var ut=rt.mimeType?"type='"+rt.mimeType+"' ":"";T(S).append("<source src='"+At+"' "+ut+">")}}),z.length>0&&T(S).append("<p>Your browser does not support HTML5 audio.</p>")},F=function(z){typeof z!="undefined"&&(z.readyState==4||z.readyState==3)&&T(z).attr("loaded","true")},et=function(z){if(typeof z=="string"){var S=n.Video.HTML5.getSources(z);return S.map(function(q){return{src:q.src,mimeType:at(q.src)}})}try{return T(z).find("source").map(function(){return{src:this.src,mimeType:at(this.src)}})}catch(q){return[]}return[]},H=function(z){return n.Video.HTML5.getSourcesFromJSON(z)},at=function(z){var S=n.Object.getObjectInfo(z).source,q=S.split(".").pop().split("?")[0],V;switch(q){case"ogg":V="ogg";break;case"mp3":V="mpeg";break;case"wav":V="wav";break;default:V=q;break}return"audio/"+V};return{init:p,playAudio:v,stopAudio:g,renderAudioFromJSON:M,renderAudioFromSources:y,addSourcesToAudioTag:E,onAudioReady:F,getSources:et,getSourcesFromJSON:H,getAudioMimeType:at}})(SceneMaker,jQuery),SceneMaker.ObjectPlayer=(function(n,T,A){var c=function(g){T.each(g.children(".objectelement"),function(M,y){if(!T(y).hasClass("loadedObject")){if(T(y).addClass("loadedObject"),T(y).hasClass("youtubeelement")){n.Video.Youtube.loadYoutubeObject(y);return}var E=T(T(y).attr("objectWrapper"));T(y).html("<div style='"+T(y).attr("objectStyle")+"'>"+n.Utils.getOuterHTML(E)+"</div>")}})},p=function(g){T.each(T(g).children('.objectelement:not(".unloadableObject")'),function(M,y){T(y).removeClass("loadedObject"),T(y).html("")})},v=function(g){T(".current").hasClass("object")&&c(T(".current"))};return{loadObject:c,unloadObject:p,aftersetupSize:v}})(SceneMaker,jQuery),SceneMaker.Viewer=(function(n,T,A){var c,p,v=function(){g(n.getOptions())},g=function(at){n.Editing=!1,T("body").addClass("SceneMakerViewerBody"),c=typeof at=="object"?at:{},n.Debugging.init(at),c.configuration&&n.Configuration&&n.Configuration.init(c.configuration);var z=at.scene;if(n.Utils.init(),n.I18n.init(c,z),n.Debugging.log(`

Scene Maker initiated with scene:
`),n.Debugging.log(JSON.stringify(z)),z=n.Utils.fixScene(z),z===null){n.Utils.showPNotValidDialog();return}p=z,n.Status.init(function(){M(at,z)})},M=function(at,z){n.Utils.Loader.loadLanguageCSS(),n.EventsNotifier.init(),n.Object.init(),n.Screen.init(),n.View.init(),n.Marker.init(),n.Actions.init(z),n.Caption.init(),n.Slides.init(),n.I18n.translateUI(),n.User.init(at),n.Events.init(),n.Video.init(),n.Audio.init(),n.FullScreen.init(),n.Scene.init(z,function(){y(at,z)})},y=function(at,z){n.Video.HTML5.setMultimediaEvents(),n.Screen.updateCurrentScreenFromHash(),n.Screen.updateScreens(),n.ViewerAdapter.init(at),n.Utils.Loader.preloadResources(z),n.Screen.getCurrentScreenNumber()>0&&n.Slides.triggerSlideEnterEvent(T(n.Screen.getCurrentScreen()).attr("id")),n.Status.isExternalDomain()||window.focus(),n.Escapp.init(at,z)},E=function(){return c},F=function(at){var z=at.target,S=n.Slides.isView(z),q=n.Slides.getCurrentSlide();at.stopPropagation(),S?(setTimeout(function(){var V=T(z);V.hasClass(n.Constant.OBJECT)&&T(q).attr("id")===T(n.Slides.getCurrentSlide()).attr("id")&&n.ObjectPlayer.loadObject(V)},400),n.Video.HTML5.playMultimedia(z)):n.Screen.onEnterScreen(z),n.Actions.checkActionsForSlideEnterEvent(z.id)},et=function(at){var z=at.target,S=n.Slides.isView(z);at.stopPropagation(),S?(T(z).hasClass(n.Constant.OBJECT)&&n.ObjectPlayer.unloadObject(T(z)),n.Video.HTML5.stopMultimedia(z)):n.Screen.onLeaveScreen(z)},H=function(){return p};return{init:v,getOptions:E,getCurrentScene:H,onSlideEnterViewer:F,onSlideLeaveViewer:et}})(SceneMaker,jQuery),SceneMaker.Utils=(function(n,T){var A,c,p=function(){c||(c=new Array,A=[]),jQuery.fn.cssNumber=function(Q){var wt=parseInt(this.css(Q),10);return isNaN(wt)?0:wt},jQuery.fn.reverse=[].reverse,String.prototype.replaceAll=function(Q,wt){var d=this;return d.replace(new RegExp(Q.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),wt)},Array.prototype.filter||(Array.prototype.filter=function(Q){"use strict";if(this===void 0||this===null)throw new TypeError;var wt=Object(this),d=wt.length>>>0;if(typeof Q!="function")throw new TypeError;for(var pe=[],ve=arguments.length>=2?arguments[1]:void 0,Le=0;Le<d;Le++)if(Le in wt){var Ie=wt[Le];Q.call(ve,Ie,Le,wt)&&pe.push(Ie)}return pe}),Array.prototype.map||(Array.prototype.map=function(Q){"use strict";if(this===void 0||this===null)throw new TypeError;var wt=Object(this),d=wt.length>>>0;if(typeof Q!="function")throw new TypeError;for(var pe=new Array(d),ve=arguments.length>=2?arguments[1]:void 0,Le=0;Le<d;Le++)Le in wt&&(pe[Le]=Q.call(ve,wt[Le],Le,wt));return pe}),Array.prototype.indexOf||(Array.prototype.indexOf=function(Q){var wt=this.length>>>0,d=Number(arguments[1])||0;for(d=d<0?Math.ceil(d):Math.floor(d),d<0&&(d+=wt);d<wt;d++)if(d in this&&this[d]===Q)return d;return-1}),Object.keys||(Object.keys=(function(){"use strict";var Q=Object.prototype.hasOwnProperty,wt=!{toString:null}.propertyIsEnumerable("toString"),d=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],pe=d.length;return function(ve){if(typeof ve!="object"&&(typeof ve!="function"||ve===null))throw new TypeError("Object.keys called on non-object");var Le=[],Ie,vn;for(Ie in ve)Q.call(ve,Ie)&&Le.push(Ie);if(wt)for(vn=0;vn<pe;vn++)Q.call(ve,d[vn])&&Le.push(d[vn]);return Le}})()),typeof Array.prototype.forEach!="function"&&(Array.prototype.forEach=function(Q){for(var wt=0;wt<this.length;wt++)Q.apply(this,[this[wt],wt,this])}),typeof String.prototype.trim!="function"&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),n.Utils.Loader.init()},v=function(){return n.Editing?n.Editor.getOptions():n.Viewer.getOptions()},g=function(Q,wt,d){if(wt){var pe=Q;Q=Q.replace(Q[Q.length-1],"")}else{typeof Q!="string"&&(Q="unicID"),typeof d!="string"&&(d=""),typeof c[Q]=="undefined"&&(c[Q]=0),c[Q]=c[Q]+1;var pe=Q+d+c[Q]}return $("#"+pe).length===0&&A.indexOf(pe)===-1?(A.push(pe),pe):g(Q,!1,d)},M=function(Q){A.indexOf(Q)===-1&&A.push(Q)},y=function(Q,wt){if(typeof Q=="object"&&typeof wt=="object"&&!(Q instanceof Array)){let d=Object.keys(Object.assign({},Q,wt)),pe=d.length;for(let ve=0;ve<pe;ve++)Q[d[ve]]=y(Q[d[ve]],wt[d[ve]]);return Q}else return typeof wt!="undefined"?wt:Q},E=function(Q){return typeof Q!="object"?null:Q},F=function(Q){return typeof $(Q)[0].outerHTML=="undefined"?$(Q).clone().wrap("<div></div>").parent().html():$(Q)[0].outerHTML},et=function(Q,wt){if(typeof Q!="string"||typeof wt!="string")return Q;var d=Q.split("#");Q=d[0];var pe=Q.split("?");if(pe.length===2){Q=pe[0];for(var ve=pe[1],Le=[],pe=ve.split("&"),Ie=pe.length,vn=0;vn<Ie;vn++){var Cn=pe[vn].split("=");Cn[0]!=wt&&Le.push({key:Cn[0],value:Cn[1]})}for(var an=Le.length,si=0;si<an;si++){var $n=Le[si];si===0?Q=Q+"?":Q=Q+"&",Q=Q+$n.key+"="+$n.value}}return d.length>1&&(Q=Q+"#"+d[1]),Q},H=function(Q,wt,d){if(typeof Q!="string"||typeof wt!="string"||typeof d!="string")return Q;Q=et(Q,wt);var pe=Q.split("#");Q=pe[0];var ve=wt+"="+d;return Q.indexOf("?")>-1?Q+="&"+ve:Q+="?"+ve,pe.length>1&&(Q=Q+"#"+pe[1]),Q},at=function(Q){var wt={};if(typeof Q!="string")return wt;var d=Q.split("?");if(d.length<=1)return wt;for(var pe=d[1].split("#")[0].split("&"),ve=0;ve<pe.length;ve++){var Le=pe[ve].split("=");Le.length===2&&(wt[Le[0]]=Le[1])}return wt},z=function(){try{var Q=window.location;if(typeof Q=="undefined")return;var wt=Math.max(1,Math.min(n.Screen.getScreensQuantity(),parseInt(Q.hash.split("?")[0].split("#").pop())));return isNaN(wt)?T:wt}catch(d){return T}},S=function(Q){return Q.split("#")[0]},q=function(Q){try{if(typeof Q=="string"&&Q.indexOf("url")===0&&Q.length>3){var wt=Q[4];return wt=='"'||wt=="'"?Q.substring(5,Q.length-2):Q.substring(4,Q.length-1)}}catch(d){}return Q},V=function(Q,wt){return rt(Q,wt)[0]},tt=function(Q,wt){return rt(Q,wt)[1]},rt=function(Q,wt){var d=[],pe=null,ve=null;return $.each(Q.split(";"),function(Le,Ie){var vn=/width:\s?([0-9]+(\.[0-9]+)?)%/g,Cn=/width:\s?([0-9]+(\.?[0-9]+)?)px/g,an=/height:\s?([0-9]+(\.[0-9]+)?)%/g,si=/height:\s?([0-9]+(\.?[0-9]+)?)px/g;if(Ie.indexOf("width")!==-1){if(Ie.match(Cn)){var $n=Cn.exec(Ie);$n[1]&&(pe=$n[1])}else if(Ie.match(vn)){var $n=vn.exec(Ie);if($n[1]){var Ii=$n[1];wt&&(pe=$(wt).width()*Ii/100)}}}else if(Ie.indexOf("height")!==-1){if(Ie.match(si)){var $n=si.exec(Ie);$n[1]&&(ve=$n[1])}else if(Ie.match(an)){var $n=an.exec(Ie);if($n[1]){var Ii=$n[1];wt&&(ve=$(wt).height()*Ii/100)}}}}),d.push(pe),d.push(ve),d},At=function(Q){if(Q){var wt=null;return $.each(Q.split(";"),function(d,pe){var ve=/font-size\s*:\s*((\d*\.)?\d+)px/i;if(pe.match(ve)!=null){var Le=ve.exec(pe);if(Le!==null&&Le[1]!==null)return wt=parseFloat(Le[1]),!1}}),wt}},ut=function(Q,wt){if(typeof Q!="string")return null;var d="";return $.each(Q.split(";"),function(pe,ve){ve.indexOf("font-size")===-1&&ve!==""&&(d=d+ve+"; ")}),wt&&(d=d+"font-size:"+wt+";"),d},ft=function(){var Q={};Q.width=650,Q.height=220,Q.text=n.I18n.getTrans("i.WrongResource");var wt={};wt.text=n.I18n.getTrans("i.Ok"),wt.callback=function(){$.fancybox.close()},Q.buttons=[wt],n.Utils.showDialog(Q)},G=function(Q){Ct();var wt=$("#notification_template");if($(wt).length!==0&&!(!Q||!Q.text)){var d="90%",pe,ve=!1,Le;n.Editing&&(Le=n.ImagesPath+"thumbs/content_fail.png"),Q.width&&(d=Q.width),Q.showCloseButton&&(ve=Q.showCloseButton),Q.notificationIconSrc&&(Le=Q.notificationIconSrc),Le||(Q.textWrapperClass="forceCenter"),typeof d=="string"&&d.indexOf("%")!=0&&(d=d.split("%")[0].trim(),d=d*$(window).width()/100);var Ie=$(wt).parent();$(wt).width(d);var vn=$(wt).find(".notification_row1"),Cn=$(wt).find(".notification_row2"),an=$(vn).find(".notificationIcon");if(Le&&($(an).attr("src",Le),$(an).css("display","inline")),Q.notificationIconClass&&$(an).addClass(Q.notificationIconClass),Q.textWrapperClass&&$(vn).addClass(Q.textWrapperClass),Q.buttonsWrapperClass&&$(Cn).addClass(Q.buttonsWrapperClass),$(vn).find(".notification_text").html(Q.text),Q.buttons){var si=Q.buttons.length;$(Q.buttons).reverse().each(function(be,on){var Bn=si-be,Si=$('<a href="#" buttonNumber="'+Bn+'" class="button notification_button">'+on.text+"</a>");on.extraclass&&$(Si).addClass(on.extraclass),$(Cn).append(Si)})}if(Q.middlerow){var $n=document.createElement("div");$($n).addClass("notification_middlerow"),$($n).append(Q.middlerow),Q.middlerowExtraClass&&$($n).addClass(Q.middlerowExtraClass),$(Cn).before($n)}n.Utils.addTempShown(Ie);var Ii=$(vn).outerHeight(!0)+$(Cn).outerHeight(!0);if(Q.middlerow){var $n=$(wt).find(".notification_middlerow");Ii=Ii+$($n).outerHeight(!0)}n.Utils.removeTempShown(Ie);var qi=$(wt).clone();$(qi).attr("id","notification_template_cloned"),$(Ie).append(qi);var Bt=$("#notification_template_cloned");if(Q.buttons){Cn=$(Bt).find(".notification_row2"),$(Cn).html("");var si=Q.buttons.length;$(Q.buttons).reverse().each(function(on,Bn){var Si=si-on,Li=$('<a href="#" buttonNumber="'+Si+'" class="button notification_button">'+Bn.text+"</a>");Bn.extraclass&&$(Li).addClass(Bn.extraclass),$(Cn).append(Li),$(Cn).find(".button[buttonNumber='"+Si+"']").click(function(It){It.preventDefault(),Bn.callback()})})}$("a#link_to_notification_template").fancybox({autoDimensions:!1,autoScale:!0,scrolling:"no",width:d,height:Ii,padding:0,hideOnOverlayClick:!0,hideOnContentClick:!1,showCloseButton:ve,onStart:function(be){},onComplete:function(be){},onClosed:function(be){Ct(),Q&&typeof Q.onClosedCallback=="function"&&Q.onClosedCallback()}}),$("a#link_to_notification_template").trigger("click")}},Ct=function(){var Q=$("#notification_template_wrapper");$(Q).html("");var wt=document.createElement("div");$(wt).attr("id","notification_template");var d=document.createElement("div");$(d).addClass("notification_row1");var pe=document.createElement("img");$(pe).addClass("notificationIcon"),$(pe).attr("style","display:none");var ve=document.createElement("span");$(ve).addClass("notification_text"),$(d).append(pe),$(d).append(ve),$(wt).append(d);var Le=document.createElement("div");$(Le).addClass("notification_row2"),$(wt).append(Le),$(Q).append(wt)},St=function(Q){return te(n.VERSION)>te(Q)},te=function(Q){var wt=0,d=[100,10,1];try{for(var pe=Q.split("."),ve=0;ve<pe.length;ve++)wt+=parseFloat(pe[ve])*d[ve]}catch(Le){return 0}return wt},m={},kt=function(Q){$(Q).each(function(wt,d){var pe=$(d).attr("id");typeof pe=="undefined"&&(pe=n.Utils.getId("TmpShownId"),$(d).attr("id",pe));var ve=typeof m[pe]!="undefined"?m[pe]:0;m[pe]=ve+1,ve==0&&$(d).addClass("temp_shown")})},zt=function(Q){$(Q).each(function(wt,d){var pe=$(d).attr("id");typeof pe=="undefined"&&(pe=n.Utils.getId("TmpShownId"),$(d).attr("id",pe));var ve=typeof m[pe]!="undefined"?m[pe]:0,Le=Math.max(0,ve-1);m[pe]=Le,Le==0&&setTimeout(function(){m[pe]===0&&$(d).removeClass("temp_shown")},1)})},R=function(Q){if(typeof Q=="string"){var wt=Q.match(/^https?:\/\//);if(wt instanceof Array&&wt.length===1){var d=wt[0].replace("://",""),pe=n.Status.getProtocol();if(d!=pe)switch(pe){case"https":Q="https"+Q.replace(d,"");break;case"http":break;default:break}}}return Q},xn=function(Q){return typeof Q!="string"||(Q=R(Q)),Q},Gt=function(Q){if(typeof Q!="string")return Q;Q=R(Q);var wt=n.Utils.getOptions();if(typeof wt!="undefined"&&typeof wt.escapp!="undefined"&&typeof wt.escapp.endpoint=="string")try{var d=new URL(wt.escapp.endpoint).hostname,pe=new URL(Q).hostname;if(d===pe)return n.Utils.addParamToUrl(Q,"escapp_preview",""+n.Status.isPreview())}catch(ve){}return Q};return{init:p,getOptions:v,getId:g,registerId:M,deepMerge:y,fixScene:E,getOuterHTML:F,getSrcFromCSS:q,addFontSizeToStyle:ut,getFontSizeFromStyle:At,getWidthFromStyle:V,getHeightFromStyle:tt,getPixelDimensionsFromStyle:rt,addParamToUrl:H,removeParamFromUrl:et,getParamsFromUrl:at,removeHashFromUrlString:S,getScreenNumberFromHash:z,showDialog:G,showPNotValidDialog:ft,isObseleteVersion:St,addTempShown:kt,removeTempShown:zt,checkUrlProtocol:R,checkWebUrl:xn,checkReusablePuzzleInstanceUrl:Gt}})(SceneMaker),SceneMaker.Utils.Loader=(function(n,T){var A=function(){},c=function(V){if(V.screens&&Array.isArray(V.screens))for(let At=0;At<V.screens.length;At++){var tt=V.screens[At];if(tt.hotspots&&Array.isArray(tt.hotspots))for(let ut=0;ut<tt.hotspots.length;ut++){var rt=tt.hotspots[ut];if(rt.actions&&Array.isArray(rt.actions))for(let ft=0;ft<rt.actions.length;ft++)p(rt.actions[ft])}}},p=function(V){if(V.actionType&&V.actionParams&&typeof V.actionParams=="object")switch(V.actionType){case"changeBackground":typeof V.actionParams.url=="string"&&v([V.actionParams.url]);break;case"playSound":typeof V.actionParams.url=="string"&&g([V.actionParams.url]);break;default:break}},v=function(V){for(let tt=0;tt<V.length;tt++){const rt=new Image;rt.src=V[tt]}},g=function(V){for(let tt=0;tt<V.length;tt++){const rt=new Audio;rt.src=V[tt],rt.preload="auto"}},M=function(V,tt){if(!(typeof V!="string"||typeof tt!="function")){var rt=document.getElementsByTagName("head")[0];if(rt){var At=document.createElement("script");At.setAttribute("src",V),At.setAttribute("type","text/javascript");var ut=!1,ft=function(){ut||typeof tt=="function"&&(ut=!0,tt())},G=function(){(this.readyState=="complete"||this.readyState=="loaded")&&ft()};At.onreadystatechange=G,At.onload=ft,rt.appendChild(At)}}},y=function(V,tt){var rt=V;rt.indexOf("http")!=0&&(rt=n.StylesheetsPath+rt,n.Status.getProtocol()==="file"&&rt.indexOf("/")==0&&(rt=rt.replace("/","")));var At=document.getElementsByTagName("head")[0],ut=document.createElement("link");if(ut.type="text/css",ut.rel="stylesheet",ut.href=rt,typeof tt=="function"){var ft=!1,G=function(){ft||(ft=!0,tt())};ut.onload=G,ut.onerror=G;var Ct=function(){(this.readyState=="complete"||this.readyState=="loaded")&&G()};ut.onreadystatechange=Ct}if(At.appendChild(ut),typeof tt=="function"){var St=document.createElement("img");St.onerror=function(){G()},St.src=rt}},E=function(){var V=["es","fr","hu","nl","de"],tt=n.I18n.getLanguage();V.indexOf(tt)!=-1&&y("language/"+tt+".css")},F,et=function(){z()||(F=Date.now(),$("#fancyLoad").trigger("click"))},H=function(V){var tt=Date.now()-F;if(tt<1250)setTimeout(function(){H(V)},Math.max(0,Math.min(1250-tt,1250)));else{var rt=!1,At=0;z()&&($.fancybox.close(),rt=!0,At=800),typeof V=="function"&&setTimeout(function(){V(rt)},At)}},at=function(){$("#fancybox-outer").css("background","rgba(255,255,255,0.9)"),$("#fancybox-wrap").css("margin-top","20px"),$("#fancybox-wrap").css("margin-left","20px")},z=function(){return $("#loading_fancy").is(":visible")},S=function(V,tt){var rt=document.createElement("img");$(rt).addClass("loading_fancy_img"),$(rt).attr("src",n.ImagesPath+"lightbox-ico-loading.gif"),tt&&tt.style&&$(rt).addClass(tt.style);var At=document.createElement("div");$(At).addClass("loading_fancy"),$(At).append(rt),$(V).html(""),$(V).append(At),$(V).addClass("loadingtmpShown")},q=function(V){$(V).find(".loading_fancy_img").parent().remove(),$(V).removeClass("loadingtmpShown")};return{init:A,preloadResources:c,loadScript:M,loadCSS:y,loadLanguageCSS:E,prepareFancyboxForFullLoading:at,startLoading:et,stopLoading:H,startLoadingInContainer:S,stopLoadingInContainer:q}})(SceneMaker),SceneMaker.Status=(function(n,T,A){var c,p,v,g,M,y,E,F=function(G){et(),H(),at(),z(),S(),n.Status.Device.init(function(Ct){c=Ct,typeof G=="function"&&G()})},et=function(){return p=window.location!=window.parent.location,p},H=function(){if(M=!1,et())try{for(var G=window.parent;G!=window.top;)if(typeof G.location.href=="undefined"){M=!0;break}else G=G.parent;typeof window.top.location.href=="undefined"&&(M=!0)}catch(Ct){M=!0}return M},at=function(){if(v=A,g="undefined",p&&!M)try{switch(window.frameElement.tagName){case"OBJECT":case"IFRAME":default:g=window.frameElement.tagName,v=window.frameElement}}catch(G){}},z=function(){var G;try{G=document.location.protocol}catch(St){}if(typeof G=="string"){var Ct=G.match(/[\w]+/);Ct instanceof Array&&typeof Ct[0]=="string"?G=Ct[0]:G=A}typeof G=="string"?E=G:E="unknown"},S=function(){var G=n.Utils.getOptions();typeof G.preview=="boolean"?y=G.preview:y=!1},q=function(){return c},V=function(){return p},tt=function(){return v},rt=function(){return g},At=function(){return M},ut=function(){return typeof E=="undefined"&&z(),E},ft=function(){return y};return{init:F,getDevice:q,isExternalDomain:At,isEmbed:V,getContainer:tt,getContainerType:rt,getProtocol:ut,isPreview:ft}})(SceneMaker,jQuery),SceneMaker.Status.Device=(function(n,T,A){var c=function(et){n.Status.Device.Browser.init(),n.Status.Device.Features.init(),p(et)},p=function(et){var H={};H.browser=n.Status.Device.Browser.fillBrowser(),H.features={},v(H),g(H,function(){H.features=n.Status.Device.Features.fillFeatures(),typeof et=="function"&&et(H)})},v=function(et){et.iPhone=/iPhone/i.test(navigator.userAgent),et.iPad=/iPad/i.test(navigator.userAgent),et.iOS=et.iPhone||et.iPad,et.android=/android/i.test(navigator.userAgent)},g=function(et,H){et.iOS&&et.browser.name===n.Constant.SAFARI?F(H):et.android?et.browser.name===n.Constant.CHROME?E(H):et.browser.name===n.Constant.ANDROID_BROWSER&&y(H):typeof H=="function"&&H()},M=function(et,H){var at=T("head>meta[name='viewport']");at.length===0?T("head").prepend('<meta name="viewport" content="'+et+'"/>'):T(at).attr("content",et),setTimeout(function(){typeof H=="function"&&H()},1250)},y=function(et){M("user-scalable=yes",et)},E=function(et){M("width=device-width,height=device-height,user-scalable=yes",et)},F=function(et){M("user-scalable=yes",et)};return{init:c}})(SceneMaker,jQuery),SceneMaker.Status.Device.Browser=(function(n,T,A){var c="Microsoft Internet Explorer",p="Netscape",v=function(){},g=function(){var et={},H=y();if(H!==-1)return et.name=n.Constant.FIREFOX,et.version=H,et;if(H=E(),H!==-1)return et.name=n.Constant.CHROME,et.version=H,et;if(H=M(),H!==-1)return et.name=n.Constant.IE,et.version=H,et;if(H=F(),H!==-1){var at=/android/i.test(navigator.userAgent);return at?et.name=n.Constant.ANDROID_BROWSER:et.name=n.Constant.SAFARI,et.version=H,et}return et.name=n.Constant.UNKNOWN,et.version=-1,et},M=function(){var et=-1;if(navigator.appName===c){var H=navigator.userAgent,at=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");at.exec(H)!=null&&(et=parseFloat(RegExp.$1))}else if(navigator.appName===p){var H=navigator.userAgent,at=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})");at.exec(H)!=null&&(et=parseFloat(RegExp.$1))}return et},y=function(){var et=-1;if(navigator.appName===p){var H=navigator.userAgent,at=new RegExp(".* Firefox/([0-9.]+)");at.exec(H)!=null&&(et=parseFloat(RegExp.$1))}return et},E=function(){var et=-1;if(navigator.appName===p){var H=navigator.userAgent,at=new RegExp(".* Chrome/([0-9.]+)");at.exec(H)!=null&&(et=parseFloat(RegExp.$1))}return et},F=function(){var et=-1;if(navigator.appName===p){var H=navigator.userAgent;if(H.indexOf("Safari")!==-1&&H.indexOf("Chrome")===-1&&H.indexOf("crmo")==-1){var et=-2,at=new RegExp(".* Version/([0-9.]+)");at.exec(H)!=null&&(et=parseFloat(RegExp.$1))}}return et};return{init:v,fillBrowser:g}})(SceneMaker,jQuery),SceneMaker.Status.Device.Features=(function(n,T,A){var c=function(){},p=function(){var g={};return g.fullscreen=n.FullScreen.isFullScreenSupported(),g.touchScreen="ontouchstart"in window,g.localStorage=v(),g.history=typeof history=="object"&&typeof history.back=="function"&&typeof history.go=="function",g.history&&typeof history.pushState=="function"?g.historypushState=!0:g.historypushState=!1,window.File&&window.FileReader&&window.FileList&&window.Blob?g.reader=!0:g.reader=!1,g.pdfReader=!1,typeof navigator.mimeTypes=="object"&&"application/pdf"in navigator.mimeTypes&&(g.pdfReader=!0),g},v=function(){var g=typeof Storage!="undefined";if(g)try{return localStorage.setItem("myKey","myKeyValue"),localStorage.getItem("myKey"),localStorage.removeItem("myKey"),!0}catch(M){return!1}else return!1};return{init:c,fillFeatures:p}})(SceneMaker,jQuery),SceneMaker.ViewerAdapter=(function(n,T,A){var c=!1,p,v,g,M,y,E,F,et,H,at=function(ft){c||(c=!0,p=n.FullScreen.canFullScreen(),p=p&&!n.Status.isPreview(),T("#viewbar").show(),n.Status.isPreview()&&T("div#viewerpreview").show(),p?(n.FullScreen.enableFullScreen(),T("#page-fullscreen").show()):T("#page-fullscreen").hide(),q(),n.Text.init())},z=function(ft){typeof ft!="string"||["4:3","16:9"].indexOf(ft)===-1||E!==ft&&(E=ft,T("body").attr("aspectRatio",ft),ft==="16:9"?(F=16/9,_referenceSlideWidth=1024,H=576):(F=4/3,_referenceSlideWidth=800,H=600))},S=function(){return E},q=function(){if(typeof F!="undefined"){var ft=T(window).width(),G=T(window).height();ft===v&&G===g||(v=ft,g=G,V())}},V=function(){var ft,G,Ct=25,St=10,te=tt(g),m=g-te,kt=v,zt=(kt-St)/(m-Ct);if(zt>F){G=m-Ct,ft=G*F;var R=kt-ft;if(R<St){var xn=St-R;ft=ft-xn}}else{ft=kt-St,G=ft/F;var Gt=m-G;if(Gt<Ct){var Q=Ct-Gt;G=G-Q}}typeof y!="number"&&(y=H),typeof M!="number"&&(M=_referenceSlideWidth);var wt=G/y;y=G,M=ft,T("#viewbar").height(te);var d=T(".slides > article"),pe=T(".slides > article > article"),ve=T(".slides article");T(ve).css("height",G),T(ve).css("width",ft);var Le=G/2+te/2,Ie=ft/2;T(d).css("margin-top","-"+Le+"px"),T(pe).css("margin-top","-"+G/2+"px"),T(ve).css("margin-left","-"+Ie+"px");var vn=3/100*ft,Cn=5/100*ft;T(ve).css("padding-left",Cn),T(ve).css("padding-right",Cn),T(ve).css("padding-top",vn),T(ve).css("padding-bottom",vn);var an=23;wt<=1?an=an*ut(wt,.7):an=an*ut(wt,.2),T("div.close_view").css("width",an+"px"),T("div.close_view").css("height",an+"px"),T("#page-fullscreen").width(T("#page-fullscreen").height()),At(wt),rt(wt),n.Text.aftersetupSize(wt),n.ObjectPlayer.aftersetupSize(wt),n.Screen.afterSetupSize(wt)},tt=function(ft){var G=26,Ct=40,St=ft/H,te=40*ut(St,.7);return Math.min(Math.max(te,G),Ct)},rt=function(ft){var G=T("#fancybox-overlay");if(!(T(G).length<1||!T(G).is(":visible"))){var Ct=T("#fancybox-wrap"),St=T("#fancybox-content"),te=T("#"+T(St).attr("id")+" > div"),m=T(".current"),kt=T(m).cssNumber("padding-top"),zt=T(m).cssNumber("padding-left"),R=T(m).cssNumber("padding-right"),xn=T(m).offset(),Gt=23;ft<=1?Gt=Gt*ut(ft,.7):Gt=Gt*ut(ft,.2);var Q=T("#fancybox-close");T(Q).width(Gt+"px"),T(Q).height(Gt+"px"),T(Q).css("padding","10px"),T(Q).css("padding-left","4px"),T(Ct).css("margin-top","0px"),T(Ct).css("margin-left","0px"),T(Ct).width(T(m).width()+zt+R),T(Ct).height(T(m).height()+2*kt),T(Ct).css("top",xn.top+"px"),T(Ct).css("left",xn.left+"px"),T(St).width("100%"),T(St).height("100%"),T(te).width("100%"),T(te).height("100%")}},At=function(ft){var G=T("div[data-tippy-root]:visible");G.length>0&&G.each(function(Ct,St){T("[markertooltipid="+T(St).attr("id")+"]").each(function(te,m){typeof m._tippy!="undefined"&&(m._tippy.hide(),m._tippy.show())})})},ut=function(ft,G){var Ct=(ft-1)*G;return 1+Ct};return{init:at,getAspectRatio:S,applyAspectRatio:z,updateInterface:q}})(SceneMaker,jQuery),SceneMaker.Text=(function(n,T,A){var c=12,p=function(){v(T("article > div.textArea")),T("article > div.textArea > table").each(function(H,at){v(T(at).find("caption")),T(at).find("td").each(function(At,ut){v(ut)});var z=T(at).attr("style");if(z){var S="",q=n.Utils.getWidthFromStyle(z);if(q){var V=q*100/800;S+="width:"+V+"%;"}var tt=n.Utils.getHeightFromStyle(z);if(tt){var rt=tt*100/600;S+="height:"+rt+"%;"}S!==""&&T(at).attr("style",S)}})},v=function(H){M(T(H).find("font")),g(T(H).find("[style]"))},g=function(H){T(H).each(function(at,z){var S=T(z).attr("style");if(typeof S=="string"){var q=n.Utils.getFontSizeFromStyle(S);if(!(typeof q!="number"||isNaN(q))){var V=q/c+"rem",tt=n.Utils.addFontSizeToStyle(S,V);T(z).attr("style",tt)}}})},M=function(H){T(H).each(function(at,z){var S=T(z).attr("size");if(S){var q=parseInt(S);if(!isNaN(q)){T(z).hide();var V=et(q),tt=V/c+"rem",rt=T("<span style='font-size:"+tt+"'></span>");T(rt).html(T(z).html()),T(z).before(rt),T(z).remove()}}})},y=function(H){H=H*E(H);var at=c,z=T("html");T(z).css("font-size",at*H+"px")},E=function(H){return H<.25?.5:F(H,.25,.3)?.55:F(H,.3,.35)?.65:F(H,.35,.4)?.7:F(H,.4,.5)?.8:F(H,.5,.6)?.85:F(H,.6,.75)?.9:F(H,.75,.95)?.95:(F(H,.95,1.5)||H>1.5,1)},F=function(H,at,z){return H>at&&H<=z},et=function(H){switch(H){case 7:return 48;case 6:return 32;case 5:return 24;case 4:return 18;case 3:return 16;case 2:return 14;case 1:return 12;default:break}};return{init:p,aftersetupSize:y}})(SceneMaker,jQuery),SceneMaker.Screen=(function(n,T,A){var c,p,v=function(){},g=function(){return c},M=function(m){c=m,T.each(c,function(kt,zt){T(zt).attr("slidenumber",kt+1)})},y=function(){var m=T("section.slides > article");M(m),m.removeClass("current"),T(at(p+1)).addClass("current")},E=function(){return c[p]},F=function(){return p+1},et=function(m){H(m-1)},H=function(m){p=m},at=function(m){var kt=m-1;return kt<0||kt>=c.length?null:c[kt]},z=function(){var m=n.Utils.getScreenNumberFromHash();et(m||1)},S=function(){return T("section.slides > article").length},q=function(m){var kt=T(m).children("article.show_in_screen");if(kt.length===1){var zt=kt[0],R=T(zt).attr("id");n.Slides.triggerSlideEnterEvent(R)}},V=function(m){n.View.closeCurrentView()},tt=function(m){At(1)},rt=function(){At(-1)},At=function(m){var kt=p+m+1;kt=Math.min(Math.max(1,kt),c.length),ut(kt)},ut=function(m,kt){kt!==!0&&m===F()||m>c.length||m<=0||(!n.Editing&&T.fancybox&&T.fancybox.close(),n.View.closeCurrentView(),ft(m))},ft=function(m){var kt=m-1;kt<c.length&&kt>=0&&(te(p+1),H(kt),y(),St(p+1))},G=function(){ut(c.length)},Ct=function(m,kt){},St=function(m){var kt=n.Screen.getScreenWithNumber(m);kt&&n.Slides.triggerSlideEnterEvent(kt.id)},te=function(m){var kt=n.Screen.getScreenWithNumber(m);kt&&n.Slides.triggerSlideLeaveEvent(kt.id)};return{init:v,getScreens:g,setScreens:M,updateScreens:y,getCurrentScreen:E,getCurrentScreenNumber:F,setCurrentScreenNumber:et,getScreenWithNumber:at,updateCurrentScreenFromHash:z,getScreensQuantity:S,onEnterScreen:q,onLeaveScreen:V,forwardOneScreen:tt,backwardOneScreen:rt,goToScreenWithNumber:ut,goToLastScreen:G,afterSetupSize:Ct,triggerScreenEnterEvent:St,triggerScreenLeaveEvent:te}})(SceneMaker,jQuery),SceneMaker.View=(function(n,T,A){var c=null,p=function(){},v=function(){return n.Editing?n.Editor.View.getCurrentView():c===null?null:T("#"+c)},g=function(){var H=v();if(typeof H=="undefined"||H===null)return A;var at=T(H).attr("slidenumber");if(typeof at=="string")try{return parseInt(at)}catch(z){return A}},M=function(H,at){return T(H).children("article[slidenumber='"+at+"']")},y=function(H){var at=H.target.id.substring(5);F(at)},E=function(H){var at=v();if(typeof at!="undefined"&&at!==null){var z=T(at).attr("id");if(H===z)return;F(z)}c=H,T("#"+H).removeClass("hide_in_screen"),T("#"+H).addClass("show_in_screen"),n.Slides.triggerSlideEnterEvent(H)},F=function(H){c=null,T("#"+H).removeClass("show_in_screen"),T("#"+H).addClass("hide_in_screen"),n.Slides.triggerSlideLeaveEvent(H)},et=function(){var H=v();typeof H!="undefined"&&H!==null&&F(T(H).attr("id"))};return{init:p,getCurrentView:v,getCurrentViewNumber:g,getViewWithNumber:M,onCloseViewClicked:y,openView:E,closeView:F,closeCurrentView:et}})(SceneMaker,jQuery),SceneMaker.Marker=(function(n,T,A){var c,p,v,g,M=function(){c={},p={},v={},g=n.ImagesPath+"hotspotgallery/hotspot.png"},y=function(){return g},E=function(tt){var rt=T("#"+tt.id);if(typeof tt.background=="string"){var At=tt.id+"_background",ut=T("<img>",{id:At,class:"slide_background",src:tt.background});rt.append(ut)}if(Array.isArray(tt.hotzones)&&tt.hotzones.length>0)for(j in tt.hotzones)et(rt,tt.hotzones[j]);if(Array.isArray(tt.hotspots)&&tt.hotspots.length>0)for(i in tt.hotspots)F(rt,tt.hotspots[i]);typeof tt.caption!="undefined"&&n.Caption.drawCaption(rt,tt.caption)},F=function(tt,rt){if(!(!rt||!rt.id)){var At=10;if(rt.x&&rt.y&&!(!rt.width||rt.width<=0)&&!(!rt.height||rt.height<=0)){typeof rt.image!="string"&&(rt.image=g);var ut=parseFloat(rt.rotationAngle);(typeof ut!="number"||isNaN(ut)||ut<0||ut>360)&&(ut=0);var ft="",G=rt.visibility!=="hidden";G===!1&&(ft+=" hotspot_hidden");var Ct=rt.cursorVisibility==="pointer";Ct===!0&&(ft+=" hotspot_cursor_pointer");var St=n.Slides.getSlideBackgroundImg(tt),te=T("<img>",{src:rt.image,class:"hotspot"+ft,id:rt.id,rotationAngle:ut,css:{position:"absolute",left:rt.x+"%",top:rt.y+"%",width:rt.width+"%",height:rt.height+"%",transform:"rotate("+ut+"deg)"}}).appendTo(St.parent());if(Array.isArray(rt.actions)&&rt.actions.length>0){te.addClass("hotspot_with_actions"),p[rt.id]=rt,te.on("click",function(){q(rt.id)});for(i in rt.actions)n.Actions.addActionToHotspot(te,rt.actions[i])}}}},et=function(tt,rt){if(!(!rt||!rt.id)&&Array.isArray(rt.points)){var At=tt.attr("id"),ut=rt.id,ft=at(At),G=z(ut,rt.points);ft.addAnnotation(G),H(G.id,function(Ct){if(rt.cursorVisibility==="pointer"&&T(Ct).attr("hotzone_cursor_visibility",rt.cursorVisibility),rt.enabled===!1?T(Ct).attr("hotzone_enabled","false"):T(Ct).attr("hotzone_enabled","true"),Array.isArray(rt.actions)&&rt.actions.length>0){v[ut]=rt;for(i in rt.actions)n.Actions.addActionToHotzone(Ct,rt.actions[i])}})}},H=function(tt,rt){var At,ut=Date.now();function ft(){var G=S(tt);return G.length>0?(clearInterval(At),rt(G),!0):(Date.now()-ut>=1e3&&clearInterval(At),!1)}setTimeout(function(){ft()||(At=setInterval(ft,200))},0)},at=function(tt){if(typeof c[tt]=="undefined"&&(c[tt]={}),typeof c[tt].annotator!="undefined")return c[tt].annotator;var rt=n.Slides.getSlideBackgroundImg(T("#"+tt)),At=Annotorious.createImageAnnotator(rt.attr("id"),{drawingEnabled:!1,userSelectAction:"SELECT",style:{fill:"#dddddd00",fillOpacity:0,stroke:"#00000000",strokeWidth:1}});return At.on("selectionChanged",function(ut){Array.isArray(ut)&&ut.length===1&&V(ut[0].id)}),c[tt].annotator=At,At},z=function(tt,rt){var At=rt.map(([m])=>m),ut=rt.map(([,m])=>m),ft=Math.min(...At),G=Math.max(...At),Ct=Math.min(...ut),St=Math.max(...ut),te={id:tt,target:{selector:{type:"POLYGON",geometry:{bounds:{minX:ft,minY:Ct,maxX:G,maxY:St},points:rt}}}};return te},S=function(tt){return T("g.[data-id='"+tt+"']")},q=function(tt){n.Actions.performActions(p[tt].actions,tt)},V=function(tt){var rt=S(tt);T(rt).attr("hotzone_enabled")!=="false"&&n.Actions.performActions(v[tt].actions,v[tt].idAlias)};return{init:M,getDefaultHotspotImg:y,getHotzoneDOM:S,drawSlideWithMarkers:E,createAnnotationFromPointsArray:z}})(SceneMaker,jQuery),SceneMaker.Actions=(function(n,T,A){var c,p,v,g=function(S){if(c={},p={},v={},Array.isArray(S.actions)){var q=S.actions.filter(V=>typeof V.event!="undefined"&&typeof V.event.eventType=="string");q.filter(V=>V.event.eventType==="slideRevealedFirstTime"&&typeof V.event.eventParams!="undefined"&&typeof V.event.eventParams.slide=="string").forEach(V=>{var tt=V.event.eventParams.slide;p[tt]||(p[tt]={performed:!1,actions:[]}),p[tt].actions.push(V)}),q.filter(V=>V.event.eventType==="slideRevealed"&&typeof V.event.eventParams!="undefined"&&typeof V.event.eventParams.slide=="string").forEach(V=>{var tt=V.event.eventParams.slide;v[tt]||(v[tt]={actions:[]}),v[tt].actions.push(V)})}},M=function(S){return typeof c[S]=="string"?c[S]:S},y=function(S,q){if(!(typeof q!="string"||q===S||T("#"+q).length===0)){for(var V in c)if(S===c[V])if(V===q){delete c[V];continue}else c[V]=q;c[S]=q}},E=function(S,q){switch(q.actionType){case"showText":q.actionParams&&typeof q.actionParams.text=="string"&&et(T(S)[0],q.actionParams.text);break;default:break}},F=function(S,q){switch(q.actionType){case"showText":q.actionParams&&typeof q.actionParams.text=="string"&&et(T(S)[0],q.actionParams.text);break;default:break}},et=function(S,q){tippy(S,{content:q,trigger:"click",placement:"top",inlinePositioning:!0,arrow:!0,theme:"",animation:"scale",duration:1e3,inertia:!1,interactive:!1,interactiveBorder:2,hideOnClick:!0,maxWidth:"none",offset:[2,6],delay:[0,0],popperOptions:{modifiers:[{name:"eventListeners",options:{scroll:!1,resize:!1}}]},onCreate(V){var tt=V.popper.id;T(S).attr("markertooltipid",tt)}})},H=function(S,q){Array.isArray(S)&&S.forEach((V,tt)=>{at(V,q)})},at=function(S,q){switch(S.actionType){case"goToScreen":if(S.actionParams&&typeof S.actionParams.screen=="string"){var V=M(S.actionParams.screen),tt=T("#"+V);tt.length>0&&n.Screen.goToScreenWithNumber(tt.attr("slideNumber"))}break;case"openView":if(S.actionParams&&typeof S.actionParams.view=="string"){var rt=S.actionParams.view,At=T("#"+rt);At.length>0&&n.View.openView(rt)}break;case"openLink":S.actionParams&&typeof S.actionParams.url=="string"&&window.open(S.actionParams.url,"_blank","noopener,noreferrer");break;case"showText":break;case"changeBackground":S.actionParams&&typeof S.actionParams.slide=="string"&&typeof S.actionParams.url=="string"&&n.Slides.changeSlideBackground(T("#"+S.actionParams.slide),S.actionParams.url);break;case"changeScreen":if(S.actionParams&&typeof S.actionParams.screen=="string"&&typeof S.actionParams.screenReplacement=="string"){var V=S.actionParams.screen,ut=S.actionParams.screenReplacement;y(V,ut),T(n.Screen.getCurrentScreen()).attr("id")===V&&at({actionType:"goToScreen",actionParams:{screen:V}})}break;case"showHotspot":case"hideHotspot":if(S.actionParams&&typeof S.actionParams.hotspotId=="string"){var ft=S.actionParams.hotspotId,G=T("#"+ft);G.length>0&&(S.actionType==="showHotspot"?G.show():G.hide())}break;case"enableHotzone":case"disableHotzone":if(S.actionParams&&typeof S.actionParams.hotzoneId=="string"){var Ct=n.Marker.getHotzoneDOM(S.actionParams.hotzoneId);Ct.length>0&&(S.actionType==="enableHotzone"?Ct.attr("hotzone_enabled","true"):Ct.attr("hotzone_enabled","false"))}break;case"playSound":S.actionParams&&typeof S.actionParams.url=="string"&&n.Audio.HTML5.playAudio(S.actionParams.url);break;case"stopSound":S.actionParams&&typeof S.actionParams.url=="string"&&n.Audio.HTML5.stopAudio(S.actionParams.url);break;case"solvePuzzle":S.actionParams&&typeof S.actionParams.puzzleId=="string"&&n.Escapp.submitPuzzleSolution(S.actionParams.puzzleId,q);break;default:break}},z=function(S){typeof p[S]!="undefined"&&p[S].performed!==!0&&(p[S].performed=!0,H(p[S].actions)),typeof v[S]!="undefined"&&H(v[S].actions)};return{init:g,addActionToHotspot:E,addActionToHotzone:F,performActions:H,checkActionsForSlideEnterEvent:z}})(SceneMaker,jQuery),SceneMaker.Caption=(function(n,T,A){var c=function(){},p=function(M,y){if(v(y)!==!1){var E=T(M),F=T("div.captionWrapperTemplate").clone().removeClass("captionWrapperTemplate");switch(F.find("div.captionBodyWrapper").html(y.text),typeof y.mode!="undefined"&&F.attr("mode",y.mode),y.mode){case"minimizable":break;case"closable":break;case"fixed":F.find("div.captionHeaderWrapper").remove();break}E.append(F),F.show()}},v=function(M){return!(typeof M!="object"||typeof M.text!="string"||M.text.trim()==="")},g=function(M){var y=T(n.Slides.getCurrentSlide()),E=y.find("div.captionWrapper"),F=E.attr("mode");switch(F){case"minimizable":var et=E.attr("state");et==="minimized"?(E.find("div.captionHeaderWrapper img").attr("src",n.ImagesPath+"vicons/close.png"),E.attr("state","maximized")):(E.find("div.captionHeaderWrapper img").attr("src",n.ImagesPath+"vicons/maximize.png"),E.attr("state","minimized"));break;case"closable":E.hide();break;case"fixed":break}};return{init:c,drawCaption:p,onCaptionButtonClicked:g}})(SceneMaker,jQuery),SceneMaker.Slides=(function(n,T,A){var c=function(){},p=function(){var z=n.View.getCurrentView();return typeof z=="undefined"||z===null?n.Screen.getCurrentScreen():z},v=function(){var z=n.View.getCurrentViewNumber();return typeof z!="undefined"?z:n.Screen.getCurrentScreenNumber()},g=function(z){var S=T(z),q=S.attr("id");return S.find("img.slide_background#"+q+"_background")},M=function(z){var S=g(z);return S.length>0?S.attr("src"):A},y=function(z,S){var q=T(z);if(q.attr("type")!==n.Constant.VIEW_CONTENT){var V=g(q);V.attr("src",S)}},E=function(z){return z&&z.tagName==="ARTICLE"||typeof z=="object"&&z.length===1&&z[0].tagName==="ARTICLE"?T(z).attr("type"):typeof z=="object"&&typeof z.type=="string"?z.type:null},F=function(z){var S;return typeof z=="string"?S=z:S=T(z).attr("type"),S===n.Constant.SCREEN},et=function(z){var S;return typeof z=="string"?S=z:S=T(z).attr("type"),S===n.Constant.VIEW_IMAGE||S===n.Constant.VIEW_CONTENT},H=function(z){var S=T("#"+z)[0];if(typeof S!="undefined"){if(document.createEvent){var q=document.createEvent("Event");q.initEvent("slideenter",!0,!0),S.dispatchEvent(q)}else if(document.createEventObject){var q=document.createEventObject();S.fireEvent("onslideenter",q)}}},at=function(z){var S=T("#"+z)[0];if(typeof S!="undefined"){if(document.createEvent){var q=document.createEvent("Event");q.initEvent("slideleave",!0,!0),S.dispatchEvent(q)}else if(document.createEventObject){var q=document.createEventObject();S.fireEvent("onslideleave",q)}}};return{init:c,getCurrentSlide:p,getCurrentSlideNumber:v,getSlideBackgroundImg:g,getSlideBackground:M,changeSlideBackground:y,getSlideType:E,isScreen:F,isView:et,triggerSlideEnterEvent:H,triggerSlideLeaveEvent:at}})(SceneMaker,jQuery),SceneMaker.Events=(function(n,T,A){var c=!1,p=function(){v()},v=function(){if(!c){T("article").live("slideenter",n.Viewer.onSlideEnterViewer),T("article").live("slideleave",n.Viewer.onSlideLeaveViewer),T(document).on("click",".close_view",n.View.onCloseViewClicked),T(document).on("click",".captionHeaderWrapper img",n.Caption.onCaptionButtonClicked);var M=A;window.onresize=function(){typeof M=="undefined"?(M=!1,setTimeout(function(){M?(M=A,window.onresize()):(M=A,g())},600)):M=!0},T(window).on("orientationchange",function(){T(window).trigger("resize")}),window.onbeforeunload=function(){n.EventsNotifier.notifyEvent("EXIT")},c=!0}},g=function(){n.ViewerAdapter.updateInterface()};return{init:p,bindViewerEventListeners:v}})(SceneMaker,jQuery),SceneMaker.EventsNotifier=(function(n,T,A){var c,p=function(){c=new Array},v=function(y,E){y in c||(c[y]=[]),c[y].push(E)},g=function(y,E){y in c&&c[y].indexOf(E)!==-1&&c[y].splice(c[y].indexOf(E),1)},M=function(y,E,F){if(c){E=E||{},E.triggeredByUser=F!==!1;var et=c[y];if(et)for(var H=0;H<et.length;H++)et[H](E)}};return{init:p,notifyEvent:M,registerCallback:v,unRegisterCallback:g}})(SceneMaker,jQuery),SceneMaker.FullScreen=(function(n,T,A){var c,p,v,g=function(){M(),y()},M=function(){try{var ft=n.Status.getContainer();if(typeof ft!="undefined"){if(typeof T(ft).attr("allowfullscreen")=="undefined")T(ft).attr("allowfullscreen","true"),T(ft).attr("webkitAllowFullScreen","true"),T(ft).attr("mozallowfullscreen","true");else if(T(ft).attr("allowfullscreen")==="false"){T(ft).removeAttr("allowfullscreen"),T(ft).removeAttr("webkitAllowFullScreen"),T(ft).removeAttr("mozallowfullscreen");return}var G=ut();n.Status.getContainerType()==="OBJECT"&&(T(ft).addClass("ScreenMakerFS"),T(G).addClass("ScreenMakerFS"),T(window.parent.document).find("head").append("<style>.ScreenMakerFS:full-screen, :full-screen > object.ScreenMakerFS {width: 100% !important;height: 100% !important;}</style>"),T(window.parent.document).find("head").append("<style>.ScreenMakerFS:-webkit-full-screen, :-webkit-full-screen > object.ScreenMakerFS {width: 100% !important;height: 100% !important;}</style>"),T(window.parent.document).find("head").append("<style>.ScreenMakerFS:-moz-full-screen, :-moz-full-screen > object.ScreenMakerFS {width: 100% !important;height: 100% !important;}</style>"))}}catch(Ct){}},y=function(){V()?T("#page-fullscreen").removeClass("fsoff").addClass("fson"):T("#page-fullscreen").removeClass("fson").addClass("fsoff")},E=function(){var ft=document.createElement("div");return!!(ft&&(ft.requestFullScreen||ft.mozRequestFullScreen||ft.webkitRequestFullScreen||ft.msRequestFullscreen))},F=function(){return!n.Editing&&et()},et=function(){return n.Status.getDevice().features.fullscreen&&H(At())},H=function(ft){return ft.fullscreenEnabled||ft.mozFullScreenEnabled||ft.webkitFullscreenEnabled||ft.msFullscreenEnabled},at=function(){T(document).on("click","#page-fullscreen",z),T(At()).on("webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange",function(ft){p=c,c=rt(At()),v=new Date,y()})},z=function(){var ft=At(),G=ut();V()?q(ft):S(ft,G)},S=function(ft,G){G.requestFullscreen?G.requestFullscreen():G.mozRequestFullScreen?G.mozRequestFullScreen():G.webkitRequestFullscreen?(G.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT),setTimeout(function(){ft.webkitCurrentFullScreenElement||G.webkitRequestFullScreen()},250)):G.msRequestFullscreen&&G.msRequestFullscreen()},q=function(ft){ft.exitFullscreen?ft.exitFullscreen():ft.cancelFullScreen?ft.cancelFullScreen():ft.mozCancelFullScreen?ft.mozCancelFullScreen():ft.webkitExitFullscreen?ft.webkitExitFullscreen():ft.webkitCancelFullScreen?ft.webkitCancelFullScreen():ft.msExitFullscreen&&ft.msExitFullscreen()},V=function(){return n.Status.getContainerType()==="OBJECT"?tt():T(rt(At())).is("html")},tt=function(){var ft=rt(At());return typeof ft!="undefined"&&ft!==null},rt=function(ft){return ft.fullscreenElement||ft.mozFullScreenElement||ft.webkitFullscreenElement||ft.msFullscreenElement},At=function(){return n.Status.getContainerType()=="OBJECT"?window.parent.document:document},ut=function(){return n.Status.getContainerType()==="OBJECT"?n.Status.getContainer().parentElement:document.documentElement};return{init:g,isFullScreenSupported:E,canFullScreen:F,enableFullScreen:at,isFullScreen:V}})(SceneMaker,jQuery),SceneMaker.Escapp=(function(n,T,A){var c,p,v,g,M,y=function(tt,rt){if(p=[],M={},v=F(rt),g=H(rt),!(v.length===0&&g.length===0)&&n.Status.isPreview()!==!0){var At=E(tt,rt),ut=n.Utils.deepMerge(tt.escapp||{},At);ut.onNewErStateCallback=function(ft){z(ft)},ut.onErRestartCallback=function(ft){p=[],z(ft)},c=new ESCAPP(ut),n.Debugging.log("Escapp client initiated with settings:",c.getSettings()),c.validate((ft,G)=>{try{n.Debugging.log("Escapp validation",ft,G),ft&&z(G)}catch(Ct){n.Debugging.log("Error in escapp validate callback",Ct)}})}},E=function(tt,rt){var At={imagesPath:n.ImagesPath+"libs/escapp/",linkedPuzzleIds:v,relatedPuzzleIds:g,preview:n.Status.isPreview(),silent:n.Debugging.isDevelopping()!==!0,forceValidation:!0,notifications:"FALSE",rtc:!0,restoreState:"AUTO",I18n:{locale:n.I18n.getLanguage()}};return typeof tt.user!="undefined"&&(At.user=tt.user),At},F=function(tt){var rt=[];for(var At in tt.screens){var ut=tt.screens[At];for(var ft in ut.hotspots){var G=ut.hotspots[ft];rt=rt.concat(et(G.actions))}for(var Ct in ut.hotzones){var St=ut.hotzones[Ct];rt=rt.concat(et(St.actions))}}return rt=[...new Set(rt.map(Number).filter(te=>!isNaN(te)))].sort((te,m)=>te-m),rt},et=function(tt){var rt=[];if(Array.isArray(tt))for(var At in tt){var ut=tt[At];ut.actionType==="solvePuzzle"&&typeof ut.actionParams!="undefined"&&typeof ut.actionParams.puzzleId=="string"&&rt.push(ut.actionParams.puzzleId)}return rt},H=function(tt){var rt=at(tt.actions);return rt=rt.map(Number).filter(At=>!isNaN(At)).concat(v),rt=[...new Set(rt)].sort((At,ut)=>At-ut),rt},at=function(tt){var rt=[];if(Array.isArray(tt))for(var At in tt){var ut=tt[At];if(typeof ut.event!="undefined"){var ft=ut.event;ft.eventType==="puzzleSolved"&&typeof ft.eventParams!="undefined"&&typeof ft.eventParams.puzzleId=="string"&&(rt.push(ft.eventParams.puzzleId),typeof M[ft.eventParams.puzzleId]=="undefined"&&(M[ft.eventParams.puzzleId]=[]),M[ft.eventParams.puzzleId].push(ut))}}return rt},z=function(tt){if(typeof tt!="undefined"&&Array.isArray(tt.puzzlesSolved)){var rt=tt.puzzlesSolved.filter(ut=>!p.includes(ut)&&g.includes(ut)).sort((ut,ft)=>ut-ft),At=[];rt.forEach(function(ut){p.push(ut);var ft=M[ut];Array.isArray(ft)&&(At=At.concat(ft))}),p=p.sort((ut,ft)=>ut-ft),S(At)}},S=function(tt){var rt=tt.map(ut=>ut.actionType).reduce((ut,ft,G)=>ft==="goToScreen"||ft==="openView"?G:ut,-1);tt=tt.filter((ut,ft)=>!(ut.actionType==="goToScreen"||ut.actionType==="openView")||ft===rt);var At=tt.map(ut=>ut.actionType).reduce((ut,ft,G)=>ft==="playSound"?G:ut,-1);tt=tt.filter((ut,ft)=>ut.actionType!=="playSound"||ft===At),n.Actions.performActions(tt)},q=function(At,rt){var At=Number(At);if(!isNaN(At)&&v.includes(At)&&!p.includes(At))if(n.Status.isPreview()!==!0)typeof c!="undefined"&&c.submitPuzzle(At,rt,{},(ft,G)=>{ft&&z(G.erState)});else{var ut={puzzlesSolved:JSON.parse(JSON.stringify(p))};ut.puzzlesSolved.push(At),z(ut)}},V=function(){return c};return{init:y,getEscapp:V,submitPuzzleSolution:q}})(SceneMaker,jQuery);
