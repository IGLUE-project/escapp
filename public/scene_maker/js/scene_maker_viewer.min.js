var SceneMaker=SceneMaker||{};SceneMaker.VERSION="1.0.0",SceneMaker.getOptions=function(){try{if(window.parent.SCENE_MAKER_OPTIONS_PREVIEW)return window.parent.SCENE_MAKER_OPTIONS_PREVIEW;if(window.SCENE_MAKER_OPTIONS)return window.SCENE_MAKER_OPTIONS;if(window.parent.SCENE_MAKER_OPTIONS)return window.parent.SCENE_MAKER_OPTIONS}catch(n){}};/*! jQuery v1.7.2 jquery.com | jquery.org/license */(function(n,T){function A(s){return l.isWindow(s)?s:s.nodeType===9?s.defaultView||s.parentWindow:!1}function u(s){if(!zi[s]){var p=te.body,x=l("<"+s+">").appendTo(p),k=x.css("display");x.remove(),(k==="none"||k==="")&&(Xi||(Xi=te.createElement("iframe"),Xi.frameBorder=Xi.width=Xi.height=0),p.appendChild(Xi),(!fr||!Xi.createElement)&&(fr=(Xi.contentWindow||Xi.contentDocument).document,fr.write((l.support.boxModel?"<!doctype html>":"")+"<html><body>"),fr.close()),x=fr.createElement(s),fr.body.appendChild(x),k=l.css(x,"display"),p.removeChild(Xi)),zi[s]=k}return zi[s]}function d(s,p){var x={};return l.each(Qi.concat.apply([],Qi.slice(0,p)),function(){x[this]=s}),x}function v(){Ki=T}function m(){return setTimeout(v,0),Ki=l.now()}function I(){try{return new n.ActiveXObject("Microsoft.XMLHTTP")}catch(s){}}function y(){try{return new n.XMLHttpRequest}catch(s){}}function S(s,p){s.dataFilter&&(p=s.dataFilter(p,s.dataType));var x=s.dataTypes,k={},D,Y,nt=x.length,ct,Mt=x[0],xt,Kt,zt,Vt,ie;for(D=1;D<nt;D++){if(D===1)for(Y in s.converters)typeof Y=="string"&&(k[Y.toLowerCase()]=s.converters[Y]);if(xt=Mt,Mt=x[D],Mt==="*")Mt=xt;else if(xt!=="*"&&xt!==Mt){if(Kt=xt+" "+Mt,zt=k[Kt]||k["* "+Mt],!zt){ie=T;for(Vt in k)if(ct=Vt.split(" "),(ct[0]===xt||ct[0]==="*")&&(ie=k[ct[1]+" "+Mt],ie)){Vt=k[Vt],Vt===!0?zt=ie:ie===!0&&(zt=Vt);break}}!zt&&!ie&&l.error("No conversion from "+Kt.replace(" "," to ")),zt!==!0&&(p=zt?zt(p):ie(Vt(p)))}}return p}function R(s,p,x){var k=s.contents,D=s.dataTypes,Y=s.responseFields,nt,ct,Mt,xt;for(ct in Y)ct in x&&(p[Y[ct]]=x[ct]);for(;D[0]==="*";)D.shift(),nt===T&&(nt=s.mimeType||p.getResponseHeader("content-type"));if(nt){for(ct in k)if(k[ct]&&k[ct].test(nt)){D.unshift(ct);break}}if(D[0]in x)Mt=D[0];else{for(ct in x){if(!D[0]||s.converters[ct+" "+D[0]]){Mt=ct;break}xt||(xt=ct)}Mt=Mt||xt}if(Mt)return Mt!==D[0]&&D.unshift(Mt),x[Mt]}function Q(s,p,x,k){if(l.isArray(p))l.each(p,function(Y,nt){x||oi.test(s)?k(s,nt):Q(s+"["+(typeof nt=="object"?Y:"")+"]",nt,x,k)});else if(!x&&l.type(p)==="object")for(var D in p)Q(s+"["+D+"]",p[D],x,k);else k(s,p)}function F(s,p){var x,k,D=l.ajaxSettings.flatOptions||{};for(x in p)p[x]!==T&&((D[x]?s:k||(k={}))[x]=p[x]);k&&l.extend(!0,s,k)}function it(s,p,x,k,D,Y){D=D||p.dataTypes[0],Y=Y||{},Y[D]=!0;for(var nt=s[D],ct=0,Mt=nt?nt.length:0,xt=s===In,Kt;ct<Mt&&(xt||!Kt);ct++)Kt=nt[ct](p,x,k),typeof Kt=="string"&&(!xt||Y[Kt]?Kt=T:(p.dataTypes.unshift(Kt),Kt=it(s,p,x,k,Kt,Y)));return(xt||!Kt)&&!Y["*"]&&(Kt=it(s,p,x,k,"*",Y)),Kt}function V(s){return function(p,x){if(typeof p!="string"&&(x=p,p="*"),l.isFunction(x))for(var k=p.toLowerCase().split($i),D=0,Y=k.length,nt,ct,Mt;D<Y;D++)nt=k[D],Mt=/^\+/.test(nt),Mt&&(nt=nt.substr(1)||"*"),ct=s[nt]=s[nt]||[],ct[Mt?"unshift":"push"](x)}}function M(s,p,x){var k=p==="width"?s.offsetWidth:s.offsetHeight,D=p==="width"?1:0,Y=4;if(k>0){if(x!=="border")for(;D<Y;D+=2)x||(k-=parseFloat(l.css(s,"padding"+On[D]))||0),x==="margin"?k+=parseFloat(l.css(s,x+On[D]))||0:k-=parseFloat(l.css(s,"border"+On[D]+"Width"))||0;return k+"px"}if(k=Dn(s,p),(k<0||k==null)&&(k=s.style[p]),qe.test(k))return k;if(k=parseFloat(k)||0,x)for(;D<Y;D+=2)k+=parseFloat(l.css(s,"padding"+On[D]))||0,x!=="padding"&&(k+=parseFloat(l.css(s,"border"+On[D]+"Width"))||0),x==="margin"&&(k+=parseFloat(l.css(s,x+On[D]))||0);return k+"px"}function H(s){var p=te.createElement("div");return Fe.appendChild(p),p.innerHTML=s.outerHTML,p.firstChild}function X(s){var p=(s.nodeName||"").toLowerCase();p==="input"?Z(s):p!=="script"&&typeof s.getElementsByTagName!="undefined"&&l.grep(s.getElementsByTagName("input"),Z)}function Z(s){(s.type==="checkbox"||s.type==="radio")&&(s.defaultChecked=s.checked)}function st(s){return typeof s.getElementsByTagName!="undefined"?s.getElementsByTagName("*"):typeof s.querySelectorAll!="undefined"?s.querySelectorAll("*"):[]}function Pt(s,p){var x;p.nodeType===1&&(p.clearAttributes&&p.clearAttributes(),p.mergeAttributes&&p.mergeAttributes(s),x=p.nodeName.toLowerCase(),x==="object"?p.outerHTML=s.outerHTML:x!=="input"||s.type!=="checkbox"&&s.type!=="radio"?x==="option"?p.selected=s.defaultSelected:x==="input"||x==="textarea"?p.defaultValue=s.defaultValue:x==="script"&&p.text!==s.text&&(p.text=s.text):(s.checked&&(p.defaultChecked=p.checked=s.checked),p.value!==s.value&&(p.value=s.value)),p.removeAttribute(l.expando),p.removeAttribute("_submit_attached"),p.removeAttribute("_change_attached"))}function pt(s,p){if(p.nodeType===1&&l.hasData(s)){var x,k,D,Y=l._data(s),nt=l._data(p,Y),ct=Y.events;if(ct){delete nt.handle,nt.events={};for(x in ct)for(k=0,D=ct[x].length;k<D;k++)l.event.add(p,x,ct[x][k])}nt.data&&(nt.data=l.extend({},nt.data))}}function ft(s,p){return l.nodeName(s,"table")?s.getElementsByTagName("tbody")[0]||s.appendChild(s.ownerDocument.createElement("tbody")):s}function q(s){var p=an.split("|"),x=s.createDocumentFragment();if(x.createElement)for(;p.length;)x.createElement(p.pop());return x}function At(s,p,x){if(p=p||0,l.isFunction(p))return l.grep(s,function(D,Y){var nt=!!p.call(D,Y,D);return nt===x});if(p.nodeType)return l.grep(s,function(D,Y){return D===p===x});if(typeof p=="string"){var k=l.grep(s,function(D){return D.nodeType===1});if(Je.test(p))return l.filter(p,k,!x);p=l.filter(p,k)}return l.grep(s,function(D,Y){return l.inArray(D,p)>=0===x})}function _t(s){return!s||!s.parentNode||s.parentNode.nodeType===11}function Jt(){return!0}function g(){return!1}function St(s,p,x){var k=p+"defer",D=p+"queue",Y=p+"mark",nt=l._data(s,k);nt&&(x==="queue"||!l._data(s,D))&&(x==="mark"||!l._data(s,Y))&&setTimeout(function(){!l._data(s,D)&&!l._data(s,Y)&&(l.removeData(s,k,!0),nt.fire())},0)}function jt(s){for(var p in s)if(!(p==="data"&&l.isEmptyObject(s[p]))&&p!=="toJSON")return!1;return!0}function L(s,p,x){if(x===T&&s.nodeType===1){var k="data-"+p.replace(ce,"-$1").toLowerCase();if(x=s.getAttribute(k),typeof x=="string"){try{x=x==="true"?!0:x==="false"?!1:x==="null"?null:l.isNumeric(x)?+x:we.test(x)?l.parseJSON(x):x}catch(D){}l.data(s,p,x)}else x=T}return x}function An(s){var p=Bt[s]={},x,k;for(s=s.split(/\s+/),x=0,k=s.length;x<k;x++)p[s[x]]=!0;return p}var te=n.document,Ot=n.navigator,ye=n.location,l=(function(){function s(){if(!p.isReady){try{te.documentElement.doScroll("left")}catch(vt){setTimeout(s,1);return}p.ready()}}var p=function(vt,de){return new p.fn.init(vt,de,D)},x=n.jQuery,k=n.$,D,Y=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,nt=/\S/,ct=/^\s+/,Mt=/\s+$/,xt=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,Kt=/^[\],:{}\s]*$/,zt=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,Vt=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,ie=/(?:^|:|,)(?:\s*\[)+/g,_n=/(webkit)[ \/]([\w.]+)/,nn=/(opera)(?:.*version)?[ \/]([\w.]+)/,cn=/(msie) ([\w.]+)/,Tn=/(mozilla)(?:.*? rv:([\w.]+))?/,ji=/-([a-z]|[0-9])/ig,Li=/^-ms-/,jn=function(vt,de){return(de+"").toUpperCase()},rt=Ot.userAgent,dt,Nt,ee,be=Object.prototype.toString,fe=Object.prototype.hasOwnProperty,Re=Array.prototype.push,We=Array.prototype.slice,Ke=String.prototype.trim,Nn=Array.prototype.indexOf,ci={};return p.fn=p.prototype={constructor:p,init:function(vt,de,$e){var De,Ve,di,r;if(!vt)return this;if(vt.nodeType)return this.context=this[0]=vt,this.length=1,this;if(vt==="body"&&!de&&te.body)return this.context=te,this[0]=te.body,this.selector=vt,this.length=1,this;if(typeof vt=="string"){if(vt.charAt(0)!=="<"||vt.charAt(vt.length-1)!==">"||vt.length<3?De=Y.exec(vt):De=[null,vt,null],De&&(De[1]||!de)){if(De[1])return de=de instanceof p?de[0]:de,r=de?de.ownerDocument||de:te,di=xt.exec(vt),di?p.isPlainObject(de)?(vt=[te.createElement(di[1])],p.fn.attr.call(vt,de,!0)):vt=[r.createElement(di[1])]:(di=p.buildFragment([De[1]],[r]),vt=(di.cacheable?p.clone(di.fragment):di.fragment).childNodes),p.merge(this,vt);if(Ve=te.getElementById(De[2]),Ve&&Ve.parentNode){if(Ve.id!==De[2])return $e.find(vt);this.length=1,this[0]=Ve}return this.context=te,this.selector=vt,this}return!de||de.jquery?(de||$e).find(vt):this.constructor(de).find(vt)}return p.isFunction(vt)?$e.ready(vt):(vt.selector!==T&&(this.selector=vt.selector,this.context=vt.context),p.makeArray(vt,this))},selector:"",jquery:"1.7.2",length:0,size:function(){return this.length},toArray:function(){return We.call(this,0)},get:function(vt){return vt==null?this.toArray():vt<0?this[this.length+vt]:this[vt]},pushStack:function(vt,de,$e){var De=this.constructor();return p.isArray(vt)?Re.apply(De,vt):p.merge(De,vt),De.prevObject=this,De.context=this.context,de==="find"?De.selector=this.selector+(this.selector?" ":"")+$e:de&&(De.selector=this.selector+"."+de+"("+$e+")"),De},each:function(vt,de){return p.each(this,vt,de)},ready:function(vt){return p.bindReady(),Nt.add(vt),this},eq:function(vt){return vt=+vt,vt===-1?this.slice(vt):this.slice(vt,vt+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(We.apply(this,arguments),"slice",We.call(arguments).join(","))},map:function(vt){return this.pushStack(p.map(this,function(de,$e){return vt.call(de,$e,de)}))},end:function(){return this.prevObject||this.constructor(null)},push:Re,sort:[].sort,splice:[].splice},p.fn.init.prototype=p.fn,p.extend=p.fn.extend=function(){var vt,de,$e,De,Ve,di,r=arguments[0]||{},f=1,_=arguments.length,E=!1;for(typeof r=="boolean"&&(E=r,r=arguments[1]||{},f=2),typeof r!="object"&&!p.isFunction(r)&&(r={}),_===f&&(r=this,--f);f<_;f++)if((vt=arguments[f])!=null)for(de in vt)$e=r[de],De=vt[de],r!==De&&(E&&De&&(p.isPlainObject(De)||(Ve=p.isArray(De)))?(Ve?(Ve=!1,di=$e&&p.isArray($e)?$e:[]):di=$e&&p.isPlainObject($e)?$e:{},r[de]=p.extend(E,di,De)):De!==T&&(r[de]=De));return r},p.extend({noConflict:function(vt){return n.$===p&&(n.$=k),vt&&n.jQuery===p&&(n.jQuery=x),p},isReady:!1,readyWait:1,holdReady:function(vt){vt?p.readyWait++:p.ready(!0)},ready:function(vt){if(vt===!0&&!--p.readyWait||vt!==!0&&!p.isReady){if(!te.body)return setTimeout(p.ready,1);if(p.isReady=!0,vt!==!0&&--p.readyWait>0)return;Nt.fireWith(te,[p]),p.fn.trigger&&p(te).trigger("ready").off("ready")}},bindReady:function(){if(!Nt){if(Nt=p.Callbacks("once memory"),te.readyState==="complete")return setTimeout(p.ready,1);if(te.addEventListener)te.addEventListener("DOMContentLoaded",ee,!1),n.addEventListener("load",p.ready,!1);else if(te.attachEvent){te.attachEvent("onreadystatechange",ee),n.attachEvent("onload",p.ready);var vt=!1;try{vt=n.frameElement==null}catch(de){}te.documentElement.doScroll&&vt&&s()}}},isFunction:function(vt){return p.type(vt)==="function"},isArray:Array.isArray||function(vt){return p.type(vt)==="array"},isWindow:function(vt){return vt!=null&&vt==vt.window},isNumeric:function(vt){return!isNaN(parseFloat(vt))&&isFinite(vt)},type:function(vt){return vt==null?String(vt):ci[be.call(vt)]||"object"},isPlainObject:function(vt){if(!vt||p.type(vt)!=="object"||vt.nodeType||p.isWindow(vt))return!1;try{if(vt.constructor&&!fe.call(vt,"constructor")&&!fe.call(vt.constructor.prototype,"isPrototypeOf"))return!1}catch($e){return!1}var de;for(de in vt);return de===T||fe.call(vt,de)},isEmptyObject:function(vt){for(var de in vt)return!1;return!0},error:function(vt){throw new Error(vt)},parseJSON:function(vt){if(typeof vt!="string"||!vt)return null;if(vt=p.trim(vt),n.JSON&&n.JSON.parse)return n.JSON.parse(vt);if(Kt.test(vt.replace(zt,"@").replace(Vt,"]").replace(ie,"")))return new Function("return "+vt)();p.error("Invalid JSON: "+vt)},parseXML:function(vt){if(typeof vt!="string"||!vt)return null;var de,$e;try{n.DOMParser?($e=new DOMParser,de=$e.parseFromString(vt,"text/xml")):(de=new ActiveXObject("Microsoft.XMLDOM"),de.async="false",de.loadXML(vt))}catch(De){de=T}return(!de||!de.documentElement||de.getElementsByTagName("parsererror").length)&&p.error("Invalid XML: "+vt),de},noop:function(){},globalEval:function(vt){vt&&nt.test(vt)&&(n.execScript||function(de){n.eval.call(n,de)})(vt)},camelCase:function(vt){return vt.replace(Li,"ms-").replace(ji,jn)},nodeName:function(vt,de){return vt.nodeName&&vt.nodeName.toUpperCase()===de.toUpperCase()},each:function(vt,de,$e){var De,Ve=0,di=vt.length,r=di===T||p.isFunction(vt);if($e)if(r){for(De in vt)if(de.apply(vt[De],$e)===!1)break}else for(;Ve<di&&de.apply(vt[Ve++],$e)!==!1;);else if(r){for(De in vt)if(de.call(vt[De],De,vt[De])===!1)break}else for(;Ve<di&&de.call(vt[Ve],Ve,vt[Ve++])!==!1;);return vt},trim:Ke?function(vt){return vt==null?"":Ke.call(vt)}:function(vt){return vt==null?"":(vt+"").replace(ct,"").replace(Mt,"")},makeArray:function(vt,de){var $e=de||[];if(vt!=null){var De=p.type(vt);vt.length==null||De==="string"||De==="function"||De==="regexp"||p.isWindow(vt)?Re.call($e,vt):p.merge($e,vt)}return $e},inArray:function(vt,de,$e){var De;if(de){if(Nn)return Nn.call(de,vt,$e);for(De=de.length,$e=$e?$e<0?Math.max(0,De+$e):$e:0;$e<De;$e++)if($e in de&&de[$e]===vt)return $e}return-1},merge:function(vt,de){var $e=vt.length,De=0;if(typeof de.length=="number")for(var Ve=de.length;De<Ve;De++)vt[$e++]=de[De];else for(;de[De]!==T;)vt[$e++]=de[De++];return vt.length=$e,vt},grep:function(vt,de,$e){var De=[],Ve;$e=!!$e;for(var di=0,r=vt.length;di<r;di++)Ve=!!de(vt[di],di),$e!==Ve&&De.push(vt[di]);return De},map:function(vt,de,$e){var De,Ve,di=[],r=0,f=vt.length,_=vt instanceof p||f!==T&&typeof f=="number"&&(f>0&&vt[0]&&vt[f-1]||f===0||p.isArray(vt));if(_)for(;r<f;r++)De=de(vt[r],r,$e),De!=null&&(di[di.length]=De);else for(Ve in vt)De=de(vt[Ve],Ve,$e),De!=null&&(di[di.length]=De);return di.concat.apply([],di)},guid:1,proxy:function(vt,de){if(typeof de=="string"){var $e=vt[de];de=vt,vt=$e}if(!p.isFunction(vt))return T;var De=We.call(arguments,2),Ve=function(){return vt.apply(de,De.concat(We.call(arguments)))};return Ve.guid=vt.guid=vt.guid||Ve.guid||p.guid++,Ve},access:function(vt,de,$e,De,Ve,di,r){var f,_=$e==null,E=0,B=vt.length;if($e&&typeof $e=="object"){for(E in $e)p.access(vt,de,E,$e[E],1,di,De);Ve=1}else if(De!==T){if(f=r===T&&p.isFunction(De),_&&(f?(f=de,de=function(U,et,wt){return f.call(p(U),wt)}):(de.call(vt,De),de=null)),de)for(;E<B;E++)de(vt[E],$e,f?De.call(vt[E],E,de(vt[E],$e)):De,r);Ve=1}return Ve?vt:_?de.call(vt):B?de(vt[0],$e):di},now:function(){return new Date().getTime()},uaMatch:function(vt){vt=vt.toLowerCase();var de=_n.exec(vt)||nn.exec(vt)||cn.exec(vt)||vt.indexOf("compatible")<0&&Tn.exec(vt)||[];return{browser:de[1]||"",version:de[2]||"0"}},sub:function(){function vt($e,De){return new vt.fn.init($e,De)}p.extend(!0,vt,this),vt.superclass=this,vt.fn=vt.prototype=this(),vt.fn.constructor=vt,vt.sub=this.sub,vt.fn.init=function($e,De){return De&&De instanceof p&&!(De instanceof vt)&&(De=vt(De)),p.fn.init.call(this,$e,De,de)},vt.fn.init.prototype=vt.fn;var de=vt(te);return vt},browser:{}}),p.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(vt,de){ci["[object "+de+"]"]=de.toLowerCase()}),dt=p.uaMatch(rt),dt.browser&&(p.browser[dt.browser]=!0,p.browser.version=dt.version),p.browser.webkit&&(p.browser.safari=!0),nt.test("\xA0")&&(ct=/^[\s\xA0]+/,Mt=/[\s\xA0]+$/),D=p(te),te.addEventListener?ee=function(){te.removeEventListener("DOMContentLoaded",ee,!1),p.ready()}:te.attachEvent&&(ee=function(){te.readyState==="complete"&&(te.detachEvent("onreadystatechange",ee),p.ready())}),p})(),Bt={};l.Callbacks=function(s){s=s?Bt[s]||An(s):{};var p=[],x=[],k,D,Y,nt,ct,Mt,xt=function(Vt){var ie,_n,nn,cn,Tn;for(ie=0,_n=Vt.length;ie<_n;ie++)nn=Vt[ie],cn=l.type(nn),cn==="array"?xt(nn):cn==="function"&&(!s.unique||!zt.has(nn))&&p.push(nn)},Kt=function(Vt,ie){for(ie=ie||[],k=!s.memory||[Vt,ie],D=!0,Y=!0,Mt=nt||0,nt=0,ct=p.length;p&&Mt<ct;Mt++)if(p[Mt].apply(Vt,ie)===!1&&s.stopOnFalse){k=!0;break}Y=!1,p&&(s.once?k===!0?zt.disable():p=[]:x&&x.length&&(k=x.shift(),zt.fireWith(k[0],k[1])))},zt={add:function(){if(p){var Vt=p.length;xt(arguments),Y?ct=p.length:k&&k!==!0&&(nt=Vt,Kt(k[0],k[1]))}return this},remove:function(){if(p)for(var Vt=arguments,ie=0,_n=Vt.length;ie<_n;ie++)for(var nn=0;nn<p.length&&!(Vt[ie]===p[nn]&&(Y&&nn<=ct&&(ct--,nn<=Mt&&Mt--),p.splice(nn--,1),s.unique));nn++);return this},has:function(Vt){if(p){for(var ie=0,_n=p.length;ie<_n;ie++)if(Vt===p[ie])return!0}return!1},empty:function(){return p=[],this},disable:function(){return p=x=k=T,this},disabled:function(){return!p},lock:function(){return x=T,(!k||k===!0)&&zt.disable(),this},locked:function(){return!x},fireWith:function(Vt,ie){return x&&(Y?s.once||x.push([Vt,ie]):(!s.once||!k)&&Kt(Vt,ie)),this},fire:function(){return zt.fireWith(this,arguments),this},fired:function(){return!!D}};return zt};var qt=[].slice;l.extend({Deferred:function(s){var p=l.Callbacks("once memory"),x=l.Callbacks("once memory"),k=l.Callbacks("memory"),D="pending",Y={resolve:p,reject:x,notify:k},nt={done:p.add,fail:x.add,progress:k.add,state:function(){return D},isResolved:p.fired,isRejected:x.fired,then:function(xt,Kt,zt){return ct.done(xt).fail(Kt).progress(zt),this},always:function(){return ct.done.apply(ct,arguments).fail.apply(ct,arguments),this},pipe:function(xt,Kt,zt){return l.Deferred(function(Vt){l.each({done:[xt,"resolve"],fail:[Kt,"reject"],progress:[zt,"notify"]},function(ie,_n){var nn=_n[0],cn=_n[1],Tn;l.isFunction(nn)?ct[ie](function(){Tn=nn.apply(this,arguments),Tn&&l.isFunction(Tn.promise)?Tn.promise().then(Vt.resolve,Vt.reject,Vt.notify):Vt[cn+"With"](this===ct?Vt:this,[Tn])}):ct[ie](Vt[cn])})}).promise()},promise:function(xt){if(xt==null)xt=nt;else for(var Kt in nt)xt[Kt]=nt[Kt];return xt}},ct=nt.promise({}),Mt;for(Mt in Y)ct[Mt]=Y[Mt].fire,ct[Mt+"With"]=Y[Mt].fireWith;return ct.done(function(){D="resolved"},x.disable,k.lock).fail(function(){D="rejected"},p.disable,k.lock),s&&s.call(ct,ct),ct},when:function(s){function p(zt){return function(Vt){nt[zt]=arguments.length>1?qt.call(arguments,0):Vt,xt.notifyWith(Kt,nt)}}function x(zt){return function(Vt){k[zt]=arguments.length>1?qt.call(arguments,0):Vt,--ct||xt.resolveWith(xt,k)}}var k=qt.call(arguments,0),D=0,Y=k.length,nt=Array(Y),ct=Y,Mt=Y,xt=Y<=1&&s&&l.isFunction(s.promise)?s:l.Deferred(),Kt=xt.promise();if(Y>1){for(;D<Y;D++)k[D]&&k[D].promise&&l.isFunction(k[D].promise)?k[D].promise().then(x(D),xt.reject,p(D)):--ct;ct||xt.resolveWith(xt,k)}else xt!==s&&xt.resolveWith(xt,Y?[s]:[]);return Kt}}),l.support=(function(){var s,p,x,k,D,Y,nt,ct,Mt,xt,Kt,zt,Vt=te.createElement("div"),ie=te.documentElement;if(Vt.setAttribute("className","t"),Vt.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>",p=Vt.getElementsByTagName("*"),x=Vt.getElementsByTagName("a")[0],!p||!p.length||!x)return{};k=te.createElement("select"),D=k.appendChild(te.createElement("option")),Y=Vt.getElementsByTagName("input")[0],s={leadingWhitespace:Vt.firstChild.nodeType===3,tbody:!Vt.getElementsByTagName("tbody").length,htmlSerialize:!!Vt.getElementsByTagName("link").length,style:/top/.test(x.getAttribute("style")),hrefNormalized:x.getAttribute("href")==="/a",opacity:/^0.55/.test(x.style.opacity),cssFloat:!!x.style.cssFloat,checkOn:Y.value==="on",optSelected:D.selected,getSetAttribute:Vt.className!=="t",enctype:!!te.createElement("form").enctype,html5Clone:te.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,pixelMargin:!0},l.boxModel=s.boxModel=te.compatMode==="CSS1Compat",Y.checked=!0,s.noCloneChecked=Y.cloneNode(!0).checked,k.disabled=!0,s.optDisabled=!D.disabled;try{delete Vt.test}catch(_n){s.deleteExpando=!1}if(!Vt.addEventListener&&Vt.attachEvent&&Vt.fireEvent&&(Vt.attachEvent("onclick",function(){s.noCloneEvent=!1}),Vt.cloneNode(!0).fireEvent("onclick")),Y=te.createElement("input"),Y.value="t",Y.setAttribute("type","radio"),s.radioValue=Y.value==="t",Y.setAttribute("checked","checked"),Y.setAttribute("name","t"),Vt.appendChild(Y),nt=te.createDocumentFragment(),nt.appendChild(Vt.lastChild),s.checkClone=nt.cloneNode(!0).cloneNode(!0).lastChild.checked,s.appendChecked=Y.checked,nt.removeChild(Y),nt.appendChild(Vt),Vt.attachEvent)for(Kt in{submit:1,change:1,focusin:1})xt="on"+Kt,zt=xt in Vt,zt||(Vt.setAttribute(xt,"return;"),zt=typeof Vt[xt]=="function"),s[Kt+"Bubbles"]=zt;return nt.removeChild(Vt),nt=k=D=Vt=Y=null,l(function(){var _n,nn,cn,Tn,ji,Li,jn,rt,dt,Nt,ee,be,fe,Re=te.getElementsByTagName("body")[0];!Re||(rt=1,fe="padding:0;margin:0;border:",ee="position:absolute;top:0;left:0;width:1px;height:1px;",be=fe+"0;visibility:hidden;",dt="style='"+ee+fe+"5px solid #000;",Nt="<div "+dt+"display:block;'><div style='"+fe+"0;display:block;overflow:hidden;'></div></div><table "+dt+"' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>",_n=te.createElement("div"),_n.style.cssText=be+"width:0;height:0;position:static;top:0;margin-top:"+rt+"px",Re.insertBefore(_n,Re.firstChild),Vt=te.createElement("div"),_n.appendChild(Vt),Vt.innerHTML="<table><tr><td style='"+fe+"0;display:none'></td><td>t</td></tr></table>",ct=Vt.getElementsByTagName("td"),zt=ct[0].offsetHeight===0,ct[0].style.display="",ct[1].style.display="none",s.reliableHiddenOffsets=zt&&ct[0].offsetHeight===0,n.getComputedStyle&&(Vt.innerHTML="",jn=te.createElement("div"),jn.style.width="0",jn.style.marginRight="0",Vt.style.width="2px",Vt.appendChild(jn),s.reliableMarginRight=(parseInt((n.getComputedStyle(jn,null)||{marginRight:0}).marginRight,10)||0)===0),typeof Vt.style.zoom!="undefined"&&(Vt.innerHTML="",Vt.style.width=Vt.style.padding="1px",Vt.style.border=0,Vt.style.overflow="hidden",Vt.style.display="inline",Vt.style.zoom=1,s.inlineBlockNeedsLayout=Vt.offsetWidth===3,Vt.style.display="block",Vt.style.overflow="visible",Vt.innerHTML="<div style='width:5px;'></div>",s.shrinkWrapBlocks=Vt.offsetWidth!==3),Vt.style.cssText=ee+be,Vt.innerHTML=Nt,nn=Vt.firstChild,cn=nn.firstChild,ji=nn.nextSibling.firstChild.firstChild,Li={doesNotAddBorder:cn.offsetTop!==5,doesAddBorderForTableAndCells:ji.offsetTop===5},cn.style.position="fixed",cn.style.top="20px",Li.fixedPosition=cn.offsetTop===20||cn.offsetTop===15,cn.style.position=cn.style.top="",nn.style.overflow="hidden",nn.style.position="relative",Li.subtractsBorderForOverflowNotVisible=cn.offsetTop===-5,Li.doesNotIncludeMarginInBodyOffset=Re.offsetTop!==rt,n.getComputedStyle&&(Vt.style.marginTop="1%",s.pixelMargin=(n.getComputedStyle(Vt,null)||{marginTop:0}).marginTop!=="1%"),typeof _n.style.zoom!="undefined"&&(_n.style.zoom=1),Re.removeChild(_n),jn=Vt=_n=null,l.extend(s,Li))}),s})();var we=/^(?:\{.*\}|\[.*\])$/,ce=/([A-Z])/g;l.extend({cache:{},uuid:0,expando:"jQuery"+(l.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(s){return s=s.nodeType?l.cache[s[l.expando]]:s[l.expando],!!s&&!jt(s)},data:function(s,p,x,k){if(l.acceptData(s)){var D,Y,nt,ct=l.expando,Mt=typeof p=="string",xt=s.nodeType,Kt=xt?l.cache:s,zt=xt?s[ct]:s[ct]&&ct,Vt=p==="events";return(!zt||!Kt[zt]||!Vt&&!k&&!Kt[zt].data)&&Mt&&x===T?void 0:(zt||(xt?s[ct]=zt=++l.uuid:zt=ct),Kt[zt]||(Kt[zt]={},xt||(Kt[zt].toJSON=l.noop)),(typeof p=="object"||typeof p=="function")&&(k?Kt[zt]=l.extend(Kt[zt],p):Kt[zt].data=l.extend(Kt[zt].data,p)),D=Y=Kt[zt],k||(Y.data||(Y.data={}),Y=Y.data),x!==T&&(Y[l.camelCase(p)]=x),Vt&&!Y[p]?D.events:(Mt?(nt=Y[p],nt==null&&(nt=Y[l.camelCase(p)])):nt=Y,nt))}},removeData:function(s,p,x){if(l.acceptData(s)){var k,D,Y,nt=l.expando,ct=s.nodeType,Mt=ct?l.cache:s,xt=ct?s[nt]:nt;if(!Mt[xt])return;if(p&&(k=x?Mt[xt]:Mt[xt].data,k)){for(l.isArray(p)||(p in k?p=[p]:(p=l.camelCase(p),p in k?p=[p]:p=p.split(" "))),D=0,Y=p.length;D<Y;D++)delete k[p[D]];if(!(x?jt:l.isEmptyObject)(k))return}if(!x&&(delete Mt[xt].data,!jt(Mt[xt])))return;l.support.deleteExpando||!Mt.setInterval?delete Mt[xt]:Mt[xt]=null,ct&&(l.support.deleteExpando?delete s[nt]:s.removeAttribute?s.removeAttribute(nt):s[nt]=null)}},_data:function(s,p,x){return l.data(s,p,x,!0)},acceptData:function(s){if(s.nodeName){var p=l.noData[s.nodeName.toLowerCase()];if(p)return p!==!0&&s.getAttribute("classid")===p}return!0}}),l.fn.extend({data:function(s,p){var x,k,D,Y,nt,ct=this[0],Mt=0,xt=null;if(s===T){if(this.length&&(xt=l.data(ct),ct.nodeType===1&&!l._data(ct,"parsedAttrs"))){for(D=ct.attributes,nt=D.length;Mt<nt;Mt++)Y=D[Mt].name,Y.indexOf("data-")===0&&(Y=l.camelCase(Y.substring(5)),L(ct,Y,xt[Y]));l._data(ct,"parsedAttrs",!0)}return xt}return typeof s=="object"?this.each(function(){l.data(this,s)}):(x=s.split(".",2),x[1]=x[1]?"."+x[1]:"",k=x[1]+"!",l.access(this,function(Kt){if(Kt===T)return xt=this.triggerHandler("getData"+k,[x[0]]),xt===T&&ct&&(xt=l.data(ct,s),xt=L(ct,s,xt)),xt===T&&x[1]?this.data(x[0]):xt;x[1]=Kt,this.each(function(){var zt=l(this);zt.triggerHandler("setData"+k,x),l.data(this,s,Kt),zt.triggerHandler("changeData"+k,x)})},null,p,arguments.length>1,null,!1))},removeData:function(s){return this.each(function(){l.removeData(this,s)})}}),l.extend({_mark:function(s,p){s&&(p=(p||"fx")+"mark",l._data(s,p,(l._data(s,p)||0)+1))},_unmark:function(s,p,x){if(s!==!0&&(x=p,p=s,s=!1),p){x=x||"fx";var k=x+"mark",D=s?0:(l._data(p,k)||1)-1;D?l._data(p,k,D):(l.removeData(p,k,!0),St(p,x,"mark"))}},queue:function(s,p,x){var k;if(s)return p=(p||"fx")+"queue",k=l._data(s,p),x&&(!k||l.isArray(x)?k=l._data(s,p,l.makeArray(x)):k.push(x)),k||[]},dequeue:function(s,p){p=p||"fx";var x=l.queue(s,p),k=x.shift(),D={};k==="inprogress"&&(k=x.shift()),k&&(p==="fx"&&x.unshift("inprogress"),l._data(s,p+".run",D),k.call(s,function(){l.dequeue(s,p)},D)),x.length||(l.removeData(s,p+"queue "+p+".run",!0),St(s,p,"queue"))}}),l.fn.extend({queue:function(s,p){var x=2;return typeof s!="string"&&(p=s,s="fx",x--),arguments.length<x?l.queue(this[0],s):p===T?this:this.each(function(){var k=l.queue(this,s,p);s==="fx"&&k[0]!=="inprogress"&&l.dequeue(this,s)})},dequeue:function(s){return this.each(function(){l.dequeue(this,s)})},delay:function(s,p){return s=l.fx&&l.fx.speeds[s]||s,p=p||"fx",this.queue(p,function(x,k){var D=setTimeout(x,s);k.stop=function(){clearTimeout(D)}})},clearQueue:function(s){return this.queue(s||"fx",[])},promise:function(s,p){function x(){--nt||k.resolveWith(D,[D])}typeof s!="string"&&(p=s,s=T),s=s||"fx";for(var k=l.Deferred(),D=this,Y=D.length,nt=1,ct=s+"defer",Mt=s+"queue",xt=s+"mark",Kt;Y--;)(Kt=l.data(D[Y],ct,T,!0)||(l.data(D[Y],Mt,T,!0)||l.data(D[Y],xt,T,!0))&&l.data(D[Y],ct,l.Callbacks("once memory"),!0))&&(nt++,Kt.add(x));return x(),k.promise(p)}});var He=/[\n\t\r]/g,yn=/\s+/,on=/\r/g,Fn=/^(?:button|input)$/i,vi=/^(?:button|input|object|select|textarea)$/i,Ti=/^a(?:rea)?$/i,ri=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Ft=l.support.getSetAttribute,Se,ln,$n;l.fn.extend({attr:function(s,p){return l.access(this,l.attr,s,p,arguments.length>1)},removeAttr:function(s){return this.each(function(){l.removeAttr(this,s)})},prop:function(s,p){return l.access(this,l.prop,s,p,arguments.length>1)},removeProp:function(s){return s=l.propFix[s]||s,this.each(function(){try{this[s]=T,delete this[s]}catch(p){}})},addClass:function(s){var p,x,k,D,Y,nt,ct;if(l.isFunction(s))return this.each(function(Mt){l(this).addClass(s.call(this,Mt,this.className))});if(s&&typeof s=="string"){for(p=s.split(yn),x=0,k=this.length;x<k;x++)if(D=this[x],D.nodeType===1)if(!D.className&&p.length===1)D.className=s;else{for(Y=" "+D.className+" ",nt=0,ct=p.length;nt<ct;nt++)~Y.indexOf(" "+p[nt]+" ")||(Y+=p[nt]+" ");D.className=l.trim(Y)}}return this},removeClass:function(s){var p,x,k,D,Y,nt,ct;if(l.isFunction(s))return this.each(function(Mt){l(this).removeClass(s.call(this,Mt,this.className))});if(s&&typeof s=="string"||s===T){for(p=(s||"").split(yn),x=0,k=this.length;x<k;x++)if(D=this[x],D.nodeType===1&&D.className)if(s){for(Y=(" "+D.className+" ").replace(He," "),nt=0,ct=p.length;nt<ct;nt++)Y=Y.replace(" "+p[nt]+" "," ");D.className=l.trim(Y)}else D.className=""}return this},toggleClass:function(s,p){var x=typeof s,k=typeof p=="boolean";return l.isFunction(s)?this.each(function(D){l(this).toggleClass(s.call(this,D,this.className,p),p)}):this.each(function(){if(x==="string")for(var D,Y=0,nt=l(this),ct=p,Mt=s.split(yn);D=Mt[Y++];)ct=k?ct:!nt.hasClass(D),nt[ct?"addClass":"removeClass"](D);else(x==="undefined"||x==="boolean")&&(this.className&&l._data(this,"__className__",this.className),this.className=this.className||s===!1?"":l._data(this,"__className__")||"")})},hasClass:function(s){for(var p=" "+s+" ",x=0,k=this.length;x<k;x++)if(this[x].nodeType===1&&(" "+this[x].className+" ").replace(He," ").indexOf(p)>-1)return!0;return!1},val:function(s){var p,x,k,D=this[0];{if(arguments.length)return k=l.isFunction(s),this.each(function(Y){var nt=l(this),ct;this.nodeType===1&&(k?ct=s.call(this,Y,nt.val()):ct=s,ct==null?ct="":typeof ct=="number"?ct+="":l.isArray(ct)&&(ct=l.map(ct,function(Mt){return Mt==null?"":Mt+""})),p=l.valHooks[this.type]||l.valHooks[this.nodeName.toLowerCase()],(!p||!("set"in p)||p.set(this,ct,"value")===T)&&(this.value=ct))});if(D)return p=l.valHooks[D.type]||l.valHooks[D.nodeName.toLowerCase()],p&&"get"in p&&(x=p.get(D,"value"))!==T?x:(x=D.value,typeof x=="string"?x.replace(on,""):x==null?"":x)}}}),l.extend({valHooks:{option:{get:function(s){var p=s.attributes.value;return!p||p.specified?s.value:s.text}},select:{get:function(s){var p,x,k,D,Y=s.selectedIndex,nt=[],ct=s.options,Mt=s.type==="select-one";if(Y<0)return null;for(x=Mt?Y:0,k=Mt?Y+1:ct.length;x<k;x++)if(D=ct[x],D.selected&&(l.support.optDisabled?!D.disabled:D.getAttribute("disabled")===null)&&(!D.parentNode.disabled||!l.nodeName(D.parentNode,"optgroup"))){if(p=l(D).val(),Mt)return p;nt.push(p)}return Mt&&!nt.length&&ct.length?l(ct[Y]).val():nt},set:function(s,p){var x=l.makeArray(p);return l(s).find("option").each(function(){this.selected=l.inArray(l(this).val(),x)>=0}),x.length||(s.selectedIndex=-1),x}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(s,p,x,k){var D,Y,nt,ct=s.nodeType;if(s&&ct!==3&&ct!==8&&ct!==2){if(k&&p in l.attrFn)return l(s)[p](x);if(typeof s.getAttribute=="undefined")return l.prop(s,p,x);if(nt=ct!==1||!l.isXMLDoc(s),nt&&(p=p.toLowerCase(),Y=l.attrHooks[p]||(ri.test(p)?ln:Se)),x!==T){if(x===null){l.removeAttr(s,p);return}return Y&&"set"in Y&&nt&&(D=Y.set(s,x,p))!==T?D:(s.setAttribute(p,""+x),x)}return Y&&"get"in Y&&nt&&(D=Y.get(s,p))!==null?D:(D=s.getAttribute(p),D===null?T:D)}},removeAttr:function(s,p){var x,k,D,Y,nt,ct=0;if(p&&s.nodeType===1)for(k=p.toLowerCase().split(yn),Y=k.length;ct<Y;ct++)D=k[ct],D&&(x=l.propFix[D]||D,nt=ri.test(D),nt||l.attr(s,D,""),s.removeAttribute(Ft?D:x),nt&&x in s&&(s[x]=!1))},attrHooks:{type:{set:function(s,p){if(Fn.test(s.nodeName)&&s.parentNode)l.error("type property can't be changed");else if(!l.support.radioValue&&p==="radio"&&l.nodeName(s,"input")){var x=s.value;return s.setAttribute("type",p),x&&(s.value=x),p}}},value:{get:function(s,p){return Se&&l.nodeName(s,"button")?Se.get(s,p):p in s?s.value:null},set:function(s,p,x){if(Se&&l.nodeName(s,"button"))return Se.set(s,p,x);s.value=p}}},propFix:{tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(s,p,x){var k,D,Y,nt=s.nodeType;if(s&&nt!==3&&nt!==8&&nt!==2)return Y=nt!==1||!l.isXMLDoc(s),Y&&(p=l.propFix[p]||p,D=l.propHooks[p]),x!==T?D&&"set"in D&&(k=D.set(s,x,p))!==T?k:s[p]=x:D&&"get"in D&&(k=D.get(s,p))!==null?k:s[p]},propHooks:{tabIndex:{get:function(s){var p=s.getAttributeNode("tabindex");return p&&p.specified?parseInt(p.value,10):vi.test(s.nodeName)||Ti.test(s.nodeName)&&s.href?0:T}}}}),l.attrHooks.tabindex=l.propHooks.tabIndex,ln={get:function(s,p){var x,k=l.prop(s,p);return k===!0||typeof k!="boolean"&&(x=s.getAttributeNode(p))&&x.nodeValue!==!1?p.toLowerCase():T},set:function(s,p,x){var k;return p===!1?l.removeAttr(s,x):(k=l.propFix[x]||x,k in s&&(s[k]=!0),s.setAttribute(x,x.toLowerCase())),x}},Ft||($n={name:!0,id:!0,coords:!0},Se=l.valHooks.button={get:function(s,p){var x;return x=s.getAttributeNode(p),x&&($n[p]?x.nodeValue!=="":x.specified)?x.nodeValue:T},set:function(s,p,x){var k=s.getAttributeNode(x);return k||(k=te.createAttribute(x),s.setAttributeNode(k)),k.nodeValue=p+""}},l.attrHooks.tabindex.set=Se.set,l.each(["width","height"],function(s,p){l.attrHooks[p]=l.extend(l.attrHooks[p],{set:function(x,k){if(k==="")return x.setAttribute(p,"auto"),k}})}),l.attrHooks.contenteditable={get:Se.get,set:function(s,p,x){p===""&&(p="false"),Se.set(s,p,x)}}),l.support.hrefNormalized||l.each(["href","src","width","height"],function(s,p){l.attrHooks[p]=l.extend(l.attrHooks[p],{get:function(x){var k=x.getAttribute(p,2);return k===null?T:k}})}),l.support.style||(l.attrHooks.style={get:function(s){return s.style.cssText.toLowerCase()||T},set:function(s,p){return s.style.cssText=""+p}}),l.support.optSelected||(l.propHooks.selected=l.extend(l.propHooks.selected,{get:function(s){var p=s.parentNode;return p&&(p.selectedIndex,p.parentNode&&p.parentNode.selectedIndex),null}})),l.support.enctype||(l.propFix.enctype="encoding"),l.support.checkOn||l.each(["radio","checkbox"],function(){l.valHooks[this]={get:function(s){return s.getAttribute("value")===null?"on":s.value}}}),l.each(["radio","checkbox"],function(){l.valHooks[this]=l.extend(l.valHooks[this],{set:function(s,p){if(l.isArray(p))return s.checked=l.inArray(l(s).val(),p)>=0}})});var Ei=/^(?:textarea|input|select)$/i,Pi=/^([^\.]*)?(?:\.(.+))?$/,kt=/(?:^|\s)hover(\.\S+)?\b/,Qt=/^key/,pe=/^(?:mouse|contextmenu)|click/,Te=/^(?:focusinfocus|focusoutblur)$/,Be=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,ae=function(s){var p=Be.exec(s);return p&&(p[1]=(p[1]||"").toLowerCase(),p[3]=p[3]&&new RegExp("(?:^|\\s)"+p[3]+"(?:\\s|$)")),p},mt=function(s,p){var x=s.attributes||{};return(!p[1]||s.nodeName.toLowerCase()===p[1])&&(!p[2]||(x.id||{}).value===p[2])&&(!p[3]||p[3].test((x.class||{}).value))},Tt=function(s){return l.event.special.hover?s:s.replace(kt,"mouseenter$1 mouseleave$1")};l.event={add:function(s,p,x,k,D){var Y,nt,ct,Mt,xt,Kt,zt,Vt,ie,_n,nn,cn;if(!(s.nodeType===3||s.nodeType===8||!p||!x||!(Y=l._data(s)))){for(x.handler&&(ie=x,x=ie.handler,D=ie.selector),x.guid||(x.guid=l.guid++),ct=Y.events,ct||(Y.events=ct={}),nt=Y.handle,nt||(Y.handle=nt=function(Tn){return typeof l!="undefined"&&(!Tn||l.event.triggered!==Tn.type)?l.event.dispatch.apply(nt.elem,arguments):T},nt.elem=s),p=l.trim(Tt(p)).split(" "),Mt=0;Mt<p.length;Mt++)xt=Pi.exec(p[Mt])||[],Kt=xt[1],zt=(xt[2]||"").split(".").sort(),cn=l.event.special[Kt]||{},Kt=(D?cn.delegateType:cn.bindType)||Kt,cn=l.event.special[Kt]||{},Vt=l.extend({type:Kt,origType:xt[1],data:k,handler:x,guid:x.guid,selector:D,quick:D&&ae(D),namespace:zt.join(".")},ie),nn=ct[Kt],nn||(nn=ct[Kt]=[],nn.delegateCount=0,(!cn.setup||cn.setup.call(s,k,zt,nt)===!1)&&(s.addEventListener?s.addEventListener(Kt,nt,!1):s.attachEvent&&s.attachEvent("on"+Kt,nt))),cn.add&&(cn.add.call(s,Vt),Vt.handler.guid||(Vt.handler.guid=x.guid)),D?nn.splice(nn.delegateCount++,0,Vt):nn.push(Vt),l.event.global[Kt]=!0;s=null}},global:{},remove:function(s,p,x,k,D){var Y=l.hasData(s)&&l._data(s),nt,ct,Mt,xt,Kt,zt,Vt,ie,_n,nn,cn,Tn;if(Y&&(ie=Y.events)){for(p=l.trim(Tt(p||"")).split(" "),nt=0;nt<p.length;nt++){if(ct=Pi.exec(p[nt])||[],Mt=xt=ct[1],Kt=ct[2],!Mt){for(Mt in ie)l.event.remove(s,Mt+p[nt],x,k,!0);continue}for(_n=l.event.special[Mt]||{},Mt=(k?_n.delegateType:_n.bindType)||Mt,cn=ie[Mt]||[],zt=cn.length,Kt=Kt?new RegExp("(^|\\.)"+Kt.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null,Vt=0;Vt<cn.length;Vt++)Tn=cn[Vt],(D||xt===Tn.origType)&&(!x||x.guid===Tn.guid)&&(!Kt||Kt.test(Tn.namespace))&&(!k||k===Tn.selector||k==="**"&&Tn.selector)&&(cn.splice(Vt--,1),Tn.selector&&cn.delegateCount--,_n.remove&&_n.remove.call(s,Tn));cn.length===0&&zt!==cn.length&&((!_n.teardown||_n.teardown.call(s,Kt)===!1)&&l.removeEvent(s,Mt,Y.handle),delete ie[Mt])}l.isEmptyObject(ie)&&(nn=Y.handle,nn&&(nn.elem=null),l.removeData(s,["events","handle"],!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(s,p,x,k){if(!x||x.nodeType!==3&&x.nodeType!==8){var D=s.type||s,Y=[],nt,ct,Mt,xt,Kt,zt,Vt,ie,_n,nn;if(Te.test(D+l.event.triggered)||(D.indexOf("!")>=0&&(D=D.slice(0,-1),ct=!0),D.indexOf(".")>=0&&(Y=D.split("."),D=Y.shift(),Y.sort()),(!x||l.event.customEvent[D])&&!l.event.global[D]))return;if(s=typeof s=="object"?s[l.expando]?s:new l.Event(D,s):new l.Event(D),s.type=D,s.isTrigger=!0,s.exclusive=ct,s.namespace=Y.join("."),s.namespace_re=s.namespace?new RegExp("(^|\\.)"+Y.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,zt=D.indexOf(":")<0?"on"+D:"",!x){nt=l.cache;for(Mt in nt)nt[Mt].events&&nt[Mt].events[D]&&l.event.trigger(s,p,nt[Mt].handle.elem,!0);return}if(s.result=T,s.target||(s.target=x),p=p!=null?l.makeArray(p):[],p.unshift(s),Vt=l.event.special[D]||{},Vt.trigger&&Vt.trigger.apply(x,p)===!1)return;if(_n=[[x,Vt.bindType||D]],!k&&!Vt.noBubble&&!l.isWindow(x)){for(nn=Vt.delegateType||D,xt=Te.test(nn+D)?x:x.parentNode,Kt=null;xt;xt=xt.parentNode)_n.push([xt,nn]),Kt=xt;Kt&&Kt===x.ownerDocument&&_n.push([Kt.defaultView||Kt.parentWindow||n,nn])}for(Mt=0;Mt<_n.length&&!s.isPropagationStopped();Mt++)xt=_n[Mt][0],s.type=_n[Mt][1],ie=(l._data(xt,"events")||{})[s.type]&&l._data(xt,"handle"),ie&&ie.apply(xt,p),ie=zt&&xt[zt],ie&&l.acceptData(xt)&&ie.apply(xt,p)===!1&&s.preventDefault();return s.type=D,!k&&!s.isDefaultPrevented()&&(!Vt._default||Vt._default.apply(x.ownerDocument,p)===!1)&&(D!=="click"||!l.nodeName(x,"a"))&&l.acceptData(x)&&zt&&x[D]&&(D!=="focus"&&D!=="blur"||s.target.offsetWidth!==0)&&!l.isWindow(x)&&(Kt=x[zt],Kt&&(x[zt]=null),l.event.triggered=D,x[D](),l.event.triggered=T,Kt&&(x[zt]=Kt)),s.result}},dispatch:function(s){s=l.event.fix(s||n.event);var p=(l._data(this,"events")||{})[s.type]||[],x=p.delegateCount,k=[].slice.call(arguments,0),D=!s.exclusive&&!s.namespace,Y=l.event.special[s.type]||{},nt=[],ct,Mt,xt,Kt,zt,Vt,ie,_n,nn,cn,Tn;if(k[0]=s,s.delegateTarget=this,!Y.preDispatch||Y.preDispatch.call(this,s)!==!1){if(x&&(!s.button||s.type!=="click")){for(Kt=l(this),Kt.context=this.ownerDocument||this,xt=s.target;xt!=this;xt=xt.parentNode||this)if(xt.disabled!==!0){for(Vt={},_n=[],Kt[0]=xt,ct=0;ct<x;ct++)nn=p[ct],cn=nn.selector,Vt[cn]===T&&(Vt[cn]=nn.quick?mt(xt,nn.quick):Kt.is(cn)),Vt[cn]&&_n.push(nn);_n.length&&nt.push({elem:xt,matches:_n})}}for(p.length>x&&nt.push({elem:this,matches:p.slice(x)}),ct=0;ct<nt.length&&!s.isPropagationStopped();ct++)for(ie=nt[ct],s.currentTarget=ie.elem,Mt=0;Mt<ie.matches.length&&!s.isImmediatePropagationStopped();Mt++)nn=ie.matches[Mt],(D||!s.namespace&&!nn.namespace||s.namespace_re&&s.namespace_re.test(nn.namespace))&&(s.data=nn.data,s.handleObj=nn,zt=((l.event.special[nn.origType]||{}).handle||nn.handler).apply(ie.elem,k),zt!==T&&(s.result=zt,zt===!1&&(s.preventDefault(),s.stopPropagation())));return Y.postDispatch&&Y.postDispatch.call(this,s),s.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(s,p){return s.which==null&&(s.which=p.charCode!=null?p.charCode:p.keyCode),s}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(s,p){var x,k,D,Y=p.button,nt=p.fromElement;return s.pageX==null&&p.clientX!=null&&(x=s.target.ownerDocument||te,k=x.documentElement,D=x.body,s.pageX=p.clientX+(k&&k.scrollLeft||D&&D.scrollLeft||0)-(k&&k.clientLeft||D&&D.clientLeft||0),s.pageY=p.clientY+(k&&k.scrollTop||D&&D.scrollTop||0)-(k&&k.clientTop||D&&D.clientTop||0)),!s.relatedTarget&&nt&&(s.relatedTarget=nt===s.target?p.toElement:nt),!s.which&&Y!==T&&(s.which=Y&1?1:Y&2?3:Y&4?2:0),s}},fix:function(s){if(s[l.expando])return s;var p,x,k=s,D=l.event.fixHooks[s.type]||{},Y=D.props?this.props.concat(D.props):this.props;for(s=l.Event(k),p=Y.length;p;)x=Y[--p],s[x]=k[x];return s.target||(s.target=k.srcElement||te),s.target.nodeType===3&&(s.target=s.target.parentNode),s.metaKey===T&&(s.metaKey=s.ctrlKey),D.filter?D.filter(s,k):s},special:{ready:{setup:l.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(s,p,x){l.isWindow(this)&&(this.onbeforeunload=x)},teardown:function(s,p){this.onbeforeunload===p&&(this.onbeforeunload=null)}}},simulate:function(s,p,x,k){var D=l.extend(new l.Event,x,{type:s,isSimulated:!0,originalEvent:{}});k?l.event.trigger(D,null,p):l.event.dispatch.call(p,D),D.isDefaultPrevented()&&x.preventDefault()}},l.event.handle=l.event.dispatch,l.removeEvent=te.removeEventListener?function(s,p,x){s.removeEventListener&&s.removeEventListener(p,x,!1)}:function(s,p,x){s.detachEvent&&s.detachEvent("on"+p,x)},l.Event=function(s,p){if(!(this instanceof l.Event))return new l.Event(s,p);s&&s.type?(this.originalEvent=s,this.type=s.type,this.isDefaultPrevented=s.defaultPrevented||s.returnValue===!1||s.getPreventDefault&&s.getPreventDefault()?Jt:g):this.type=s,p&&l.extend(this,p),this.timeStamp=s&&s.timeStamp||l.now(),this[l.expando]=!0},l.Event.prototype={preventDefault:function(){this.isDefaultPrevented=Jt;var s=this.originalEvent;!s||(s.preventDefault?s.preventDefault():s.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=Jt;var s=this.originalEvent;!s||(s.stopPropagation&&s.stopPropagation(),s.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=Jt,this.stopPropagation()},isDefaultPrevented:g,isPropagationStopped:g,isImmediatePropagationStopped:g},l.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(s,p){l.event.special[s]={delegateType:p,bindType:p,handle:function(x){var k=this,D=x.relatedTarget,Y=x.handleObj,nt=Y.selector,ct;return(!D||D!==k&&!l.contains(k,D))&&(x.type=Y.origType,ct=Y.handler.apply(this,arguments),x.type=p),ct}}}),l.support.submitBubbles||(l.event.special.submit={setup:function(){if(l.nodeName(this,"form"))return!1;l.event.add(this,"click._submit keypress._submit",function(s){var p=s.target,x=l.nodeName(p,"input")||l.nodeName(p,"button")?p.form:T;x&&!x._submit_attached&&(l.event.add(x,"submit._submit",function(k){k._submit_bubble=!0}),x._submit_attached=!0)})},postDispatch:function(s){s._submit_bubble&&(delete s._submit_bubble,this.parentNode&&!s.isTrigger&&l.event.simulate("submit",this.parentNode,s,!0))},teardown:function(){if(l.nodeName(this,"form"))return!1;l.event.remove(this,"._submit")}}),l.support.changeBubbles||(l.event.special.change={setup:function(){if(Ei.test(this.nodeName))return(this.type==="checkbox"||this.type==="radio")&&(l.event.add(this,"propertychange._change",function(s){s.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),l.event.add(this,"click._change",function(s){this._just_changed&&!s.isTrigger&&(this._just_changed=!1,l.event.simulate("change",this,s,!0))})),!1;l.event.add(this,"beforeactivate._change",function(s){var p=s.target;Ei.test(p.nodeName)&&!p._change_attached&&(l.event.add(p,"change._change",function(x){this.parentNode&&!x.isSimulated&&!x.isTrigger&&l.event.simulate("change",this.parentNode,x,!0)}),p._change_attached=!0)})},handle:function(s){var p=s.target;if(this!==p||s.isSimulated||s.isTrigger||p.type!=="radio"&&p.type!=="checkbox")return s.handleObj.handler.apply(this,arguments)},teardown:function(){return l.event.remove(this,"._change"),Ei.test(this.nodeName)}}),l.support.focusinBubbles||l.each({focus:"focusin",blur:"focusout"},function(s,p){var x=0,k=function(D){l.event.simulate(p,D.target,l.event.fix(D),!0)};l.event.special[p]={setup:function(){x++===0&&te.addEventListener(s,k,!0)},teardown:function(){--x===0&&te.removeEventListener(s,k,!0)}}}),l.fn.extend({on:function(s,p,x,k,D){var Y,nt;if(typeof s=="object"){typeof p!="string"&&(x=x||p,p=T);for(nt in s)this.on(nt,p,x,s[nt],D);return this}if(x==null&&k==null?(k=p,x=p=T):k==null&&(typeof p=="string"?(k=x,x=T):(k=x,x=p,p=T)),k===!1)k=g;else if(!k)return this;return D===1&&(Y=k,k=function(ct){return l().off(ct),Y.apply(this,arguments)},k.guid=Y.guid||(Y.guid=l.guid++)),this.each(function(){l.event.add(this,s,k,x,p)})},one:function(s,p,x,k){return this.on(s,p,x,k,1)},off:function(s,p,x){if(s&&s.preventDefault&&s.handleObj){var k=s.handleObj;return l(s.delegateTarget).off(k.namespace?k.origType+"."+k.namespace:k.origType,k.selector,k.handler),this}if(typeof s=="object"){for(var D in s)this.off(D,p,s[D]);return this}return(p===!1||typeof p=="function")&&(x=p,p=T),x===!1&&(x=g),this.each(function(){l.event.remove(this,s,x,p)})},bind:function(s,p,x){return this.on(s,null,p,x)},unbind:function(s,p){return this.off(s,null,p)},live:function(s,p,x){return l(this.context).on(s,this.selector,p,x),this},die:function(s,p){return l(this.context).off(s,this.selector||"**",p),this},delegate:function(s,p,x,k){return this.on(p,s,x,k)},undelegate:function(s,p,x){return arguments.length==1?this.off(s,"**"):this.off(p,s,x)},trigger:function(s,p){return this.each(function(){l.event.trigger(s,p,this)})},triggerHandler:function(s,p){if(this[0])return l.event.trigger(s,p,this[0],!0)},toggle:function(s){var p=arguments,x=s.guid||l.guid++,k=0,D=function(Y){var nt=(l._data(this,"lastToggle"+s.guid)||0)%k;return l._data(this,"lastToggle"+s.guid,nt+1),Y.preventDefault(),p[nt].apply(this,arguments)||!1};for(D.guid=x;k<p.length;)p[k++].guid=x;return this.click(D)},hover:function(s,p){return this.mouseenter(s).mouseleave(p||s)}}),l.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(s,p){l.fn[p]=function(x,k){return k==null&&(k=x,x=null),arguments.length>0?this.on(p,null,x,k):this.trigger(p)},l.attrFn&&(l.attrFn[p]=!0),Qt.test(p)&&(l.event.fixHooks[p]=l.event.keyHooks),pe.test(p)&&(l.event.fixHooks[p]=l.event.mouseHooks)}),(function(){function s(rt,dt,Nt,ee,be,fe){for(var Re=0,We=ee.length;Re<We;Re++){var Ke=ee[Re];if(Ke){var Nn=!1;for(Ke=Ke[rt];Ke;){if(Ke[k]===Nt){Nn=ee[Ke.sizset];break}if(Ke.nodeType===1){if(fe||(Ke[k]=Nt,Ke.sizset=Re),typeof dt!="string"){if(Ke===dt){Nn=!0;break}}else if(zt.filter(dt,[Ke]).length>0){Nn=Ke;break}}Ke=Ke[rt]}ee[Re]=Nn}}}function p(rt,dt,Nt,ee,be,fe){for(var Re=0,We=ee.length;Re<We;Re++){var Ke=ee[Re];if(Ke){var Nn=!1;for(Ke=Ke[rt];Ke;){if(Ke[k]===Nt){Nn=ee[Ke.sizset];break}if(Ke.nodeType===1&&!fe&&(Ke[k]=Nt,Ke.sizset=Re),Ke.nodeName.toLowerCase()===dt){Nn=Ke;break}Ke=Ke[rt]}ee[Re]=Nn}}}var x=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,k="sizcache"+(Math.random()+"").replace(".",""),D=0,Y=Object.prototype.toString,nt=!1,ct=!0,Mt=/\\/g,xt=/\r\n/g,Kt=/\W/;[0,0].sort(function(){return ct=!1,0});var zt=function(rt,dt,Nt,ee){Nt=Nt||[],dt=dt||te;var be=dt;if(dt.nodeType!==1&&dt.nodeType!==9)return[];if(!rt||typeof rt!="string")return Nt;var fe,Re,We,Ke,Nn,ci,vt,de,$e=!0,De=zt.isXML(dt),Ve=[],di=rt;do if(x.exec(""),fe=x.exec(di),fe&&(di=fe[3],Ve.push(fe[1]),fe[2])){Ke=fe[3];break}while(fe);if(Ve.length>1&&_n.exec(rt))if(Ve.length===2&&ie.relative[Ve[0]])Re=jn(Ve[0]+Ve[1],dt,ee);else for(Re=ie.relative[Ve[0]]?[dt]:zt(Ve.shift(),dt);Ve.length;)rt=Ve.shift(),ie.relative[rt]&&(rt+=Ve.shift()),Re=jn(rt,Re,ee);else if(!ee&&Ve.length>1&&dt.nodeType===9&&!De&&ie.match.ID.test(Ve[0])&&!ie.match.ID.test(Ve[Ve.length-1])&&(Nn=zt.find(Ve.shift(),dt,De),dt=Nn.expr?zt.filter(Nn.expr,Nn.set)[0]:Nn.set[0]),dt)for(Nn=ee?{expr:Ve.pop(),set:Tn(ee)}:zt.find(Ve.pop(),Ve.length===1&&(Ve[0]==="~"||Ve[0]==="+")&&dt.parentNode?dt.parentNode:dt,De),Re=Nn.expr?zt.filter(Nn.expr,Nn.set):Nn.set,Ve.length>0?We=Tn(Re):$e=!1;Ve.length;)ci=Ve.pop(),vt=ci,ie.relative[ci]?vt=Ve.pop():ci="",vt==null&&(vt=dt),ie.relative[ci](We,vt,De);else We=Ve=[];if(We||(We=Re),We||zt.error(ci||rt),Y.call(We)==="[object Array]")if(!$e)Nt.push.apply(Nt,We);else if(dt&&dt.nodeType===1)for(de=0;We[de]!=null;de++)We[de]&&(We[de]===!0||We[de].nodeType===1&&zt.contains(dt,We[de]))&&Nt.push(Re[de]);else for(de=0;We[de]!=null;de++)We[de]&&We[de].nodeType===1&&Nt.push(Re[de]);else Tn(We,Nt);return Ke&&(zt(Ke,be,Nt,ee),zt.uniqueSort(Nt)),Nt};zt.uniqueSort=function(rt){if(ji&&(nt=ct,rt.sort(ji),nt))for(var dt=1;dt<rt.length;dt++)rt[dt]===rt[dt-1]&&rt.splice(dt--,1);return rt},zt.matches=function(rt,dt){return zt(rt,null,null,dt)},zt.matchesSelector=function(rt,dt){return zt(dt,null,null,[rt]).length>0},zt.find=function(rt,dt,Nt){var ee,be,fe,Re,We,Ke;if(!rt)return[];for(be=0,fe=ie.order.length;be<fe;be++)if(We=ie.order[be],(Re=ie.leftMatch[We].exec(rt))&&(Ke=Re[1],Re.splice(1,1),Ke.substr(Ke.length-1)!=="\\"&&(Re[1]=(Re[1]||"").replace(Mt,""),ee=ie.find[We](Re,dt,Nt),ee!=null))){rt=rt.replace(ie.match[We],"");break}return ee||(ee=typeof dt.getElementsByTagName!="undefined"?dt.getElementsByTagName("*"):[]),{set:ee,expr:rt}},zt.filter=function(rt,dt,Nt,ee){for(var be,fe,Re,We,Ke,Nn,ci,vt,de,$e=rt,De=[],Ve=dt,di=dt&&dt[0]&&zt.isXML(dt[0]);rt&&dt.length;){for(Re in ie.filter)if((be=ie.leftMatch[Re].exec(rt))!=null&&be[2]){if(Nn=ie.filter[Re],ci=be[1],fe=!1,be.splice(1,1),ci.substr(ci.length-1)==="\\")continue;if(Ve===De&&(De=[]),ie.preFilter[Re]){if(be=ie.preFilter[Re](be,Ve,Nt,De,ee,di),!be)fe=We=!0;else if(be===!0)continue}if(be)for(vt=0;(Ke=Ve[vt])!=null;vt++)Ke&&(We=Nn(Ke,be,vt,Ve),de=ee^We,Nt&&We!=null?de?fe=!0:Ve[vt]=!1:de&&(De.push(Ke),fe=!0));if(We!==T){if(Nt||(Ve=De),rt=rt.replace(ie.match[Re],""),!fe)return[];break}}if(rt===$e)if(fe==null)zt.error(rt);else break;$e=rt}return Ve},zt.error=function(rt){throw new Error("Syntax error, unrecognized expression: "+rt)};var Vt=zt.getText=function(rt){var dt,Nt,ee=rt.nodeType,be="";if(ee){if(ee===1||ee===9||ee===11){if(typeof rt.textContent=="string")return rt.textContent;if(typeof rt.innerText=="string")return rt.innerText.replace(xt,"");for(rt=rt.firstChild;rt;rt=rt.nextSibling)be+=Vt(rt)}else if(ee===3||ee===4)return rt.nodeValue}else for(dt=0;Nt=rt[dt];dt++)Nt.nodeType!==8&&(be+=Vt(Nt));return be},ie=zt.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{class:"className",for:"htmlFor"},attrHandle:{href:function(rt){return rt.getAttribute("href")},type:function(rt){return rt.getAttribute("type")}},relative:{"+":function(rt,dt){var Nt=typeof dt=="string",ee=Nt&&!Kt.test(dt),be=Nt&&!ee;ee&&(dt=dt.toLowerCase());for(var fe=0,Re=rt.length,We;fe<Re;fe++)if(We=rt[fe]){for(;(We=We.previousSibling)&&We.nodeType!==1;);rt[fe]=be||We&&We.nodeName.toLowerCase()===dt?We||!1:We===dt}be&&zt.filter(dt,rt,!0)},">":function(rt,dt){var Nt,ee=typeof dt=="string",be=0,fe=rt.length;if(ee&&!Kt.test(dt)){for(dt=dt.toLowerCase();be<fe;be++)if(Nt=rt[be],Nt){var Re=Nt.parentNode;rt[be]=Re.nodeName.toLowerCase()===dt?Re:!1}}else{for(;be<fe;be++)Nt=rt[be],Nt&&(rt[be]=ee?Nt.parentNode:Nt.parentNode===dt);ee&&zt.filter(dt,rt,!0)}},"":function(rt,dt,Nt){var ee,be=D++,fe=s;typeof dt=="string"&&!Kt.test(dt)&&(dt=dt.toLowerCase(),ee=dt,fe=p),fe("parentNode",dt,be,rt,ee,Nt)},"~":function(rt,dt,Nt){var ee,be=D++,fe=s;typeof dt=="string"&&!Kt.test(dt)&&(dt=dt.toLowerCase(),ee=dt,fe=p),fe("previousSibling",dt,be,rt,ee,Nt)}},find:{ID:function(rt,dt,Nt){if(typeof dt.getElementById!="undefined"&&!Nt){var ee=dt.getElementById(rt[1]);return ee&&ee.parentNode?[ee]:[]}},NAME:function(rt,dt){if(typeof dt.getElementsByName!="undefined"){for(var Nt=[],ee=dt.getElementsByName(rt[1]),be=0,fe=ee.length;be<fe;be++)ee[be].getAttribute("name")===rt[1]&&Nt.push(ee[be]);return Nt.length===0?null:Nt}},TAG:function(rt,dt){if(typeof dt.getElementsByTagName!="undefined")return dt.getElementsByTagName(rt[1])}},preFilter:{CLASS:function(rt,dt,Nt,ee,be,fe){if(rt=" "+rt[1].replace(Mt,"")+" ",fe)return rt;for(var Re=0,We;(We=dt[Re])!=null;Re++)We&&(be^(We.className&&(" "+We.className+" ").replace(/[\t\n\r]/g," ").indexOf(rt)>=0)?Nt||ee.push(We):Nt&&(dt[Re]=!1));return!1},ID:function(rt){return rt[1].replace(Mt,"")},TAG:function(rt,dt){return rt[1].replace(Mt,"").toLowerCase()},CHILD:function(rt){if(rt[1]==="nth"){rt[2]||zt.error(rt[0]),rt[2]=rt[2].replace(/^\+|\s*/g,"");var dt=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(rt[2]==="even"&&"2n"||rt[2]==="odd"&&"2n+1"||!/\D/.test(rt[2])&&"0n+"+rt[2]||rt[2]);rt[2]=dt[1]+(dt[2]||1)-0,rt[3]=dt[3]-0}else rt[2]&&zt.error(rt[0]);return rt[0]=D++,rt},ATTR:function(rt,dt,Nt,ee,be,fe){var Re=rt[1]=rt[1].replace(Mt,"");return!fe&&ie.attrMap[Re]&&(rt[1]=ie.attrMap[Re]),rt[4]=(rt[4]||rt[5]||"").replace(Mt,""),rt[2]==="~="&&(rt[4]=" "+rt[4]+" "),rt},PSEUDO:function(rt,dt,Nt,ee,be){if(rt[1]==="not")if((x.exec(rt[3])||"").length>1||/^\w/.test(rt[3]))rt[3]=zt(rt[3],null,null,dt);else{var fe=zt.filter(rt[3],dt,Nt,!0^be);return Nt||ee.push.apply(ee,fe),!1}else if(ie.match.POS.test(rt[0])||ie.match.CHILD.test(rt[0]))return!0;return rt},POS:function(rt){return rt.unshift(!0),rt}},filters:{enabled:function(rt){return rt.disabled===!1&&rt.type!=="hidden"},disabled:function(rt){return rt.disabled===!0},checked:function(rt){return rt.checked===!0},selected:function(rt){return rt.parentNode&&rt.parentNode.selectedIndex,rt.selected===!0},parent:function(rt){return!!rt.firstChild},empty:function(rt){return!rt.firstChild},has:function(rt,dt,Nt){return!!zt(Nt[3],rt).length},header:function(rt){return/h\d/i.test(rt.nodeName)},text:function(rt){var dt=rt.getAttribute("type"),Nt=rt.type;return rt.nodeName.toLowerCase()==="input"&&Nt==="text"&&(dt===Nt||dt===null)},radio:function(rt){return rt.nodeName.toLowerCase()==="input"&&rt.type==="radio"},checkbox:function(rt){return rt.nodeName.toLowerCase()==="input"&&rt.type==="checkbox"},file:function(rt){return rt.nodeName.toLowerCase()==="input"&&rt.type==="file"},password:function(rt){return rt.nodeName.toLowerCase()==="input"&&rt.type==="password"},submit:function(rt){var dt=rt.nodeName.toLowerCase();return(dt==="input"||dt==="button")&&rt.type==="submit"},image:function(rt){return rt.nodeName.toLowerCase()==="input"&&rt.type==="image"},reset:function(rt){var dt=rt.nodeName.toLowerCase();return(dt==="input"||dt==="button")&&rt.type==="reset"},button:function(rt){var dt=rt.nodeName.toLowerCase();return dt==="input"&&rt.type==="button"||dt==="button"},input:function(rt){return/input|select|textarea|button/i.test(rt.nodeName)},focus:function(rt){return rt===rt.ownerDocument.activeElement}},setFilters:{first:function(rt,dt){return dt===0},last:function(rt,dt,Nt,ee){return dt===ee.length-1},even:function(rt,dt){return dt%2===0},odd:function(rt,dt){return dt%2===1},lt:function(rt,dt,Nt){return dt<Nt[3]-0},gt:function(rt,dt,Nt){return dt>Nt[3]-0},nth:function(rt,dt,Nt){return Nt[3]-0===dt},eq:function(rt,dt,Nt){return Nt[3]-0===dt}},filter:{PSEUDO:function(rt,dt,Nt,ee){var be=dt[1],fe=ie.filters[be];if(fe)return fe(rt,Nt,dt,ee);if(be==="contains")return(rt.textContent||rt.innerText||Vt([rt])||"").indexOf(dt[3])>=0;if(be==="not"){for(var Re=dt[3],We=0,Ke=Re.length;We<Ke;We++)if(Re[We]===rt)return!1;return!0}zt.error(be)},CHILD:function(rt,dt){var Nt,ee,be,fe,Re,We,Ke,Nn=dt[1],ci=rt;switch(Nn){case"only":case"first":for(;ci=ci.previousSibling;)if(ci.nodeType===1)return!1;if(Nn==="first")return!0;ci=rt;case"last":for(;ci=ci.nextSibling;)if(ci.nodeType===1)return!1;return!0;case"nth":if(Nt=dt[2],ee=dt[3],Nt===1&&ee===0)return!0;if(be=dt[0],fe=rt.parentNode,fe&&(fe[k]!==be||!rt.nodeIndex)){for(We=0,ci=fe.firstChild;ci;ci=ci.nextSibling)ci.nodeType===1&&(ci.nodeIndex=++We);fe[k]=be}return Ke=rt.nodeIndex-ee,Nt===0?Ke===0:Ke%Nt===0&&Ke/Nt>=0}},ID:function(rt,dt){return rt.nodeType===1&&rt.getAttribute("id")===dt},TAG:function(rt,dt){return dt==="*"&&rt.nodeType===1||!!rt.nodeName&&rt.nodeName.toLowerCase()===dt},CLASS:function(rt,dt){return(" "+(rt.className||rt.getAttribute("class"))+" ").indexOf(dt)>-1},ATTR:function(rt,dt){var Nt=dt[1],ee=zt.attr?zt.attr(rt,Nt):ie.attrHandle[Nt]?ie.attrHandle[Nt](rt):rt[Nt]!=null?rt[Nt]:rt.getAttribute(Nt),be=ee+"",fe=dt[2],Re=dt[4];return ee==null?fe==="!=":!fe&&zt.attr?ee!=null:fe==="="?be===Re:fe==="*="?be.indexOf(Re)>=0:fe==="~="?(" "+be+" ").indexOf(Re)>=0:Re?fe==="!="?be!==Re:fe==="^="?be.indexOf(Re)===0:fe==="$="?be.substr(be.length-Re.length)===Re:fe==="|="?be===Re||be.substr(0,Re.length+1)===Re+"-":!1:be&&ee!==!1},POS:function(rt,dt,Nt,ee){var be=dt[2],fe=ie.setFilters[be];if(fe)return fe(rt,Nt,dt,ee)}}},_n=ie.match.POS,nn=function(rt,dt){return"\\"+(dt-0+1)};for(var cn in ie.match)ie.match[cn]=new RegExp(ie.match[cn].source+/(?![^\[]*\])(?![^\(]*\))/.source),ie.leftMatch[cn]=new RegExp(/(^(?:.|\r|\n)*?)/.source+ie.match[cn].source.replace(/\\(\d+)/g,nn));ie.match.globalPOS=_n;var Tn=function(rt,dt){return rt=Array.prototype.slice.call(rt,0),dt?(dt.push.apply(dt,rt),dt):rt};try{Array.prototype.slice.call(te.documentElement.childNodes,0)[0].nodeType}catch(rt){Tn=function(dt,Nt){var ee=0,be=Nt||[];if(Y.call(dt)==="[object Array]")Array.prototype.push.apply(be,dt);else if(typeof dt.length=="number")for(var fe=dt.length;ee<fe;ee++)be.push(dt[ee]);else for(;dt[ee];ee++)be.push(dt[ee]);return be}}var ji,Li;te.documentElement.compareDocumentPosition?ji=function(rt,dt){return rt===dt?(nt=!0,0):!rt.compareDocumentPosition||!dt.compareDocumentPosition?rt.compareDocumentPosition?-1:1:rt.compareDocumentPosition(dt)&4?-1:1}:(ji=function(rt,dt){if(rt===dt)return nt=!0,0;if(rt.sourceIndex&&dt.sourceIndex)return rt.sourceIndex-dt.sourceIndex;var Nt,ee,be=[],fe=[],Re=rt.parentNode,We=dt.parentNode,Ke=Re;if(Re===We)return Li(rt,dt);if(!Re)return-1;if(!We)return 1;for(;Ke;)be.unshift(Ke),Ke=Ke.parentNode;for(Ke=We;Ke;)fe.unshift(Ke),Ke=Ke.parentNode;Nt=be.length,ee=fe.length;for(var Nn=0;Nn<Nt&&Nn<ee;Nn++)if(be[Nn]!==fe[Nn])return Li(be[Nn],fe[Nn]);return Nn===Nt?Li(rt,fe[Nn],-1):Li(be[Nn],dt,1)},Li=function(rt,dt,Nt){if(rt===dt)return Nt;for(var ee=rt.nextSibling;ee;){if(ee===dt)return-1;ee=ee.nextSibling}return 1}),(function(){var rt=te.createElement("div"),dt="script"+new Date().getTime(),Nt=te.documentElement;rt.innerHTML="<a name='"+dt+"'/>",Nt.insertBefore(rt,Nt.firstChild),te.getElementById(dt)&&(ie.find.ID=function(ee,be,fe){if(typeof be.getElementById!="undefined"&&!fe){var Re=be.getElementById(ee[1]);return Re?Re.id===ee[1]||typeof Re.getAttributeNode!="undefined"&&Re.getAttributeNode("id").nodeValue===ee[1]?[Re]:T:[]}},ie.filter.ID=function(ee,be){var fe=typeof ee.getAttributeNode!="undefined"&&ee.getAttributeNode("id");return ee.nodeType===1&&fe&&fe.nodeValue===be}),Nt.removeChild(rt),Nt=rt=null})(),(function(){var rt=te.createElement("div");rt.appendChild(te.createComment("")),rt.getElementsByTagName("*").length>0&&(ie.find.TAG=function(dt,Nt){var ee=Nt.getElementsByTagName(dt[1]);if(dt[1]==="*"){for(var be=[],fe=0;ee[fe];fe++)ee[fe].nodeType===1&&be.push(ee[fe]);ee=be}return ee}),rt.innerHTML="<a href='#'></a>",rt.firstChild&&typeof rt.firstChild.getAttribute!="undefined"&&rt.firstChild.getAttribute("href")!=="#"&&(ie.attrHandle.href=function(dt){return dt.getAttribute("href",2)}),rt=null})(),te.querySelectorAll&&(function(){var rt=zt,dt=te.createElement("div"),Nt="__sizzle__";if(dt.innerHTML="<p class='TEST'></p>",!dt.querySelectorAll||dt.querySelectorAll(".TEST").length!==0){zt=function(be,fe,Re,We){if(fe=fe||te,!We&&!zt.isXML(fe)){var Ke=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(be);if(Ke&&(fe.nodeType===1||fe.nodeType===9)){if(Ke[1])return Tn(fe.getElementsByTagName(be),Re);if(Ke[2]&&ie.find.CLASS&&fe.getElementsByClassName)return Tn(fe.getElementsByClassName(Ke[2]),Re)}if(fe.nodeType===9){if(be==="body"&&fe.body)return Tn([fe.body],Re);if(Ke&&Ke[3]){var Nn=fe.getElementById(Ke[3]);if(!Nn||!Nn.parentNode)return Tn([],Re);if(Nn.id===Ke[3])return Tn([Nn],Re)}try{return Tn(fe.querySelectorAll(be),Re)}catch(Ve){}}else if(fe.nodeType===1&&fe.nodeName.toLowerCase()!=="object"){var ci=fe,vt=fe.getAttribute("id"),de=vt||Nt,$e=fe.parentNode,De=/^\s*[+~]/.test(be);vt?de=de.replace(/'/g,"\\$&"):fe.setAttribute("id",de),De&&$e&&(fe=fe.parentNode);try{if(!De||$e)return Tn(fe.querySelectorAll("[id='"+de+"'] "+be),Re)}catch(Ve){}finally{vt||ci.removeAttribute("id")}}}return rt(be,fe,Re,We)};for(var ee in rt)zt[ee]=rt[ee];dt=null}})(),(function(){var rt=te.documentElement,dt=rt.matchesSelector||rt.mozMatchesSelector||rt.webkitMatchesSelector||rt.msMatchesSelector;if(dt){var Nt=!dt.call(te.createElement("div"),"div"),ee=!1;try{dt.call(te.documentElement,"[test!='']:sizzle")}catch(be){ee=!0}zt.matchesSelector=function(be,fe){if(fe=fe.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']"),!zt.isXML(be))try{if(ee||!ie.match.PSEUDO.test(fe)&&!/!=/.test(fe)){var Re=dt.call(be,fe);if(Re||!Nt||be.document&&be.document.nodeType!==11)return Re}}catch(We){}return zt(fe,null,null,[be]).length>0}}})(),(function(){var rt=te.createElement("div");if(rt.innerHTML="<div class='test e'></div><div class='test'></div>",rt.getElementsByClassName&&rt.getElementsByClassName("e").length!==0){if(rt.lastChild.className="e",rt.getElementsByClassName("e").length===1)return;ie.order.splice(1,0,"CLASS"),ie.find.CLASS=function(dt,Nt,ee){if(typeof Nt.getElementsByClassName!="undefined"&&!ee)return Nt.getElementsByClassName(dt[1])},rt=null}})(),te.documentElement.contains?zt.contains=function(rt,dt){return rt!==dt&&(rt.contains?rt.contains(dt):!0)}:te.documentElement.compareDocumentPosition?zt.contains=function(rt,dt){return!!(rt.compareDocumentPosition(dt)&16)}:zt.contains=function(){return!1},zt.isXML=function(rt){var dt=(rt?rt.ownerDocument||rt:0).documentElement;return dt?dt.nodeName!=="HTML":!1};var jn=function(rt,dt,Nt){for(var ee,be=[],fe="",Re=dt.nodeType?[dt]:dt;ee=ie.match.PSEUDO.exec(rt);)fe+=ee[0],rt=rt.replace(ie.match.PSEUDO,"");rt=ie.relative[rt]?rt+"*":rt;for(var We=0,Ke=Re.length;We<Ke;We++)zt(rt,Re[We],be,Nt);return zt.filter(fe,be)};zt.attr=l.attr,zt.selectors.attrMap={},l.find=zt,l.expr=zt.selectors,l.expr[":"]=l.expr.filters,l.unique=zt.uniqueSort,l.text=zt.getText,l.isXMLDoc=zt.isXML,l.contains=zt.contains})();var ue=/Until$/,Me=/^(?:parents|prevUntil|prevAll)/,Yt=/,/,Je=/^.[^:#\[\.,]*$/,tn=Array.prototype.slice,bn=l.expr.match.globalPOS,Ln={children:!0,contents:!0,next:!0,prev:!0};l.fn.extend({find:function(s){var p=this,x,k;if(typeof s!="string")return l(s).filter(function(){for(x=0,k=p.length;x<k;x++)if(l.contains(p[x],this))return!0});var D=this.pushStack("","find",s),Y,nt,ct;for(x=0,k=this.length;x<k;x++)if(Y=D.length,l.find(s,this[x],D),x>0){for(nt=Y;nt<D.length;nt++)for(ct=0;ct<Y;ct++)if(D[ct]===D[nt]){D.splice(nt--,1);break}}return D},has:function(s){var p=l(s);return this.filter(function(){for(var x=0,k=p.length;x<k;x++)if(l.contains(this,p[x]))return!0})},not:function(s){return this.pushStack(At(this,s,!1),"not",s)},filter:function(s){return this.pushStack(At(this,s,!0),"filter",s)},is:function(s){return!!s&&(typeof s=="string"?bn.test(s)?l(s,this.context).index(this[0])>=0:l.filter(s,this).length>0:this.filter(s).length>0)},closest:function(s,p){var x=[],k,D,Y=this[0];if(l.isArray(s)){for(var nt=1;Y&&Y.ownerDocument&&Y!==p;){for(k=0;k<s.length;k++)l(Y).is(s[k])&&x.push({selector:s[k],elem:Y,level:nt});Y=Y.parentNode,nt++}return x}var ct=bn.test(s)||typeof s!="string"?l(s,p||this.context):0;for(k=0,D=this.length;k<D;k++)for(Y=this[k];Y;){if(ct?ct.index(Y)>-1:l.find.matchesSelector(Y,s)){x.push(Y);break}if(Y=Y.parentNode,!Y||!Y.ownerDocument||Y===p||Y.nodeType===11)break}return x=x.length>1?l.unique(x):x,this.pushStack(x,"closest",s)},index:function(s){return s?typeof s=="string"?l.inArray(this[0],l(s)):l.inArray(s.jquery?s[0]:s,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(s,p){var x=typeof s=="string"?l(s,p):l.makeArray(s&&s.nodeType?[s]:s),k=l.merge(this.get(),x);return this.pushStack(_t(x[0])||_t(k[0])?k:l.unique(k))},andSelf:function(){return this.add(this.prevObject)}}),l.each({parent:function(s){var p=s.parentNode;return p&&p.nodeType!==11?p:null},parents:function(s){return l.dir(s,"parentNode")},parentsUntil:function(s,p,x){return l.dir(s,"parentNode",x)},next:function(s){return l.nth(s,2,"nextSibling")},prev:function(s){return l.nth(s,2,"previousSibling")},nextAll:function(s){return l.dir(s,"nextSibling")},prevAll:function(s){return l.dir(s,"previousSibling")},nextUntil:function(s,p,x){return l.dir(s,"nextSibling",x)},prevUntil:function(s,p,x){return l.dir(s,"previousSibling",x)},siblings:function(s){return l.sibling((s.parentNode||{}).firstChild,s)},children:function(s){return l.sibling(s.firstChild)},contents:function(s){return l.nodeName(s,"iframe")?s.contentDocument||s.contentWindow.document:l.makeArray(s.childNodes)}},function(s,p){l.fn[s]=function(x,k){var D=l.map(this,p,x);return ue.test(s)||(k=x),k&&typeof k=="string"&&(D=l.filter(k,D)),D=this.length>1&&!Ln[s]?l.unique(D):D,(this.length>1||Yt.test(k))&&Me.test(s)&&(D=D.reverse()),this.pushStack(D,s,tn.call(arguments).join(","))}}),l.extend({filter:function(s,p,x){return x&&(s=":not("+s+")"),p.length===1?l.find.matchesSelector(p[0],s)?[p[0]]:[]:l.find.matches(s,p)},dir:function(s,p,x){for(var k=[],D=s[p];D&&D.nodeType!==9&&(x===T||D.nodeType!==1||!l(D).is(x));)D.nodeType===1&&k.push(D),D=D[p];return k},nth:function(s,p,x,k){p=p||1;for(var D=0;s&&!(s.nodeType===1&&++D===p);s=s[x]);return s},sibling:function(s,p){for(var x=[];s;s=s.nextSibling)s.nodeType===1&&s!==p&&x.push(s);return x}});var an="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",xn=/ jQuery\d+="(?:\d+|null)"/g,pi=/^\s+/,Hi=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,It=/<([\w:]+)/,ai=/<tbody/i,en=/<|&#?\w+;/,Mi=/<(?:script|style)/i,bt=/<(?:script|object|embed|option|style)/i,ht=new RegExp("<(?:"+an+")[\\s/>]","i"),Rt=/checked\s*(?:[^=]|=\s*.checked.)/i,he=/\/(java|ecma)script/i,Pe=/^\s*<!(?:\[CDATA\[|\-\-)/,ge={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},Fe=q(te);ge.optgroup=ge.option,ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead,ge.th=ge.td,l.support.htmlSerialize||(ge._default=[1,"div<div>","</div>"]),l.fn.extend({text:function(s){return l.access(this,function(p){return p===T?l.text(this):this.empty().append((this[0]&&this[0].ownerDocument||te).createTextNode(p))},null,s,arguments.length)},wrapAll:function(s){if(l.isFunction(s))return this.each(function(x){l(this).wrapAll(s.call(this,x))});if(this[0]){var p=l(s,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&p.insertBefore(this[0]),p.map(function(){for(var x=this;x.firstChild&&x.firstChild.nodeType===1;)x=x.firstChild;return x}).append(this)}return this},wrapInner:function(s){return l.isFunction(s)?this.each(function(p){l(this).wrapInner(s.call(this,p))}):this.each(function(){var p=l(this),x=p.contents();x.length?x.wrapAll(s):p.append(s)})},wrap:function(s){var p=l.isFunction(s);return this.each(function(x){l(this).wrapAll(p?s.call(this,x):s)})},unwrap:function(){return this.parent().each(function(){l.nodeName(this,"body")||l(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(s){this.nodeType===1&&this.appendChild(s)})},prepend:function(){return this.domManip(arguments,!0,function(s){this.nodeType===1&&this.insertBefore(s,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(p){this.parentNode.insertBefore(p,this)});if(arguments.length){var s=l.clean(arguments);return s.push.apply(s,this.toArray()),this.pushStack(s,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(p){this.parentNode.insertBefore(p,this.nextSibling)});if(arguments.length){var s=this.pushStack(this,"after",arguments);return s.push.apply(s,l.clean(arguments)),s}},remove:function(s,p){for(var x=0,k;(k=this[x])!=null;x++)(!s||l.filter(s,[k]).length)&&(!p&&k.nodeType===1&&(l.cleanData(k.getElementsByTagName("*")),l.cleanData([k])),k.parentNode&&k.parentNode.removeChild(k));return this},empty:function(){for(var s=0,p;(p=this[s])!=null;s++)for(p.nodeType===1&&l.cleanData(p.getElementsByTagName("*"));p.firstChild;)p.removeChild(p.firstChild);return this},clone:function(s,p){return s=s==null?!1:s,p=p==null?s:p,this.map(function(){return l.clone(this,s,p)})},html:function(s){return l.access(this,function(p){var x=this[0]||{},k=0,D=this.length;if(p===T)return x.nodeType===1?x.innerHTML.replace(xn,""):null;if(typeof p=="string"&&!Mi.test(p)&&(l.support.leadingWhitespace||!pi.test(p))&&!ge[(It.exec(p)||["",""])[1].toLowerCase()]){p=p.replace(Hi,"<$1></$2>");try{for(;k<D;k++)x=this[k]||{},x.nodeType===1&&(l.cleanData(x.getElementsByTagName("*")),x.innerHTML=p);x=0}catch(Y){}}x&&this.empty().append(p)},null,s,arguments.length)},replaceWith:function(s){return this[0]&&this[0].parentNode?l.isFunction(s)?this.each(function(p){var x=l(this),k=x.html();x.replaceWith(s.call(this,p,k))}):(typeof s!="string"&&(s=l(s).detach()),this.each(function(){var p=this.nextSibling,x=this.parentNode;l(this).remove(),p?l(p).before(s):l(x).append(s)})):this.length?this.pushStack(l(l.isFunction(s)?s():s),"replaceWith",s):this},detach:function(s){return this.remove(s,!0)},domManip:function(s,p,x){var k,D,Y,nt,ct=s[0],Mt=[];if(!l.support.checkClone&&arguments.length===3&&typeof ct=="string"&&Rt.test(ct))return this.each(function(){l(this).domManip(s,p,x,!0)});if(l.isFunction(ct))return this.each(function(Vt){var ie=l(this);s[0]=ct.call(this,Vt,p?ie.html():T),ie.domManip(s,p,x)});if(this[0]){if(nt=ct&&ct.parentNode,l.support.parentNode&&nt&&nt.nodeType===11&&nt.childNodes.length===this.length?k={fragment:nt}:k=l.buildFragment(s,this,Mt),Y=k.fragment,Y.childNodes.length===1?D=Y=Y.firstChild:D=Y.firstChild,D){p=p&&l.nodeName(D,"tr");for(var xt=0,Kt=this.length,zt=Kt-1;xt<Kt;xt++)x.call(p?ft(this[xt],D):this[xt],k.cacheable||Kt>1&&xt<zt?l.clone(Y,!0,!0):Y)}Mt.length&&l.each(Mt,function(Vt,ie){ie.src?l.ajax({type:"GET",global:!1,url:ie.src,async:!1,dataType:"script"}):l.globalEval((ie.text||ie.textContent||ie.innerHTML||"").replace(Pe,"/*$0*/")),ie.parentNode&&ie.parentNode.removeChild(ie)})}return this}}),l.buildFragment=function(s,p,x){var k,D,Y,nt,ct=s[0];return p&&p[0]&&(nt=p[0].ownerDocument||p[0]),nt.createDocumentFragment||(nt=te),s.length===1&&typeof ct=="string"&&ct.length<512&&nt===te&&ct.charAt(0)==="<"&&!bt.test(ct)&&(l.support.checkClone||!Rt.test(ct))&&(l.support.html5Clone||!ht.test(ct))&&(D=!0,Y=l.fragments[ct],Y&&Y!==1&&(k=Y)),k||(k=nt.createDocumentFragment(),l.clean(s,nt,k,x)),D&&(l.fragments[ct]=Y?k:1),{fragment:k,cacheable:D}},l.fragments={},l.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(s,p){l.fn[s]=function(x){var k=[],D=l(x),Y=this.length===1&&this[0].parentNode;if(Y&&Y.nodeType===11&&Y.childNodes.length===1&&D.length===1)return D[p](this[0]),this;for(var nt=0,ct=D.length;nt<ct;nt++){var Mt=(nt>0?this.clone(!0):this).get();l(D[nt])[p](Mt),k=k.concat(Mt)}return this.pushStack(k,s,D.selector)}}),l.extend({clone:function(s,p,x){var k,D,Y,nt=l.support.html5Clone||l.isXMLDoc(s)||!ht.test("<"+s.nodeName+">")?s.cloneNode(!0):H(s);if((!l.support.noCloneEvent||!l.support.noCloneChecked)&&(s.nodeType===1||s.nodeType===11)&&!l.isXMLDoc(s))for(Pt(s,nt),k=st(s),D=st(nt),Y=0;k[Y];++Y)D[Y]&&Pt(k[Y],D[Y]);if(p&&(pt(s,nt),x))for(k=st(s),D=st(nt),Y=0;k[Y];++Y)pt(k[Y],D[Y]);return k=D=null,nt},clean:function(s,p,x,k){var D,Y,nt,ct=[];p=p||te,typeof p.createElement=="undefined"&&(p=p.ownerDocument||p[0]&&p[0].ownerDocument||te);for(var Mt=0,xt;(xt=s[Mt])!=null;Mt++)if(typeof xt=="number"&&(xt+=""),!!xt){if(typeof xt=="string")if(!en.test(xt))xt=p.createTextNode(xt);else{xt=xt.replace(Hi,"<$1></$2>");var Kt=(It.exec(xt)||["",""])[1].toLowerCase(),zt=ge[Kt]||ge._default,Vt=zt[0],ie=p.createElement("div"),_n=Fe.childNodes,nn;for(p===te?Fe.appendChild(ie):q(p).appendChild(ie),ie.innerHTML=zt[1]+xt+zt[2];Vt--;)ie=ie.lastChild;if(!l.support.tbody){var cn=ai.test(xt),Tn=Kt==="table"&&!cn?ie.firstChild&&ie.firstChild.childNodes:zt[1]==="<table>"&&!cn?ie.childNodes:[];for(nt=Tn.length-1;nt>=0;--nt)l.nodeName(Tn[nt],"tbody")&&!Tn[nt].childNodes.length&&Tn[nt].parentNode.removeChild(Tn[nt])}!l.support.leadingWhitespace&&pi.test(xt)&&ie.insertBefore(p.createTextNode(pi.exec(xt)[0]),ie.firstChild),xt=ie.childNodes,ie&&(ie.parentNode.removeChild(ie),_n.length>0&&(nn=_n[_n.length-1],nn&&nn.parentNode&&nn.parentNode.removeChild(nn)))}var ji;if(!l.support.appendChecked)if(xt[0]&&typeof(ji=xt.length)=="number")for(nt=0;nt<ji;nt++)X(xt[nt]);else X(xt);xt.nodeType?ct.push(xt):ct=l.merge(ct,xt)}if(x)for(D=function(jn){return!jn.type||he.test(jn.type)},Mt=0;ct[Mt];Mt++)if(Y=ct[Mt],k&&l.nodeName(Y,"script")&&(!Y.type||he.test(Y.type)))k.push(Y.parentNode?Y.parentNode.removeChild(Y):Y);else{if(Y.nodeType===1){var Li=l.grep(Y.getElementsByTagName("script"),D);ct.splice.apply(ct,[Mt+1,0].concat(Li))}x.appendChild(Y)}return ct},cleanData:function(s){for(var p,x,k=l.cache,D=l.event.special,Y=l.support.deleteExpando,nt=0,ct;(ct=s[nt])!=null;nt++)if(!(ct.nodeName&&l.noData[ct.nodeName.toLowerCase()])&&(x=ct[l.expando],x)){if(p=k[x],p&&p.events){for(var Mt in p.events)D[Mt]?l.event.remove(ct,Mt):l.removeEvent(ct,Mt,p.handle);p.handle&&(p.handle.elem=null)}Y?delete ct[l.expando]:ct.removeAttribute&&ct.removeAttribute(l.expando),delete k[x]}}});var Ne=/alpha\([^)]*\)/i,je=/opacity=([^)]*)/,wn=/([A-Z]|^ms)/g,Qe=/^[\-+]?(?:\d*\.)?\d+$/i,qe=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,Jn=/^([\-+])=([\-+.\de]+)/,Hn=/^margin/,Bn={position:"absolute",visibility:"hidden",display:"block"},On=["Top","Right","Bottom","Left"],Dn,yi,xi;l.fn.css=function(s,p){return l.access(this,function(x,k,D){return D!==T?l.style(x,k,D):l.css(x,k)},s,p,arguments.length>1)},l.extend({cssHooks:{opacity:{get:function(s,p){if(p){var x=Dn(s,"opacity");return x===""?"1":x}return s.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:l.support.cssFloat?"cssFloat":"styleFloat"},style:function(s,p,x,k){if(s&&s.nodeType!==3&&s.nodeType!==8&&s.style){var D,Y,nt=l.camelCase(p),ct=s.style,Mt=l.cssHooks[nt];if(p=l.cssProps[nt]||nt,x===T)return Mt&&"get"in Mt&&(D=Mt.get(s,!1,k))!==T?D:ct[p];if(Y=typeof x,Y==="string"&&(D=Jn.exec(x))&&(x=+(D[1]+1)*+D[2]+parseFloat(l.css(s,p)),Y="number"),x==null||Y==="number"&&isNaN(x))return;if(Y==="number"&&!l.cssNumber[nt]&&(x+="px"),!Mt||!("set"in Mt)||(x=Mt.set(s,x))!==T)try{ct[p]=x}catch(xt){}}},css:function(s,p,x){var k,D;if(p=l.camelCase(p),D=l.cssHooks[p],p=l.cssProps[p]||p,p==="cssFloat"&&(p="float"),D&&"get"in D&&(k=D.get(s,!0,x))!==T)return k;if(Dn)return Dn(s,p)},swap:function(s,p,x){var k={},D,Y;for(Y in p)k[Y]=s.style[Y],s.style[Y]=p[Y];D=x.call(s);for(Y in p)s.style[Y]=k[Y];return D}}),l.curCSS=l.css,te.defaultView&&te.defaultView.getComputedStyle&&(yi=function(s,p){var x,k,D,Y,nt=s.style;return p=p.replace(wn,"-$1").toLowerCase(),(k=s.ownerDocument.defaultView)&&(D=k.getComputedStyle(s,null))&&(x=D.getPropertyValue(p),x===""&&!l.contains(s.ownerDocument.documentElement,s)&&(x=l.style(s,p))),!l.support.pixelMargin&&D&&Hn.test(p)&&qe.test(x)&&(Y=nt.width,nt.width=x,x=D.width,nt.width=Y),x}),te.documentElement.currentStyle&&(xi=function(s,p){var x,k,D,Y=s.currentStyle&&s.currentStyle[p],nt=s.style;return Y==null&&nt&&(D=nt[p])&&(Y=D),qe.test(Y)&&(x=nt.left,k=s.runtimeStyle&&s.runtimeStyle.left,k&&(s.runtimeStyle.left=s.currentStyle.left),nt.left=p==="fontSize"?"1em":Y,Y=nt.pixelLeft+"px",nt.left=x,k&&(s.runtimeStyle.left=k)),Y===""?"auto":Y}),Dn=yi||xi,l.each(["height","width"],function(s,p){l.cssHooks[p]={get:function(x,k,D){if(k)return x.offsetWidth!==0?M(x,p,D):l.swap(x,Bn,function(){return M(x,p,D)})},set:function(x,k){return Qe.test(k)?k+"px":k}}}),l.support.opacity||(l.cssHooks.opacity={get:function(s,p){return je.test((p&&s.currentStyle?s.currentStyle.filter:s.style.filter)||"")?parseFloat(RegExp.$1)/100+"":p?"1":""},set:function(s,p){var x=s.style,k=s.currentStyle,D=l.isNumeric(p)?"alpha(opacity="+p*100+")":"",Y=k&&k.filter||x.filter||"";x.zoom=1,!(p>=1&&l.trim(Y.replace(Ne,""))===""&&(x.removeAttribute("filter"),k&&!k.filter))&&(x.filter=Ne.test(Y)?Y.replace(Ne,D):Y+" "+D)}}),l(function(){l.support.reliableMarginRight||(l.cssHooks.marginRight={get:function(s,p){return l.swap(s,{display:"inline-block"},function(){return p?Dn(s,"margin-right"):s.style.marginRight})}})}),l.expr&&l.expr.filters&&(l.expr.filters.hidden=function(s){var p=s.offsetWidth,x=s.offsetHeight;return p===0&&x===0||!l.support.reliableHiddenOffsets&&(s.style&&s.style.display||l.css(s,"display"))==="none"},l.expr.filters.visible=function(s){return!l.expr.filters.hidden(s)}),l.each({margin:"",padding:"",border:"Width"},function(s,p){l.cssHooks[s+p]={expand:function(x){var k,D=typeof x=="string"?x.split(" "):[x],Y={};for(k=0;k<4;k++)Y[s+On[k]+p]=D[k]||D[k-2]||D[0];return Y}}});var mi=/%20/g,oi=/\[\]$/,Un=/\r?\n/g,ti=/#.*$/,li=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,ei=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,gi=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,Ai=/^(?:GET|HEAD)$/,Ui=/^\/\//,Vi=/\?/,ir=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,er=/^(?:select|textarea)/i,$i=/\s+/,Ri=/([?&])_=[^&]*/,ve=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,mn=l.fn.load,In={},gn={},Mn,Xn,Gi="*/*";try{Mn=ye.href}catch(s){Mn=te.createElement("a"),Mn.href="",Mn=Mn.href}Xn=ve.exec(Mn.toLowerCase())||[],l.fn.extend({load:function(s,p,x){if(typeof s!="string"&&mn)return mn.apply(this,arguments);if(!this.length)return this;var k=s.indexOf(" ");if(k>=0){var D=s.slice(k,s.length);s=s.slice(0,k)}var Y="GET";p&&(l.isFunction(p)?(x=p,p=T):typeof p=="object"&&(p=l.param(p,l.ajaxSettings.traditional),Y="POST"));var nt=this;return l.ajax({url:s,type:Y,dataType:"html",data:p,complete:function(ct,Mt,xt){xt=ct.responseText,ct.isResolved()&&(ct.done(function(Kt){xt=Kt}),nt.html(D?l("<div>").append(xt.replace(ir,"")).find(D):xt)),x&&nt.each(x,[xt,Mt,ct])}}),this},serialize:function(){return l.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?l.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||er.test(this.nodeName)||ei.test(this.type))}).map(function(s,p){var x=l(this).val();return x==null?null:l.isArray(x)?l.map(x,function(k,D){return{name:p.name,value:k.replace(Un,`\r
`)}}):{name:p.name,value:x.replace(Un,`\r
`)}}).get()}}),l.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(s,p){l.fn[p]=function(x){return this.on(p,x)}}),l.each(["get","post"],function(s,p){l[p]=function(x,k,D,Y){return l.isFunction(k)&&(Y=Y||D,D=k,k=T),l.ajax({type:p,url:x,data:k,success:D,dataType:Y})}}),l.extend({getScript:function(s,p){return l.get(s,T,p,"script")},getJSON:function(s,p,x){return l.get(s,p,x,"json")},ajaxSetup:function(s,p){return p?F(s,l.ajaxSettings):(p=s,s=l.ajaxSettings),F(s,p),s},ajaxSettings:{url:Mn,isLocal:gi.test(Xn[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Gi},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":n.String,"text html":!0,"text json":l.parseJSON,"text xml":l.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:V(In),ajaxTransport:V(gn),ajax:function(s,p){function x(Nt,ee,be,fe){if(Tn!==2){Tn=2,nn&&clearTimeout(nn),_n=T,Vt=fe||"",jn.readyState=Nt>0?4:0;var Re,We,Ke,Nn=ee,ci=be?R(k,jn,be):T,vt,de;if(Nt>=200&&Nt<300||Nt===304)if(k.ifModified&&((vt=jn.getResponseHeader("Last-Modified"))&&(l.lastModified[xt]=vt),(de=jn.getResponseHeader("Etag"))&&(l.etag[xt]=de)),Nt===304)Nn="notmodified",Re=!0;else try{We=S(k,ci),Nn="success",Re=!0}catch($e){Nn="parsererror",Ke=$e}else Ke=Nn,(!Nn||Nt)&&(Nn="error",Nt<0&&(Nt=0));jn.status=Nt,jn.statusText=""+(ee||Nn),Re?nt.resolveWith(D,[We,Nn,jn]):nt.rejectWith(D,[jn,Nn,Ke]),jn.statusCode(Mt),Mt=T,ji&&Y.trigger("ajax"+(Re?"Success":"Error"),[jn,k,Re?We:Ke]),ct.fireWith(D,[jn,Nn]),ji&&(Y.trigger("ajaxComplete",[jn,k]),--l.active||l.event.trigger("ajaxStop"))}}typeof s=="object"&&(p=s,s=T),p=p||{};var k=l.ajaxSetup({},p),D=k.context||k,Y=D!==k&&(D.nodeType||D instanceof l)?l(D):l.event,nt=l.Deferred(),ct=l.Callbacks("once memory"),Mt=k.statusCode||{},xt,Kt={},zt={},Vt,ie,_n,nn,cn,Tn=0,ji,Li,jn={readyState:0,setRequestHeader:function(Nt,ee){if(!Tn){var be=Nt.toLowerCase();Nt=zt[be]=zt[be]||Nt,Kt[Nt]=ee}return this},getAllResponseHeaders:function(){return Tn===2?Vt:null},getResponseHeader:function(Nt){var ee;if(Tn===2){if(!ie)for(ie={};ee=li.exec(Vt);)ie[ee[1].toLowerCase()]=ee[2];ee=ie[Nt.toLowerCase()]}return ee===T?null:ee},overrideMimeType:function(Nt){return Tn||(k.mimeType=Nt),this},abort:function(Nt){return Nt=Nt||"abort",_n&&_n.abort(Nt),x(0,Nt),this}};if(nt.promise(jn),jn.success=jn.done,jn.error=jn.fail,jn.complete=ct.add,jn.statusCode=function(Nt){if(Nt){var ee;if(Tn<2)for(ee in Nt)Mt[ee]=[Mt[ee],Nt[ee]];else ee=Nt[jn.status],jn.then(ee,ee)}return this},k.url=((s||k.url)+"").replace(ti,"").replace(Ui,Xn[1]+"//"),k.dataTypes=l.trim(k.dataType||"*").toLowerCase().split($i),k.crossDomain==null&&(cn=ve.exec(k.url.toLowerCase()),k.crossDomain=!(!cn||cn[1]==Xn[1]&&cn[2]==Xn[2]&&(cn[3]||(cn[1]==="http:"?80:443))==(Xn[3]||(Xn[1]==="http:"?80:443)))),k.data&&k.processData&&typeof k.data!="string"&&(k.data=l.param(k.data,k.traditional)),it(In,k,p,jn),Tn===2)return!1;if(ji=k.global,k.type=k.type.toUpperCase(),k.hasContent=!Ai.test(k.type),ji&&l.active++===0&&l.event.trigger("ajaxStart"),!k.hasContent&&(k.data&&(k.url+=(Vi.test(k.url)?"&":"?")+k.data,delete k.data),xt=k.url,k.cache===!1)){var rt=l.now(),dt=k.url.replace(Ri,"$1_="+rt);k.url=dt+(dt===k.url?(Vi.test(k.url)?"&":"?")+"_="+rt:"")}(k.data&&k.hasContent&&k.contentType!==!1||p.contentType)&&jn.setRequestHeader("Content-Type",k.contentType),k.ifModified&&(xt=xt||k.url,l.lastModified[xt]&&jn.setRequestHeader("If-Modified-Since",l.lastModified[xt]),l.etag[xt]&&jn.setRequestHeader("If-None-Match",l.etag[xt])),jn.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+(k.dataTypes[0]!=="*"?", "+Gi+"; q=0.01":""):k.accepts["*"]);for(Li in k.headers)jn.setRequestHeader(Li,k.headers[Li]);if(k.beforeSend&&(k.beforeSend.call(D,jn,k)===!1||Tn===2))return jn.abort(),!1;for(Li in{success:1,error:1,complete:1})jn[Li](k[Li]);if(_n=it(gn,k,p,jn),!_n)x(-1,"No Transport");else{jn.readyState=1,ji&&Y.trigger("ajaxSend",[jn,k]),k.async&&k.timeout>0&&(nn=setTimeout(function(){jn.abort("timeout")},k.timeout));try{Tn=1,_n.send(Kt,x)}catch(Nt){if(Tn<2)x(-1,Nt);else throw Nt}}return jn},param:function(s,p){var x=[],k=function(Y,nt){nt=l.isFunction(nt)?nt():nt,x[x.length]=encodeURIComponent(Y)+"="+encodeURIComponent(nt)};if(p===T&&(p=l.ajaxSettings.traditional),l.isArray(s)||s.jquery&&!l.isPlainObject(s))l.each(s,function(){k(this.name,this.value)});else for(var D in s)Q(D,s[D],p,k);return x.join("&").replace(mi,"+")}}),l.extend({active:0,lastModified:{},etag:{}});var nr=l.now(),Oi=/(\=)\?(&|$)|\?\?/i;l.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return l.expando+"_"+nr++}}),l.ajaxPrefilter("json jsonp",function(s,p,x){var k=typeof s.data=="string"&&/^application\/x\-www\-form\-urlencoded/.test(s.contentType);if(s.dataTypes[0]==="jsonp"||s.jsonp!==!1&&(Oi.test(s.url)||k&&Oi.test(s.data))){var D,Y=s.jsonpCallback=l.isFunction(s.jsonpCallback)?s.jsonpCallback():s.jsonpCallback,nt=n[Y],ct=s.url,Mt=s.data,xt="$1"+Y+"$2";return s.jsonp!==!1&&(ct=ct.replace(Oi,xt),s.url===ct&&(k&&(Mt=Mt.replace(Oi,xt)),s.data===Mt&&(ct+=(/\?/.test(ct)?"&":"?")+s.jsonp+"="+Y))),s.url=ct,s.data=Mt,n[Y]=function(Kt){D=[Kt]},x.always(function(){n[Y]=nt,D&&l.isFunction(nt)&&n[Y](D[0])}),s.converters["script json"]=function(){return D||l.error(Y+" was not called"),D[0]},s.dataTypes[0]="json","script"}}),l.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(s){return l.globalEval(s),s}}}),l.ajaxPrefilter("script",function(s){s.cache===T&&(s.cache=!1),s.crossDomain&&(s.type="GET",s.global=!1)}),l.ajaxTransport("script",function(s){if(s.crossDomain){var p,x=te.head||te.getElementsByTagName("head")[0]||te.documentElement;return{send:function(k,D){p=te.createElement("script"),p.async="async",s.scriptCharset&&(p.charset=s.scriptCharset),p.src=s.url,p.onload=p.onreadystatechange=function(Y,nt){(nt||!p.readyState||/loaded|complete/.test(p.readyState))&&(p.onload=p.onreadystatechange=null,x&&p.parentNode&&x.removeChild(p),p=T,nt||D(200,"success"))},x.insertBefore(p,x.firstChild)},abort:function(){p&&p.onload(0,1)}}}});var Wi=n.ActiveXObject?function(){for(var s in Ni)Ni[s](0,1)}:!1,Gn=0,Ni;l.ajaxSettings.xhr=n.ActiveXObject?function(){return!this.isLocal&&y()||I()}:y,(function(s){l.extend(l.support,{ajax:!!s,cors:!!s&&"withCredentials"in s})})(l.ajaxSettings.xhr()),l.support.ajax&&l.ajaxTransport(function(s){if(!s.crossDomain||l.support.cors){var p;return{send:function(x,k){var D=s.xhr(),Y,nt;if(s.username?D.open(s.type,s.url,s.async,s.username,s.password):D.open(s.type,s.url,s.async),s.xhrFields)for(nt in s.xhrFields)D[nt]=s.xhrFields[nt];s.mimeType&&D.overrideMimeType&&D.overrideMimeType(s.mimeType),!s.crossDomain&&!x["X-Requested-With"]&&(x["X-Requested-With"]="XMLHttpRequest");try{for(nt in x)D.setRequestHeader(nt,x[nt])}catch(ct){}D.send(s.hasContent&&s.data||null),p=function(ct,Mt){var xt,Kt,zt,Vt,ie;try{if(p&&(Mt||D.readyState===4))if(p=T,Y&&(D.onreadystatechange=l.noop,Wi&&delete Ni[Y]),Mt)D.readyState!==4&&D.abort();else{xt=D.status,zt=D.getAllResponseHeaders(),Vt={},ie=D.responseXML,ie&&ie.documentElement&&(Vt.xml=ie);try{Vt.text=D.responseText}catch(_n){}try{Kt=D.statusText}catch(_n){Kt=""}!xt&&s.isLocal&&!s.crossDomain?xt=Vt.text?200:404:xt===1223&&(xt=204)}}catch(_n){Mt||k(-1,_n)}Vt&&k(xt,Kt,Vt,zt)},!s.async||D.readyState===4?p():(Y=++Gn,Wi&&(Ni||(Ni={},l(n).unload(Wi)),Ni[Y]=p),D.onreadystatechange=p)},abort:function(){p&&p(0,1)}}}});var zi={},Xi,fr,Pr=/^(?:toggle|show|hide)$/,Or=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,yr,Qi=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],Ki;l.fn.extend({show:function(s,p,x){var k,D;if(s||s===0)return this.animate(d("show",3),s,p,x);for(var Y=0,nt=this.length;Y<nt;Y++)k=this[Y],k.style&&(D=k.style.display,!l._data(k,"olddisplay")&&D==="none"&&(D=k.style.display=""),(D===""&&l.css(k,"display")==="none"||!l.contains(k.ownerDocument.documentElement,k))&&l._data(k,"olddisplay",u(k.nodeName)));for(Y=0;Y<nt;Y++)k=this[Y],k.style&&(D=k.style.display,(D===""||D==="none")&&(k.style.display=l._data(k,"olddisplay")||""));return this},hide:function(s,p,x){if(s||s===0)return this.animate(d("hide",3),s,p,x);for(var k,D,Y=0,nt=this.length;Y<nt;Y++)k=this[Y],k.style&&(D=l.css(k,"display"),D!=="none"&&!l._data(k,"olddisplay")&&l._data(k,"olddisplay",D));for(Y=0;Y<nt;Y++)this[Y].style&&(this[Y].style.display="none");return this},_toggle:l.fn.toggle,toggle:function(s,p,x){var k=typeof s=="boolean";return l.isFunction(s)&&l.isFunction(p)?this._toggle.apply(this,arguments):s==null||k?this.each(function(){var D=k?s:l(this).is(":hidden");l(this)[D?"show":"hide"]()}):this.animate(d("toggle",3),s,p,x),this},fadeTo:function(s,p,x,k){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:p},s,x,k)},animate:function(s,p,x,k){function D(){Y.queue===!1&&l._mark(this);var nt=l.extend({},Y),ct=this.nodeType===1,Mt=ct&&l(this).is(":hidden"),xt,Kt,zt,Vt,ie,_n,nn,cn,Tn,ji,Li;nt.animatedProperties={};for(zt in s)if(xt=l.camelCase(zt),zt!==xt&&(s[xt]=s[zt],delete s[zt]),(ie=l.cssHooks[xt])&&"expand"in ie){_n=ie.expand(s[xt]),delete s[xt];for(zt in _n)zt in s||(s[zt]=_n[zt])}for(xt in s){if(Kt=s[xt],l.isArray(Kt)?(nt.animatedProperties[xt]=Kt[1],Kt=s[xt]=Kt[0]):nt.animatedProperties[xt]=nt.specialEasing&&nt.specialEasing[xt]||nt.easing||"swing",Kt==="hide"&&Mt||Kt==="show"&&!Mt)return nt.complete.call(this);ct&&(xt==="height"||xt==="width")&&(nt.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],l.css(this,"display")==="inline"&&l.css(this,"float")==="none"&&(!l.support.inlineBlockNeedsLayout||u(this.nodeName)==="inline"?this.style.display="inline-block":this.style.zoom=1))}nt.overflow!=null&&(this.style.overflow="hidden");for(zt in s)Vt=new l.fx(this,nt,zt),Kt=s[zt],Pr.test(Kt)?(Li=l._data(this,"toggle"+zt)||(Kt==="toggle"?Mt?"show":"hide":0),Li?(l._data(this,"toggle"+zt,Li==="show"?"hide":"show"),Vt[Li]()):Vt[Kt]()):(nn=Or.exec(Kt),cn=Vt.cur(),nn?(Tn=parseFloat(nn[2]),ji=nn[3]||(l.cssNumber[zt]?"":"px"),ji!=="px"&&(l.style(this,zt,(Tn||1)+ji),cn=(Tn||1)/Vt.cur()*cn,l.style(this,zt,cn+ji)),nn[1]&&(Tn=(nn[1]==="-="?-1:1)*Tn+cn),Vt.custom(cn,Tn,ji)):Vt.custom(cn,Kt,""));return!0}var Y=l.speed(p,x,k);return l.isEmptyObject(s)?this.each(Y.complete,[!1]):(s=l.extend({},s),Y.queue===!1?this.each(D):this.queue(Y.queue,D))},stop:function(s,p,x){return typeof s!="string"&&(x=p,p=s,s=T),p&&s!==!1&&this.queue(s||"fx",[]),this.each(function(){function k(Mt,xt,Kt){var zt=xt[Kt];l.removeData(Mt,Kt,!0),zt.stop(x)}var D,Y=!1,nt=l.timers,ct=l._data(this);if(x||l._unmark(!0,this),s==null)for(D in ct)ct[D]&&ct[D].stop&&D.indexOf(".run")===D.length-4&&k(this,ct,D);else ct[D=s+".run"]&&ct[D].stop&&k(this,ct,D);for(D=nt.length;D--;)nt[D].elem===this&&(s==null||nt[D].queue===s)&&(x?nt[D](!0):nt[D].saveState(),Y=!0,nt.splice(D,1));(!x||!Y)&&l.dequeue(this,s)})}}),l.each({slideDown:d("show",1),slideUp:d("hide",1),slideToggle:d("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(s,p){l.fn[s]=function(x,k,D){return this.animate(p,x,k,D)}}),l.extend({speed:function(s,p,x){var k=s&&typeof s=="object"?l.extend({},s):{complete:x||!x&&p||l.isFunction(s)&&s,duration:s,easing:x&&p||p&&!l.isFunction(p)&&p};return k.duration=l.fx.off?0:typeof k.duration=="number"?k.duration:k.duration in l.fx.speeds?l.fx.speeds[k.duration]:l.fx.speeds._default,(k.queue==null||k.queue===!0)&&(k.queue="fx"),k.old=k.complete,k.complete=function(D){l.isFunction(k.old)&&k.old.call(this),k.queue?l.dequeue(this,k.queue):D!==!1&&l._unmark(this)},k},easing:{linear:function(s){return s},swing:function(s){return-Math.cos(s*Math.PI)/2+.5}},timers:[],fx:function(s,p,x){this.options=p,this.elem=s,this.prop=x,p.orig=p.orig||{}}}),l.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(l.fx.step[this.prop]||l.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];var s,p=l.css(this.elem,this.prop);return isNaN(s=parseFloat(p))?!p||p==="auto"?0:p:s},custom:function(s,p,x){function k(nt){return D.step(nt)}var D=this,Y=l.fx;this.startTime=Ki||m(),this.end=p,this.now=this.start=s,this.pos=this.state=0,this.unit=x||this.unit||(l.cssNumber[this.prop]?"":"px"),k.queue=this.options.queue,k.elem=this.elem,k.saveState=function(){l._data(D.elem,"fxshow"+D.prop)===T&&(D.options.hide?l._data(D.elem,"fxshow"+D.prop,D.start):D.options.show&&l._data(D.elem,"fxshow"+D.prop,D.end))},k()&&l.timers.push(k)&&!yr&&(yr=setInterval(Y.tick,Y.interval))},show:function(){var s=l._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=s||l.style(this.elem,this.prop),this.options.show=!0,s!==T?this.custom(this.cur(),s):this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur()),l(this.elem).show()},hide:function(){this.options.orig[this.prop]=l._data(this.elem,"fxshow"+this.prop)||l.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(s){var p,x,k,D=Ki||m(),Y=!0,nt=this.elem,ct=this.options;if(s||D>=ct.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),ct.animatedProperties[this.prop]=!0;for(p in ct.animatedProperties)ct.animatedProperties[p]!==!0&&(Y=!1);if(Y){if(ct.overflow!=null&&!l.support.shrinkWrapBlocks&&l.each(["","X","Y"],function(Mt,xt){nt.style["overflow"+xt]=ct.overflow[Mt]}),ct.hide&&l(nt).hide(),ct.hide||ct.show)for(p in ct.animatedProperties)l.style(nt,p,ct.orig[p]),l.removeData(nt,"fxshow"+p,!0),l.removeData(nt,"toggle"+p,!0);k=ct.complete,k&&(ct.complete=!1,k.call(nt))}return!1}return ct.duration==1/0?this.now=D:(x=D-this.startTime,this.state=x/ct.duration,this.pos=l.easing[ct.animatedProperties[this.prop]](this.state,x,0,1,ct.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update(),!0}},l.extend(l.fx,{tick:function(){for(var s,p=l.timers,x=0;x<p.length;x++)s=p[x],!s()&&p[x]===s&&p.splice(x--,1);p.length||l.fx.stop()},interval:13,stop:function(){clearInterval(yr),yr=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(s){l.style(s.elem,"opacity",s.now)},_default:function(s){s.elem.style&&s.elem.style[s.prop]!=null?s.elem.style[s.prop]=s.now+s.unit:s.elem[s.prop]=s.now}}}),l.each(Qi.concat.apply([],Qi),function(s,p){p.indexOf("margin")&&(l.fx.step[p]=function(x){l.style(x.elem,p,Math.max(0,x.now)+x.unit)})}),l.expr&&l.expr.filters&&(l.expr.filters.animated=function(s){return l.grep(l.timers,function(p){return s===p.elem}).length});var _r,pr=/^t(?:able|d|h)$/i,rr=/^(?:body|html)$/i;"getBoundingClientRect"in te.documentElement?_r=function(s,p,x,k){try{k=s.getBoundingClientRect()}catch(Vt){}if(!k||!l.contains(x,s))return k?{top:k.top,left:k.left}:{top:0,left:0};var D=p.body,Y=A(p),nt=x.clientTop||D.clientTop||0,ct=x.clientLeft||D.clientLeft||0,Mt=Y.pageYOffset||l.support.boxModel&&x.scrollTop||D.scrollTop,xt=Y.pageXOffset||l.support.boxModel&&x.scrollLeft||D.scrollLeft,Kt=k.top+Mt-nt,zt=k.left+xt-ct;return{top:Kt,left:zt}}:_r=function(s,p,x){for(var k,D=s.offsetParent,Y=s,nt=p.body,ct=p.defaultView,Mt=ct?ct.getComputedStyle(s,null):s.currentStyle,xt=s.offsetTop,Kt=s.offsetLeft;(s=s.parentNode)&&s!==nt&&s!==x&&!(l.support.fixedPosition&&Mt.position==="fixed");)k=ct?ct.getComputedStyle(s,null):s.currentStyle,xt-=s.scrollTop,Kt-=s.scrollLeft,s===D&&(xt+=s.offsetTop,Kt+=s.offsetLeft,l.support.doesNotAddBorder&&(!l.support.doesAddBorderForTableAndCells||!pr.test(s.nodeName))&&(xt+=parseFloat(k.borderTopWidth)||0,Kt+=parseFloat(k.borderLeftWidth)||0),Y=D,D=s.offsetParent),l.support.subtractsBorderForOverflowNotVisible&&k.overflow!=="visible"&&(xt+=parseFloat(k.borderTopWidth)||0,Kt+=parseFloat(k.borderLeftWidth)||0),Mt=k;return(Mt.position==="relative"||Mt.position==="static")&&(xt+=nt.offsetTop,Kt+=nt.offsetLeft),l.support.fixedPosition&&Mt.position==="fixed"&&(xt+=Math.max(x.scrollTop,nt.scrollTop),Kt+=Math.max(x.scrollLeft,nt.scrollLeft)),{top:xt,left:Kt}},l.fn.offset=function(s){if(arguments.length)return s===T?this:this.each(function(k){l.offset.setOffset(this,s,k)});var p=this[0],x=p&&p.ownerDocument;return x?p===x.body?l.offset.bodyOffset(p):_r(p,x,x.documentElement):null},l.offset={bodyOffset:function(s){var p=s.offsetTop,x=s.offsetLeft;return l.support.doesNotIncludeMarginInBodyOffset&&(p+=parseFloat(l.css(s,"marginTop"))||0,x+=parseFloat(l.css(s,"marginLeft"))||0),{top:p,left:x}},setOffset:function(s,p,x){var k=l.css(s,"position");k==="static"&&(s.style.position="relative");var D=l(s),Y=D.offset(),nt=l.css(s,"top"),ct=l.css(s,"left"),Mt=(k==="absolute"||k==="fixed")&&l.inArray("auto",[nt,ct])>-1,xt={},Kt={},zt,Vt;Mt?(Kt=D.position(),zt=Kt.top,Vt=Kt.left):(zt=parseFloat(nt)||0,Vt=parseFloat(ct)||0),l.isFunction(p)&&(p=p.call(s,x,Y)),p.top!=null&&(xt.top=p.top-Y.top+zt),p.left!=null&&(xt.left=p.left-Y.left+Vt),"using"in p?p.using.call(s,xt):D.css(xt)}},l.fn.extend({position:function(){if(!this[0])return null;var s=this[0],p=this.offsetParent(),x=this.offset(),k=rr.test(p[0].nodeName)?{top:0,left:0}:p.offset();return x.top-=parseFloat(l.css(s,"marginTop"))||0,x.left-=parseFloat(l.css(s,"marginLeft"))||0,k.top+=parseFloat(l.css(p[0],"borderTopWidth"))||0,k.left+=parseFloat(l.css(p[0],"borderLeftWidth"))||0,{top:x.top-k.top,left:x.left-k.left}},offsetParent:function(){return this.map(function(){for(var s=this.offsetParent||te.body;s&&!rr.test(s.nodeName)&&l.css(s,"position")==="static";)s=s.offsetParent;return s})}}),l.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(s,p){var x=/Y/.test(p);l.fn[s]=function(k){return l.access(this,function(D,Y,nt){var ct=A(D);if(nt===T)return ct?p in ct?ct[p]:l.support.boxModel&&ct.document.documentElement[Y]||ct.document.body[Y]:D[Y];ct?ct.scrollTo(x?l(ct).scrollLeft():nt,x?nt:l(ct).scrollTop()):D[Y]=nt},s,k,arguments.length,null)}}),l.each({Height:"height",Width:"width"},function(s,p){var x="client"+s,k="scroll"+s,D="offset"+s;l.fn["inner"+s]=function(){var Y=this[0];return Y?Y.style?parseFloat(l.css(Y,p,"padding")):this[p]():null},l.fn["outer"+s]=function(Y){var nt=this[0];return nt?nt.style?parseFloat(l.css(nt,p,Y?"margin":"border")):this[p]():null},l.fn[p]=function(Y){return l.access(this,function(nt,ct,Mt){var xt,Kt,zt,Vt;if(l.isWindow(nt))return xt=nt.document,Kt=xt.documentElement[x],l.support.boxModel&&Kt||xt.body&&xt.body[x]||Kt;if(nt.nodeType===9)return xt=nt.documentElement,xt[x]>=xt[k]?xt[x]:Math.max(nt.body[k],xt[k],nt.body[D],xt[D]);if(Mt===T)return zt=l.css(nt,ct),Vt=parseFloat(zt),l.isNumeric(Vt)?Vt:zt;l(nt).css(ct,Mt)},p,Y,arguments.length,null)}}),n.jQuery=n.$=l,typeof define=="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return l})})(window);/*! jQuery UI - v1.9.2 - 2012-12-10
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.position.js, jquery.ui.draggable.js, jquery.ui.droppable.js, jquery.ui.sortable.js, jquery.ui.autocomplete.js, jquery.ui.menu.js, jquery.ui.slider.js
* Copyright (c) 2012 jQuery Foundation and other contributors Licensed MIT */(function(n,T){function A(m,I){var y,S,R,Q=m.nodeName.toLowerCase();return Q==="area"?(y=m.parentNode,S=y.name,!m.href||!S||y.nodeName.toLowerCase()!=="map"?!1:(R=n("img[usemap=#"+S+"]")[0],!!R&&u(R))):(/input|select|textarea|button|object/.test(Q)?!m.disabled:Q==="a"&&m.href||I)&&u(m)}function u(m){return n.expr.filters.visible(m)&&!n(m).parents().andSelf().filter(function(){return n.css(this,"visibility")==="hidden"}).length}var d=0,v=/^ui-id-\d+$/;n.ui=n.ui||{},!n.ui.version&&(n.extend(n.ui,{version:"1.9.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),n.fn.extend({_focus:n.fn.focus,focus:function(m,I){return typeof m=="number"?this.each(function(){var y=this;setTimeout(function(){n(y).focus(),I&&I.call(y)},m)}):this._focus.apply(this,arguments)},scrollParent:function(){var m;return n.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?m=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(n.css(this,"position"))&&/(auto|scroll)/.test(n.css(this,"overflow")+n.css(this,"overflow-y")+n.css(this,"overflow-x"))}).eq(0):m=this.parents().filter(function(){return/(auto|scroll)/.test(n.css(this,"overflow")+n.css(this,"overflow-y")+n.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!m.length?n(document):m},zIndex:function(m){if(m!==T)return this.css("zIndex",m);if(this.length)for(var I=n(this[0]),y,S;I.length&&I[0]!==document;){if(y=I.css("position"),(y==="absolute"||y==="relative"||y==="fixed")&&(S=parseInt(I.css("zIndex"),10),!isNaN(S)&&S!==0))return S;I=I.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++d)})},removeUniqueId:function(){return this.each(function(){v.test(this.id)&&n(this).removeAttr("id")})}}),n.extend(n.expr[":"],{data:n.expr.createPseudo?n.expr.createPseudo(function(m){return function(I){return!!n.data(I,m)}}):function(m,I,y){return!!n.data(m,y[3])},focusable:function(m){return A(m,!isNaN(n.attr(m,"tabindex")))},tabbable:function(m){var I=n.attr(m,"tabindex"),y=isNaN(I);return(y||I>=0)&&A(m,!y)}}),n(function(){var m=document.body,I=m.appendChild(I=document.createElement("div"));I.offsetHeight,n.extend(I.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),n.support.minHeight=I.offsetHeight===100,n.support.selectstart="onselectstart"in I,m.removeChild(I).style.display="none"}),n("<a>").outerWidth(1).jquery||n.each(["Width","Height"],function(m,I){function y(F,it,V,M){return n.each(S,function(){it-=parseFloat(n.css(F,"padding"+this))||0,V&&(it-=parseFloat(n.css(F,"border"+this+"Width"))||0),M&&(it-=parseFloat(n.css(F,"margin"+this))||0)}),it}var S=I==="Width"?["Left","Right"]:["Top","Bottom"],R=I.toLowerCase(),Q={innerWidth:n.fn.innerWidth,innerHeight:n.fn.innerHeight,outerWidth:n.fn.outerWidth,outerHeight:n.fn.outerHeight};n.fn["inner"+I]=function(F){return F===T?Q["inner"+I].call(this):this.each(function(){n(this).css(R,y(this,F)+"px")})},n.fn["outer"+I]=function(F,it){return typeof F!="number"?Q["outer"+I].call(this,F):this.each(function(){n(this).css(R,y(this,F,!0,it)+"px")})}}),n("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(n.fn.removeData=(function(m){return function(I){return arguments.length?m.call(this,n.camelCase(I)):m.call(this)}})(n.fn.removeData)),(function(){var m=/msie ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||[];n.ui.ie=!!m.length,n.ui.ie6=parseFloat(m[1],10)===6})(),n.fn.extend({disableSelection:function(){return this.bind((n.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(m){m.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),n.extend(n.ui,{plugin:{add:function(m,I,y){var S,R=n.ui[m].prototype;for(S in y)R.plugins[S]=R.plugins[S]||[],R.plugins[S].push([I,y[S]])},call:function(m,I,y){var S,R=m.plugins[I];if(!(!R||!m.element[0].parentNode||m.element[0].parentNode.nodeType===11))for(S=0;S<R.length;S++)m.options[R[S][0]]&&R[S][1].apply(m.element,y)}},contains:n.contains,hasScroll:function(m,I){if(n(m).css("overflow")==="hidden")return!1;var y=I&&I==="left"?"scrollLeft":"scrollTop",S=!1;return m[y]>0?!0:(m[y]=1,S=m[y]>0,m[y]=0,S)},isOverAxis:function(m,I,y){return m>I&&m<I+y},isOver:function(m,I,y,S,R,Q){return n.ui.isOverAxis(m,y,R)&&n.ui.isOverAxis(I,S,Q)}}))})(jQuery),(function(n,T){var A=0,u=Array.prototype.slice,d=n.cleanData;n.cleanData=function(v){for(var m=0,I;(I=v[m])!=null;m++)try{n(I).triggerHandler("remove")}catch(y){}d(v)},n.widget=function(v,m,I){var y,S,R,Q,F=v.split(".")[0];v=v.split(".")[1],y=F+"-"+v,I||(I=m,m=n.Widget),n.expr[":"][y.toLowerCase()]=function(it){return!!n.data(it,y)},n[F]=n[F]||{},S=n[F][v],R=n[F][v]=function(it,V){if(!this._createWidget)return new R(it,V);arguments.length&&this._createWidget(it,V)},n.extend(R,S,{version:I.version,_proto:n.extend({},I),_childConstructors:[]}),Q=new m,Q.options=n.widget.extend({},Q.options),n.each(I,function(it,V){n.isFunction(V)&&(I[it]=(function(){var M=function(){return m.prototype[it].apply(this,arguments)},H=function(X){return m.prototype[it].apply(this,X)};return function(){var X=this._super,Z=this._superApply,st;return this._super=M,this._superApply=H,st=V.apply(this,arguments),this._super=X,this._superApply=Z,st}})())}),R.prototype=n.widget.extend(Q,{widgetEventPrefix:S?Q.widgetEventPrefix:v},I,{constructor:R,namespace:F,widgetName:v,widgetBaseClass:y,widgetFullName:y}),S?(n.each(S._childConstructors,function(it,V){var M=V.prototype;n.widget(M.namespace+"."+M.widgetName,R,V._proto)}),delete S._childConstructors):m._childConstructors.push(R),n.widget.bridge(v,R)},n.widget.extend=function(v){for(var m=u.call(arguments,1),I=0,y=m.length,S,R;I<y;I++)for(S in m[I])R=m[I][S],m[I].hasOwnProperty(S)&&R!==T&&(n.isPlainObject(R)?v[S]=n.isPlainObject(v[S])?n.widget.extend({},v[S],R):n.widget.extend({},R):v[S]=R);return v},n.widget.bridge=function(v,m){var I=m.prototype.widgetFullName||v;n.fn[v]=function(y){var S=typeof y=="string",R=u.call(arguments,1),Q=this;return y=!S&&R.length?n.widget.extend.apply(null,[y].concat(R)):y,S?this.each(function(){var F,it=n.data(this,I);if(!it)return n.error("cannot call methods on "+v+" prior to initialization; attempted to call method '"+y+"'");if(!n.isFunction(it[y])||y.charAt(0)==="_")return n.error("no such method '"+y+"' for "+v+" widget instance");if(F=it[y].apply(it,R),F!==it&&F!==T)return Q=F&&F.jquery?Q.pushStack(F.get()):F,!1}):this.each(function(){var F=n.data(this,I);F?F.option(y||{})._init():n.data(this,I,new m(y,this))}),Q}},n.Widget=function(){},n.Widget._childConstructors=[],n.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(v,m){m=n(m||this.defaultElement||this)[0],this.element=n(m),this.uuid=A++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=n.widget.extend({},this.options,this._getCreateOptions(),v),this.bindings=n(),this.hoverable=n(),this.focusable=n(),m!==this&&(n.data(m,this.widgetName,this),n.data(m,this.widgetFullName,this),this._on(!0,this.element,{remove:function(I){I.target===m&&this.destroy()}}),this.document=n(m.style?m.ownerDocument:m.document||m),this.window=n(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:n.noop,_getCreateEventData:n.noop,_create:n.noop,_init:n.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(n.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:n.noop,widget:function(){return this.element},option:function(v,m){var I=v,y,S,R;if(arguments.length===0)return n.widget.extend({},this.options);if(typeof v=="string")if(I={},y=v.split("."),v=y.shift(),y.length){for(S=I[v]=n.widget.extend({},this.options[v]),R=0;R<y.length-1;R++)S[y[R]]=S[y[R]]||{},S=S[y[R]];if(v=y.pop(),m===T)return S[v]===T?null:S[v];S[v]=m}else{if(m===T)return this.options[v]===T?null:this.options[v];I[v]=m}return this._setOptions(I),this},_setOptions:function(v){var m;for(m in v)this._setOption(m,v[m]);return this},_setOption:function(v,m){return this.options[v]=m,v==="disabled"&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!m).attr("aria-disabled",m),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(v,m,I){var y,S=this;typeof v!="boolean"&&(I=m,m=v,v=!1),I?(m=y=n(m),this.bindings=this.bindings.add(m)):(I=m,m=this.element,y=this.widget()),n.each(I,function(R,Q){function F(){if(!(!v&&(S.options.disabled===!0||n(this).hasClass("ui-state-disabled"))))return(typeof Q=="string"?S[Q]:Q).apply(S,arguments)}typeof Q!="string"&&(F.guid=Q.guid=Q.guid||F.guid||n.guid++);var it=R.match(/^(\w+)\s*(.*)$/),V=it[1]+S.eventNamespace,M=it[2];M?y.delegate(M,V,F):m.bind(V,F)})},_off:function(v,m){m=(m||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,v.unbind(m).undelegate(m)},_delay:function(v,m){function I(){return(typeof v=="string"?y[v]:v).apply(y,arguments)}var y=this;return setTimeout(I,m||0)},_hoverable:function(v){this.hoverable=this.hoverable.add(v),this._on(v,{mouseenter:function(m){n(m.currentTarget).addClass("ui-state-hover")},mouseleave:function(m){n(m.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(v){this.focusable=this.focusable.add(v),this._on(v,{focusin:function(m){n(m.currentTarget).addClass("ui-state-focus")},focusout:function(m){n(m.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(v,m,I){var y,S,R=this.options[v];if(I=I||{},m=n.Event(m),m.type=(v===this.widgetEventPrefix?v:this.widgetEventPrefix+v).toLowerCase(),m.target=this.element[0],S=m.originalEvent,S)for(y in S)y in m||(m[y]=S[y]);return this.element.trigger(m,I),!(n.isFunction(R)&&R.apply(this.element[0],[m].concat(I))===!1||m.isDefaultPrevented())}},n.each({show:"fadeIn",hide:"fadeOut"},function(v,m){n.Widget.prototype["_"+v]=function(I,y,S){typeof y=="string"&&(y={effect:y});var R,Q=y?y===!0||typeof y=="number"?m:y.effect||m:v;y=y||{},typeof y=="number"&&(y={duration:y}),R=!n.isEmptyObject(y),y.complete=S,y.delay&&I.delay(y.delay),R&&n.effects&&(n.effects.effect[Q]||n.uiBackCompat!==!1&&n.effects[Q])?I[v](y):Q!==v&&I[Q]?I[Q](y.duration,y.easing,S):I.queue(function(F){n(this)[v](),S&&S.call(I[0]),F()})}}),n.uiBackCompat!==!1&&(n.Widget.prototype._getCreateOptions=function(){return n.metadata&&n.metadata.get(this.element[0])[this.widgetName]})})(jQuery),(function(n,T){var A=!1;n(document).mouseup(function(u){A=!1}),n.widget("ui.mouse",{version:"1.9.2",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var u=this;this.element.bind("mousedown."+this.widgetName,function(d){return u._mouseDown(d)}).bind("click."+this.widgetName,function(d){if(n.data(d.target,u.widgetName+".preventClickEvent")===!0)return n.removeData(d.target,u.widgetName+".preventClickEvent"),d.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&n(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(u){if(!A){this._mouseStarted&&this._mouseUp(u),this._mouseDownEvent=u;var d=this,v=u.which===1,m=typeof this.options.cancel=="string"&&u.target.nodeName?n(u.target).closest(this.options.cancel).length:!1;return!v||m||!this._mouseCapture(u)?!0:(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){d.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(u)&&this._mouseDelayMet(u)&&(this._mouseStarted=this._mouseStart(u)!==!1,!this._mouseStarted)?(u.preventDefault(),!0):(n.data(u.target,this.widgetName+".preventClickEvent")===!0&&n.removeData(u.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(I){return d._mouseMove(I)},this._mouseUpDelegate=function(I){return d._mouseUp(I)},n(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),u.preventDefault(),A=!0,!0))}},_mouseMove:function(u){return!n.ui.ie||document.documentMode>=9||u.button?this._mouseStarted?(this._mouseDrag(u),u.preventDefault()):(this._mouseDistanceMet(u)&&this._mouseDelayMet(u)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,u)!==!1,this._mouseStarted?this._mouseDrag(u):this._mouseUp(u)),!this._mouseStarted):this._mouseUp(u)},_mouseUp:function(u){return n(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,u.target===this._mouseDownEvent.target&&n.data(u.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(u)),!1},_mouseDistanceMet:function(u){return Math.max(Math.abs(this._mouseDownEvent.pageX-u.pageX),Math.abs(this._mouseDownEvent.pageY-u.pageY))>=this.options.distance},_mouseDelayMet:function(u){return this.mouseDelayMet},_mouseStart:function(u){},_mouseDrag:function(u){},_mouseStop:function(u){},_mouseCapture:function(u){return!0}})})(jQuery),(function(n,T){function A(V,M,H){return[parseInt(V[0],10)*(F.test(V[0])?M/100:1),parseInt(V[1],10)*(F.test(V[1])?H/100:1)]}function u(V,M){return parseInt(n.css(V,M),10)||0}n.ui=n.ui||{};var d,v=Math.max,m=Math.abs,I=Math.round,y=/left|center|right/,S=/top|center|bottom/,R=/[\+\-]\d+%?/,Q=/^\w+/,F=/%$/,it=n.fn.position;n.position={scrollbarWidth:function(){if(d!==T)return d;var V,M,H=n("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),X=H.children()[0];return n("body").append(H),V=X.offsetWidth,H.css("overflow","scroll"),M=X.offsetWidth,V===M&&(M=H[0].clientWidth),H.remove(),d=V-M},getScrollInfo:function(V){var M=V.isWindow?"":V.element.css("overflow-x"),H=V.isWindow?"":V.element.css("overflow-y"),X=M==="scroll"||M==="auto"&&V.width<V.element[0].scrollWidth,Z=H==="scroll"||H==="auto"&&V.height<V.element[0].scrollHeight;return{width:X?n.position.scrollbarWidth():0,height:Z?n.position.scrollbarWidth():0}},getWithinInfo:function(V){var M=n(V||window),H=n.isWindow(M[0]);return{element:M,isWindow:H,offset:M.offset()||{left:0,top:0},scrollLeft:M.scrollLeft(),scrollTop:M.scrollTop(),width:H?M.width():M.outerWidth(),height:H?M.height():M.outerHeight()}}},n.fn.position=function(V){if(!V||!V.of)return it.apply(this,arguments);V=n.extend({},V);var M,H,X,Z,st,Pt=n(V.of),pt=n.position.getWithinInfo(V.within),ft=n.position.getScrollInfo(pt),q=Pt[0],At=(V.collision||"flip").split(" "),_t={};return q.nodeType===9?(H=Pt.width(),X=Pt.height(),Z={top:0,left:0}):n.isWindow(q)?(H=Pt.width(),X=Pt.height(),Z={top:Pt.scrollTop(),left:Pt.scrollLeft()}):q.preventDefault?(V.at="left top",H=X=0,Z={top:q.pageY,left:q.pageX}):(H=Pt.outerWidth(),X=Pt.outerHeight(),Z=Pt.offset()),st=n.extend({},Z),n.each(["my","at"],function(){var Jt=(V[this]||"").split(" "),g,St;Jt.length===1&&(Jt=y.test(Jt[0])?Jt.concat(["center"]):S.test(Jt[0])?["center"].concat(Jt):["center","center"]),Jt[0]=y.test(Jt[0])?Jt[0]:"center",Jt[1]=S.test(Jt[1])?Jt[1]:"center",g=R.exec(Jt[0]),St=R.exec(Jt[1]),_t[this]=[g?g[0]:0,St?St[0]:0],V[this]=[Q.exec(Jt[0])[0],Q.exec(Jt[1])[0]]}),At.length===1&&(At[1]=At[0]),V.at[0]==="right"?st.left+=H:V.at[0]==="center"&&(st.left+=H/2),V.at[1]==="bottom"?st.top+=X:V.at[1]==="center"&&(st.top+=X/2),M=A(_t.at,H,X),st.left+=M[0],st.top+=M[1],this.each(function(){var Jt,g,St=n(this),jt=St.outerWidth(),L=St.outerHeight(),An=u(this,"marginLeft"),te=u(this,"marginTop"),Ot=jt+An+u(this,"marginRight")+ft.width,ye=L+te+u(this,"marginBottom")+ft.height,l=n.extend({},st),Bt=A(_t.my,St.outerWidth(),St.outerHeight());V.my[0]==="right"?l.left-=jt:V.my[0]==="center"&&(l.left-=jt/2),V.my[1]==="bottom"?l.top-=L:V.my[1]==="center"&&(l.top-=L/2),l.left+=Bt[0],l.top+=Bt[1],n.support.offsetFractions||(l.left=I(l.left),l.top=I(l.top)),Jt={marginLeft:An,marginTop:te},n.each(["left","top"],function(qt,we){n.ui.position[At[qt]]&&n.ui.position[At[qt]][we](l,{targetWidth:H,targetHeight:X,elemWidth:jt,elemHeight:L,collisionPosition:Jt,collisionWidth:Ot,collisionHeight:ye,offset:[M[0]+Bt[0],M[1]+Bt[1]],my:V.my,at:V.at,within:pt,elem:St})}),n.fn.bgiframe&&St.bgiframe(),V.using&&(g=function(qt){var we=Z.left-l.left,ce=we+H-jt,He=Z.top-l.top,yn=He+X-L,on={target:{element:Pt,left:Z.left,top:Z.top,width:H,height:X},element:{element:St,left:l.left,top:l.top,width:jt,height:L},horizontal:ce<0?"left":we>0?"right":"center",vertical:yn<0?"top":He>0?"bottom":"middle"};H<jt&&m(we+ce)<H&&(on.horizontal="center"),X<L&&m(He+yn)<X&&(on.vertical="middle"),v(m(we),m(ce))>v(m(He),m(yn))?on.important="horizontal":on.important="vertical",V.using.call(this,qt,on)}),St.offset(n.extend(l,{using:g}))})},n.ui.position={fit:{left:function(V,M){var H=M.within,X=H.isWindow?H.scrollLeft:H.offset.left,Z=H.width,st=V.left-M.collisionPosition.marginLeft,Pt=X-st,pt=st+M.collisionWidth-Z-X,ft;M.collisionWidth>Z?Pt>0&&pt<=0?(ft=V.left+Pt+M.collisionWidth-Z-X,V.left+=Pt-ft):pt>0&&Pt<=0?V.left=X:Pt>pt?V.left=X+Z-M.collisionWidth:V.left=X:Pt>0?V.left+=Pt:pt>0?V.left-=pt:V.left=v(V.left-st,V.left)},top:function(V,M){var H=M.within,X=H.isWindow?H.scrollTop:H.offset.top,Z=M.within.height,st=V.top-M.collisionPosition.marginTop,Pt=X-st,pt=st+M.collisionHeight-Z-X,ft;M.collisionHeight>Z?Pt>0&&pt<=0?(ft=V.top+Pt+M.collisionHeight-Z-X,V.top+=Pt-ft):pt>0&&Pt<=0?V.top=X:Pt>pt?V.top=X+Z-M.collisionHeight:V.top=X:Pt>0?V.top+=Pt:pt>0?V.top-=pt:V.top=v(V.top-st,V.top)}},flip:{left:function(V,M){var H=M.within,X=H.offset.left+H.scrollLeft,Z=H.width,st=H.isWindow?H.scrollLeft:H.offset.left,Pt=V.left-M.collisionPosition.marginLeft,pt=Pt-st,ft=Pt+M.collisionWidth-Z-st,q=M.my[0]==="left"?-M.elemWidth:M.my[0]==="right"?M.elemWidth:0,At=M.at[0]==="left"?M.targetWidth:M.at[0]==="right"?-M.targetWidth:0,_t=-2*M.offset[0],Jt,g;pt<0?(Jt=V.left+q+At+_t+M.collisionWidth-Z-X,(Jt<0||Jt<m(pt))&&(V.left+=q+At+_t)):ft>0&&(g=V.left-M.collisionPosition.marginLeft+q+At+_t-st,(g>0||m(g)<ft)&&(V.left+=q+At+_t))},top:function(V,M){var H=M.within,X=H.offset.top+H.scrollTop,Z=H.height,st=H.isWindow?H.scrollTop:H.offset.top,Pt=V.top-M.collisionPosition.marginTop,pt=Pt-st,ft=Pt+M.collisionHeight-Z-st,q=M.my[1]==="top",At=q?-M.elemHeight:M.my[1]==="bottom"?M.elemHeight:0,_t=M.at[1]==="top"?M.targetHeight:M.at[1]==="bottom"?-M.targetHeight:0,Jt=-2*M.offset[1],g,St;pt<0?(St=V.top+At+_t+Jt+M.collisionHeight-Z-X,V.top+At+_t+Jt>pt&&(St<0||St<m(pt))&&(V.top+=At+_t+Jt)):ft>0&&(g=V.top-M.collisionPosition.marginTop+At+_t+Jt-st,V.top+At+_t+Jt>ft&&(g>0||m(g)<ft)&&(V.top+=At+_t+Jt))}},flipfit:{left:function(){n.ui.position.flip.left.apply(this,arguments),n.ui.position.fit.left.apply(this,arguments)},top:function(){n.ui.position.flip.top.apply(this,arguments),n.ui.position.fit.top.apply(this,arguments)}}},(function(){var V,M,H,X,Z,st=document.getElementsByTagName("body")[0],Pt=document.createElement("div");V=document.createElement(st?"div":"body"),H={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},st&&n.extend(H,{position:"absolute",left:"-1000px",top:"-1000px"});for(Z in H)V.style[Z]=H[Z];V.appendChild(Pt),M=st||document.documentElement,M.insertBefore(V,M.firstChild),Pt.style.cssText="position: absolute; left: 10.7432222px;",X=n(Pt).offset().left,n.support.offsetFractions=X>10&&X<11,V.innerHTML="",M.removeChild(V)})(),n.uiBackCompat!==!1&&(function(V){var M=V.fn.position;V.fn.position=function(H){if(!H||!H.offset)return M.call(this,H);var X=H.offset.split(" "),Z=H.at.split(" ");return X.length===1&&(X[1]=X[0]),/^\d/.test(X[0])&&(X[0]="+"+X[0]),/^\d/.test(X[1])&&(X[1]="+"+X[1]),Z.length===1&&(/left|center|right/.test(Z[0])?Z[1]="center":(Z[1]=Z[0],Z[0]="center")),M.call(this,V.extend(H,{at:Z[0]+X[0]+" "+Z[1]+X[1],offset:T}))}})(jQuery)})(jQuery),(function(n,T){n.widget("ui.draggable",n.ui.mouse,{version:"1.9.2",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){this.options.helper=="original"&&!/^(?:r|a|f)/.test(this.element.css("position"))&&(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(A){var u=this.options;return this.helper||u.disabled||n(A.target).is(".ui-resizable-handle")?!1:(this.handle=this._getHandle(A),this.handle?(n(u.iframeFix===!0?"iframe":u.iframeFix).each(function(){n('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(n(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(A){var u=this.options;return this.helper=this._createHelper(A),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),n.ui.ddmanager&&(n.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},n.extend(this.offset,{click:{left:A.pageX-this.offset.left,top:A.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(A),this.originalPageX=A.pageX,this.originalPageY=A.pageY,u.cursorAt&&this._adjustOffsetFromHelper(u.cursorAt),u.containment&&this._setContainment(),this._trigger("start",A)===!1?(this._clear(),!1):(this._cacheHelperProportions(),n.ui.ddmanager&&!u.dropBehaviour&&n.ui.ddmanager.prepareOffsets(this,A),this._mouseDrag(A,!0),n.ui.ddmanager&&n.ui.ddmanager.dragStart(this,A),!0)},_mouseDrag:function(A,u){if(this.position=this._generatePosition(A),this.positionAbs=this._convertPositionTo("absolute"),!u){var d=this._uiHash();if(this._trigger("drag",A,d)===!1)return this._mouseUp({}),!1;this.position=d.position}return(!this.options.axis||this.options.axis!="y")&&(this.helper[0].style.left=this.position.left+"px"),(!this.options.axis||this.options.axis!="x")&&(this.helper[0].style.top=this.position.top+"px"),n.ui.ddmanager&&n.ui.ddmanager.drag(this,A),!1},_mouseStop:function(A){var u=!1;n.ui.ddmanager&&!this.options.dropBehaviour&&(u=n.ui.ddmanager.drop(this,A)),this.dropped&&(u=this.dropped,this.dropped=!1);for(var d=this.element[0],v=!1;d&&(d=d.parentNode);)d==document&&(v=!0);if(!v&&this.options.helper==="original")return!1;if(this.options.revert=="invalid"&&!u||this.options.revert=="valid"&&u||this.options.revert===!0||n.isFunction(this.options.revert)&&this.options.revert.call(this.element,u)){var m=this;n(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){m._trigger("stop",A)!==!1&&m._clear()})}else this._trigger("stop",A)!==!1&&this._clear();return!1},_mouseUp:function(A){return n("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),n.ui.ddmanager&&n.ui.ddmanager.dragStop(this,A),n.ui.mouse.prototype._mouseUp.call(this,A)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(A){var u=!this.options.handle||!n(this.options.handle,this.element).length;return n(this.options.handle,this.element).find("*").andSelf().each(function(){this==A.target&&(u=!0)}),u},_createHelper:function(A){var u=this.options,d=n.isFunction(u.helper)?n(u.helper.apply(this.element[0],[A])):u.helper=="clone"?this.element.clone().removeAttr("id"):this.element;return d.parents("body").length||d.appendTo(u.appendTo=="parent"?this.element[0].parentNode:u.appendTo),d[0]!=this.element[0]&&!/(fixed|absolute)/.test(d.css("position"))&&d.css("position","absolute"),d},_adjustOffsetFromHelper:function(A){typeof A=="string"&&(A=A.split(" ")),n.isArray(A)&&(A={left:+A[0],top:+A[1]||0}),"left"in A&&(this.offset.click.left=A.left+this.margins.left),"right"in A&&(this.offset.click.left=this.helperProportions.width-A.right+this.margins.left),"top"in A&&(this.offset.click.top=A.top+this.margins.top),"bottom"in A&&(this.offset.click.top=this.helperProportions.height-A.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var A=this.offsetParent.offset();return this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&n.contains(this.scrollParent[0],this.offsetParent[0])&&(A.left+=this.scrollParent.scrollLeft(),A.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&n.ui.ie)&&(A={top:0,left:0}),{top:A.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:A.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var A=this.element.position();return{top:A.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:A.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var A=this.options;if(A.containment=="parent"&&(A.containment=this.helper[0].parentNode),(A.containment=="document"||A.containment=="window")&&(this.containment=[A.containment=="document"?0:n(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,A.containment=="document"?0:n(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,(A.containment=="document"?0:n(window).scrollLeft())+n(A.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(A.containment=="document"?0:n(window).scrollTop())+(n(A.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),!/^(document|window|parent)$/.test(A.containment)&&A.containment.constructor!=Array){var u=n(A.containment),d=u[0];if(!d)return;var v=u.offset(),m=n(d).css("overflow")!="hidden";this.containment=[(parseInt(n(d).css("borderLeftWidth"),10)||0)+(parseInt(n(d).css("paddingLeft"),10)||0),(parseInt(n(d).css("borderTopWidth"),10)||0)+(parseInt(n(d).css("paddingTop"),10)||0),(m?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(n(d).css("borderLeftWidth"),10)||0)-(parseInt(n(d).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(m?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(n(d).css("borderTopWidth"),10)||0)-(parseInt(n(d).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=u}else A.containment.constructor==Array&&(this.containment=A.containment)},_convertPositionTo:function(A,u){u||(u=this.position);var d=A=="absolute"?1:-1,v=this.options,m=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&n.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,I=/(html|body)/i.test(m[0].tagName);return{top:u.top+this.offset.relative.top*d+this.offset.parent.top*d-(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():I?0:m.scrollTop())*d,left:u.left+this.offset.relative.left*d+this.offset.parent.left*d-(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():I?0:m.scrollLeft())*d}},_generatePosition:function(A){var u=this.options,d=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&n.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,v=/(html|body)/i.test(d[0].tagName),m=A.pageX,I=A.pageY;if(this.originalPosition){var y;if(this.containment){if(this.relative_container){var S=this.relative_container.offset();y=[this.containment[0]+S.left,this.containment[1]+S.top,this.containment[2]+S.left,this.containment[3]+S.top]}else y=this.containment;A.pageX-this.offset.click.left<y[0]&&(m=y[0]+this.offset.click.left),A.pageY-this.offset.click.top<y[1]&&(I=y[1]+this.offset.click.top),A.pageX-this.offset.click.left>y[2]&&(m=y[2]+this.offset.click.left),A.pageY-this.offset.click.top>y[3]&&(I=y[3]+this.offset.click.top)}if(u.grid){var R=u.grid[1]?this.originalPageY+Math.round((I-this.originalPageY)/u.grid[1])*u.grid[1]:this.originalPageY;I=y&&(R-this.offset.click.top<y[1]||R-this.offset.click.top>y[3])?R-this.offset.click.top<y[1]?R+u.grid[1]:R-u.grid[1]:R;var Q=u.grid[0]?this.originalPageX+Math.round((m-this.originalPageX)/u.grid[0])*u.grid[0]:this.originalPageX;m=y&&(Q-this.offset.click.left<y[0]||Q-this.offset.click.left>y[2])?Q-this.offset.click.left<y[0]?Q+u.grid[0]:Q-u.grid[0]:Q}}return{top:I-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():v?0:d.scrollTop()),left:m-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():v?0:d.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(A,u,d){return d=d||this._uiHash(),n.ui.plugin.call(this,A,[u,d]),A=="drag"&&(this.positionAbs=this._convertPositionTo("absolute")),n.Widget.prototype._trigger.call(this,A,u,d)},plugins:{},_uiHash:function(A){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),n.ui.plugin.add("draggable","connectToSortable",{start:function(A,u){var d=n(this).data("draggable"),v=d.options,m=n.extend({},u,{item:d.element});d.sortables=[],n(v.connectToSortable).each(function(){var I=n.data(this,"sortable");I&&!I.options.disabled&&(d.sortables.push({instance:I,shouldRevert:I.options.revert}),I.refreshPositions(),I._trigger("activate",A,m))})},stop:function(A,u){var d=n(this).data("draggable"),v=n.extend({},u,{item:d.element});n.each(d.sortables,function(){this.instance.isOver?(this.instance.isOver=0,d.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(A),this.instance.options.helper=this.instance.options._helper,d.options.helper=="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",A,v))})},drag:function(A,u){var d=n(this).data("draggable"),v=this,m=function(I){var y=this.offset.click.top,S=this.offset.click.left,R=this.positionAbs.top,Q=this.positionAbs.left,F=I.height,it=I.width,V=I.top,M=I.left;return n.ui.isOver(R+y,Q+S,V,M,F,it)};n.each(d.sortables,function(I){var y=!1,S=this;this.instance.positionAbs=d.positionAbs,this.instance.helperProportions=d.helperProportions,this.instance.offset.click=d.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(y=!0,n.each(d.sortables,function(){return this.instance.positionAbs=d.positionAbs,this.instance.helperProportions=d.helperProportions,this.instance.offset.click=d.offset.click,this!=S&&this.instance._intersectsWith(this.instance.containerCache)&&n.ui.contains(S.instance.element[0],this.instance.element[0])&&(y=!1),y})),y?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=n(v).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return u.helper[0]},A.target=this.instance.currentItem[0],this.instance._mouseCapture(A,!0),this.instance._mouseStart(A,!0,!0),this.instance.offset.click.top=d.offset.click.top,this.instance.offset.click.left=d.offset.click.left,this.instance.offset.parent.left-=d.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=d.offset.parent.top-this.instance.offset.parent.top,d._trigger("toSortable",A),d.dropped=this.instance.element,d.currentItem=d.element,this.instance.fromOutside=d),this.instance.currentItem&&this.instance._mouseDrag(A)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",A,this.instance._uiHash(this.instance)),this.instance._mouseStop(A,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),d._trigger("fromSortable",A),d.dropped=!1)})}}),n.ui.plugin.add("draggable","cursor",{start:function(A,u){var d=n("body"),v=n(this).data("draggable").options;d.css("cursor")&&(v._cursor=d.css("cursor")),d.css("cursor",v.cursor)},stop:function(A,u){var d=n(this).data("draggable").options;d._cursor&&n("body").css("cursor",d._cursor)}}),n.ui.plugin.add("draggable","opacity",{start:function(A,u){var d=n(u.helper),v=n(this).data("draggable").options;d.css("opacity")&&(v._opacity=d.css("opacity")),d.css("opacity",v.opacity)},stop:function(A,u){var d=n(this).data("draggable").options;d._opacity&&n(u.helper).css("opacity",d._opacity)}}),n.ui.plugin.add("draggable","scroll",{start:function(A,u){var d=n(this).data("draggable");d.scrollParent[0]!=document&&d.scrollParent[0].tagName!="HTML"&&(d.overflowOffset=d.scrollParent.offset())},drag:function(A,u){var d=n(this).data("draggable"),v=d.options,m=!1;d.scrollParent[0]!=document&&d.scrollParent[0].tagName!="HTML"?((!v.axis||v.axis!="x")&&(d.overflowOffset.top+d.scrollParent[0].offsetHeight-A.pageY<v.scrollSensitivity?d.scrollParent[0].scrollTop=m=d.scrollParent[0].scrollTop+v.scrollSpeed:A.pageY-d.overflowOffset.top<v.scrollSensitivity&&(d.scrollParent[0].scrollTop=m=d.scrollParent[0].scrollTop-v.scrollSpeed)),(!v.axis||v.axis!="y")&&(d.overflowOffset.left+d.scrollParent[0].offsetWidth-A.pageX<v.scrollSensitivity?d.scrollParent[0].scrollLeft=m=d.scrollParent[0].scrollLeft+v.scrollSpeed:A.pageX-d.overflowOffset.left<v.scrollSensitivity&&(d.scrollParent[0].scrollLeft=m=d.scrollParent[0].scrollLeft-v.scrollSpeed))):((!v.axis||v.axis!="x")&&(A.pageY-n(document).scrollTop()<v.scrollSensitivity?m=n(document).scrollTop(n(document).scrollTop()-v.scrollSpeed):n(window).height()-(A.pageY-n(document).scrollTop())<v.scrollSensitivity&&(m=n(document).scrollTop(n(document).scrollTop()+v.scrollSpeed))),(!v.axis||v.axis!="y")&&(A.pageX-n(document).scrollLeft()<v.scrollSensitivity?m=n(document).scrollLeft(n(document).scrollLeft()-v.scrollSpeed):n(window).width()-(A.pageX-n(document).scrollLeft())<v.scrollSensitivity&&(m=n(document).scrollLeft(n(document).scrollLeft()+v.scrollSpeed)))),m!==!1&&n.ui.ddmanager&&!v.dropBehaviour&&n.ui.ddmanager.prepareOffsets(d,A)}}),n.ui.plugin.add("draggable","snap",{start:function(A,u){var d=n(this).data("draggable"),v=d.options;d.snapElements=[],n(v.snap.constructor!=String?v.snap.items||":data(draggable)":v.snap).each(function(){var m=n(this),I=m.offset();this!=d.element[0]&&d.snapElements.push({item:this,width:m.outerWidth(),height:m.outerHeight(),top:I.top,left:I.left})})},drag:function(A,u){for(var d=n(this).data("draggable"),v=d.options,m=v.snapTolerance,I=u.offset.left,y=I+d.helperProportions.width,S=u.offset.top,R=S+d.helperProportions.height,Q=d.snapElements.length-1;Q>=0;Q--){var F=d.snapElements[Q].left,it=F+d.snapElements[Q].width,V=d.snapElements[Q].top,M=V+d.snapElements[Q].height;if(!(F-m<I&&I<it+m&&V-m<S&&S<M+m||F-m<I&&I<it+m&&V-m<R&&R<M+m||F-m<y&&y<it+m&&V-m<S&&S<M+m||F-m<y&&y<it+m&&V-m<R&&R<M+m)){d.snapElements[Q].snapping&&d.options.snap.release&&d.options.snap.release.call(d.element,A,n.extend(d._uiHash(),{snapItem:d.snapElements[Q].item})),d.snapElements[Q].snapping=!1;continue}if(v.snapMode!="inner"){var H=Math.abs(V-R)<=m,X=Math.abs(M-S)<=m,Z=Math.abs(F-y)<=m,st=Math.abs(it-I)<=m;H&&(u.position.top=d._convertPositionTo("relative",{top:V-d.helperProportions.height,left:0}).top-d.margins.top),X&&(u.position.top=d._convertPositionTo("relative",{top:M,left:0}).top-d.margins.top),Z&&(u.position.left=d._convertPositionTo("relative",{top:0,left:F-d.helperProportions.width}).left-d.margins.left),st&&(u.position.left=d._convertPositionTo("relative",{top:0,left:it}).left-d.margins.left)}var Pt=H||X||Z||st;if(v.snapMode!="outer"){var H=Math.abs(V-S)<=m,X=Math.abs(M-R)<=m,Z=Math.abs(F-I)<=m,st=Math.abs(it-y)<=m;H&&(u.position.top=d._convertPositionTo("relative",{top:V,left:0}).top-d.margins.top),X&&(u.position.top=d._convertPositionTo("relative",{top:M-d.helperProportions.height,left:0}).top-d.margins.top),Z&&(u.position.left=d._convertPositionTo("relative",{top:0,left:F}).left-d.margins.left),st&&(u.position.left=d._convertPositionTo("relative",{top:0,left:it-d.helperProportions.width}).left-d.margins.left)}!d.snapElements[Q].snapping&&(H||X||Z||st||Pt)&&d.options.snap.snap&&d.options.snap.snap.call(d.element,A,n.extend(d._uiHash(),{snapItem:d.snapElements[Q].item})),d.snapElements[Q].snapping=H||X||Z||st||Pt}}}),n.ui.plugin.add("draggable","stack",{start:function(A,u){var d=n(this).data("draggable").options,v=n.makeArray(n(d.stack)).sort(function(I,y){return(parseInt(n(I).css("zIndex"),10)||0)-(parseInt(n(y).css("zIndex"),10)||0)});if(v.length){var m=parseInt(v[0].style.zIndex)||0;n(v).each(function(I){this.style.zIndex=m+I}),this[0].style.zIndex=m+v.length}}}),n.ui.plugin.add("draggable","zIndex",{start:function(A,u){var d=n(u.helper),v=n(this).data("draggable").options;d.css("zIndex")&&(v._zIndex=d.css("zIndex")),d.css("zIndex",v.zIndex)},stop:function(A,u){var d=n(this).data("draggable").options;d._zIndex&&n(u.helper).css("zIndex",d._zIndex)}})})(jQuery),(function(n,T){n.widget("ui.droppable",{version:"1.9.2",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var A=this.options,u=A.accept;this.isover=0,this.isout=1,this.accept=n.isFunction(u)?u:function(d){return d.is(u)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},n.ui.ddmanager.droppables[A.scope]=n.ui.ddmanager.droppables[A.scope]||[],n.ui.ddmanager.droppables[A.scope].push(this),A.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var A=n.ui.ddmanager.droppables[this.options.scope],u=0;u<A.length;u++)A[u]==this&&A.splice(u,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(A,u){A=="accept"&&(this.accept=n.isFunction(u)?u:function(d){return d.is(u)}),n.Widget.prototype._setOption.apply(this,arguments)},_activate:function(A){var u=n.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),u&&this._trigger("activate",A,this.ui(u))},_deactivate:function(A){var u=n.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),u&&this._trigger("deactivate",A,this.ui(u))},_over:function(A){var u=n.ui.ddmanager.current;!u||(u.currentItem||u.element)[0]==this.element[0]||this.accept.call(this.element[0],u.currentItem||u.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",A,this.ui(u)))},_out:function(A){var u=n.ui.ddmanager.current;!u||(u.currentItem||u.element)[0]==this.element[0]||this.accept.call(this.element[0],u.currentItem||u.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",A,this.ui(u)))},_drop:function(A,u){var d=u||n.ui.ddmanager.current;if(!d||(d.currentItem||d.element)[0]==this.element[0])return!1;var v=!1;return this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var m=n.data(this,"droppable");if(m.options.greedy&&!m.options.disabled&&m.options.scope==d.options.scope&&m.accept.call(m.element[0],d.currentItem||d.element)&&n.ui.intersect(d,n.extend(m,{offset:m.element.offset()}),m.options.tolerance))return v=!0,!1}),v?!1:this.accept.call(this.element[0],d.currentItem||d.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",A,this.ui(d)),this.element):!1},ui:function(A){return{draggable:A.currentItem||A.element,helper:A.helper,position:A.position,offset:A.positionAbs}}}),n.ui.intersect=function(A,u,d){if(!u.offset)return!1;var v=(A.positionAbs||A.position.absolute).left,m=v+A.helperProportions.width,I=(A.positionAbs||A.position.absolute).top,y=I+A.helperProportions.height,S=u.offset.left,R=S+u.proportions.width,Q=u.offset.top,F=Q+u.proportions.height;switch(d){case"fit":return S<=v&&m<=R&&Q<=I&&y<=F;case"intersect":return S<v+A.helperProportions.width/2&&m-A.helperProportions.width/2<R&&Q<I+A.helperProportions.height/2&&y-A.helperProportions.height/2<F;case"pointer":var it=(A.positionAbs||A.position.absolute).left+(A.clickOffset||A.offset.click).left,V=(A.positionAbs||A.position.absolute).top+(A.clickOffset||A.offset.click).top,M=n.ui.isOver(V,it,Q,S,u.proportions.height,u.proportions.width);return M;case"touch":return(I>=Q&&I<=F||y>=Q&&y<=F||I<Q&&y>F)&&(v>=S&&v<=R||m>=S&&m<=R||v<S&&m>R);default:return!1}},n.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(A,u){var d=n.ui.ddmanager.droppables[A.options.scope]||[],v=u?u.type:null,m=(A.currentItem||A.element).find(":data(droppable)").andSelf();t:for(var I=0;I<d.length;I++)if(!(d[I].options.disabled||A&&!d[I].accept.call(d[I].element[0],A.currentItem||A.element))){for(var y=0;y<m.length;y++)if(m[y]==d[I].element[0]){d[I].proportions.height=0;continue t}d[I].visible=d[I].element.css("display")!="none",d[I].visible&&(v=="mousedown"&&d[I]._activate.call(d[I],u),d[I].offset=d[I].element.offset(),d[I].proportions={width:d[I].element[0].offsetWidth,height:d[I].element[0].offsetHeight})}},drop:function(A,u){var d=!1;return n.each(n.ui.ddmanager.droppables[A.options.scope]||[],function(){this.options&&(!this.options.disabled&&this.visible&&n.ui.intersect(A,this,this.options.tolerance)&&(d=this._drop.call(this,u)||d),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],A.currentItem||A.element)&&(this.isout=1,this.isover=0,this._deactivate.call(this,u)))}),d},dragStart:function(A,u){A.element.parentsUntil("body").bind("scroll.droppable",function(){A.options.refreshPositions||n.ui.ddmanager.prepareOffsets(A,u)})},drag:function(A,u){A.options.refreshPositions&&n.ui.ddmanager.prepareOffsets(A,u),n.each(n.ui.ddmanager.droppables[A.options.scope]||[],function(){if(!(this.options.disabled||this.greedyChild||!this.visible)){var d=n.ui.intersect(A,this,this.options.tolerance),v=!d&&this.isover==1?"isout":d&&this.isover==0?"isover":null;if(v){var m;if(this.options.greedy){var I=this.options.scope,y=this.element.parents(":data(droppable)").filter(function(){return n.data(this,"droppable").options.scope===I});y.length&&(m=n.data(y[0],"droppable"),m.greedyChild=v=="isover"?1:0)}m&&v=="isover"&&(m.isover=0,m.isout=1,m._out.call(m,u)),this[v]=1,this[v=="isout"?"isover":"isout"]=0,this[v=="isover"?"_over":"_out"].call(this,u),m&&v=="isout"&&(m.isout=0,m.isover=1,m._over.call(m,u))}}})},dragStop:function(A,u){A.element.parentsUntil("body").unbind("scroll.droppable"),A.options.refreshPositions||n.ui.ddmanager.prepareOffsets(A,u)}}})(jQuery),(function(n,T){n.widget("ui.sortable",n.ui.mouse,{version:"1.9.2",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3},_create:function(){var A=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?A.axis==="x"||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var A=this.items.length-1;A>=0;A--)this.items[A].item.removeData(this.widgetName+"-item");return this},_setOption:function(A,u){A==="disabled"?(this.options[A]=u,this.widget().toggleClass("ui-sortable-disabled",!!u)):n.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(A,u){var d=this;if(this.reverting||this.options.disabled||this.options.type=="static")return!1;this._refreshItems(A);var v=null,m=n(A.target).parents().each(function(){if(n.data(this,d.widgetName+"-item")==d)return v=n(this),!1});if(n.data(A.target,d.widgetName+"-item")==d&&(v=n(A.target)),!v)return!1;if(this.options.handle&&!u){var I=!1;if(n(this.options.handle,v).find("*").andSelf().each(function(){this==A.target&&(I=!0)}),!I)return!1}return this.currentItem=v,this._removeCurrentsFromItems(),!0},_mouseStart:function(A,u,d){var v=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(A),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},n.extend(this.offset,{click:{left:A.pageX-this.offset.left,top:A.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(A),this.originalPageX=A.pageX,this.originalPageY=A.pageY,v.cursorAt&&this._adjustOffsetFromHelper(v.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),v.containment&&this._setContainment(),v.cursor&&(n("body").css("cursor")&&(this._storedCursor=n("body").css("cursor")),n("body").css("cursor",v.cursor)),v.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",v.opacity)),v.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",v.zIndex)),this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",A,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!d)for(var m=this.containers.length-1;m>=0;m--)this.containers[m]._trigger("activate",A,this._uiHash(this));return n.ui.ddmanager&&(n.ui.ddmanager.current=this),n.ui.ddmanager&&!v.dropBehaviour&&n.ui.ddmanager.prepareOffsets(this,A),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(A),!0},_mouseDrag:function(A){if(this.position=this._generatePosition(A),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll){var u=this.options,d=!1;this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-A.pageY<u.scrollSensitivity?this.scrollParent[0].scrollTop=d=this.scrollParent[0].scrollTop+u.scrollSpeed:A.pageY-this.overflowOffset.top<u.scrollSensitivity&&(this.scrollParent[0].scrollTop=d=this.scrollParent[0].scrollTop-u.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-A.pageX<u.scrollSensitivity?this.scrollParent[0].scrollLeft=d=this.scrollParent[0].scrollLeft+u.scrollSpeed:A.pageX-this.overflowOffset.left<u.scrollSensitivity&&(this.scrollParent[0].scrollLeft=d=this.scrollParent[0].scrollLeft-u.scrollSpeed)):(A.pageY-n(document).scrollTop()<u.scrollSensitivity?d=n(document).scrollTop(n(document).scrollTop()-u.scrollSpeed):n(window).height()-(A.pageY-n(document).scrollTop())<u.scrollSensitivity&&(d=n(document).scrollTop(n(document).scrollTop()+u.scrollSpeed)),A.pageX-n(document).scrollLeft()<u.scrollSensitivity?d=n(document).scrollLeft(n(document).scrollLeft()-u.scrollSpeed):n(window).width()-(A.pageX-n(document).scrollLeft())<u.scrollSensitivity&&(d=n(document).scrollLeft(n(document).scrollLeft()+u.scrollSpeed))),d!==!1&&n.ui.ddmanager&&!u.dropBehaviour&&n.ui.ddmanager.prepareOffsets(this,A)}this.positionAbs=this._convertPositionTo("absolute"),(!this.options.axis||this.options.axis!="y")&&(this.helper[0].style.left=this.position.left+"px"),(!this.options.axis||this.options.axis!="x")&&(this.helper[0].style.top=this.position.top+"px");for(var v=this.items.length-1;v>=0;v--){var m=this.items[v],I=m.item[0],y=this._intersectsWithPointer(m);if(y&&m.instance===this.currentContainer&&I!=this.currentItem[0]&&this.placeholder[y==1?"next":"prev"]()[0]!=I&&!n.contains(this.placeholder[0],I)&&(this.options.type!="semi-dynamic"||!n.contains(this.element[0],I))){if(this.direction=y==1?"down":"up",this.options.tolerance!="pointer"&&!this._intersectsWithSides(m))break;this._rearrange(A,m),this._trigger("change",A,this._uiHash());break}}return this._contactContainers(A),n.ui.ddmanager&&n.ui.ddmanager.drag(this,A),this._trigger("sort",A,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(A,u){if(A){if(n.ui.ddmanager&&!this.options.dropBehaviour&&n.ui.ddmanager.drop(this,A),this.options.revert){var d=this,v=this.placeholder.offset();this.reverting=!0,n(this.helper).animate({left:v.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:v.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){d._clear(A)})}else this._clear(A,u);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),this.options.helper=="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var A=this.containers.length-1;A>=0;A--)this.containers[A]._trigger("deactivate",null,this._uiHash(this)),this.containers[A].containerCache.over&&(this.containers[A]._trigger("out",null,this._uiHash(this)),this.containers[A].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.options.helper!="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),n.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?n(this.domPosition.prev).after(this.currentItem):n(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(A){var u=this._getItemsAsjQuery(A&&A.connected),d=[];return A=A||{},n(u).each(function(){var v=(n(A.item||this).attr(A.attribute||"id")||"").match(A.expression||/(.+)[-=_](.+)/);v&&d.push((A.key||v[1]+"[]")+"="+(A.key&&A.expression?v[1]:v[2]))}),!d.length&&A.key&&d.push(A.key+"="),d.join("&")},toArray:function(A){var u=this._getItemsAsjQuery(A&&A.connected),d=[];return A=A||{},u.each(function(){d.push(n(A.item||this).attr(A.attribute||"id")||"")}),d},_intersectsWith:function(A){var u=this.positionAbs.left,d=u+this.helperProportions.width,v=this.positionAbs.top,m=v+this.helperProportions.height,I=A.left,y=I+A.width,S=A.top,R=S+A.height,Q=this.offset.click.top,F=this.offset.click.left,it=v+Q>S&&v+Q<R&&u+F>I&&u+F<y;return this.options.tolerance=="pointer"||this.options.forcePointerForContainers||this.options.tolerance!="pointer"&&this.helperProportions[this.floating?"width":"height"]>A[this.floating?"width":"height"]?it:I<u+this.helperProportions.width/2&&d-this.helperProportions.width/2<y&&S<v+this.helperProportions.height/2&&m-this.helperProportions.height/2<R},_intersectsWithPointer:function(A){var u=this.options.axis==="x"||n.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,A.top,A.height),d=this.options.axis==="y"||n.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,A.left,A.width),v=u&&d,m=this._getDragVerticalDirection(),I=this._getDragHorizontalDirection();return v?this.floating?I&&I=="right"||m=="down"?2:1:m&&(m=="down"?2:1):!1},_intersectsWithSides:function(A){var u=n.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,A.top+A.height/2,A.height),d=n.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,A.left+A.width/2,A.width),v=this._getDragVerticalDirection(),m=this._getDragHorizontalDirection();return this.floating&&m?m=="right"&&d||m=="left"&&!d:v&&(v=="down"&&u||v=="up"&&!u)},_getDragVerticalDirection:function(){var A=this.positionAbs.top-this.lastPositionAbs.top;return A!=0&&(A>0?"down":"up")},_getDragHorizontalDirection:function(){var A=this.positionAbs.left-this.lastPositionAbs.left;return A!=0&&(A>0?"right":"left")},refresh:function(A){return this._refreshItems(A),this.refreshPositions(),this},_connectWith:function(){var A=this.options;return A.connectWith.constructor==String?[A.connectWith]:A.connectWith},_getItemsAsjQuery:function(A){var u=[],d=[],v=this._connectWith();if(v&&A)for(var m=v.length-1;m>=0;m--)for(var I=n(v[m]),y=I.length-1;y>=0;y--){var S=n.data(I[y],this.widgetName);S&&S!=this&&!S.options.disabled&&d.push([n.isFunction(S.options.items)?S.options.items.call(S.element):n(S.options.items,S.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),S])}d.push([n.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):n(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(var m=d.length-1;m>=0;m--)d[m][0].each(function(){u.push(this)});return n(u)},_removeCurrentsFromItems:function(){var A=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=n.grep(this.items,function(u){for(var d=0;d<A.length;d++)if(A[d]==u.item[0])return!1;return!0})},_refreshItems:function(A){this.items=[],this.containers=[this];var u=this.items,d=[[n.isFunction(this.options.items)?this.options.items.call(this.element[0],A,{item:this.currentItem}):n(this.options.items,this.element),this]],v=this._connectWith();if(v&&this.ready)for(var m=v.length-1;m>=0;m--)for(var I=n(v[m]),y=I.length-1;y>=0;y--){var S=n.data(I[y],this.widgetName);S&&S!=this&&!S.options.disabled&&(d.push([n.isFunction(S.options.items)?S.options.items.call(S.element[0],A,{item:this.currentItem}):n(S.options.items,S.element),S]),this.containers.push(S))}for(var m=d.length-1;m>=0;m--)for(var R=d[m][1],Q=d[m][0],y=0,F=Q.length;y<F;y++){var it=n(Q[y]);it.data(this.widgetName+"-item",R),u.push({item:it,instance:R,width:0,height:0,left:0,top:0})}},refreshPositions:function(A){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var u=this.items.length-1;u>=0;u--){var d=this.items[u];if(!(d.instance!=this.currentContainer&&this.currentContainer&&d.item[0]!=this.currentItem[0])){var v=this.options.toleranceElement?n(this.options.toleranceElement,d.item):d.item;A||(d.width=v.outerWidth(),d.height=v.outerHeight());var m=v.offset();d.left=m.left,d.top=m.top}}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(var u=this.containers.length-1;u>=0;u--){var m=this.containers[u].element.offset();this.containers[u].containerCache.left=m.left,this.containers[u].containerCache.top=m.top,this.containers[u].containerCache.width=this.containers[u].element.outerWidth(),this.containers[u].containerCache.height=this.containers[u].element.outerHeight()}return this},_createPlaceholder:function(A){A=A||this;var u=A.options;if(!u.placeholder||u.placeholder.constructor==String){var d=u.placeholder;u.placeholder={element:function(){var v=n(document.createElement(A.currentItem[0].nodeName)).addClass(d||A.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return d||(v.style.visibility="hidden"),v},update:function(v,m){d&&!u.forcePlaceholderSize||(m.height()||m.height(A.currentItem.innerHeight()-parseInt(A.currentItem.css("paddingTop")||0,10)-parseInt(A.currentItem.css("paddingBottom")||0,10)),m.width()||m.width(A.currentItem.innerWidth()-parseInt(A.currentItem.css("paddingLeft")||0,10)-parseInt(A.currentItem.css("paddingRight")||0,10)))}}}A.placeholder=n(u.placeholder.element.call(A.element,A.currentItem)),A.currentItem.after(A.placeholder),u.placeholder.update(A,A.placeholder)},_contactContainers:function(A){for(var u=null,d=null,v=this.containers.length-1;v>=0;v--)if(!n.contains(this.currentItem[0],this.containers[v].element[0]))if(this._intersectsWith(this.containers[v].containerCache)){if(u&&n.contains(this.containers[v].element[0],u.element[0]))continue;u=this.containers[v],d=v}else this.containers[v].containerCache.over&&(this.containers[v]._trigger("out",A,this._uiHash(this)),this.containers[v].containerCache.over=0);if(u)if(this.containers.length===1)this.containers[d]._trigger("over",A,this._uiHash(this)),this.containers[d].containerCache.over=1;else{for(var m=1e4,I=null,y=this.containers[d].floating?"left":"top",S=this.containers[d].floating?"width":"height",R=this.positionAbs[y]+this.offset.click[y],Q=this.items.length-1;Q>=0;Q--)if(n.contains(this.containers[d].element[0],this.items[Q].item[0])&&this.items[Q].item[0]!=this.currentItem[0]){var F=this.items[Q].item.offset()[y],it=!1;Math.abs(F-R)>Math.abs(F+this.items[Q][S]-R)&&(it=!0,F+=this.items[Q][S]),Math.abs(F-R)<m&&(m=Math.abs(F-R),I=this.items[Q],this.direction=it?"up":"down")}if(!I&&!this.options.dropOnEmpty)return;this.currentContainer=this.containers[d],I?this._rearrange(A,I,null,!0):this._rearrange(A,null,this.containers[d].element,!0),this._trigger("change",A,this._uiHash()),this.containers[d]._trigger("change",A,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[d]._trigger("over",A,this._uiHash(this)),this.containers[d].containerCache.over=1}},_createHelper:function(A){var u=this.options,d=n.isFunction(u.helper)?n(u.helper.apply(this.element[0],[A,this.currentItem])):u.helper=="clone"?this.currentItem.clone():this.currentItem;return d.parents("body").length||n(u.appendTo!="parent"?u.appendTo:this.currentItem[0].parentNode)[0].appendChild(d[0]),d[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(d[0].style.width==""||u.forceHelperSize)&&d.width(this.currentItem.width()),(d[0].style.height==""||u.forceHelperSize)&&d.height(this.currentItem.height()),d},_adjustOffsetFromHelper:function(A){typeof A=="string"&&(A=A.split(" ")),n.isArray(A)&&(A={left:+A[0],top:+A[1]||0}),"left"in A&&(this.offset.click.left=A.left+this.margins.left),"right"in A&&(this.offset.click.left=this.helperProportions.width-A.right+this.margins.left),"top"in A&&(this.offset.click.top=A.top+this.margins.top),"bottom"in A&&(this.offset.click.top=this.helperProportions.height-A.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var A=this.offsetParent.offset();return this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&n.contains(this.scrollParent[0],this.offsetParent[0])&&(A.left+=this.scrollParent.scrollLeft(),A.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&n.ui.ie)&&(A={top:0,left:0}),{top:A.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:A.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var A=this.currentItem.position();return{top:A.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:A.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var A=this.options;if(A.containment=="parent"&&(A.containment=this.helper[0].parentNode),(A.containment=="document"||A.containment=="window")&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,n(A.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(n(A.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),!/^(document|window|parent)$/.test(A.containment)){var u=n(A.containment)[0],d=n(A.containment).offset(),v=n(u).css("overflow")!="hidden";this.containment=[d.left+(parseInt(n(u).css("borderLeftWidth"),10)||0)+(parseInt(n(u).css("paddingLeft"),10)||0)-this.margins.left,d.top+(parseInt(n(u).css("borderTopWidth"),10)||0)+(parseInt(n(u).css("paddingTop"),10)||0)-this.margins.top,d.left+(v?Math.max(u.scrollWidth,u.offsetWidth):u.offsetWidth)-(parseInt(n(u).css("borderLeftWidth"),10)||0)-(parseInt(n(u).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,d.top+(v?Math.max(u.scrollHeight,u.offsetHeight):u.offsetHeight)-(parseInt(n(u).css("borderTopWidth"),10)||0)-(parseInt(n(u).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(A,u){u||(u=this.position);var d=A=="absolute"?1:-1,v=this.options,m=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&n.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,I=/(html|body)/i.test(m[0].tagName);return{top:u.top+this.offset.relative.top*d+this.offset.parent.top*d-(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():I?0:m.scrollTop())*d,left:u.left+this.offset.relative.left*d+this.offset.parent.left*d-(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():I?0:m.scrollLeft())*d}},_generatePosition:function(A){var u=this.options,d=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&n.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,v=/(html|body)/i.test(d[0].tagName);this.cssPosition=="relative"&&(this.scrollParent[0]==document||this.scrollParent[0]==this.offsetParent[0])&&(this.offset.relative=this._getRelativeOffset());var m=A.pageX,I=A.pageY;if(this.originalPosition&&(this.containment&&(A.pageX-this.offset.click.left<this.containment[0]&&(m=this.containment[0]+this.offset.click.left),A.pageY-this.offset.click.top<this.containment[1]&&(I=this.containment[1]+this.offset.click.top),A.pageX-this.offset.click.left>this.containment[2]&&(m=this.containment[2]+this.offset.click.left),A.pageY-this.offset.click.top>this.containment[3]&&(I=this.containment[3]+this.offset.click.top)),u.grid)){var y=this.originalPageY+Math.round((I-this.originalPageY)/u.grid[1])*u.grid[1];I=this.containment&&(y-this.offset.click.top<this.containment[1]||y-this.offset.click.top>this.containment[3])?y-this.offset.click.top<this.containment[1]?y+u.grid[1]:y-u.grid[1]:y;var S=this.originalPageX+Math.round((m-this.originalPageX)/u.grid[0])*u.grid[0];m=this.containment&&(S-this.offset.click.left<this.containment[0]||S-this.offset.click.left>this.containment[2])?S-this.offset.click.left<this.containment[0]?S+u.grid[0]:S-u.grid[0]:S}return{top:I-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():v?0:d.scrollTop()),left:m-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():v?0:d.scrollLeft())}},_rearrange:function(A,u,d,v){d?d[0].appendChild(this.placeholder[0]):u.item[0].parentNode.insertBefore(this.placeholder[0],this.direction=="down"?u.item[0]:u.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var m=this.counter;this._delay(function(){m==this.counter&&this.refreshPositions(!v)})},_clear:function(A,u){this.reverting=!1;var d=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]==this.currentItem[0]){for(var v in this._storedCSS)(this._storedCSS[v]=="auto"||this._storedCSS[v]=="static")&&(this._storedCSS[v]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!u&&d.push(function(m){this._trigger("receive",m,this._uiHash(this.fromOutside))}),(this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!u&&d.push(function(m){this._trigger("update",m,this._uiHash())}),this!==this.currentContainer&&(u||(d.push(function(m){this._trigger("remove",m,this._uiHash())}),d.push(function(m){return function(I){m._trigger("receive",I,this._uiHash(this))}}.call(this,this.currentContainer)),d.push(function(m){return function(I){m._trigger("update",I,this._uiHash(this))}}.call(this,this.currentContainer))));for(var v=this.containers.length-1;v>=0;v--)u||d.push(function(I){return function(y){I._trigger("deactivate",y,this._uiHash(this))}}.call(this,this.containers[v])),this.containers[v].containerCache.over&&(d.push(function(I){return function(y){I._trigger("out",y,this._uiHash(this))}}.call(this,this.containers[v])),this.containers[v].containerCache.over=0);if(this._storedCursor&&n("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex",this._storedZIndex=="auto"?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!u){this._trigger("beforeStop",A,this._uiHash());for(var v=0;v<d.length;v++)d[v].call(this,A);this._trigger("stop",A,this._uiHash())}return this.fromOutside=!1,!1}if(u||this._trigger("beforeStop",A,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null,!u){for(var v=0;v<d.length;v++)d[v].call(this,A);this._trigger("stop",A,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){n.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(A){var u=A||this;return{helper:u.helper,placeholder:u.placeholder||n([]),position:u.position,originalPosition:u.originalPosition,offset:u.positionAbs,item:u.currentItem,sender:A?A.element:null}}})})(jQuery),(function(n,T){var A=0;n.widget("ui.autocomplete",{version:"1.9.2",defaultElement:"<input>",options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var u,d,v;this.isMultiLine=this._isMultiLine(),this.valueMethod=this.element[this.element.is("input,textarea")?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(m){if(this.element.prop("readOnly")){u=!0,v=!0,d=!0;return}u=!1,v=!1,d=!1;var I=n.ui.keyCode;switch(m.keyCode){case I.PAGE_UP:u=!0,this._move("previousPage",m);break;case I.PAGE_DOWN:u=!0,this._move("nextPage",m);break;case I.UP:u=!0,this._keyEvent("previous",m);break;case I.DOWN:u=!0,this._keyEvent("next",m);break;case I.ENTER:case I.NUMPAD_ENTER:this.menu.active&&(u=!0,m.preventDefault(),this.menu.select(m));break;case I.TAB:this.menu.active&&this.menu.select(m);break;case I.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(m),m.preventDefault());break;default:d=!0,this._searchTimeout(m)}},keypress:function(m){if(u){u=!1,m.preventDefault();return}if(!d){var I=n.ui.keyCode;switch(m.keyCode){case I.PAGE_UP:this._move("previousPage",m);break;case I.PAGE_DOWN:this._move("nextPage",m);break;case I.UP:this._keyEvent("previous",m);break;case I.DOWN:this._keyEvent("next",m)}}},input:function(m){if(v){v=!1,m.preventDefault();return}this._searchTimeout(m)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(m){if(this.cancelBlur){delete this.cancelBlur;return}clearTimeout(this.searching),this.close(m),this._change(m)}}),this._initSource(),this.menu=n("<ul>").addClass("ui-autocomplete").appendTo(this.document.find(this.options.appendTo||"body")[0]).menu({input:n(),role:null}).zIndex(this.element.zIndex()+1).hide().data("menu"),this._on(this.menu.element,{mousedown:function(m){m.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var I=this.menu.element[0];n(m.target).closest(".ui-menu-item").length||this._delay(function(){var y=this;this.document.one("mousedown",function(S){S.target!==y.element[0]&&S.target!==I&&!n.contains(I,S.target)&&y.close()})})},menufocus:function(m,I){if(this.isNewMenu&&(this.isNewMenu=!1,m.originalEvent&&/^mouse/.test(m.originalEvent.type))){this.menu.blur(),this.document.one("mousemove",function(){n(m.target).trigger(m.originalEvent)});return}var y=I.item.data("ui-autocomplete-item")||I.item.data("item.autocomplete");this._trigger("focus",m,{item:y})!==!1?m.originalEvent&&/^key/.test(m.originalEvent.type)&&this._value(y.value):this.liveRegion.text(y.value)},menuselect:function(m,I){var y=I.item.data("ui-autocomplete-item")||I.item.data("item.autocomplete"),S=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=S,this._delay(function(){this.previous=S,this.selectedItem=y})),this._trigger("select",m,{item:y})!==!1&&this._value(y.value),this.term=this._value(),this.close(m),this.selectedItem=y}}),this.liveRegion=n("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertAfter(this.element),n.fn.bgiframe&&this.menu.element.bgiframe(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(u,d){this._super(u,d),u==="source"&&this._initSource(),u==="appendTo"&&this.menu.element.appendTo(this.document.find(d||"body")[0]),u==="disabled"&&d&&this.xhr&&this.xhr.abort()},_isMultiLine:function(){return this.element.is("textarea")?!0:this.element.is("input")?!1:this.element.prop("isContentEditable")},_initSource:function(){var u,d,v=this;n.isArray(this.options.source)?(u=this.options.source,this.source=function(m,I){I(n.ui.autocomplete.filter(u,m.term))}):typeof this.options.source=="string"?(d=this.options.source,this.source=function(m,I){v.xhr&&v.xhr.abort(),v.xhr=n.ajax({url:d,data:m,dataType:"json",success:function(y){I(y)},error:function(){I([])}})}):this.source=this.options.source},_searchTimeout:function(u){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,u))},this.options.delay)},search:function(u,d){if(u=u!=null?u:this._value(),this.term=this._value(),u.length<this.options.minLength)return this.close(d);if(this._trigger("search",d)!==!1)return this._search(u)},_search:function(u){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:u},this._response())},_response:function(){var u=this,d=++A;return function(v){d===A&&u.__response(v),u.pending--,u.pending||u.element.removeClass("ui-autocomplete-loading")}},__response:function(u){u&&(u=this._normalize(u)),this._trigger("response",null,{content:u}),!this.options.disabled&&u&&u.length&&!this.cancelSearch?(this._suggest(u),this._trigger("open")):this._close()},close:function(u){this.cancelSearch=!0,this._close(u)},_close:function(u){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",u))},_change:function(u){this.previous!==this._value()&&this._trigger("change",u,{item:this.selectedItem})},_normalize:function(u){return u.length&&u[0].label&&u[0].value?u:n.map(u,function(d){return typeof d=="string"?{label:d,value:d}:n.extend({label:d.label||d.value,value:d.value||d.label},d)})},_suggest:function(u){var d=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(d,u),this.menu.refresh(),d.show(),this._resizeMenu(),d.position(n.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var u=this.menu.element;u.outerWidth(Math.max(u.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(u,d){var v=this;n.each(d,function(m,I){v._renderItemData(u,I)})},_renderItemData:function(u,d){return this._renderItem(u,d).data("ui-autocomplete-item",d)},_renderItem:function(u,d){return n("<li>").append(n("<a>").text(d.label)).appendTo(u)},_move:function(u,d){if(!this.menu.element.is(":visible")){this.search(null,d);return}if(this.menu.isFirstItem()&&/^previous/.test(u)||this.menu.isLastItem()&&/^next/.test(u)){this._value(this.term),this.menu.blur();return}this.menu[u](d)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(u,d){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(u,d),d.preventDefault())}}),n.extend(n.ui.autocomplete,{escapeRegex:function(u){return u.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(u,d){var v=new RegExp(n.ui.autocomplete.escapeRegex(d),"i");return n.grep(u,function(m){return v.test(m.label||m.value||m)})}}),n.widget("ui.autocomplete",n.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(u){return u+(u>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(u){var d;this._superApply(arguments),!(this.options.disabled||this.cancelSearch)&&(u&&u.length?d=this.options.messages.results(u.length):d=this.options.messages.noResults,this.liveRegion.text(d))}})})(jQuery),(function(n,T){var A=!1;n.widget("ui.menu",{version:"1.9.2",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,n.proxy(function(u){this.options.disabled&&u.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(u){u.preventDefault()},"click .ui-state-disabled > a":function(u){u.preventDefault()},"click .ui-menu-item:has(a)":function(u){var d=n(u.target).closest(".ui-menu-item");!A&&d.not(".ui-state-disabled").length&&(A=!0,this.select(u),d.has(".ui-menu").length?this.expand(u):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&this.active.parents(".ui-menu").length===1&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(u){var d=n(u.currentTarget);d.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(u,d)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(u,d){var v=this.active||this.element.children(".ui-menu-item").eq(0);d||this.focus(u,v)},blur:function(u){this._delay(function(){n.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(u)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(u){n(u.target).closest(".ui-menu").length||this.collapseAll(u),A=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").andSelf().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var u=n(this);u.data("ui-menu-submenu-carat")&&u.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(u){function d(Q){return Q.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var v,m,I,y,S,R=!0;switch(u.keyCode){case n.ui.keyCode.PAGE_UP:this.previousPage(u);break;case n.ui.keyCode.PAGE_DOWN:this.nextPage(u);break;case n.ui.keyCode.HOME:this._move("first","first",u);break;case n.ui.keyCode.END:this._move("last","last",u);break;case n.ui.keyCode.UP:this.previous(u);break;case n.ui.keyCode.DOWN:this.next(u);break;case n.ui.keyCode.LEFT:this.collapse(u);break;case n.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(u);break;case n.ui.keyCode.ENTER:case n.ui.keyCode.SPACE:this._activate(u);break;case n.ui.keyCode.ESCAPE:this.collapse(u);break;default:R=!1,m=this.previousFilter||"",I=String.fromCharCode(u.keyCode),y=!1,clearTimeout(this.filterTimer),I===m?y=!0:I=m+I,S=new RegExp("^"+d(I),"i"),v=this.activeMenu.children(".ui-menu-item").filter(function(){return S.test(n(this).children("a").text())}),v=y&&v.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):v,v.length||(I=String.fromCharCode(u.keyCode),S=new RegExp("^"+d(I),"i"),v=this.activeMenu.children(".ui-menu-item").filter(function(){return S.test(n(this).children("a").text())})),v.length?(this.focus(u,v),v.length>1?(this.previousFilter=I,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}R&&u.preventDefault()},_activate:function(u){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(u):this.select(u))},refresh:function(){var u,d=this.options.icons.submenu,v=this.element.find(this.options.menus);v.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var m=n(this),I=m.prev("a"),y=n("<span>").addClass("ui-menu-icon ui-icon "+d).data("ui-menu-submenu-carat",!0);I.attr("aria-haspopup","true").prepend(y),m.attr("aria-labelledby",I.attr("id"))}),u=v.add(this.element),u.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),u.children(":not(.ui-menu-item)").each(function(){var m=n(this);/[^\-\s]/.test(m.text())||m.addClass("ui-widget-content ui-menu-divider")}),u.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!n.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},focus:function(u,d){var v,m;this.blur(u,u&&u.type==="focus"),this._scrollIntoView(d),this.active=d.first(),m=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",m.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),u&&u.type==="keydown"?this._close():this.timer=this._delay(function(){this._close()},this.delay),v=d.children(".ui-menu"),v.length&&/^mouse/.test(u.type)&&this._startOpening(v),this.activeMenu=d.parent(),this._trigger("focus",u,{item:d})},_scrollIntoView:function(u){var d,v,m,I,y,S;this._hasScroll()&&(d=parseFloat(n.css(this.activeMenu[0],"borderTopWidth"))||0,v=parseFloat(n.css(this.activeMenu[0],"paddingTop"))||0,m=u.offset().top-this.activeMenu.offset().top-d-v,I=this.activeMenu.scrollTop(),y=this.activeMenu.height(),S=u.height(),m<0?this.activeMenu.scrollTop(I+m):m+S>y&&this.activeMenu.scrollTop(I+m-y+S))},blur:function(u,d){d||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",u,{item:this.active}))},_startOpening:function(u){clearTimeout(this.timer),u.attr("aria-hidden")==="true"&&(this.timer=this._delay(function(){this._close(),this._open(u)},this.delay))},_open:function(u){var d=n.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(u.parents(".ui-menu")).hide().attr("aria-hidden","true"),u.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(d)},collapseAll:function(u,d){clearTimeout(this.timer),this.timer=this._delay(function(){var v=d?this.element:n(u&&u.target).closest(this.element.find(".ui-menu"));v.length||(v=this.element),this._close(v),this.blur(u),this.activeMenu=v},this.delay)},_close:function(u){u||(u=this.active?this.active.parent():this.element),u.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(u){var d=this.active&&this.active.parent().closest(".ui-menu-item",this.element);d&&d.length&&(this._close(),this.focus(u,d))},expand:function(u){var d=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();d&&d.length&&(this._open(d.parent()),this._delay(function(){this.focus(u,d)}))},next:function(u){this._move("next","first",u)},previous:function(u){this._move("prev","last",u)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(u,d,v){var m;this.active&&(u==="first"||u==="last"?m=this.active[u==="first"?"prevAll":"nextAll"](".ui-menu-item").eq(-1):m=this.active[u+"All"](".ui-menu-item").eq(0)),(!m||!m.length||!this.active)&&(m=this.activeMenu.children(".ui-menu-item")[d]()),this.focus(v,m)},nextPage:function(u){var d,v,m;if(!this.active){this.next(u);return}this.isLastItem()||(this._hasScroll()?(v=this.active.offset().top,m=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return d=n(this),d.offset().top-v-m<0}),this.focus(u,d)):this.focus(u,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]()))},previousPage:function(u){var d,v,m;if(!this.active){this.next(u);return}this.isFirstItem()||(this._hasScroll()?(v=this.active.offset().top,m=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return d=n(this),d.offset().top-v+m>0}),this.focus(u,d)):this.focus(u,this.activeMenu.children(".ui-menu-item").first()))},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(u){this.active=this.active||n(u.target).closest(".ui-menu-item");var d={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(u,!0),this._trigger("select",u,d)}})})(jQuery),(function(n,T){var A=5;n.widget("ui.slider",n.ui.mouse,{version:"1.9.2",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var u,d,v=this.options,m=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),I="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",y=[];for(this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"+(v.disabled?" ui-slider-disabled ui-disabled":"")),this.range=n([]),v.range&&(v.range===!0&&(v.values||(v.values=[this._valueMin(),this._valueMin()]),v.values.length&&v.values.length!==2&&(v.values=[v.values[0],v.values[0]])),this.range=n("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+(v.range==="min"||v.range==="max"?" ui-slider-range-"+v.range:""))),d=v.values&&v.values.length||1,u=m.length;u<d;u++)y.push(I);this.handles=m.add(n(y.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click(function(S){S.preventDefault()}).mouseenter(function(){v.disabled||n(this).addClass("ui-state-hover")}).mouseleave(function(){n(this).removeClass("ui-state-hover")}).focus(function(){v.disabled?n(this).blur():(n(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),n(this).addClass("ui-state-focus"))}).blur(function(){n(this).removeClass("ui-state-focus")}),this.handles.each(function(S){n(this).data("ui-slider-handle-index",S)}),this._on(this.handles,{keydown:function(S){var R,Q,F,it,V=n(S.target).data("ui-slider-handle-index");switch(S.keyCode){case n.ui.keyCode.HOME:case n.ui.keyCode.END:case n.ui.keyCode.PAGE_UP:case n.ui.keyCode.PAGE_DOWN:case n.ui.keyCode.UP:case n.ui.keyCode.RIGHT:case n.ui.keyCode.DOWN:case n.ui.keyCode.LEFT:if(S.preventDefault(),!this._keySliding&&(this._keySliding=!0,n(S.target).addClass("ui-state-active"),R=this._start(S,V),R===!1))return}switch(it=this.options.step,this.options.values&&this.options.values.length?Q=F=this.values(V):Q=F=this.value(),S.keyCode){case n.ui.keyCode.HOME:F=this._valueMin();break;case n.ui.keyCode.END:F=this._valueMax();break;case n.ui.keyCode.PAGE_UP:F=this._trimAlignValue(Q+(this._valueMax()-this._valueMin())/A);break;case n.ui.keyCode.PAGE_DOWN:F=this._trimAlignValue(Q-(this._valueMax()-this._valueMin())/A);break;case n.ui.keyCode.UP:case n.ui.keyCode.RIGHT:if(Q===this._valueMax())return;F=this._trimAlignValue(Q+it);break;case n.ui.keyCode.DOWN:case n.ui.keyCode.LEFT:if(Q===this._valueMin())return;F=this._trimAlignValue(Q-it)}this._slide(S,V,F)},keyup:function(S){var R=n(S.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(S,R),this._change(S,R),n(S.target).removeClass("ui-state-active"))}}),this._refreshValue(),this._animateOff=!1},_destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(u){var d,v,m,I,y,S,R,Q,F=this,it=this.options;return it.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),d={x:u.pageX,y:u.pageY},v=this._normValueFromMouse(d),m=this._valueMax()-this._valueMin()+1,this.handles.each(function(V){var M=Math.abs(v-F.values(V));m>M&&(m=M,I=n(this),y=V)}),it.range===!0&&this.values(1)===it.min&&(y+=1,I=n(this.handles[y])),S=this._start(u,y),S===!1?!1:(this._mouseSliding=!0,this._handleIndex=y,I.addClass("ui-state-active").focus(),R=I.offset(),Q=!n(u.target).parents().andSelf().is(".ui-slider-handle"),this._clickOffset=Q?{left:0,top:0}:{left:u.pageX-R.left-I.width()/2,top:u.pageY-R.top-I.height()/2-(parseInt(I.css("borderTopWidth"),10)||0)-(parseInt(I.css("borderBottomWidth"),10)||0)+(parseInt(I.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(u,y,v),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(u){var d={x:u.pageX,y:u.pageY},v=this._normValueFromMouse(d);return this._slide(u,this._handleIndex,v),!1},_mouseStop:function(u){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(u,this._handleIndex),this._change(u,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(u){var d,v,m,I,y;return this.orientation==="horizontal"?(d=this.elementSize.width,v=u.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(d=this.elementSize.height,v=u.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),m=v/d,m>1&&(m=1),m<0&&(m=0),this.orientation==="vertical"&&(m=1-m),I=this._valueMax()-this._valueMin(),y=this._valueMin()+m*I,this._trimAlignValue(y)},_start:function(u,d){var v={handle:this.handles[d],value:this.value()};return this.options.values&&this.options.values.length&&(v.value=this.values(d),v.values=this.values()),this._trigger("start",u,v)},_slide:function(u,d,v){var m,I,y;this.options.values&&this.options.values.length?(m=this.values(d?0:1),this.options.values.length===2&&this.options.range===!0&&(d===0&&v>m||d===1&&v<m)&&(v=m),v!==this.values(d)&&(I=this.values(),I[d]=v,y=this._trigger("slide",u,{handle:this.handles[d],value:v,values:I}),m=this.values(d?0:1),y!==!1&&this.values(d,v,!0))):v!==this.value()&&(y=this._trigger("slide",u,{handle:this.handles[d],value:v}),y!==!1&&this.value(v))},_stop:function(u,d){var v={handle:this.handles[d],value:this.value()};this.options.values&&this.options.values.length&&(v.value=this.values(d),v.values=this.values()),this._trigger("stop",u,v)},_change:function(u,d){if(!this._keySliding&&!this._mouseSliding){var v={handle:this.handles[d],value:this.value()};this.options.values&&this.options.values.length&&(v.value=this.values(d),v.values=this.values()),this._trigger("change",u,v)}},value:function(u){if(arguments.length){this.options.value=this._trimAlignValue(u),this._refreshValue(),this._change(null,0);return}return this._value()},values:function(u,d){var v,m,I;if(arguments.length>1){this.options.values[u]=this._trimAlignValue(d),this._refreshValue(),this._change(null,u);return}if(!arguments.length)return this._values();if(!n.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(u):this.value();for(v=this.options.values,m=arguments[0],I=0;I<v.length;I+=1)v[I]=this._trimAlignValue(m[I]),this._change(null,I);this._refreshValue()},_setOption:function(u,d){var v,m=0;switch(n.isArray(this.options.values)&&(m=this.options.values.length),n.Widget.prototype._setOption.apply(this,arguments),u){case"disabled":d?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.prop("disabled",!0),this.element.addClass("ui-disabled")):(this.handles.prop("disabled",!1),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),v=0;v<m;v+=1)this._change(null,v);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1}},_value:function(){var u=this.options.value;return u=this._trimAlignValue(u),u},_values:function(u){var d,v,m;if(arguments.length)return d=this.options.values[u],d=this._trimAlignValue(d),d;for(v=this.options.values.slice(),m=0;m<v.length;m+=1)v[m]=this._trimAlignValue(v[m]);return v},_trimAlignValue:function(u){if(u<=this._valueMin())return this._valueMin();if(u>=this._valueMax())return this._valueMax();var d=this.options.step>0?this.options.step:1,v=(u-this._valueMin())%d,m=u-v;return Math.abs(v)*2>=d&&(m+=v>0?d:-d),parseFloat(m.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var u,d,v,m,I,y=this.options.range,S=this.options,R=this,Q=this._animateOff?!1:S.animate,F={};this.options.values&&this.options.values.length?this.handles.each(function(it){d=(R.values(it)-R._valueMin())/(R._valueMax()-R._valueMin())*100,F[R.orientation==="horizontal"?"left":"bottom"]=d+"%",n(this).stop(1,1)[Q?"animate":"css"](F,S.animate),R.options.range===!0&&(R.orientation==="horizontal"?(it===0&&R.range.stop(1,1)[Q?"animate":"css"]({left:d+"%"},S.animate),it===1&&R.range[Q?"animate":"css"]({width:d-u+"%"},{queue:!1,duration:S.animate})):(it===0&&R.range.stop(1,1)[Q?"animate":"css"]({bottom:d+"%"},S.animate),it===1&&R.range[Q?"animate":"css"]({height:d-u+"%"},{queue:!1,duration:S.animate}))),u=d}):(v=this.value(),m=this._valueMin(),I=this._valueMax(),d=I!==m?(v-m)/(I-m)*100:0,F[this.orientation==="horizontal"?"left":"bottom"]=d+"%",this.handle.stop(1,1)[Q?"animate":"css"](F,S.animate),y==="min"&&this.orientation==="horizontal"&&this.range.stop(1,1)[Q?"animate":"css"]({width:d+"%"},S.animate),y==="max"&&this.orientation==="horizontal"&&this.range[Q?"animate":"css"]({width:100-d+"%"},{queue:!1,duration:S.animate}),y==="min"&&this.orientation==="vertical"&&this.range.stop(1,1)[Q?"animate":"css"]({height:d+"%"},S.animate),y==="max"&&this.orientation==="vertical"&&this.range[Q?"animate":"css"]({height:100-d+"%"},{queue:!1,duration:S.animate}))}})})(jQuery),(function(n){var T,A,u,d,v,m,I,y,S,R,Q=0,F={},it=[],V=0,M={},H=[],X=null,Z=new Image,st=/\.(jpg|gif|png|bmp|jpeg)(.*)?$/i,Pt=/[^\.]\.(swf)\s*$/i,pt,ft=1,q=0,At="",_t,Jt,g=!1,St=n.extend(n("<div/>")[0],{prop:0}),jt=n.browser.msie&&n.browser.version<7&&!window.XMLHttpRequest,L=function(){A.hide(),Z.onerror=Z.onload=null,X&&X.abort(),T.empty()},An=function(){if(F.onError(it,Q,F)===!1){A.hide(),g=!1;return}F.titleShow=!1,F.width="auto",F.height="auto",T.html('<p id="fancybox-error">The requested content cannot be loaded.<br />Please try again later.</p>'),Ot()},te=function(){var Ft=it[Q],Se,ln,$n,Ei,Pi,kt;if(L(),F=n.extend({},n.fn.fancybox.defaults,typeof n(Ft).data("fancybox")=="undefined"?F:n(Ft).data("fancybox")),kt=F.onStart(it,Q,F),kt===!1){g=!1;return}else typeof kt=="object"&&(F=n.extend(F,kt));if($n=F.title||(Ft.nodeName?n(Ft).attr("title"):Ft.title)||"",Ft.nodeName&&!F.orig&&(F.orig=n(Ft).children("img:first").length?n(Ft).children("img:first"):n(Ft)),$n===""&&F.orig&&F.titleFromAlt&&($n=F.orig.attr("alt")),Se=F.href||(Ft.nodeName?n(Ft).attr("href"):Ft.href)||null,(/^(?:javascript)/i.test(Se)||Se=="#")&&(Se=null),F.type?(ln=F.type,Se||(Se=F.content)):F.content?ln="html":Se&&(Se.match(st)?ln="image":Se.match(Pt)?ln="swf":n(Ft).hasClass("iframe")?ln="iframe":Se.indexOf("#")===0?ln="inline":ln="ajax"),!ln){An();return}switch(ln=="inline"&&(Ft=Se.substr(Se.indexOf("#")),ln=n(Ft).length>0?"inline":"ajax"),F.type=ln,F.href=Se,F.title=$n,F.autoDimensions&&(F.type=="html"||F.type=="inline"||F.type=="ajax"?(F.width="auto",F.height="auto"):F.autoDimensions=!1),F.modal&&(F.overlayShow=!0,F.hideOnOverlayClick=!1,F.hideOnContentClick=!1,F.enableEscapeButton=!1,F.showCloseButton=!1),F.padding=parseInt(F.padding,10),F.margin=parseInt(F.margin,10),T.css("padding",F.padding+F.margin),n(".fancybox-inline-tmp").unbind("fancybox-cancel").bind("fancybox-change",function(){n(this).replaceWith(m.children())}),ln){case"html":T.html(F.content),Ot();break;case"inline":if(n(Ft).parent().is("#fancybox-content")===!0){g=!1;return}n('<div class="fancybox-inline-tmp" />').hide().insertBefore(n(Ft)).bind("fancybox-cleanup",function(){n(this).replaceWith(m.children())}).bind("fancybox-cancel",function(){n(this).replaceWith(T.children())}),n(Ft).appendTo(T),Ot();break;case"image":g=!1,n.fancybox.showActivity(),Z=new Image,Z.onerror=function(){An()},Z.onload=function(){g=!0,Z.onerror=Z.onload=null,ye()},Z.src=Se;break;case"swf":F.scrolling="no",Ei='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+F.width+'" height="'+F.height+'"><param name="movie" value="'+Se+'"></param>',Pi="",n.each(F.swf,function(Qt,pe){Ei+='<param name="'+Qt+'" value="'+pe+'"></param>',Pi+=" "+Qt+'="'+pe+'"'}),Ei+='<embed src="'+Se+'" type="application/x-shockwave-flash" width="'+F.width+'" height="'+F.height+'"'+Pi+"></embed></object>",T.html(Ei),Ot();break;case"ajax":g=!1,n.fancybox.showActivity(),F.ajax.win=F.ajax.success,X=n.ajax(n.extend({},F.ajax,{url:Se,data:F.ajax.data||{},error:function(Qt,pe,Te){Qt.status>0&&An()},success:function(Qt,pe,Te){var Be=typeof Te=="object"?Te:X;if(Be.status==200){if(typeof F.ajax.win=="function")if(kt=F.ajax.win(Se,Qt,pe,Te),kt===!1){A.hide();return}else(typeof kt=="string"||typeof kt=="object")&&(Qt=kt);T.html(Qt),Ot()}}}));break;case"iframe":l();break}},Ot=function(){var Ft=F.width,Se=F.height;Ft.toString().indexOf("%")>-1?Ft=parseInt((n(window).width()-F.margin*2)*parseFloat(Ft)/100,10)+"px":Ft=Ft=="auto"?"auto":Ft+"px",Se.toString().indexOf("%")>-1?Se=parseInt((n(window).height()-F.margin*2)*parseFloat(Se)/100,10)+"px":Se=Se=="auto"?"auto":Se+"px",T.wrapInner('<div style="width:'+Ft+";height:"+Se+";overflow: "+(F.scrolling=="auto"?"auto":F.scrolling=="yes"?"scroll":"hidden")+';position:relative;"></div>'),F.width=T.width(),F.height=T.height(),l()},ye=function(){F.width=Z.width,F.height=Z.height,n("<img />").attr({id:"fancybox-img",src:Z.src,alt:F.title}).appendTo(T),l()},l=function(){n("#fancybox-outer").css("background","white");var Ft,Se;if(A.hide(),d.is(":visible")&&M.onCleanup(H,V,M)===!1){n.event.trigger("fancybox-cancel"),g=!1;return}if(g=!0,n(m.add(u)).unbind(),n(window).unbind("resize.fb scroll.fb"),n(document).unbind("keydown.fb"),d.is(":visible")&&M.titlePosition!=="outside"&&d.css("height",d.height()),H=it,V=Q,M=F,M.overlayShow?(u.css({"background-color":M.overlayColor,opacity:M.overlayOpacity,cursor:M.hideOnOverlayClick?"pointer":"auto",height:n(document).height()}),u.is(":visible")||(jt&&n("select:not(#fancybox-tmp select)").filter(function(){return this.style.visibility!=="hidden"}).css({visibility:"hidden"}).one("fancybox-cleanup",function(){this.style.visibility="inherit"}),u.show())):u.hide(),Jt=Fn(),qt(),d.is(":visible")){n(I.add(S).add(R)).hide(),Ft=d.position(),_t={top:Ft.top,left:Ft.left,width:d.width(),height:d.height()},Se=_t.width==Jt.width&&_t.height==Jt.height,m.fadeTo(M.changeFade,.3,function(){var ln=function(){m.html(T.contents()).fadeTo(M.changeFade,1,ce)};n.event.trigger("fancybox-change"),m.empty().removeAttr("filter").css({"border-width":M.padding,width:Jt.width-M.padding*2,height:F.autoDimensions?"auto":Jt.height-q-M.padding*2}),Se?ln():(St.prop=0,n(St).animate({prop:1},{duration:M.changeSpeed,easing:M.easingChange,step:yn,complete:ln}))});return}if(d.removeAttr("style"),m.css("border-width",M.padding),M.transitionIn=="elastic"){_t=Ti(),m.html(T.contents()),d.show(),M.opacity&&(Jt.opacity=0),St.prop=0,n(St).animate({prop:1},{duration:M.speedIn,easing:M.easingIn,step:yn,complete:ce});return}M.titlePosition=="inside"&&q>0&&y.show(),m.css({width:Jt.width-M.padding*2,height:F.autoDimensions?"auto":Jt.height-q-M.padding*2}).html(T.contents()),d.css(Jt).fadeIn(M.transitionIn=="none"?0:M.speedIn,ce)},Bt=function(Ft){return Ft&&Ft.length?M.titlePosition=="float"?'<table id="fancybox-title-float-wrap" cellpadding="0" cellspacing="0"><tr><td id="fancybox-title-float-left"></td><td id="fancybox-title-float-main">'+Ft+'</td><td id="fancybox-title-float-right"></td></tr></table>':'<div id="fancybox-title-'+M.titlePosition+'">'+Ft+"</div>":!1},qt=function(){if(At=M.title||"",q=0,y.empty().removeAttr("style").removeClass(),M.titleShow===!1){y.hide();return}if(At=n.isFunction(M.titleFormat)?M.titleFormat(At,H,V,M):Bt(At),!At||At===""){y.hide();return}switch(y.addClass("fancybox-title-"+M.titlePosition).html(At).appendTo("body").show(),M.titlePosition){case"inside":y.css({width:Jt.width-M.padding*2,marginLeft:M.padding,marginRight:M.padding}),q=y.outerHeight(!0),y.appendTo(v),Jt.height+=q;break;case"over":y.css({marginLeft:M.padding,width:Jt.width-M.padding*2,bottom:M.padding}).appendTo(v);break;case"float":y.css("left",parseInt((y.width()-Jt.width-40)/2,10)*-1).appendTo(d);break;default:y.css({width:Jt.width-M.padding*2,paddingLeft:M.padding,paddingRight:M.padding}).appendTo(d);break}y.hide()},we=function(){if((M.enableEscapeButton||M.enableKeyboardNav)&&n(document).bind("keydown.fb",function(Ft){Ft.keyCode==27&&M.enableEscapeButton?(Ft.preventDefault(),n.fancybox.close()):(Ft.keyCode==37||Ft.keyCode==39)&&M.enableKeyboardNav&&Ft.target.tagName!=="INPUT"&&Ft.target.tagName!=="TEXTAREA"&&Ft.target.tagName!=="SELECT"&&(Ft.preventDefault(),n.fancybox[Ft.keyCode==37?"prev":"next"]())}),!M.showNavArrows){S.hide(),R.hide();return}(M.cyclic&&H.length>1||V!==0)&&S.show(),(M.cyclic&&H.length>1||V!=H.length-1)&&R.show()},ce=function(){n.support.opacity||(m.get(0).style.removeAttribute("filter"),d.get(0).style.removeAttribute("filter")),F.autoDimensions&&m.css("height","auto"),d.css("height","auto"),At&&At.length&&y.show(),M.showCloseButton&&I.show(),we(),M.hideOnContentClick&&m.bind("click",n.fancybox.close),M.hideOnOverlayClick&&u.bind("click",n.fancybox.close),n(window).bind("resize.fb",n.fancybox.resize),M.centerOnScroll&&n(window).bind("scroll.fb",n.fancybox.center),M.type=="iframe"&&n('<iframe id="fancybox-frame" name="fancybox-frame'+new Date().getTime()+'" frameborder="0" hspace="0" '+(n.browser.msie?'allowtransparency="true""':"")+' scrolling="'+F.scrolling+'" src="'+M.href+'"></iframe>').appendTo(m),d.show(),g=!1,n.fancybox.center(),M.onComplete(H,V,M),He()},He=function(){var Ft,Se;H.length-1>V&&(Ft=H[V+1].href,typeof Ft!="undefined"&&Ft.match(st)&&(Se=new Image,Se.src=Ft)),V>0&&(Ft=H[V-1].href,typeof Ft!="undefined"&&Ft.match(st)&&(Se=new Image,Se.src=Ft))},yn=function(Ft){var Se={width:parseInt(_t.width+(Jt.width-_t.width)*Ft,10),height:parseInt(_t.height+(Jt.height-_t.height)*Ft,10),top:parseInt(_t.top+(Jt.top-_t.top)*Ft,10),left:parseInt(_t.left+(Jt.left-_t.left)*Ft,10)};typeof Jt.opacity!="undefined"&&(Se.opacity=Ft<.5?.5:Ft),d.css(Se),m.css({width:Se.width-M.padding*2,height:Se.height-q*Ft-M.padding*2})},on=function(){return[n(window).width()-M.margin*2,n(window).height()-M.margin*2,n(document).scrollLeft()+M.margin,n(document).scrollTop()+M.margin]},Fn=function(){var Ft=on(),Se={},ln=M.autoScale,$n=M.padding*2,Ei;return M.width.toString().indexOf("%")>-1?Se.width=parseInt(Ft[0]*parseFloat(M.width)/100,10):Se.width=M.width+$n,M.height.toString().indexOf("%")>-1?Se.height=parseInt(Ft[1]*parseFloat(M.height)/100,10):Se.height=M.height+$n,ln&&(Se.width>Ft[0]||Se.height>Ft[1])&&(F.type=="image"||F.type=="swf"?(Ei=M.width/M.height,Se.width>Ft[0]&&(Se.width=Ft[0],Se.height=parseInt((Se.width-$n)/Ei+$n,10)),Se.height>Ft[1]&&(Se.height=Ft[1],Se.width=parseInt((Se.height-$n)*Ei+$n,10))):(Se.width=Math.min(Se.width,Ft[0]),Se.height=Math.min(Se.height,Ft[1]))),Se.top=parseInt(Math.max(Ft[3]-20,Ft[3]+(Ft[1]-Se.height-40)*.5),10),Se.left=parseInt(Math.max(Ft[2]-20,Ft[2]+(Ft[0]-Se.width-40)*.5),10),Se},vi=function(Ft){var Se=Ft.offset();return Se.top+=parseInt(Ft.css("paddingTop"),10)||0,Se.left+=parseInt(Ft.css("paddingLeft"),10)||0,Se.top+=parseInt(Ft.css("border-top-width"),10)||0,Se.left+=parseInt(Ft.css("border-left-width"),10)||0,Se.width=Ft.width(),Se.height=Ft.height(),Se},Ti=function(){var Ft=F.orig?n(F.orig):!1,Se={},ln,$n;return Ft&&Ft.length?(ln=vi(Ft),Se={width:ln.width+M.padding*2,height:ln.height+M.padding*2,top:ln.top-M.padding-20,left:ln.left-M.padding-20}):($n=on(),Se={width:M.padding*2,height:M.padding*2,top:parseInt($n[3]+$n[1]*.5,10),left:parseInt($n[2]+$n[0]*.5,10)}),Se},ri=function(){if(!A.is(":visible")){clearInterval(pt);return}n("div",A).css("top",ft*-40+"px"),ft=(ft+1)%12};n.fn.fancybox=function(Ft){return n(this).length?(n(this).data("fancybox",n.extend({},Ft,n.metadata?n(this).metadata():{})).unbind("click.fb").bind("click.fb",function(Se){if(Se.preventDefault(),!g){g=!0,n(this).blur(),it=[],Q=0;var ln=n(this).attr("rel")||"";!ln||ln==""||ln==="nofollow"?it.push(this):(it=n("a[rel="+ln+"], area[rel="+ln+"]"),Q=it.index(this)),te()}}),this):this},n.fancybox=function(Ft){var Se;if(!g){if(g=!0,Se=typeof arguments[1]!="undefined"?arguments[1]:{},it=[],Q=parseInt(Se.index,10)||0,n.isArray(Ft)){for(var ln=0,$n=Ft.length;ln<$n;ln++)typeof Ft[ln]=="object"?n(Ft[ln]).data("fancybox",n.extend({},Se,Ft[ln])):Ft[ln]=n({}).data("fancybox",n.extend({content:Ft[ln]},Se));it=jQuery.merge(it,Ft)}else typeof Ft=="object"?n(Ft).data("fancybox",n.extend({},Se,Ft)):Ft=n({}).data("fancybox",n.extend({content:Ft},Se)),it.push(Ft);(Q>it.length||Q<0)&&(Q=0),te()}},n.fancybox.showActivity=function(){clearInterval(pt),A.show(),pt=setInterval(ri,66)},n.fancybox.hideActivity=function(){A.hide()},n.fancybox.next=function(){return n.fancybox.pos(V+1)},n.fancybox.prev=function(){return n.fancybox.pos(V-1)},n.fancybox.pos=function(Ft){g||(Ft=parseInt(Ft),it=H,Ft>-1&&Ft<H.length?(Q=Ft,te()):M.cyclic&&H.length>1&&(Q=Ft>=H.length?0:H.length-1,te()))},n.fancybox.cancel=function(){g||(g=!0,n.event.trigger("fancybox-cancel"),L(),F.onCancel(it,Q,F),g=!1)},n.fancybox.close=function(){if(g||d.is(":hidden"))return;if(g=!0,M&&(typeof M.onCleanup!="function"||M.onCleanup(H,V,M)===!1)){g=!1;return}L(),n(I.add(S).add(R)).hide(),n(m.add(u)).unbind(),n(window).unbind("resize.fb scroll.fb"),n(document).unbind("keydown.fb"),m.find("iframe").attr("src",jt&&/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank"),M.titlePosition!=="inside"&&y.empty(),d.stop();function Ft(){u.fadeOut("fast"),y.empty().hide(),d.hide(),n.event.trigger("fancybox-cleanup"),m.empty(),M.onClosed(H,V,M),H=F=[],V=Q=0,M=F={},g=!1}if(M.transitionOut=="elastic"){_t=Ti();var Se=d.position();Jt={top:Se.top,left:Se.left,width:d.width(),height:d.height()},M.opacity&&(Jt.opacity=1),y.empty().hide(),St.prop=1,n(St).animate({prop:0},{duration:M.speedOut,easing:M.easingOut,step:yn,complete:Ft})}else d.fadeOut(M.transitionOut=="none"?0:M.speedOut,Ft)},n.fancybox.resize=function(){u.is(":visible")&&u.css("height",n(document).height()),n.fancybox.center(!0)},n.fancybox.center=function(){if(!(M&&M.center===!1)){var Ft,Se;g||(Se=arguments[0]===!0?1:0,Ft=on(),!(!Se&&(d.width()>Ft[0]||d.height()>Ft[1]))&&d.stop().animate({top:parseInt(Math.max(Ft[3]-20,Ft[3]+(Ft[1]-m.height()-40)*.5-M.padding)),left:parseInt(Math.max(Ft[2]-20,Ft[2]+(Ft[0]-m.width()-40)*.5-M.padding))},typeof arguments[0]=="number"?arguments[0]:200))}},n.fancybox.init=function(){n("#fancybox-wrap").length||(n("body").append(T=n('<div id="fancybox-tmp"></div>'),A=n('<div id="fancybox-loading"><div></div></div>'),u=n('<div id="fancybox-overlay"></div>'),d=n('<div id="fancybox-wrap"></div>')),v=n('<div id="fancybox-outer"></div>').append('<div class="fancybox-bg" id="fancybox-bg-n"></div><div class="fancybox-bg" id="fancybox-bg-ne"></div><div class="fancybox-bg" id="fancybox-bg-e"></div><div class="fancybox-bg" id="fancybox-bg-se"></div><div class="fancybox-bg" id="fancybox-bg-s"></div><div class="fancybox-bg" id="fancybox-bg-sw"></div><div class="fancybox-bg" id="fancybox-bg-w"></div><div class="fancybox-bg" id="fancybox-bg-nw"></div>').appendTo(d),v.append(m=n('<div id="fancybox-content"></div>'),I=n('<a id="fancybox-close"></a>'),y=n('<div id="fancybox-title"></div>'),S=n('<a href="javascript:;" id="fancybox-left"><span class="fancy-ico" id="fancybox-left-ico"></span></a>'),R=n('<a href="javascript:;" id="fancybox-right"><span class="fancy-ico" id="fancybox-right-ico"></span></a>')),I.click(n.fancybox.close),A.click(n.fancybox.cancel),S.click(function(Ft){Ft.preventDefault(),n.fancybox.prev()}),R.click(function(Ft){Ft.preventDefault(),n.fancybox.next()}),n.fn.mousewheel&&d.bind("mousewheel.fb",function(Ft,Se){g?Ft.preventDefault():(n(Ft.target).get(0).clientHeight==0||n(Ft.target).get(0).scrollHeight===n(Ft.target).get(0).clientHeight)&&(Ft.preventDefault(),n.fancybox[Se>0?"prev":"next"]())}),n.support.opacity||d.addClass("fancybox-ie"),jt&&(A.addClass("fancybox-ie6"),d.addClass("fancybox-ie6"),n('<iframe id="fancybox-hide-sel-frame" src="'+(/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank")+'" scrolling="no" border="0" frameborder="0" tabindex="-1"></iframe>').prependTo(v)))},n.fn.fancybox.defaults={padding:10,margin:40,opacity:!1,modal:!1,cyclic:!1,scrolling:"auto",width:560,height:340,autoScale:!0,autoDimensions:!0,centerOnScroll:!1,ajax:{},swf:{wmode:"transparent"},hideOnOverlayClick:!0,hideOnContentClick:!1,overlayShow:!0,overlayOpacity:.7,overlayColor:"#777",titleShow:!0,titlePosition:"float",titleFormat:null,titleFromAlt:!1,transitionIn:"fade",transitionOut:"fade",speedIn:300,speedOut:300,changeSpeed:300,changeFade:"fast",easingIn:"swing",easingOut:"swing",showCloseButton:!0,showNavArrows:!0,enableEscapeButton:!0,enableKeyboardNav:!0,center:!0,onStart:function(){},onCancel:function(){},onComplete:function(){},onCleanup:function(){},onClosed:function(){},onError:function(){}},n(document).ready(function(){n.fancybox.init()})})(jQuery);/*!
 * jQuery UI Touch Punch 0.2.3
 *
 * Copyright 20112014, Dave Furfero
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Depends:
 *  jquery.ui.widget.js
 *  jquery.ui.mouse.js
 */(function(n){if(n.support.touch="ontouchend"in document,!n.support.touch)return;var T=n.ui.mouse.prototype,A=T._mouseInit,u=T._mouseDestroy,d;function v(m,I){if(!(m.originalEvent.touches.length>1)){m.preventDefault();var y=m.originalEvent.changedTouches[0],S=document.createEvent("MouseEvents");S.initMouseEvent(I,!0,!0,window,1,y.screenX,y.screenY,y.clientX,y.clientY,!1,!1,!1,!1,0,null),console.log("dispatch simulated event: "+I),m.target.dispatchEvent(S)}}T._touchStart=function(m){console.log("mouseProto._touchStart");var I=this;d||!I._mouseCapture(m.originalEvent.changedTouches[0])||(d=!0,I._touchMoved=!1,v(m,"mouseover"),v(m,"mousemove"),v(m,"mousedown"))},T._touchMove=function(m){console.log("mouseProto._touchMove"),d&&(this._touchMoved=!0,v(m,"mousemove"))},T._touchEnd=function(m){d&&(v(m,"mouseup"),v(m,"mouseout"),this._touchMoved||v(m,"click"),d=!1)},T._mouseInit=function(){var m=this;m.element.bind({touchstart:n.proxy(m,"_touchStart"),touchmove:n.proxy(m,"_touchMove"),touchend:n.proxy(m,"_touchEnd")}),A.call(m)},T._mouseDestroy=function(){var m=this;m.element.unbind({touchstart:n.proxy(m,"_touchStart"),touchmove:n.proxy(m,"_touchMove"),touchend:n.proxy(m,"_touchEnd")}),u.call(m)}})(jQuery),(function(n,T){typeof exports=="object"&&typeof module<"u"?T(exports):typeof define=="function"&&define.amd?define(["exports"],T):(n=typeof globalThis<"u"?globalThis:n||self,T(n.Annotorious={}))})(void 0,function(n){"use strict";var T=Object.defineProperty,A=(t,e,o)=>e in t?T(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,u=(t,e,o)=>A(t,typeof e!="symbol"?e+"":e,o);function d(){}function v(t,e){for(const o in e)t[o]=e[o];return t}function m(t){return t()}function I(){return Object.create(null)}function y(t){t.forEach(m)}function S(t){return typeof t=="function"}function R(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Q(t){return Object.keys(t).length===0}function F(t,...e){if(t==null){for(const c of e)c(void 0);return d}const o=t.subscribe(...e);return o.unsubscribe?()=>o.unsubscribe():o}function it(t,e,o){t.$$.on_destroy.push(F(e,o))}function V(t,e,o,c){if(t){const h=M(t,e,o,c);return t[0](h)}}function M(t,e,o,c){return t[1]&&c?v(o.ctx.slice(),t[1](c(e))):o.ctx}function H(t,e,o,c){if(t[2]&&c){const h=t[2](c(o));if(e.dirty===void 0)return h;if(typeof h=="object"){const w=[],P=Math.max(e.dirty.length,h.length);for(let O=0;O<P;O+=1)w[O]=e.dirty[O]|h[O];return w}return e.dirty|h}return e.dirty}function X(t,e,o,c,h,w){if(h){const P=M(e,o,c,w);t.p(P,h)}}function Z(t){if(t.ctx.length>32){const e=[],o=t.ctx.length/32;for(let c=0;c<o;c++)e[c]=-1;return e}return-1}function st(t){const e={};for(const o in t)o[0]!=="$"&&(e[o]=t[o]);return e}function Pt(t){return t!=null?t:""}function pt(t,e){t.appendChild(e)}function ft(t,e,o){t.insertBefore(e,o||null)}function q(t){t.parentNode&&t.parentNode.removeChild(t)}function At(t,e){for(let o=0;o<t.length;o+=1)t[o]&&t[o].d(e)}function _t(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Jt(t){return document.createTextNode(t)}function g(){return Jt(" ")}function St(){return Jt("")}function jt(t,e,o,c){return t.addEventListener(e,o,c),()=>t.removeEventListener(e,o,c)}function L(t,e,o){o==null?t.removeAttribute(e):t.getAttribute(e)!==o&&t.setAttribute(e,o)}function An(t){return Array.from(t.childNodes)}function te(t,e,o){t.classList.toggle(e,!!o)}function Ot(t,e,{bubbles:o=!1,cancelable:c=!1}={}){return new CustomEvent(t,{detail:e,bubbles:o,cancelable:c})}let ye;function l(t){ye=t}function Bt(){if(!ye)throw new Error("Function called outside component initialization");return ye}function qt(t){Bt().$$.on_mount.push(t)}function we(){const t=Bt();return(e,o,{cancelable:c=!1}={})=>{const h=t.$$.callbacks[e];if(h){const w=Ot(e,o,{cancelable:c});return h.slice().forEach(P=>{P.call(t,w)}),!w.defaultPrevented}return!0}}function ce(t,e){const o=t.$$.callbacks[e.type];o&&o.slice().forEach(c=>c.call(this,e))}const He=[],yn=[];let on=[];const Fn=[],vi=Promise.resolve();let Ti=!1;function ri(){Ti||(Ti=!0,vi.then(Ei))}function Ft(){return ri(),vi}function Se(t){on.push(t)}const ln=new Set;let $n=0;function Ei(){if($n!==0)return;const t=ye;do{try{for(;$n<He.length;){const e=He[$n];$n++,l(e),Pi(e.$$)}}catch(e){throw He.length=0,$n=0,e}for(l(null),He.length=0,$n=0;yn.length;)yn.pop()();for(let e=0;e<on.length;e+=1){const o=on[e];ln.has(o)||(ln.add(o),o())}on.length=0}while(He.length);for(;Fn.length;)Fn.pop()();Ti=!1,ln.clear(),l(t)}function Pi(t){if(t.fragment!==null){t.update(),y(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Se)}}function kt(t){const e=[],o=[];on.forEach(c=>t.indexOf(c)===-1?e.push(c):o.push(c)),o.forEach(c=>c()),on=e}const Qt=new Set;let pe;function Te(){pe={r:0,c:[],p:pe}}function Be(){pe.r||y(pe.c),pe=pe.p}function ae(t,e){t&&t.i&&(Qt.delete(t),t.i(e))}function mt(t,e,o,c){if(t&&t.o){if(Qt.has(t))return;Qt.add(t),pe.c.push(()=>{Qt.delete(t),c&&(o&&t.d(1),c())}),t.o(e)}else c&&c()}function Tt(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function ue(t){t&&t.c()}function Me(t,e,o){const{fragment:c,after_update:h}=t.$$;c&&c.m(e,o),Se(()=>{const w=t.$$.on_mount.map(m).filter(S);t.$$.on_destroy?t.$$.on_destroy.push(...w):y(w),t.$$.on_mount=[]}),h.forEach(Se)}function Yt(t,e){const o=t.$$;o.fragment!==null&&(kt(o.after_update),y(o.on_destroy),o.fragment&&o.fragment.d(e),o.on_destroy=o.fragment=null,o.ctx=[])}function Je(t,e){t.$$.dirty[0]===-1&&(He.push(t),ri(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function tn(t,e,o,c,h,w,P=null,O=[-1]){const z=ye;l(t);const W=t.$$={fragment:null,ctx:[],props:w,update:d,not_equal:h,bound:I(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(z?z.$$.context:[])),callbacks:I(),dirty:O,skip_bound:!1,root:e.target||z.$$.root};P&&P(W.root);let J=!1;if(W.ctx=o?o(t,e.props||{},(tt,gt,...ne)=>{const Wt=ne.length?ne[0]:gt;return W.ctx&&h(W.ctx[tt],W.ctx[tt]=Wt)&&(!W.skip_bound&&W.bound[tt]&&W.bound[tt](Wt),J&&Je(t,tt)),gt}):[],W.update(),J=!0,y(W.before_update),W.fragment=c?c(W.ctx):!1,e.target){if(e.hydrate){const tt=An(e.target);W.fragment&&W.fragment.l(tt),tt.forEach(q)}else W.fragment&&W.fragment.c();e.intro&&ae(t.$$.fragment),Me(t,e.target,e.anchor),Ei()}l(z)}class bn{constructor(){u(this,"$$"),u(this,"$$set")}$destroy(){Yt(this,1),this.$destroy=d}$on(e,o){if(!S(o))return d;const c=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return c.push(o),()=>{const h=c.indexOf(o);h!==-1&&c.splice(h,1)}}$set(e){this.$$set&&!Q(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Ln="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Ln);var an=(t=>(t.ELLIPSE="ELLIPSE",t.MULTIPOLYGON="MULTIPOLYGON",t.POLYGON="POLYGON",t.POLYLINE="POLYLINE",t.RECTANGLE="RECTANGLE",t.LINE="LINE",t))(an||{});function xn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var pi={exports:{}};(function(t){(function(){function e(O,z){var W=O.x-z.x,J=O.y-z.y;return W*W+J*J}function o(O,z,W){var J=z.x,tt=z.y,gt=W.x-J,ne=W.y-tt;if(gt!==0||ne!==0){var Wt=((O.x-J)*gt+(O.y-tt)*ne)/(gt*gt+ne*ne);Wt>1?(J=W.x,tt=W.y):Wt>0&&(J+=gt*Wt,tt+=ne*Wt)}return gt=O.x-J,ne=O.y-tt,gt*gt+ne*ne}function c(O,z){for(var W=O[0],J=[W],tt,gt=1,ne=O.length;gt<ne;gt++)tt=O[gt],e(tt,W)>z&&(J.push(tt),W=tt);return W!==tt&&J.push(tt),J}function h(O,z,W,J,tt){for(var gt=J,ne,Wt=z+1;Wt<W;Wt++){var Dt=o(O[Wt],O[z],O[W]);Dt>gt&&(ne=Wt,gt=Dt)}gt>J&&(ne-z>1&&h(O,z,ne,J,tt),tt.push(O[ne]),W-ne>1&&h(O,ne,W,J,tt))}function w(O,z){var W=O.length-1,J=[O[0]];return h(O,0,W,z,J),J.push(O[W]),J}function P(O,z,W){if(O.length<=2)return O;var J=z!==void 0?z*z:1;return O=W?O:c(O,J),O=w(O,J),O}t.exports=P,t.exports.default=P})()})(pi);var Hi=pi.exports;const It=xn(Hi),ai={},en=(t,e)=>ai[t]=e,Mi=t=>ai[t.type].area(t),bt=(t,e,o,c)=>ai[t.type].intersects(t,e,o,c),ht=t=>{let e=1/0,o=1/0,c=-1/0,h=-1/0;return t.forEach(([w,P])=>{e=Math.min(e,w),o=Math.min(o,P),c=Math.max(c,w),h=Math.max(h,P)}),{minX:e,minY:o,maxX:c,maxY:h}},Rt=t=>{let e=0,o=t.length-1;for(let c=0;c<t.length;c++)e+=(t[o][0]+t[c][0])*(t[o][1]-t[c][1]),o=c;return Math.abs(.5*e)},he=(t,e,o)=>{let c=!1;for(let h=0,w=t.length-1;h<t.length;w=h++){const P=t[h][0],O=t[h][1],z=t[w][0],W=t[w][1];O>o!=W>o&&e<(z-P)*(o-O)/(W-O)+P&&(c=!c)}return c},Pe=(t,e=!0)=>{let o="M ";return t.forEach(([c,h],w)=>{w===0?o+=`${c},${h}`:o+=` L ${c},${h}`}),e&&(o+=" Z"),o},ge=(t,e=1)=>{const o=t.map(([c,h])=>({x:c,y:h}));return It(o,e,!0).map(c=>[c.x,c.y])},Fe=(t,e)=>{const o=Math.abs(e[0]-t[0]),c=Math.abs(e[1]-t[1]);return Math.sqrt(Math.pow(o,2)+Math.pow(c,2))},Ne={area:t=>Math.PI*t.geometry.rx*t.geometry.ry,intersects:(t,e,o)=>{const{cx:c,cy:h,rx:w,ry:P}=t.geometry,O=0,z=Math.cos(O),W=Math.sin(O),J=e-c,tt=o-h,gt=z*J+W*tt,ne=W*J-z*tt;return gt*gt/(w*w)+ne*ne/(P*P)<=1}};en(an.ELLIPSE,Ne);const je={area:t=>0,intersects:(t,e,o,c=2)=>{const[[h,w],[P,O]]=t.geometry.points,z=Math.abs((O-w)*e-(P-h)*o+P*w-O*h),W=Fe([h,w],[P,O]);return z/W<=c}};en(an.LINE,je);const wn={area:t=>{const{polygons:e}=t.geometry;return e.reduce((o,c)=>{const[h,...w]=c.rings,P=Rt(h.points),O=w.reduce((z,W)=>z+Rt(W.points),0);return o+P-O},0)},intersects:(t,e,o)=>{const{polygons:c}=t.geometry;for(const h of c){const[w,...P]=h.rings;if(he(w.points,e,o)){let O=!1;for(const z of P)if(he(z.points,e,o)){O=!0;break}if(!O)return!0}}return!1}},Qe=t=>{const e=t.reduce((o,c)=>[...o,...c.rings[0].points],[]);return ht(e)},qe=t=>t.rings.map(e=>Pe(e.points)).join(" "),Jn=t=>t.polygons.reduce((e,o)=>[...e,...o.rings.reduce((c,h)=>[...c,...h.points],[])],[]),Hn=(t,e=1)=>{const o=t.geometry.polygons.map(h=>{const w=h.rings.map(O=>{const z=ge(O.points,e);return{...O,points:z}}),P=ht(w[0].points);return{...h,rings:w,bounds:P}}),c=Qe(o);return{...t,geometry:{...t.geometry,polygons:o,bounds:c}}};en(an.MULTIPOLYGON,wn);const Bn={area:t=>{const e=t.geometry.points;return Rt(e)},intersects:(t,e,o)=>{const c=t.geometry.points;return he(c,e,o)}},On=(t,e=1)=>{const o=ge(t.geometry.points,e),c=ht(o);return{...t,geometry:{...t.geometry,bounds:c,points:o}}};en(an.POLYGON,Bn);const Dn={area:t=>{const e=t.geometry;if(!e.closed||e.points.length<3)return 0;const o=yi(e.points,e.closed);return Rt(o)},intersects:(t,e,o,c=2)=>{const h=t.geometry;if(h.closed){const w=yi(h.points,h.closed);return he(w,e,o)}else return mi(h,[e,o],c)}},yi=(t,e=!1)=>{const o=[];for(let c=0;c<t.length;c++){const h=t[c],w=t[(c+1)%t.length];if(o.push(h.point),(c<t.length-1||e)&&(h.type==="CURVE"||w.type=="CURVE")){const P=xi(h.point,h.type==="CURVE"&&h.outHandle||h.point,w.type==="CURVE"&&w.inHandle||w.point,w.point,10);o.push(...P.slice(1))}}return o},xi=(t,e,o,c,h=10)=>{const w=[];for(let P=0;P<=h;P++){const O=P/h,z=Math.pow(1-O,3)*t[0]+3*Math.pow(1-O,2)*O*e[0]+3*(1-O)*Math.pow(O,2)*o[0]+Math.pow(O,3)*c[0],W=Math.pow(1-O,3)*t[1]+3*Math.pow(1-O,2)*O*e[1]+3*(1-O)*Math.pow(O,2)*o[1]+Math.pow(O,3)*c[1];w.push([z,W])}return w},mi=(t,e,o)=>{for(let c=0;c<t.points.length-1;c++){const h=t.points[c],w=t.points[c+1];if(h.type==="CURVE"||w.type==="CURVE"){const P=xi(h.point,h.type==="CURVE"&&h.outHandle||h.point,w.type==="CURVE"&&w.inHandle||w.point,w.point,20);for(let O=0;O<P.length-1;O++)if(oi(e,P[O],P[O+1])<=o)return!0}else if(oi(e,h.point,w.point)<=o)return!0}return!1},oi=(t,e,o)=>{const[c,h]=t,[w,P]=e,[O,z]=o,W=O-w,J=z-P,tt=Math.sqrt(W*W+J*J);if(tt===0)return Math.sqrt((c-w)*(c-w)+(h-P)*(h-P));const gt=((c-w)*W+(h-P)*J)/(tt*tt);return gt<=0?Math.sqrt((c-w)*(c-w)+(h-P)*(h-P)):gt>=1?Math.sqrt((c-O)*(c-O)+(h-z)*(h-z)):Math.abs((z-P)*c-(O-w)*h+O*P-z*w)/tt},Un=t=>{if(!t.points||t.points.length===0)return"";const e=[],o=t.points[0];e.push(`M ${o.point[0]} ${o.point[1]}`);for(let c=1;c<t.points.length;c++){const h=t.points[c],w=t.points[c-1];if(h.type==="CURVE"||w.type==="CURVE"){const P=w.type==="CURVE"&&w.outHandle||w.point,O=h.type==="CURVE"&&h.inHandle||h.point,z=h.point;e.push(`C ${P[0]} ${P[1]} ${O[0]} ${O[1]} ${z[0]} ${z[1]}`)}else e.push(`L ${h.point[0]} ${h.point[1]}`)}if(t.closed){const c=t.points[t.points.length-1],h=t.points[0];if(c.type==="CURVE"||h.type==="CURVE"){const w=c.outHandle||c.point,P=h.inHandle||h.point,O=h.point;e.push(`C ${w[0]} ${w[1]} ${P[0]} ${P[1]} ${O[0]} ${O[1]}`)}e.push("Z")}return e.join(" ")};en(an.POLYLINE,Dn);const ti={area:t=>t.geometry.w*t.geometry.h,intersects:(t,e,o)=>e>=t.geometry.x&&e<=t.geometry.x+t.geometry.w&&o>=t.geometry.y&&o<=t.geometry.y+t.geometry.h};en(an.RECTANGLE,ti);const li=t=>ei(t.target),ei=t=>{var e,o;return(t==null?void 0:t.annotation)!==void 0&&((o=(e=t==null?void 0:t.selector)==null?void 0:e.geometry)==null?void 0:o.bounds)!==void 0},gi=(t,e=!1)=>{const o=typeof t=="string"?t:t.value,c=/(xywh)=(pixel|percent)?:?(.+?),(.+?),(.+?),(.+)*/g,h=[...o.matchAll(c)][0],[w,P,O,z,W,J,tt]=h;if(P!=="xywh")throw new Error("Unsupported MediaFragment: "+o);if(O&&O!=="pixel")throw new Error(`Unsupported MediaFragment unit: ${O}`);const[gt,ne,Wt,Dt]=[z,W,J,tt].map(parseFloat);return{type:an.RECTANGLE,geometry:{x:gt,y:ne,w:Wt,h:Dt,bounds:{minX:gt,minY:e?ne-Dt:ne,maxX:gt+Wt,maxY:e?ne:ne+Dt}}}},Ai=t=>{const{x:e,y:o,w:c,h}=t;return{type:"FragmentSelector",conformsTo:"http://www.w3.org/TR/media-frags/",value:`xywh=pixel:${e},${o},${c},${h}`}},Ui="http://www.w3.org/2000/svg",Vi=t=>{const e=c=>{Array.from(c.attributes).forEach(h=>{h.name.startsWith("on")&&c.removeAttribute(h.name)})},o=t.getElementsByTagName("script");return Array.from(o).reverse().forEach(c=>c.parentNode.removeChild(c)),Array.from(t.querySelectorAll("*")).forEach(e),t},ir=t=>{const e=new XMLSerializer().serializeToString(t.documentElement).replace("<svg>",`<svg xmlns="${Ui}">`);return new DOMParser().parseFromString(e,"image/svg+xml").documentElement},er=t=>{const e=new DOMParser().parseFromString(t,"image/svg+xml"),o=e.lookupPrefix(Ui),c=e.lookupNamespaceURI(null);return o||c?Vi(e).firstChild:Vi(ir(e)).firstChild},$i=t=>{const e=mn(t),o=[];let c=[],h=[0,0];for(const w of e)switch(w.type.toUpperCase()){case"M":c.length>0&&(o.push({points:c}),c=[]),h=[w.args[0],w.args[1]],c.push([...h]);break;case"L":h=[w.args[0],w.args[1]],c.push([...h]);break;case"H":h=[w.args[0],h[1]],c.push([...h]);break;case"V":h=[h[0],w.args[0]],c.push([...h]);break;case"C":h=[w.args[4],w.args[5]],c.push([...h]);break;case"Z":break;default:console.warn(`Unsupported SVG path command: ${w.type}`);break}if(c.length>2&&o.push({points:c}),o.length>0){const w=ht(o[0].points);return{rings:o,bounds:w}}},Ri=t=>{const{point:e,inHandle:o,outHandle:c}=t;if(!o||!c)return!1;const h=o[0]-e[0],w=o[1]-e[1],P=c[0]-e[0],O=c[1]-e[1],z=h*O-w*P;return Math.abs(z)<.01},ve=t=>{const e=mn(t);let o=[],c=[0,0],h=!1;for(let P=0;P<e.length;P++){const O=e[P];switch(O.type.toUpperCase()){case"M":c=[O.args[0],O.args[1]],o.push({type:"CORNER",point:[...c]});break;case"L":c=[O.args[0],O.args[1]],o.push({type:"CORNER",point:[...c]});break;case"C":const z=[O.args[0],O.args[1]],W=[O.args[2],O.args[3]],J=[O.args[4],O.args[5]];if(o.length>0){const gt=o[o.length-1];(z[0]!==gt.point[0]||z[1]!==gt.point[1])&&(gt.type="CURVE",gt.outHandle=z)}const tt={type:W[0]!==J[0]||W[1]!==J[1]?"CURVE":"CORNER",point:J};tt.type==="CURVE"&&(tt.inHandle=W),o.push(tt),c=J;break;case"Z":h=!0;break;default:console.warn(`Unsupported SVG path command: ${O.type}`);break}}o=o.map(P=>Ri(P)?{...P,locked:!0}:P);const w=ht(yi(o,h));return{points:o,closed:h,bounds:w}},mn=t=>{const e=[],o=t.replace(/,/g," ").trim(),c=/([MmLlHhVvCcZz])\s*([^MmLlHhVvCcZz]*)/g;let h;for(;(h=c.exec(o))!==null;){const[,w,P]=h,O=P.trim()===""?[]:P.trim().split(/\s+/).map(Number).filter(z=>!isNaN(z));e.push({type:w,args:O})}return e},In=t=>{const[e,o,c]=t.match(/(<polygon points=["|'])([^("|')]*)/)||[],h=c.split(" ").map(w=>w.split(",").map(parseFloat));return{type:an.POLYGON,geometry:{points:h,bounds:ht(h)}}},gn=t=>{const e=er(t),o=parseFloat(e.getAttribute("cx")),c=parseFloat(e.getAttribute("cy")),h=parseFloat(e.getAttribute("rx")),w=parseFloat(e.getAttribute("ry")),P={minX:o-h,minY:c-w,maxX:o+h,maxY:c+w};return{type:an.ELLIPSE,geometry:{cx:o,cy:c,rx:h,ry:w,bounds:P}}},Mn=t=>{const e=er(t),o=parseFloat(e.getAttribute("x1")),c=parseFloat(e.getAttribute("x2")),h=parseFloat(e.getAttribute("y1")),w=parseFloat(e.getAttribute("y2")),P={minX:Math.min(o,c),minY:Math.min(h,w),maxX:Math.max(o,c),maxY:Math.max(h,w)};return{type:an.LINE,geometry:{points:[[o,h],[c,w]],bounds:P}}},Xn=t=>{const e=er(t),o=e.nodeName==="path"?e:Array.from(e.querySelectorAll("path"))[0],c=o==null?void 0:o.getAttribute("d");if(!c)throw new Error("Could not parse SVG path");const h=ve(c);if(!h)throw new Error("Could not parse SVG path");return{type:an.POLYLINE,geometry:h}},Gi=t=>{const e=er(t),o=(e.nodeName==="path"?[e]:Array.from(e.querySelectorAll("path"))).map(w=>w.getAttribute("d")||"").map(w=>$i(w)).filter(Boolean),c=o.reduce((w,P)=>[...w,...P.rings[0].points],[]),h=ht(c);return o.length===1&&o[0].rings.length===1?{type:an.POLYGON,geometry:{points:c,bounds:h}}:{type:an.MULTIPOLYGON,geometry:{polygons:o,bounds:h}}},nr=t=>{const e=typeof t=="string"?t:t.value;if(e.includes("<polygon points="))return In(e);if(e.includes("<path ")&&(e.includes(" C ")||!e.includes("Z")))return Xn(e);if(e.includes("<path "))return Gi(e);if(e.includes("<ellipse "))return gn(e);if(e.includes("<line "))return Mn(e);throw"Unsupported SVG shape: "+e},Oi=t=>`<g>${t.polygons.map(e=>`<path fill-rule="evenodd" d="${qe(e)}" />`).join("")}</g>`,Wi=t=>{let e;switch(t.type){case an.POLYGON:{const o=t.geometry,{points:c}=o;e=`<svg><polygon points="${c.map(h=>h.join(",")).join(" ")}" /></svg>`;break}case an.ELLIPSE:{const o=t.geometry;e=`<svg><ellipse cx="${o.cx}" cy="${o.cy}" rx="${o.rx}" ry="${o.ry}" /></svg>`;break}case an.MULTIPOLYGON:{const o=t.geometry;e=`<svg>${Oi(o)}</svg>`;break}case an.LINE:{const o=t.geometry,[[c,h],[w,P]]=o.points;e=`<svg><line x1="${c}" y1="${h}" x2="${w}" y2="${P}" /></svg>`;break}case an.POLYLINE:e=`<svg><path d="${Un(t.geometry)}" /></svg>`}if(e)return{type:"SvgSelector",value:e};throw`Unsupported shape type: ${t.type}`},Gn=[];for(let t=0;t<256;++t)Gn.push((t+256).toString(16).slice(1));function Ni(t,e=0){return(Gn[t[e+0]]+Gn[t[e+1]]+Gn[t[e+2]]+Gn[t[e+3]]+"-"+Gn[t[e+4]]+Gn[t[e+5]]+"-"+Gn[t[e+6]]+Gn[t[e+7]]+"-"+Gn[t[e+8]]+Gn[t[e+9]]+"-"+Gn[t[e+10]]+Gn[t[e+11]]+Gn[t[e+12]]+Gn[t[e+13]]+Gn[t[e+14]]+Gn[t[e+15]]).toLowerCase()}let zi;const Xi=new Uint8Array(16);function fr(){if(!zi){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");zi=crypto.getRandomValues.bind(crypto)}return zi(Xi)}const Pr={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function Or(t,e,o){var w,P;var c;t=t||{};const h=(P=(w=t.random)!=null?w:(c=t.rng)==null?void 0:c.call(t))!=null?P:fr();if(h.length<16)throw new Error("Random bytes length must be >= 16");return h[6]=h[6]&15|64,h[8]=h[8]&63|128,Ni(h)}function yr(t,e,o){return Pr.randomUUID&&!t?Pr.randomUUID():Or(t)}var Qi=Object.prototype.hasOwnProperty;function Ki(t,e){var o,c;if(t===e)return!0;if(t&&e&&(o=t.constructor)===e.constructor){if(o===Date)return t.getTime()===e.getTime();if(o===RegExp)return t.toString()===e.toString();if(o===Array){if((c=t.length)===e.length)for(;c--&&Ki(t[c],e[c]););return c===-1}if(!o||typeof t=="object"){c=0;for(o in t)if(Qi.call(t,o)&&++c&&!Qi.call(e,o)||!(o in e)||!Ki(t[o],e[o]))return!1;return Object.keys(e).length===c}}return t!==t&&e!==e}function _r(){}function pr(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}const rr=[];function s(t,e=_r){let o;const c=new Set;function h(O){if(pr(t,O)&&(t=O,o)){const z=!rr.length;for(const W of c)W[1](),rr.push(W,t);if(z){for(let W=0;W<rr.length;W+=2)rr[W][0](rr[W+1]);rr.length=0}}}function w(O){h(O(t))}function P(O,z=_r){const W=[O,z];return c.add(W),c.size===1&&(o=e(h,w)||_r),O(t),()=>{c.delete(W),c.size===0&&o&&(o(),o=null)}}return{set:h,update:w,subscribe:P}}const p=t=>{const{subscribe:e,set:o}=s();let c;return e(h=>c=h),t.observe(({changes:h})=>{if(c){(h.deleted||[]).some(P=>P.id===c)&&o(void 0);const w=(h.updated||[]).find(({oldValue:P})=>P.id===c);w&&o(w.newValue.id)}}),{get current(){return c},subscribe:e,set:o}};var x=(t=>(t.EDIT="EDIT",t.SELECT="SELECT",t.NONE="NONE",t))(x||{});const k={selected:[]},D=(t,e,o)=>{const{subscribe:c,set:h}=s(k);let w=e,P=k;c(Dt=>P=Dt);const O=()=>{Ki(P,k)||h(k)},z=()=>{var Dt;return((Dt=P.selected)==null?void 0:Dt.length)===0},W=Dt=>{if(z())return!1;const ze=typeof Dt=="string"?Dt:Dt.id;return P.selected.some(me=>me.id===ze)},J=(Dt,ze)=>{let me;if(Array.isArray(Dt)){if(me=Dt.map(Xt=>t.getAnnotation(Xt)).filter(Boolean),me.length<Dt.length){console.warn("Invalid selection: "+Dt.filter(Xt=>!me.some(Ie=>Ie.id===Xt)));return}}else{const Xt=t.getAnnotation(Dt);if(!Xt){console.warn("Invalid selection: "+Dt);return}me=[Xt]}const Ce=me.reduce((Xt,Ie)=>{const Ye=Wt(Ie);return Ye==="EDIT"?[...Xt,{id:Ie.id,editable:!0}]:Ye==="SELECT"?[...Xt,{id:Ie.id}]:Xt},[]);h({selected:Ce,event:ze})},tt=(Dt,ze)=>{const me=Array.isArray(Dt)?Dt:[Dt],Ce=me.map(Xt=>t.getAnnotation(Xt)).filter(Xt=>!!Xt);h({selected:Ce.map(Xt=>{const Ie=ze===void 0?Wt(Xt)==="EDIT":ze;return{id:Xt.id,editable:Ie}})}),Ce.length!==me.length&&console.warn("Invalid selection",Dt)},gt=Dt=>{if(z())return!1;const{selected:ze}=P;ze.some(({id:me})=>Dt.includes(me))&&h({selected:ze.filter(({id:me})=>!Dt.includes(me))})},ne=Dt=>{w=Dt,tt(P.selected.map(({id:ze})=>ze))},Wt=Dt=>Y(Dt,w,o);return t.observe(({changes:Dt})=>gt((Dt.deleted||[]).map(ze=>ze.id))),{get event(){return P?P.event:null},get selected(){return P?[...P.selected]:null},get userSelectAction(){return w},clear:O,evalSelectAction:Wt,isEmpty:z,isSelected:W,setSelected:tt,setUserSelectAction:ne,subscribe:c,userSelect:J}},Y=(t,e,o)=>{const c=o?o.serialize(t):t;return typeof e=="function"?e(c):e||"EDIT"},nt=[];for(let t=0;t<256;++t)nt.push((t+256).toString(16).slice(1));function ct(t,e=0){return(nt[t[e+0]]+nt[t[e+1]]+nt[t[e+2]]+nt[t[e+3]]+"-"+nt[t[e+4]]+nt[t[e+5]]+"-"+nt[t[e+6]]+nt[t[e+7]]+"-"+nt[t[e+8]]+nt[t[e+9]]+"-"+nt[t[e+10]]+nt[t[e+11]]+nt[t[e+12]]+nt[t[e+13]]+nt[t[e+14]]+nt[t[e+15]]).toLowerCase()}let Mt;const xt=new Uint8Array(16);function Kt(){if(!Mt){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Mt=crypto.getRandomValues.bind(crypto)}return Mt(xt)}const zt=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Vt={randomUUID:zt};function ie(t,e,o){var w,P;var c;t=t||{};const h=(P=(w=t.random)!=null?w:(c=t.rng)==null?void 0:c.call(t))!=null?P:Kt();if(h.length<16)throw new Error("Random bytes length must be >= 16");return h[6]=h[6]&15|64,h[8]=h[8]&63|128,ct(h)}function _n(t,e,o){return Vt.randomUUID&&!t?Vt.randomUUID():ie(t)}const nn=t=>{const e=o=>{const c={...o};return o.created&&typeof o.created=="string"&&(c.created=new Date(o.created)),o.updated&&typeof o.updated=="string"&&(c.updated=new Date(o.updated)),c};return{...t,bodies:(t.bodies||[]).map(e),target:e(t.target)}},cn=(t,e,o,c)=>({id:_n(),annotation:typeof t=="string"?t:t.id,created:o||new Date,creator:c,...e}),Tn=(t,e)=>{const o=new Set(t.bodies.map(c=>c.id));return e.bodies.filter(c=>!o.has(c.id))},ji=(t,e)=>{const o=new Set(e.bodies.map(c=>c.id));return t.bodies.filter(c=>!o.has(c.id))},Li=(t,e)=>e.bodies.map(o=>{const c=t.bodies.find(h=>h.id===o.id);return{newBody:o,oldBody:c&&!Ki(c,o)?c:void 0}}).filter(({oldBody:o})=>o).map(({oldBody:o,newBody:c})=>({oldBody:o,newBody:c})),jn=(t,e)=>!Ki(t.target,e.target),rt=(t,e)=>{const o=Tn(t,e),c=ji(t,e),h=Li(t,e);return{oldValue:t,newValue:e,bodiesCreated:o.length>0?o:void 0,bodiesDeleted:c.length>0?c:void 0,bodiesUpdated:h.length>0?h:void 0,targetUpdated:jn(t,e)?{oldTarget:t.target,newTarget:e.target}:void 0}};var dt=(t=>(t.LOCAL="LOCAL",t.REMOTE="REMOTE",t.SILENT="SILENT",t))(dt||{});const Nt=(t,e)=>{var o,c;const{changes:h,origin:w}=e;if(!(t.options.origin?t.options.origin===w:w!=="SILENT"))return!1;if(t.options.ignore){const{ignore:P}=t.options,O=z=>z&&z.length>0;if(!(O(h.created)||O(h.deleted))){const z=(o=h.updated)==null?void 0:o.some(J=>O(J.bodiesCreated)||O(J.bodiesDeleted)||O(J.bodiesUpdated)),W=(c=h.updated)==null?void 0:c.some(J=>J.targetUpdated);if(P==="BODY_ONLY"&&z&&!W||P==="TARGET_ONLY"&&W&&!z)return!1}}if(t.options.annotations){const P=new Set([...(h.created||[]).map(O=>O.id),...(h.deleted||[]).map(O=>O.id),...(h.updated||[]).map(({oldValue:O})=>O.id)]);return!!(Array.isArray(t.options.annotations)?t.options.annotations:[t.options.annotations]).find(O=>P.has(O))}else return!0},ee=(t,e)=>{const o=new Set((t.created||[]).map(tt=>tt.id)),c=new Set((t.updated||[]).map(({newValue:tt})=>tt.id)),h=new Set((e.created||[]).map(tt=>tt.id)),w=new Set((e.deleted||[]).map(tt=>tt.id)),P=new Set((e.updated||[]).map(({oldValue:tt})=>tt.id)),O=new Set((e.updated||[]).filter(({oldValue:tt})=>o.has(tt.id)||c.has(tt.id)).map(({oldValue:tt})=>tt.id)),z=[...(t.created||[]).filter(tt=>!w.has(tt.id)).map(tt=>P.has(tt.id)?e.updated.find(({oldValue:gt})=>gt.id===tt.id).newValue:tt),...e.created||[]],W=[...(t.deleted||[]).filter(tt=>!h.has(tt.id)),...(e.deleted||[]).filter(tt=>!o.has(tt.id))],J=[...(t.updated||[]).filter(({newValue:tt})=>!w.has(tt.id)).map(tt=>{const{oldValue:gt,newValue:ne}=tt;if(P.has(ne.id)){const Wt=e.updated.find(Dt=>Dt.oldValue.id===ne.id).newValue;return rt(gt,Wt)}else return tt}),...(e.updated||[]).filter(({oldValue:tt})=>!O.has(tt.id))];return{created:z,deleted:W,updated:J}},be=t=>{const e=t.id===void 0?_n():t.id;return{...t,id:e,bodies:t.bodies===void 0?[]:t.bodies.map(o=>({...o,annotation:e})),target:{...t.target,annotation:e}}},fe=t=>t.id!==void 0,Re=()=>{const t=new Map,e=new Map,o=[],c=(oe,Ae={})=>{o.push({onChange:oe,options:Ae})},h=oe=>{const Ae=o.findIndex(Ut=>Ut.onChange==oe);Ae>-1&&o.splice(Ae,1)},w=(oe,Ae)=>{const Ut={origin:oe,changes:{created:Ae.created||[],updated:Ae.updated||[],deleted:Ae.deleted||[]},state:[...t.values()]};o.forEach(se=>{Nt(se,Ut)&&se.onChange(Ut)})},P=(oe,Ae=dt.LOCAL)=>{if(oe.id&&t.get(oe.id))throw Error(`Cannot add annotation ${oe.id} - exists already`);{const Ut=be(oe);t.set(Ut.id,Ut),Ut.bodies.forEach(se=>e.set(se.id,Ut.id)),w(Ae,{created:[Ut]})}},O=(oe,Ae)=>{const Ut=be(typeof oe=="string"?Ae:oe),se=typeof oe=="string"?oe:oe.id,rn=se&&t.get(se);if(rn){const Ze=rt(rn,Ut);return se===Ut.id?t.set(se,Ut):(t.delete(se),t.set(Ut.id,Ut)),rn.bodies.forEach(hn=>e.delete(hn.id)),Ut.bodies.forEach(hn=>e.set(hn.id,Ut.id)),Ze}else console.warn(`Cannot update annotation ${se} - does not exist`)},z=(oe,Ae=dt.LOCAL,Ut=dt.LOCAL)=>{const se=fe(Ae)?Ut:Ae,rn=O(oe,Ae);rn&&w(se,{updated:[rn]})},W=(oe,Ae=dt.LOCAL)=>{t.get(oe.id)?z(oe,Ae):P(oe,Ae)},J=(oe,Ae=dt.LOCAL)=>{const Ut=oe.reduce((se,rn)=>{const Ze=O(rn);return Ze?[...se,Ze]:se},[]);Ut.length>0&&w(Ae,{updated:Ut})},tt=(oe,Ae=dt.LOCAL)=>{const Ut=oe.map(be),{toAdd:se,toUpdate:rn}=Ut.reduce((hn,fi)=>t.get(fi.id)?{...hn,toUpdate:[...hn.toUpdate,fi]}:{...hn,toAdd:[...hn.toAdd,fi]},{toAdd:[],toUpdate:[]}),Ze=rn.map(hn=>O(hn,Ae)).filter(Boolean);se.forEach(hn=>{t.set(hn.id,hn),hn.bodies.forEach(fi=>e.set(fi.id,hn.id))}),w(Ae,{created:se,updated:Ze})},gt=(oe,Ae=dt.LOCAL)=>{const Ut=t.get(oe.annotation);if(Ut){const se={...Ut,bodies:[...Ut.bodies,oe]};t.set(Ut.id,se),e.set(oe.id,se.id),w(Ae,{updated:[{oldValue:Ut,newValue:se,bodiesCreated:[oe]}]})}else console.warn(`Attempt to add body to missing annotation: ${oe.annotation}`)},ne=()=>[...t.values()],Wt=(oe=dt.LOCAL)=>{const Ae=[...t.values()];t.clear(),e.clear(),w(oe,{deleted:Ae})},Dt=(oe,Ae=!0,Ut=dt.LOCAL)=>{const se=oe.map(be);if(Ae){const rn=[...t.values()];t.clear(),e.clear(),se.forEach(Ze=>{t.set(Ze.id,Ze),Ze.bodies.forEach(hn=>e.set(hn.id,Ze.id))}),w(Ut,{created:se,deleted:rn})}else{const rn=oe.reduce((Ze,hn)=>{const fi=hn.id&&t.get(hn.id);return fi?[...Ze,fi]:Ze},[]);if(rn.length>0)throw Error(`Bulk insert would overwrite the following annotations: ${rn.map(Ze=>Ze.id).join(", ")}`);se.forEach(Ze=>{t.set(Ze.id,Ze),Ze.bodies.forEach(hn=>e.set(hn.id,Ze.id))}),w(Ut,{created:se})}},ze=oe=>{const Ae=typeof oe=="string"?oe:oe.id,Ut=t.get(Ae);if(Ut)return t.delete(Ae),Ut.bodies.forEach(se=>e.delete(se.id)),Ut;console.warn(`Attempt to delete missing annotation: ${Ae}`)},me=(oe,Ae=dt.LOCAL)=>{const Ut=ze(oe);Ut&&w(Ae,{deleted:[Ut]})},Ce=(oe,Ae=dt.LOCAL)=>{const Ut=oe.reduce((se,rn)=>{const Ze=ze(rn);return Ze?[...se,Ze]:se},[]);Ut.length>0&&w(Ae,{deleted:Ut})},Xt=oe=>{const Ae=t.get(oe.annotation);if(Ae){const Ut=Ae.bodies.find(se=>se.id===oe.id);if(Ut){e.delete(Ut.id);const se={...Ae,bodies:Ae.bodies.filter(rn=>rn.id!==oe.id)};return t.set(Ae.id,se),{oldValue:Ae,newValue:se,bodiesDeleted:[Ut]}}else console.warn(`Attempt to delete missing body ${oe.id} from annotation ${oe.annotation}`)}else console.warn(`Attempt to delete body from missing annotation ${oe.annotation}`)},Ie=(oe,Ae=dt.LOCAL)=>{const Ut=Xt(oe);Ut&&w(Ae,{updated:[Ut]})},Ye=(oe,Ae=dt.LOCAL)=>{const Ut=oe.map(se=>Xt(se)).filter(Boolean);Ut.length>0&&w(Ae,{updated:Ut})},un=oe=>{const Ae=t.get(oe);return Ae?{...Ae}:void 0},Ge=oe=>{const Ae=e.get(oe);if(Ae){const Ut=un(Ae).bodies.find(se=>se.id===oe);if(Ut)return Ut;console.error(`Store integrity error: body ${oe} in index, but not in annotation`)}else console.warn(`Attempt to retrieve missing body: ${oe}`)},zn=(oe,Ae)=>{if(oe.annotation!==Ae.annotation)throw"Annotation integrity violation: annotation ID must be the same when updating bodies";const Ut=t.get(oe.annotation);if(Ut){const se=Ut.bodies.find(Ze=>Ze.id===oe.id),rn={...Ut,bodies:Ut.bodies.map(Ze=>Ze.id===se.id?Ae:Ze)};return t.set(Ut.id,rn),se.id!==Ae.id&&(e.delete(se.id),e.set(Ae.id,rn.id)),{oldValue:Ut,newValue:rn,bodiesUpdated:[{oldBody:se,newBody:Ae}]}}else console.warn(`Attempt to add body to missing annotation ${oe.annotation}`)},kn=(oe,Ae,Ut=dt.LOCAL)=>{const se=zn(oe,Ae);se&&w(Ut,{updated:[se]})},Ii=(oe,Ae=dt.LOCAL)=>{const Ut=oe.map(se=>zn({id:se.id,annotation:se.annotation},se)).filter(Boolean);w(Ae,{updated:Ut})},wi=oe=>{const Ae=t.get(oe.annotation);if(Ae){const Ut={...Ae,target:{...Ae.target,...oe}};return t.set(Ae.id,Ut),{oldValue:Ae,newValue:Ut,targetUpdated:{oldTarget:Ae.target,newTarget:oe}}}else console.warn(`Attempt to update target on missing annotation: ${oe.annotation}`)};return{addAnnotation:P,addBody:gt,all:ne,bulkAddAnnotations:Dt,bulkDeleteAnnotations:Ce,bulkDeleteBodies:Ye,bulkUpdateAnnotations:J,bulkUpdateBodies:Ii,bulkUpdateTargets:(oe,Ae=dt.LOCAL)=>{const Ut=oe.map(se=>wi(se)).filter(Boolean);Ut.length>0&&w(Ae,{updated:Ut})},bulkUpsertAnnotations:tt,clear:Wt,deleteAnnotation:me,deleteBody:Ie,getAnnotation:un,getBody:Ge,observe:c,unobserve:h,updateAnnotation:z,updateBody:kn,updateTarget:(oe,Ae=dt.LOCAL)=>{const Ut=wi(oe);Ut&&w(Ae,{updated:[Ut]})},upsertAnnotation:W}},We=t=>({...t,subscribe:e=>{const o=c=>e(c.state);return t.observe(o),e(t.all()),()=>t.unobserve(o)}});let Ke=()=>({emit(t,...e){for(let o=this.events[t]||[],c=0,h=o.length;c<h;c++)o[c](...e)},events:{},on(t,e){var o;return((o=this.events)[t]||(o[t]=[])).push(e),()=>{var c;this.events[t]=(c=this.events[t])==null?void 0:c.filter(h=>e!==h)}}});const Nn=250,ci=(t,e)=>{const o=Ke(),c=(e==null?void 0:e.changes)||[];let h=e?e.pointer:-1,w=!1,P=0;const O=Wt=>{if(!w){const{changes:Dt}=Wt,ze=performance.now();if(ze-P>Nn)c.splice(h+1),c.push(Dt),h=c.length-1;else{const me=c.length-1;c[me]=ee(c[me],Dt)}P=ze}w=!1};t.observe(O,{origin:dt.LOCAL});const z=Wt=>Wt&&Wt.length>0&&t.bulkDeleteAnnotations(Wt),W=Wt=>Wt&&Wt.length>0&&t.bulkAddAnnotations(Wt,!1),J=Wt=>Wt&&Wt.length>0&&t.bulkUpdateAnnotations(Wt.map(({oldValue:Dt})=>Dt)),tt=Wt=>Wt&&Wt.length>0&&t.bulkUpdateAnnotations(Wt.map(({newValue:Dt})=>Dt)),gt=Wt=>Wt&&Wt.length>0&&t.bulkAddAnnotations(Wt,!1),ne=Wt=>Wt&&Wt.length>0&&t.bulkDeleteAnnotations(Wt);return{canRedo:()=>c.length-1>h,canUndo:()=>h>-1,destroy:()=>t.unobserve(O),getHistory:()=>({changes:[...c],pointer:h}),on:(Wt,Dt)=>o.on(Wt,Dt),redo:()=>{if(c.length-1>h){w=!0;const{created:Wt,updated:Dt,deleted:ze}=c[h+1];W(Wt),tt(Dt),ne(ze),o.emit("redo",c[h+1]),h+=1}},undo:()=>{if(h>-1){w=!0;const{created:Wt,updated:Dt,deleted:ze}=c[h];z(Wt),J(Dt),gt(ze),o.emit("undo",c[h]),h-=1}}}},vt=()=>{const{subscribe:t,set:e}=s([]);return{subscribe:t,set:e}},de=(t,e,o,c)=>{const{hover:h,selection:w,store:P,viewport:O}=t,z=new Map;let W=[],J,tt;const gt=(me,Ce)=>{z.has(me)?z.get(me).push(Ce):z.set(me,[Ce])},ne=(me,Ce)=>{const Xt=z.get(me);if(Xt){const Ie=Xt.indexOf(Ce);Ie!==-1&&Xt.splice(Ie,1)}},Wt=(me,Ce,Xt)=>{z.has(me)&&setTimeout(()=>{z.get(me).forEach(Ie=>{if(o){const Ye=Array.isArray(Ce)?Ce.map(Ge=>o.serialize(Ge)):o.serialize(Ce),un=Xt?Xt instanceof PointerEvent?Xt:o.serialize(Xt):void 0;Ie(Ye,un)}else Ie(Ce,Xt)})},1)},Dt=()=>{const{selected:me}=w,Ce=(me||[]).map(({id:Xt})=>P.getAnnotation(Xt));Ce.forEach(Xt=>{const Ie=W.find(Ye=>Ye.id===Xt.id);(!Ie||!Ki(Ie,Xt))&&Wt("updateAnnotation",Xt,Ie)}),W=W.map(Xt=>Ce.find(({id:Ie})=>Ie===Xt.id)||Xt)};w.subscribe(({selected:me})=>{if(!(W.length===0&&me.length===0)){if(W.length===0&&me.length>0)W=me.map(({id:Ce})=>P.getAnnotation(Ce));else if(W.length>0&&me.length===0)W.forEach(Ce=>{const Xt=P.getAnnotation(Ce.id);Xt&&!Ki(Xt,Ce)&&Wt("updateAnnotation",Xt,Ce)}),W=[];else{const Ce=new Set(W.map(Ie=>Ie.id)),Xt=new Set(me.map(({id:Ie})=>Ie));W.filter(Ie=>!Xt.has(Ie.id)).forEach(Ie=>{const Ye=P.getAnnotation(Ie.id);Ye&&!Ki(Ye,Ie)&&Wt("updateAnnotation",Ye,Ie)}),W=[...W.filter(Ie=>Xt.has(Ie.id)),...me.filter(({id:Ie})=>!Ce.has(Ie)).map(({id:Ie})=>P.getAnnotation(Ie))]}Wt("selectionChanged",W)}}),h.subscribe(me=>{!J&&me?Wt("mouseEnterAnnotation",P.getAnnotation(me)):J&&!me?Wt("mouseLeaveAnnotation",P.getAnnotation(J)):J&&me&&(Wt("mouseLeaveAnnotation",P.getAnnotation(J)),Wt("mouseEnterAnnotation",P.getAnnotation(me))),J=me}),O==null||O.subscribe(me=>Wt("viewportIntersect",me.map(Ce=>P.getAnnotation(Ce)))),P.observe(me=>{c&&(tt&&clearTimeout(tt),tt=setTimeout(Dt,1e3));const{created:Ce,deleted:Xt}=me.changes;(Ce||[]).forEach(Ie=>Wt("createAnnotation",Ie)),(Xt||[]).forEach(Ie=>Wt("deleteAnnotation",Ie)),(me.changes.updated||[]).filter(Ie=>[...Ie.bodiesCreated||[],...Ie.bodiesDeleted||[],...Ie.bodiesUpdated||[]].length>0).forEach(({oldValue:Ie,newValue:Ye})=>{const un=W.find(Ge=>Ge.id===Ie.id)||Ie;W=W.map(Ge=>Ge.id===Ie.id?Ye:Ge),Wt("updateAnnotation",Ye,un)})},{origin:dt.LOCAL}),P.observe(me=>{if(W){const Ce=new Set(W.map(Ie=>Ie.id)),Xt=(me.changes.updated||[]).filter(({newValue:Ie})=>Ce.has(Ie.id)).map(({newValue:Ie})=>Ie);Xt.length>0&&(W=W.map(Ie=>Xt.find(Ye=>Ye.id===Ie.id)||Ie))}},{origin:dt.REMOTE});const ze=me=>Ce=>{const{updated:Xt}=Ce;me?(Xt||[]).forEach(Ie=>Wt("updateAnnotation",Ie.oldValue,Ie.newValue)):(Xt||[]).forEach(Ie=>Wt("updateAnnotation",Ie.newValue,Ie.oldValue))};return e.on("undo",ze(!0)),e.on("redo",ze(!1)),{on:gt,off:ne,emit:Wt}},$e=t=>e=>e.reduce((o,c)=>{const{parsed:h,error:w}=t.parse(c);return w?{parsed:o.parsed,failed:[...o.failed,c]}:h?{parsed:[...o.parsed,h],failed:o.failed}:{...o}},{parsed:[],failed:[]}),De=(t,e,o)=>{const{store:c,selection:h}=t,w=me=>{if(o){const{parsed:Ce,error:Xt}=o.parse(me);Ce?c.addAnnotation(Ce,dt.REMOTE):console.error(Xt)}else c.addAnnotation(nn(me),dt.REMOTE)},P=()=>h.clear(),O=()=>c.clear(),z=me=>{const Ce=c.getAnnotation(me);return o&&Ce?o.serialize(Ce):Ce},W=()=>o?c.all().map(o.serialize):c.all(),J=()=>{var me;const Ce=(((me=h.selected)==null?void 0:me.map(Xt=>Xt.id))||[]).map(Xt=>c.getAnnotation(Xt)).filter(Boolean);return o?Ce.map(o.serialize):Ce},tt=(me,Ce=!0)=>fetch(me).then(Xt=>Xt.json()).then(Xt=>(ne(Xt,Ce),Xt)),gt=me=>{if(typeof me=="string"){const Ce=c.getAnnotation(me);if(c.deleteAnnotation(me),Ce)return o?o.serialize(Ce):Ce}else{const Ce=o?o.parse(me).parsed:me;if(Ce)return c.deleteAnnotation(Ce),me}},ne=(me,Ce=!0)=>{if(o){const Xt=o.parseAll||$e(o),{parsed:Ie,failed:Ye}=Xt(me);Ye.length>0&&console.warn(`Discarded ${Ye.length} invalid annotations`,Ye),c.bulkAddAnnotations(Ie,Ce,dt.REMOTE)}else c.bulkAddAnnotations(me.map(nn),Ce,dt.REMOTE)},Wt=(me,Ce)=>{me?h.setSelected(me,Ce):h.clear()},Dt=me=>{h.clear(),h.setUserSelectAction(me)},ze=me=>{if(o){const Ce=o.parse(me).parsed,Xt=o.serialize(c.getAnnotation(Ce.id));return c.updateAnnotation(Ce),Xt}else{const Ce=c.getAnnotation(me.id);return c.updateAnnotation(nn(me)),Ce}};return{addAnnotation:w,cancelSelected:P,canRedo:e.canRedo,canUndo:e.canUndo,clearAnnotations:O,getAnnotationById:z,getAnnotations:W,getHistory:e.getHistory,getSelected:J,loadAnnotations:tt,redo:e.redo,removeAnnotation:gt,setAnnotations:ne,setSelected:Wt,setUserSelectAction:Dt,undo:e.undo,updateAnnotation:ze}},Ve=(t,e,o)=>typeof e=="function"?e(t,o):e,di=(t,e)=>typeof t!="function"&&typeof e!="function"?{...t||{},...e||{}}:(o,c)=>{const h=typeof t=="function"?t(o,c):t,w=typeof e=="function"?e(o,c):e;return{...h||{},...w||{}}},r="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let f=t=>crypto.getRandomValues(new Uint8Array(t)),_=(t,e,o)=>{let c=(2<<Math.log2(t.length-1))-1,h=-~(1.6*c*e/t.length);return(w=e)=>{let P="";for(;;){let O=o(h),z=h|0;for(;z--;)if(P+=t[O[z]&c]||"",P.length>=w)return P}}},E=(t,e=21)=>_(t,e|0,f),B=(t=21)=>{let e="",o=crypto.getRandomValues(new Uint8Array(t|=0));for(;t--;)e+=r[o[t]&63];return e};const U=()=>({isGuest:!0,id:E("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_",20)()}),et=t=>{const e=JSON.stringify(t);let o=0;for(let c=0,h=e.length;c<h;c++){let w=e.charCodeAt(c);o=(o<<5)-o+w,o|=0}return`${o}`},wt=t=>t?typeof t=="object"?{...t}:t:void 0,yt=(t,e)=>(Array.isArray(t)?t:[t]).map(o=>{const{id:c,type:h,purpose:w,value:P,created:O,modified:z,creator:W,...J}=o;return{id:c||`temp-${et(o)}`,annotation:e,type:h,purpose:w,value:P,creator:wt(W),created:O?new Date(O):void 0,updated:z?new Date(z):void 0,...J}}),Lt=t=>t.map(e=>{var o;const{annotation:c,created:h,updated:w,...P}=e,O={...P,created:h==null?void 0:h.toISOString(),modified:w==null?void 0:w.toISOString()};return(o=O.id)!=null&&o.startsWith("temp-")&&delete O.id,O}),re=["#ff7c00","#1ac938","#e8000b","#8b2be2","#9f4800","#f14cc1","#ffc400","#00d7ff","#023eff"],xe=()=>{const t=[...re];return{assignRandomColor:()=>{const e=Math.floor(Math.random()*t.length),o=t[e];return t.splice(e,1),o},releaseColor:e=>t.push(e)}};B();const Zt=(t,e={strict:!0,invertY:!1})=>({parse:o=>Oe(o,e),serialize:o=>Cn(o,t,e)}),Oe=(t,e={strict:!0,invertY:!1})=>{const o=t.id||yr(),{creator:c,created:h,modified:w,body:P,...O}=t,z=yt(P||[],o),W=Array.isArray(t.target)?t.target[0]:t.target,J=typeof W=="string"?W:Array.isArray(W.selector)?W.selector[0]:W.selector,tt=typeof J=="string"||(J==null?void 0:J.type)==="FragmentSelector"?gi(J,e.invertY):(J==null?void 0:J.type)==="SvgSelector"?nr(J):void 0,gt=Array.isArray(O.target)?O.target[0]:O.targret;return tt||!e.strict?{parsed:{...O,id:o,bodies:z,target:{created:h?new Date(h):void 0,creator:wt(c),updated:w?new Date(w):void 0,...typeof gt=="string"?{}:gt,annotation:o,selector:tt||J}}}:{error:Error(`Invalid selector: ${JSON.stringify(J)}`)}},Cn=(t,e,o={strict:!0,invertY:!1})=>{const{selector:c,creator:h,created:w,updated:P,updatedBy:O,...z}=t.target;let W;try{W=c.type==an.RECTANGLE?Ai(c.geometry):Wi(c)}catch(tt){if(o.strict)throw tt;W=c}const J={...t,"@context":"http://www.w3.org/ns/anno.jsonld",id:t.id,type:"Annotation",body:Lt(t.bodies),created:w==null?void 0:w.toISOString(),creator:h,modified:P==null?void 0:P.toISOString(),target:{...z,source:e,type:"SpecificResource",selector:W}};return delete J.bodies,"annotation"in J.target&&delete J.target.annotation,J},Vn=[];function Qn(t,e=d){let o;const c=new Set;function h(O){if(R(t,O)&&(t=O,o)){const z=!Vn.length;for(const W of c)W[1](),Vn.push(W,t);if(z){for(let W=0;W<Vn.length;W+=2)Vn[W][0](Vn[W+1]);Vn.length=0}}}function w(O){h(O(t))}function P(O,z=d){const W=[O,z];return c.add(W),c.size===1&&(o=e(h,w)||d),O(t),()=>{c.delete(W),c.size===0&&o&&(o(),o=null)}}return{set:h,update:w,subscribe:P}}const Zi=(t,e)=>{const{naturalWidth:o,naturalHeight:c}=t;if(!o&&!c){const{width:h,height:w}=t;e.setAttribute("viewBox",`0 0 ${h} ${w}`),t.addEventListener("load",P=>{const O=P.target;e.setAttribute("viewBox",`0 0 ${O.naturalWidth} ${O.naturalHeight}`)})}else e.setAttribute("viewBox",`0 0 ${o} ${c}`)},Ji=(t,e)=>{Zi(t,e);const{subscribe:o,set:c}=Qn(1);let h;return window.ResizeObserver&&(h=new ResizeObserver(()=>{const w=e.getBoundingClientRect(),{width:P,height:O}=e.viewBox.baseVal,z=Math.max(w.width/P,w.height/O);c(z)}),h.observe(e.parentElement)),{destroy:()=>{h&&h.disconnect()},subscribe:o}},ur=(t,e)=>{const o=typeof e=="function"?e(t):e;if(o){const{fill:c,fillOpacity:h,stroke:w,strokeWidth:P,strokeOpacity:O}=o;let z="";return c&&(z+=`fill:${c};`),h||h===0?z+=`fill-opacity:${h};`:c&&(z+="fill-opacity:0.25;"),w&&(z+=`stroke:${w};`,z+=`stroke-width:${P||"1"};`,z+=`stroke-opacity:${O||"1"};`),z}},hr=(t,e=0)=>{const{minX:o,minY:c,maxX:h,maxY:w}=t;return{x:o-e,y:c-e,w:h-o+2*e,h:w-c+2*e}},Yn=typeof window>"u"||typeof navigator>"u"?!1:"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,Bi=t=>({}),hi=t=>({grab:t[0]});function qi(t){let e,o,c,h;const w=t[8].default,P=V(w,t,t[7],hi);return{c(){e=_t("g"),P&&P.c(),L(e,"class","a9s-annotation selected")},m(O,z){ft(O,e,z),P&&P.m(e,null),o=!0,c||(h=[jt(e,"pointerup",t[2]),jt(e,"pointermove",t[1])],c=!0)},p(O,[z]){P&&P.p&&(!o||z&128)&&X(P,w,O,O[7],o?H(w,O[7],z,Bi):Z(O[7]),hi)},i(O){o||(ae(P,O),o=!0)},o(O){mt(P,O),o=!1},d(O){O&&q(e),P&&P.d(O),c=!1,y(h)}}}function Ar(t,e,o){let{$$slots:c={},$$scope:h}=e;const w=we();let{shape:P}=e,{editor:O}=e,{transform:z}=e,{svgEl:W}=e,J,tt,gt;const ne=ze=>me=>{if(J=ze,W){const{left:Ce,top:Xt}=W.getBoundingClientRect(),Ie=me.clientX-Ce,Ye=me.clientY-Xt;tt=z.elementToImage(Ie,Ye)}else{const{offsetX:Ce,offsetY:Xt}=me;tt=z.elementToImage(Ce,Xt)}gt=P,me.target.setPointerCapture(me.pointerId),w("grab",me)},Wt=ze=>{if(J){const[me,Ce]=z.elementToImage(ze.offsetX,ze.offsetY),Xt=[me-tt[0],Ce-tt[1]];o(3,P=O(gt,J,Xt)),w("change",P)}},Dt=ze=>{ze.target.releasePointerCapture(ze.pointerId),J=void 0,gt=P,w("release",ze)};return t.$$set=ze=>{"shape"in ze&&o(3,P=ze.shape),"editor"in ze&&o(4,O=ze.editor),"transform"in ze&&o(5,z=ze.transform),"svgEl"in ze&&o(6,W=ze.svgEl),"$$scope"in ze&&o(7,h=ze.$$scope)},[ne,Wt,Dt,P,O,z,W,h,c]}class Ir extends bn{constructor(e){super(),tn(this,e,Ar,qi,R,{shape:3,editor:4,transform:5,svgEl:6})}}function Sr(t){let e,o,c,h,w,P,O,z,W=t[3]&&Er(t);return{c(){e=_t("g"),o=_t("circle"),W&&W.c(),h=_t("circle"),L(o,"class","a9s-handle-buffer svelte-qtyc7s"),L(o,"cx",t[0]),L(o,"cy",t[1]),L(o,"r",c=t[5]+6/t[2]),L(o,"role","button"),L(o,"tabindex","0"),L(h,"class",w=Pt(`a9s-handle-dot${t[3]?" selected":""}`)+" svelte-qtyc7s"),L(h,"cx",t[0]),L(h,"cy",t[1]),L(h,"r",t[5]),L(e,"class",P=`a9s-handle ${t[8].class||""}`.trim())},m(J,tt){ft(J,e,tt),pt(e,o),W&&W.m(e,null),pt(e,h),O||(z=[jt(o,"dblclick",t[12]),jt(o,"pointerenter",t[13]),jt(o,"pointerleave",t[14]),jt(o,"pointerdown",t[15]),jt(o,"pointerdown",t[6]),jt(o,"pointerup",t[16]),jt(o,"pointerup",t[7])],O=!0)},p(J,tt){tt&1&&L(o,"cx",J[0]),tt&2&&L(o,"cy",J[1]),tt&36&&c!==(c=J[5]+6/J[2])&&L(o,"r",c),J[3]?W?W.p(J,tt):(W=Er(J),W.c(),W.m(e,h)):W&&(W.d(1),W=null),tt&8&&w!==(w=Pt(`a9s-handle-dot${J[3]?" selected":""}`)+" svelte-qtyc7s")&&L(h,"class",w),tt&1&&L(h,"cx",J[0]),tt&2&&L(h,"cy",J[1]),tt&32&&L(h,"r",J[5]),tt&256&&P!==(P=`a9s-handle ${J[8].class||""}`.trim())&&L(e,"class",P)},d(J){J&&q(e),W&&W.d(),O=!1,y(z)}}}function Dr(t){let e,o,c,h,w,P,O,z,W;return{c(){e=_t("g"),o=_t("circle"),h=_t("circle"),P=_t("circle"),L(o,"cx",t[0]),L(o,"cy",t[1]),L(o,"r",c=t[5]*10),L(o,"class","a9s-touch-halo"),te(o,"touched",t[4]),L(h,"cx",t[0]),L(h,"cy",t[1]),L(h,"r",w=t[5]+10/t[2]),L(h,"class","a9s-handle-buffer svelte-qtyc7s"),L(h,"role","button"),L(h,"tabindex","0"),L(P,"class","a9s-handle-dot"),L(P,"cx",t[0]),L(P,"cy",t[1]),L(P,"r",O=t[5]+2/t[2]),L(e,"class","a9s-touch-handle")},m(J,tt){ft(J,e,tt),pt(e,o),pt(e,h),pt(e,P),z||(W=[jt(h,"dblclick",t[9]),jt(h,"pointerdown",t[10]),jt(h,"pointerdown",t[6]),jt(h,"pointerup",t[11]),jt(h,"pointerup",t[7])],z=!0)},p(J,tt){tt&1&&L(o,"cx",J[0]),tt&2&&L(o,"cy",J[1]),tt&32&&c!==(c=J[5]*10)&&L(o,"r",c),tt&16&&te(o,"touched",J[4]),tt&1&&L(h,"cx",J[0]),tt&2&&L(h,"cy",J[1]),tt&36&&w!==(w=J[5]+10/J[2])&&L(h,"r",w),tt&1&&L(P,"cx",J[0]),tt&2&&L(P,"cy",J[1]),tt&36&&O!==(O=J[5]+2/J[2])&&L(P,"r",O)},d(J){J&&q(e),z=!1,y(W)}}}function Er(t){let e,o;return{c(){e=_t("circle"),L(e,"class","a9s-handle-selected"),L(e,"cx",t[0]),L(e,"cy",t[1]),L(e,"r",o=t[5]+8/t[2])},m(c,h){ft(c,e,h)},p(c,h){h&1&&L(e,"cx",c[0]),h&2&&L(e,"cy",c[1]),h&36&&o!==(o=c[5]+8/c[2])&&L(e,"r",o)},d(c){c&&q(e)}}}function kr(t){let e;function o(h,w){return Yn?Dr:Sr}let c=o()(t);return{c(){c.c(),e=St()},m(h,w){c.m(h,w),ft(h,e,w)},p(h,[w]){c.p(h,w)},i:d,o:d,d(h){h&&q(e),c.d(h)}}}function Nr(t,e,o){let c,{x:h}=e,{y:w}=e,{scale:P}=e,{selected:O=void 0}=e,z=!1;const W=Xt=>{Xt.pointerType==="touch"&&o(4,z=!0)},J=()=>o(4,z=!1);function tt(Xt){ce.call(this,t,Xt)}function gt(Xt){ce.call(this,t,Xt)}function ne(Xt){ce.call(this,t,Xt)}function Wt(Xt){ce.call(this,t,Xt)}function Dt(Xt){ce.call(this,t,Xt)}function ze(Xt){ce.call(this,t,Xt)}function me(Xt){ce.call(this,t,Xt)}function Ce(Xt){ce.call(this,t,Xt)}return t.$$set=Xt=>{o(8,e=v(v({},e),st(Xt))),"x"in Xt&&o(0,h=Xt.x),"y"in Xt&&o(1,w=Xt.y),"scale"in Xt&&o(2,P=Xt.scale),"selected"in Xt&&o(3,O=Xt.selected)},t.$$.update=()=>{t.$$.dirty&4&&o(5,c=4/P)},e=st(e),[h,w,P,O,z,c,W,J,e,tt,gt,ne,Wt,Dt,ze,me,Ce]}class ar extends bn{constructor(e){super(),tn(this,e,Nr,kr,R,{x:0,y:1,scale:2,selected:3})}}function or(t){let e,o,c,h,w,P,O;return{c(){e=_t("g"),o=_t("circle"),h=_t("circle"),w=_t("circle"),L(o,"class","a9s-polygon-midpoint-buffer svelte-12ykj76"),L(o,"cx",t[0]),L(o,"cy",t[1]),L(o,"r",c=1.75*t[2]),L(h,"class","a9s-polygon-midpoint-outer svelte-12ykj76"),L(h,"cx",t[0]),L(h,"cy",t[1]),L(h,"r",t[2]),L(w,"class","a9s-polygon-midpoint-inner svelte-12ykj76"),L(w,"cx",t[0]),L(w,"cy",t[1]),L(w,"r",t[2]),L(e,"class","a9s-polygon-midpoint svelte-12ykj76")},m(z,W){ft(z,e,W),pt(e,o),pt(e,h),pt(e,w),P||(O=[jt(o,"pointerdown",t[5]),jt(o,"pointerdown",t[3])],P=!0)},p(z,W){W&1&&L(o,"cx",z[0]),W&2&&L(o,"cy",z[1]),W&4&&c!==(c=1.75*z[2])&&L(o,"r",c),W&1&&L(h,"cx",z[0]),W&2&&L(h,"cy",z[1]),W&4&&L(h,"r",z[2]),W&1&&L(w,"cx",z[0]),W&2&&L(w,"cy",z[1]),W&4&&L(w,"r",z[2])},d(z){z&&q(e),P=!1,y(O)}}}function tr(t){let e;return{c(){e=_t("circle"),L(e,"cx",t[0]),L(e,"cy",t[1]),L(e,"r",t[2])},m(o,c){ft(o,e,c)},p(o,c){c&1&&L(e,"cx",o[0]),c&2&&L(e,"cy",o[1]),c&4&&L(e,"r",o[2])},d(o){o&&q(e)}}}function bi(t){let e;function o(h,w){return Yn?tr:or}let c=o()(t);return{c(){c.c(),e=St()},m(h,w){c.m(h,w),ft(h,e,w)},p(h,[w]){c.p(h,w)},i:d,o:d,d(h){h&&q(e),c.d(h)}}}function C(t,e,o){let c,{x:h}=e,{y:w}=e,{scale:P}=e;const O=W=>{W.pointerType};function z(W){ce.call(this,t,W)}return t.$$set=W=>{"x"in W&&o(0,h=W.x),"y"in W&&o(1,w=W.y),"scale"in W&&o(4,P=W.scale)},t.$$.update=()=>{t.$$.dirty&16&&o(2,c=4/P)},[h,w,c,O,P,z]}class a extends bn{constructor(e){super(),tn(this,e,C,bi,R,{x:0,y:1,scale:4})}}function b(t){const e=t.slice(),o=e[10][e[6]];return e[28]=o.point,e}function N(t,e,o){const c=t.slice();return c[28]=e[o],c[30]=o,c}function ot(t){const e=t.slice(),o=e[10][e[6]];return e[28]=o.point,e}function Ct(t){const e=t.slice(),o=e[10][e[6]];return e[28]=o.point,e}function _e(t){let e,o,c,h;return{c(){e=_t("circle"),L(e,"cx",o=t[28][0]),L(e,"cy",c=t[28][1]),L(e,"r",h=Ht/t[3]),L(e,"class","svelte-1h2slbm")},m(w,P){ft(w,e,P)},p(w,P){P[0]&1088&&o!==(o=w[28][0])&&L(e,"cx",o),P[0]&1088&&c!==(c=w[28][1])&&L(e,"cy",c),P[0]&8&&h!==(h=Ht/w[3])&&L(e,"r",h)},d(w){w&&q(e)}}}function Xe(t){let e,o,c,h,w,P,O,z,W,J;return{c(){e=_t("mask"),o=_t("rect"),O=_t("circle"),L(o,"x",c=t[9].x),L(o,"y",h=t[9].y),L(o,"width",w=t[9].w),L(o,"height",P=t[9].h),L(o,"class","svelte-1h2slbm"),L(O,"cx",z=t[28][0]),L(O,"cy",W=t[28][1]),L(O,"r",J=Ht/t[3]),L(O,"class","svelte-1h2slbm"),L(e,"id",`${t[19]}-inner`),L(e,"class","a9s-polygon-editor-mask svelte-1h2slbm")},m(tt,gt){ft(tt,e,gt),pt(e,o),pt(e,O)},p(tt,gt){gt[0]&512&&c!==(c=tt[9].x)&&L(o,"x",c),gt[0]&512&&h!==(h=tt[9].y)&&L(o,"y",h),gt[0]&512&&w!==(w=tt[9].w)&&L(o,"width",w),gt[0]&512&&P!==(P=tt[9].h)&&L(o,"height",P),gt[0]&1088&&z!==(z=tt[28][0])&&L(O,"cx",z),gt[0]&1088&&W!==(W=tt[28][1])&&L(O,"cy",W),gt[0]&8&&J!==(J=Ht/tt[3])&&L(O,"r",J)},d(tt){tt&&q(e)}}}function Ue(t){let e,o;return e=new ar({props:{class:"a9s-corner-handle",x:t[28][0],y:t[28][1],scale:t[3],selected:t[8].includes(t[30])}}),e.$on("pointerenter",t[11]),e.$on("pointerleave",t[12]),e.$on("pointerdown",t[15]),e.$on("pointerdown",function(){S(t[27](`HANDLE-${t[30]}`))&&t[27](`HANDLE-${t[30]}`).apply(this,arguments)}),e.$on("pointerup",t[16](t[30])),{c(){ue(e.$$.fragment)},m(c,h){Me(e,c,h),o=!0},p(c,h){t=c;const w={};h[0]&32&&(w.x=t[28][0]),h[0]&32&&(w.y=t[28][1]),h[0]&8&&(w.scale=t[3]),h[0]&256&&(w.selected=t[8].includes(t[30])),e.$set(w)},i(c){o||(ae(e.$$.fragment,c),o=!0)},o(c){mt(e.$$.fragment,c),o=!1},d(c){Yt(e,c)}}}function Rn(t){let e,o;return e=new a({props:{x:t[28][0],y:t[28][1],scale:t[3]}}),e.$on("pointerdown",function(){S(t[18](t[6]))&&t[18](t[6]).apply(this,arguments)}),{c(){ue(e.$$.fragment)},m(c,h){Me(e,c,h),o=!0},p(c,h){t=c;const w={};h[0]&1088&&(w.x=t[28][0]),h[0]&1088&&(w.y=t[28][1]),h[0]&8&&(w.scale=t[3]),e.$set(w)},i(c){o||(ae(e.$$.fragment,c),o=!0)},o(c){mt(e.$$.fragment,c),o=!1},d(c){Yt(e,c)}}}function dn(t){let e,o,c,h,w,P,O,z,W,J,tt,gt,ne,Wt,Dt,ze,me,Ce,Xt,Ie,Ye,un=t[6]!==void 0&&!t[7]&&_e(Ct(t)),Ge=t[6]!==void 0&&!t[7]&&Xe(ot(t)),zn=Tt(t[5].points),kn=[];for(let oe=0;oe<zn.length;oe+=1)kn[oe]=Ue(N(t,zn,oe));const Ii=oe=>mt(kn[oe],1,1,()=>{kn[oe]=null});let wi=t[6]!==void 0&&!t[7]&&Rn(b(t));return{c(){e=_t("defs"),o=_t("mask"),c=_t("rect"),z=_t("polygon"),un&&un.c(),Ge&&Ge.c(),J=g(),tt=_t("polygon"),ne=g(),Wt=_t("polygon"),ze=g();for(let oe=0;oe<kn.length;oe+=1)kn[oe].c();me=g(),wi&&wi.c(),Ce=St(),L(c,"x",h=t[9].x),L(c,"y",w=t[9].y),L(c,"width",P=t[9].w),L(c,"height",O=t[9].h),L(c,"class","svelte-1h2slbm"),L(z,"points",W=t[5].points.map(sn).join(" ")),L(z,"class","svelte-1h2slbm"),L(o,"id",`${t[19]}-outer`),L(o,"class","a9s-polygon-editor-mask svelte-1h2slbm"),L(tt,"class","a9s-outer"),L(tt,"mask",`url(#${t[19]}-outer)`),L(tt,"points",gt=t[5].points.map(Sn).join(" ")),L(Wt,"class","a9s-inner a9s-shape-handle"),L(Wt,"mask",`url(#${t[19]}-inner)`),L(Wt,"style",t[1]),L(Wt,"points",Dt=t[5].points.map(ni).join(" "))},m(oe,Ae){ft(oe,e,Ae),pt(e,o),pt(o,c),pt(o,z),un&&un.m(o,null),Ge&&Ge.m(e,null),ft(oe,J,Ae),ft(oe,tt,Ae),ft(oe,ne,Ae),ft(oe,Wt,Ae),ft(oe,ze,Ae);for(let Ut=0;Ut<kn.length;Ut+=1)kn[Ut]&&kn[Ut].m(oe,Ae);ft(oe,me,Ae),wi&&wi.m(oe,Ae),ft(oe,Ce,Ae),Xt=!0,Ie||(Ye=[jt(tt,"pointerup",t[14]),jt(tt,"pointerdown",function(){S(t[27]("SHAPE"))&&t[27]("SHAPE").apply(this,arguments)}),jt(Wt,"pointermove",t[13]),jt(Wt,"pointerup",t[14]),jt(Wt,"pointerdown",function(){S(t[27]("SHAPE"))&&t[27]("SHAPE").apply(this,arguments)})],Ie=!0)},p(oe,Ae){if(t=oe,(!Xt||Ae[0]&512&&h!==(h=t[9].x))&&L(c,"x",h),(!Xt||Ae[0]&512&&w!==(w=t[9].y))&&L(c,"y",w),(!Xt||Ae[0]&512&&P!==(P=t[9].w))&&L(c,"width",P),(!Xt||Ae[0]&512&&O!==(O=t[9].h))&&L(c,"height",O),(!Xt||Ae[0]&32&&W!==(W=t[5].points.map(sn).join(" ")))&&L(z,"points",W),t[6]!==void 0&&!t[7]?un?un.p(Ct(t),Ae):(un=_e(Ct(t)),un.c(),un.m(o,null)):un&&(un.d(1),un=null),t[6]!==void 0&&!t[7]?Ge?Ge.p(ot(t),Ae):(Ge=Xe(ot(t)),Ge.c(),Ge.m(e,null)):Ge&&(Ge.d(1),Ge=null),(!Xt||Ae[0]&32&&gt!==(gt=t[5].points.map(Sn).join(" ")))&&L(tt,"points",gt),(!Xt||Ae[0]&2)&&L(Wt,"style",t[1]),(!Xt||Ae[0]&32&&Dt!==(Dt=t[5].points.map(ni).join(" ")))&&L(Wt,"points",Dt),Ae[0]&134322472){zn=Tt(t[5].points);let Ut;for(Ut=0;Ut<zn.length;Ut+=1){const se=N(t,zn,Ut);kn[Ut]?(kn[Ut].p(se,Ae),ae(kn[Ut],1)):(kn[Ut]=Ue(se),kn[Ut].c(),ae(kn[Ut],1),kn[Ut].m(me.parentNode,me))}for(Te(),Ut=zn.length;Ut<kn.length;Ut+=1)Ii(Ut);Be()}t[6]!==void 0&&!t[7]?wi?(wi.p(b(t),Ae),Ae[0]&192&&ae(wi,1)):(wi=Rn(b(t)),wi.c(),ae(wi,1),wi.m(Ce.parentNode,Ce)):wi&&(Te(),mt(wi,1,1,()=>{wi=null}),Be())},i(oe){if(!Xt){for(let Ae=0;Ae<zn.length;Ae+=1)ae(kn[Ae]);ae(wi),Xt=!0}},o(oe){kn=kn.filter(Boolean);for(let Ae=0;Ae<kn.length;Ae+=1)mt(kn[Ae]);mt(wi),Xt=!1},d(oe){oe&&(q(e),q(J),q(tt),q(ne),q(Wt),q(ze),q(me),q(Ce)),un&&un.d(),Ge&&Ge.d(),At(kn,oe),wi&&wi.d(oe),Ie=!1,y(Ye)}}}function at(t){let e,o;return e=new Ir({props:{shape:t[0],transform:t[2],editor:t[17],svgEl:t[4],$$slots:{default:[dn,({grab:c})=>({27:c}),({grab:c})=>[c?134217728:0]]},$$scope:{ctx:t}}}),e.$on("change",t[20]),e.$on("grab",t[21]),e.$on("release",t[22]),{c(){ue(e.$$.fragment)},m(c,h){Me(e,c,h),o=!0},p(c,h){const w={};h[0]&1&&(w.shape=c[0]),h[0]&4&&(w.transform=c[2]),h[0]&16&&(w.svgEl=c[4]),h[0]&134219754|h[1]&1&&(w.$$scope={dirty:h,ctx:c}),e.$set(w)},i(c){o||(ae(e.$$.fragment,c),o=!0)},o(c){mt(e.$$.fragment,c),o=!1},d(c){Yt(e,c)}}}const Et=250,ut=1e3,$t=12,Ht=4.5,sn=t=>t.join(","),Sn=t=>t.join(","),ni=t=>t.join(",");function Wn(t,e,o){let c,h,w;const P=we();let{shape:O}=e,{computedStyle:z}=e,{transform:W}=e,{viewportScale:J=1}=e,{svgEl:tt}=e,gt,ne=!1,Wt,Dt=[];const ze=()=>o(7,ne=!0),me=()=>o(7,ne=!1),Ce=Ut=>{if(Dt.length>0||!h.some(ui=>ui.visible)){o(6,gt=void 0);return}const[se,rn]=W.elementToImage(Ut.offsetX,Ut.offsetY),Ze=ui=>Math.pow(ui[0]-se,2)+Math.pow(ui[1]-rn,2),hn=c.points.reduce((ui,_i)=>Ze(_i)<Ze(ui)?_i:ui),fi=h.filter(ui=>ui.visible).reduce((ui,_i)=>Ze(_i.point)<Ze(ui.point)?_i:ui),Zn=Math.pow(ut/J,2);Ze(hn)<Zn||Ze(fi.point)<Zn?o(6,gt=h.indexOf(fi)):o(6,gt=void 0)},Xt=()=>{document.activeElement!==tt&&tt.focus()},Ie=()=>{o(8,Dt=[]),Xt()},Ye=Ut=>{o(7,ne=!0),Ut.preventDefault(),Ut.stopPropagation(),Wt=performance.now()},un=Ut=>se=>{if(!Wt||Yn||performance.now()-Wt>Et)return;const rn=Dt.includes(Ut);se.metaKey||se.ctrlKey||se.shiftKey?rn?o(8,Dt=Dt.filter(Ze=>Ze!==Ut)):o(8,Dt=[...Dt,Ut]):rn&&Dt.length>1?o(8,Dt=[Ut]):rn?o(8,Dt=[]):o(8,Dt=[Ut]),Xt()},Ge=(Ut,se,rn)=>{Xt();let Ze;const hn=Ut.geometry;Dt.length>1?Ze=hn.points.map(([Zn,ui],_i)=>Dt.includes(_i)?[Zn+rn[0],ui+rn[1]]:[Zn,ui]):se==="SHAPE"?Ze=hn.points.map(([Zn,ui])=>[Zn+rn[0],ui+rn[1]]):Ze=hn.points.map(([Zn,ui],_i)=>se===`HANDLE-${_i}`?[Zn+rn[0],ui+rn[1]]:[Zn,ui]);const fi=ht(Ze);return{...Ut,geometry:{points:Ze,bounds:fi}}},zn=Ut=>async se=>{se.stopPropagation();const rn=[...c.points.slice(0,Ut+1),h[Ut].point,...c.points.slice(Ut+1)],Ze=ht(rn);P("change",{...O,geometry:{points:rn,bounds:Ze}}),await Ft();const hn=[...document.querySelectorAll(".a9s-handle")][Ut+1];if(hn!=null&&hn.firstChild){const fi=new PointerEvent("pointerdown",{bubbles:!0,cancelable:!0,clientX:se.clientX,clientY:se.clientY,pointerId:se.pointerId,pointerType:se.pointerType,isPrimary:se.isPrimary,buttons:se.buttons});hn.firstChild.dispatchEvent(fi)}},kn=()=>{if(c.points.length-Dt.length<3)return;const Ut=c.points.filter((rn,Ze)=>!Dt.includes(Ze)),se=ht(Ut);P("change",{...O,geometry:{points:Ut,bounds:se}}),o(8,Dt=[])};qt(()=>{if(Yn)return;const Ut=se=>{(se.key==="Delete"||se.key==="Backspace")&&(se.preventDefault(),kn())};return tt.addEventListener("pointermove",Ce),tt.addEventListener("keydown",Ut),()=>{tt.removeEventListener("pointermove",Ce),tt.removeEventListener("keydown",Ut)}});const Ii=`polygon-mask-${Math.random().toString(36).substring(2,12)}`;function wi(Ut){ce.call(this,t,Ut)}function oe(Ut){ce.call(this,t,Ut)}function Ae(Ut){ce.call(this,t,Ut)}return t.$$set=Ut=>{"shape"in Ut&&o(0,O=Ut.shape),"computedStyle"in Ut&&o(1,z=Ut.computedStyle),"transform"in Ut&&o(2,W=Ut.transform),"viewportScale"in Ut&&o(3,J=Ut.viewportScale),"svgEl"in Ut&&o(4,tt=Ut.svgEl)},t.$$.update=()=>{t.$$.dirty[0]&1&&o(5,c=O.geometry),t.$$.dirty[0]&40&&o(10,h=Yn?[]:c.points.map((Ut,se)=>{const rn=se===c.points.length-1?c.points[0]:c.points[se+1],Ze=(Ut[0]+rn[0])/2,hn=(Ut[1]+rn[1])/2,fi=Math.sqrt(Math.pow(rn[0]-Ze,2)+Math.pow(rn[1]-hn,2))>$t/J;return{point:[Ze,hn],visible:fi}})),t.$$.dirty[0]&40&&o(9,w=hr(c.bounds,Ht/J))},[O,z,W,J,tt,c,gt,ne,Dt,w,h,ze,me,Ce,Ie,Ye,un,Ge,zn,Ii,wi,oe,Ae]}class ke extends bn{constructor(e){super(),tn(this,e,Wn,at,R,{shape:0,computedStyle:1,transform:2,viewportScale:3,svgEl:4},null,[-1,-1])}}function Le(t){let e,o,c,h,w,P,O,z,W,J,tt,gt,ne,Wt,Dt,ze,me,Ce,Xt,Ie,Ye,un,Ge,zn,kn,Ii,wi,oe,Ae,Ut,se,rn,Ze,hn,fi,Zn,ui,_i,cr,wr,sr,Lr,zr,qn,gr,Fi,vr,Mr,Br,Fr,po,Hr,Di,ho,$o;return Fi=new ar({props:{class:"a9s-corner-handle-topleft",x:t[5].x,y:t[5].y,scale:t[3]}}),Fi.$on("pointerdown",function(){S(t[12]("TOP_LEFT"))&&t[12]("TOP_LEFT").apply(this,arguments)}),Mr=new ar({props:{class:"a9s-corner-handle-topright",x:t[5].x+t[5].w,y:t[5].y,scale:t[3]}}),Mr.$on("pointerdown",function(){S(t[12]("TOP_RIGHT"))&&t[12]("TOP_RIGHT").apply(this,arguments)}),Fr=new ar({props:{class:"a9s-corner-handle-bottomright",x:t[5].x+t[5].w,y:t[5].y+t[5].h,scale:t[3]}}),Fr.$on("pointerdown",function(){S(t[12]("BOTTOM_RIGHT"))&&t[12]("BOTTOM_RIGHT").apply(this,arguments)}),Hr=new ar({props:{class:"a9s-corner-handle-bottomleft",x:t[5].x,y:t[5].y+t[5].h,scale:t[3]}}),Hr.$on("pointerdown",function(){S(t[12]("BOTTOM_LEFT"))&&t[12]("BOTTOM_LEFT").apply(this,arguments)}),{c(){e=_t("defs"),o=_t("mask"),c=_t("rect"),z=_t("rect"),ne=g(),Wt=_t("rect"),Xt=g(),Ie=_t("rect"),kn=g(),Ii=_t("rect"),Ut=g(),se=_t("rect"),fi=g(),Zn=_t("rect"),wr=g(),sr=_t("rect"),gr=g(),ue(Fi.$$.fragment),vr=g(),ue(Mr.$$.fragment),Br=g(),ue(Fr.$$.fragment),po=g(),ue(Hr.$$.fragment),L(c,"class","rect-mask-bg svelte-1njczvj"),L(c,"x",h=t[6].x),L(c,"y",w=t[6].y),L(c,"width",P=t[6].w),L(c,"height",O=t[6].h),L(z,"class","rect-mask-fg svelte-1njczvj"),L(z,"x",W=t[5].x),L(z,"y",J=t[5].y),L(z,"width",tt=t[5].w),L(z,"height",gt=t[5].h),L(o,"id",t[8]),L(o,"class","a9s-rectangle-editor-mask svelte-1njczvj"),L(Wt,"class","a9s-outer"),L(Wt,"mask",`url(#${t[8]})`),L(Wt,"x",Dt=t[5].x),L(Wt,"y",ze=t[5].y),L(Wt,"width",me=t[5].w),L(Wt,"height",Ce=t[5].h),L(Ie,"class","a9s-inner a9s-shape-handle"),L(Ie,"style",t[1]),L(Ie,"x",Ye=t[5].x),L(Ie,"y",un=t[5].y),L(Ie,"width",Ge=t[5].w),L(Ie,"height",zn=t[5].h),L(Ii,"class","a9s-edge-handle a9s-edge-handle-top"),L(Ii,"x",wi=t[5].x),L(Ii,"y",oe=t[5].y),L(Ii,"height",1),L(Ii,"width",Ae=t[5].w),L(se,"class","a9s-edge-handle a9s-edge-handle-right"),L(se,"x",rn=t[5].x+t[5].w),L(se,"y",Ze=t[5].y),L(se,"height",hn=t[5].h),L(se,"width",1),L(Zn,"class","a9s-edge-handle a9s-edge-handle-bottom"),L(Zn,"x",ui=t[5].x),L(Zn,"y",_i=t[5].y+t[5].h),L(Zn,"height",1),L(Zn,"width",cr=t[5].w),L(sr,"class","a9s-edge-handle a9s-edge-handle-left"),L(sr,"x",Lr=t[5].x),L(sr,"y",zr=t[5].y),L(sr,"height",qn=t[5].h),L(sr,"width",1)},m(Si,Pn){ft(Si,e,Pn),pt(e,o),pt(o,c),pt(o,z),ft(Si,ne,Pn),ft(Si,Wt,Pn),ft(Si,Xt,Pn),ft(Si,Ie,Pn),ft(Si,kn,Pn),ft(Si,Ii,Pn),ft(Si,Ut,Pn),ft(Si,se,Pn),ft(Si,fi,Pn),ft(Si,Zn,Pn),ft(Si,wr,Pn),ft(Si,sr,Pn),ft(Si,gr,Pn),Me(Fi,Si,Pn),ft(Si,vr,Pn),Me(Mr,Si,Pn),ft(Si,Br,Pn),Me(Fr,Si,Pn),ft(Si,po,Pn),Me(Hr,Si,Pn),Di=!0,ho||($o=[jt(Wt,"pointerdown",function(){S(t[12]("SHAPE"))&&t[12]("SHAPE").apply(this,arguments)}),jt(Ie,"pointerdown",function(){S(t[12]("SHAPE"))&&t[12]("SHAPE").apply(this,arguments)}),jt(Ii,"pointerdown",function(){S(t[12]("TOP"))&&t[12]("TOP").apply(this,arguments)}),jt(se,"pointerdown",function(){S(t[12]("RIGHT"))&&t[12]("RIGHT").apply(this,arguments)}),jt(Zn,"pointerdown",function(){S(t[12]("BOTTOM"))&&t[12]("BOTTOM").apply(this,arguments)}),jt(sr,"pointerdown",function(){S(t[12]("LEFT"))&&t[12]("LEFT").apply(this,arguments)})],ho=!0)},p(Si,Pn){t=Si,(!Di||Pn&64&&h!==(h=t[6].x))&&L(c,"x",h),(!Di||Pn&64&&w!==(w=t[6].y))&&L(c,"y",w),(!Di||Pn&64&&P!==(P=t[6].w))&&L(c,"width",P),(!Di||Pn&64&&O!==(O=t[6].h))&&L(c,"height",O),(!Di||Pn&32&&W!==(W=t[5].x))&&L(z,"x",W),(!Di||Pn&32&&J!==(J=t[5].y))&&L(z,"y",J),(!Di||Pn&32&&tt!==(tt=t[5].w))&&L(z,"width",tt),(!Di||Pn&32&&gt!==(gt=t[5].h))&&L(z,"height",gt),(!Di||Pn&32&&Dt!==(Dt=t[5].x))&&L(Wt,"x",Dt),(!Di||Pn&32&&ze!==(ze=t[5].y))&&L(Wt,"y",ze),(!Di||Pn&32&&me!==(me=t[5].w))&&L(Wt,"width",me),(!Di||Pn&32&&Ce!==(Ce=t[5].h))&&L(Wt,"height",Ce),(!Di||Pn&2)&&L(Ie,"style",t[1]),(!Di||Pn&32&&Ye!==(Ye=t[5].x))&&L(Ie,"x",Ye),(!Di||Pn&32&&un!==(un=t[5].y))&&L(Ie,"y",un),(!Di||Pn&32&&Ge!==(Ge=t[5].w))&&L(Ie,"width",Ge),(!Di||Pn&32&&zn!==(zn=t[5].h))&&L(Ie,"height",zn),(!Di||Pn&32&&wi!==(wi=t[5].x))&&L(Ii,"x",wi),(!Di||Pn&32&&oe!==(oe=t[5].y))&&L(Ii,"y",oe),(!Di||Pn&32&&Ae!==(Ae=t[5].w))&&L(Ii,"width",Ae),(!Di||Pn&32&&rn!==(rn=t[5].x+t[5].w))&&L(se,"x",rn),(!Di||Pn&32&&Ze!==(Ze=t[5].y))&&L(se,"y",Ze),(!Di||Pn&32&&hn!==(hn=t[5].h))&&L(se,"height",hn),(!Di||Pn&32&&ui!==(ui=t[5].x))&&L(Zn,"x",ui),(!Di||Pn&32&&_i!==(_i=t[5].y+t[5].h))&&L(Zn,"y",_i),(!Di||Pn&32&&cr!==(cr=t[5].w))&&L(Zn,"width",cr),(!Di||Pn&32&&Lr!==(Lr=t[5].x))&&L(sr,"x",Lr),(!Di||Pn&32&&zr!==(zr=t[5].y))&&L(sr,"y",zr),(!Di||Pn&32&&qn!==(qn=t[5].h))&&L(sr,"height",qn);const Zr={};Pn&32&&(Zr.x=t[5].x),Pn&32&&(Zr.y=t[5].y),Pn&8&&(Zr.scale=t[3]),Fi.$set(Zr);const Jr={};Pn&32&&(Jr.x=t[5].x+t[5].w),Pn&32&&(Jr.y=t[5].y),Pn&8&&(Jr.scale=t[3]),Mr.$set(Jr);const to={};Pn&32&&(to.x=t[5].x+t[5].w),Pn&32&&(to.y=t[5].y+t[5].h),Pn&8&&(to.scale=t[3]),Fr.$set(to);const eo={};Pn&32&&(eo.x=t[5].x),Pn&32&&(eo.y=t[5].y+t[5].h),Pn&8&&(eo.scale=t[3]),Hr.$set(eo)},i(Si){Di||(ae(Fi.$$.fragment,Si),ae(Mr.$$.fragment,Si),ae(Fr.$$.fragment,Si),ae(Hr.$$.fragment,Si),Di=!0)},o(Si){mt(Fi.$$.fragment,Si),mt(Mr.$$.fragment,Si),mt(Fr.$$.fragment,Si),mt(Hr.$$.fragment,Si),Di=!1},d(Si){Si&&(q(e),q(ne),q(Wt),q(Xt),q(Ie),q(kn),q(Ii),q(Ut),q(se),q(fi),q(Zn),q(wr),q(sr),q(gr),q(vr),q(Br),q(po)),Yt(Fi,Si),Yt(Mr,Si),Yt(Fr,Si),Yt(Hr,Si),ho=!1,y($o)}}}function G(t){let e,o;return e=new Ir({props:{shape:t[0],transform:t[2],editor:t[7],svgEl:t[4],$$slots:{default:[Le,({grab:c})=>({12:c}),({grab:c})=>c?4096:0]},$$scope:{ctx:t}}}),e.$on("grab",t[9]),e.$on("change",t[10]),e.$on("release",t[11]),{c(){ue(e.$$.fragment)},m(c,h){Me(e,c,h),o=!0},p(c,[h]){const w={};h&1&&(w.shape=c[0]),h&4&&(w.transform=c[2]),h&16&&(w.svgEl=c[4]),h&12394&&(w.$$scope={dirty:h,ctx:c}),e.$set(w)},i(c){o||(ae(e.$$.fragment,c),o=!0)},o(c){mt(e.$$.fragment,c),o=!1},d(c){Yt(e,c)}}}function lt(t,e,o){let c,h,{shape:w}=e,{computedStyle:P}=e,{transform:O}=e,{viewportScale:z=1}=e,{svgEl:W}=e;const J=(Dt,ze,me)=>{const Ce=Dt.geometry.bounds;let[Xt,Ie]=[Ce.minX,Ce.minY],[Ye,un]=[Ce.maxX,Ce.maxY];const[Ge,zn]=me;if(ze==="SHAPE")Xt+=Ge,Ye+=Ge,Ie+=zn,un+=zn;else{switch(ze){case"TOP":case"TOP_LEFT":case"TOP_RIGHT":{Ie+=zn;break}case"BOTTOM":case"BOTTOM_LEFT":case"BOTTOM_RIGHT":{un+=zn;break}}switch(ze){case"LEFT":case"TOP_LEFT":case"BOTTOM_LEFT":{Xt+=Ge;break}case"RIGHT":case"TOP_RIGHT":case"BOTTOM_RIGHT":{Ye+=Ge;break}}}const kn=Math.min(Xt,Ye),Ii=Math.min(Ie,un),wi=Math.abs(Ye-Xt),oe=Math.abs(un-Ie);return{...Dt,geometry:{x:kn,y:Ii,w:wi,h:oe,bounds:{minX:kn,minY:Ii,maxX:kn+wi,maxY:Ii+oe}}}},tt=`rect-mask-${Math.random().toString(36).substring(2,12)}`;function gt(Dt){ce.call(this,t,Dt)}function ne(Dt){ce.call(this,t,Dt)}function Wt(Dt){ce.call(this,t,Dt)}return t.$$set=Dt=>{"shape"in Dt&&o(0,w=Dt.shape),"computedStyle"in Dt&&o(1,P=Dt.computedStyle),"transform"in Dt&&o(2,O=Dt.transform),"viewportScale"in Dt&&o(3,z=Dt.viewportScale),"svgEl"in Dt&&o(4,W=Dt.svgEl)},t.$$.update=()=>{t.$$.dirty&1&&o(5,c=w.geometry),t.$$.dirty&40&&o(6,h=hr(c.bounds,2/z))},[w,P,O,z,W,c,h,J,tt,gt,ne,Wt]}class Gt extends bn{constructor(e){super(),tn(this,e,lt,G,R,{shape:0,computedStyle:1,transform:2,viewportScale:3,svgEl:4})}}var le=Object.prototype.hasOwnProperty;function Ee(t,e){var o,c;if(t===e)return!0;if(t&&e&&(o=t.constructor)===e.constructor){if(o===Date)return t.getTime()===e.getTime();if(o===RegExp)return t.toString()===e.toString();if(o===Array){if((c=t.length)===e.length)for(;c--&&Ee(t[c],e[c]););return c===-1}if(!o||typeof t=="object"){c=0;for(o in t)if(le.call(t,o)&&++c&&!le.call(e,o)||!(o in e)||!Ee(t[o],e[o]))return!1;return Object.keys(e).length===c}}return t!==t&&e!==e}const fn=12,vn=(t,e)=>t.polygons.reduce((o,c,h)=>{const w=c.rings.reduce((P,O,z)=>{const W=O.points.map((J,tt)=>{const gt=tt===O.points.length-1?O.points[0]:O.points[tt+1],ne=(J[0]+gt[0])/2,Wt=(J[1]+gt[1])/2,Dt=Math.sqrt(Math.pow(gt[0]-ne,2)+Math.pow(gt[1]-Wt,2))>fn/e;return{point:[ne,Wt],visible:Dt,elementIdx:h,ringIdx:z,pointIdx:tt}});return[...P,...W]},[]);return[...o,...w]},[]);function En(t){const e=t.slice(),o=e[10][e[6]];return e[29]=o.point,e}function pn(t,e,o){const c=t.slice();return c[30]=e[o],c[32]=o,c}function Ci(t,e,o){const c=t.slice();return c[33]=e[o],c[35]=o,c}function ii(t,e,o){const c=t.slice();return c[29]=e[o],c[37]=o,c}function si(t){const e=t.slice(),o=e[10][e[6]];return e[29]=o.point,e}function ki(t){const e=t.slice(),o=e[10][e[6]];return e[29]=o.point,e}function Kn(t){let e,o,c,h;return{c(){e=_t("circle"),L(e,"cx",o=t[29][0]),L(e,"cy",c=t[29][1]),L(e,"r",h=Rr/t[3]),L(e,"class","svelte-1vxo6dc")},m(w,P){ft(w,e,P)},p(w,P){P[0]&1088&&o!==(o=w[29][0])&&L(e,"cx",o),P[0]&1088&&c!==(c=w[29][1])&&L(e,"cy",c),P[0]&8&&h!==(h=Rr/w[3])&&L(e,"r",h)},d(w){w&&q(e)}}}function lr(t){let e,o,c,h,w,P,O,z,W,J;return{c(){e=_t("mask"),o=_t("rect"),O=_t("circle"),L(o,"x",c=t[9].x),L(o,"y",h=t[9].y),L(o,"width",w=t[9].w),L(o,"height",P=t[9].h),L(o,"class","svelte-1vxo6dc"),L(O,"cx",z=t[29][0]),L(O,"cy",W=t[29][1]),L(O,"r",J=Rr/t[3]),L(O,"class","svelte-1vxo6dc"),L(e,"id",`${t[18]}-${t[32]}-inner`),L(e,"class","a9s-multipolygon-editor-mask svelte-1vxo6dc")},m(tt,gt){ft(tt,e,gt),pt(e,o),pt(e,O)},p(tt,gt){gt[0]&512&&c!==(c=tt[9].x)&&L(o,"x",c),gt[0]&512&&h!==(h=tt[9].y)&&L(o,"y",h),gt[0]&512&&w!==(w=tt[9].w)&&L(o,"width",w),gt[0]&512&&P!==(P=tt[9].h)&&L(o,"height",P),gt[0]&1088&&z!==(z=tt[29][0])&&L(O,"cx",z),gt[0]&1088&&W!==(W=tt[29][1])&&L(O,"cy",W),gt[0]&8&&J!==(J=Rr/tt[3])&&L(O,"r",J)},d(tt){tt&&q(e)}}}function mr(t){let e,o;function c(...h){return t[19](t[32],t[35],t[37],...h)}return e=new ar({props:{class:"a9s-corner-handle",x:t[29][0],y:t[29][1],scale:t[3],selected:t[8].some(c)}}),e.$on("pointerenter",t[11]),e.$on("pointerleave",t[12]),e.$on("pointerdown",t[14]),e.$on("pointerdown",function(){S(t[28](`HANDLE-${t[32]}-${t[35]}-${t[37]}`))&&t[28](`HANDLE-${t[32]}-${t[35]}-${t[37]}`).apply(this,arguments)}),e.$on("pointerup",t[15](t[32],t[35],t[37])),{c(){ue(e.$$.fragment)},m(h,w){Me(e,h,w),o=!0},p(h,w){t=h;const P={};w[0]&32&&(P.x=t[29][0]),w[0]&32&&(P.y=t[29][1]),w[0]&8&&(P.scale=t[3]),w[0]&256&&(P.selected=t[8].some(c)),e.$set(P)},i(h){o||(ae(e.$$.fragment,h),o=!0)},o(h){mt(e.$$.fragment,h),o=!1},d(h){Yt(e,h)}}}function dr(t){let e,o,c=Tt(t[33].points),h=[];for(let P=0;P<c.length;P+=1)h[P]=mr(ii(t,c,P));const w=P=>mt(h[P],1,1,()=>{h[P]=null});return{c(){for(let P=0;P<h.length;P+=1)h[P].c();e=St()},m(P,O){for(let z=0;z<h.length;z+=1)h[z]&&h[z].m(P,O);ft(P,e,O),o=!0},p(P,O){if(O[0]&268491048){c=Tt(P[33].points);let z;for(z=0;z<c.length;z+=1){const W=ii(P,c,z);h[z]?(h[z].p(W,O),ae(h[z],1)):(h[z]=mr(W),h[z].c(),ae(h[z],1),h[z].m(e.parentNode,e))}for(Te(),z=c.length;z<h.length;z+=1)w(z);Be()}},i(P){if(!o){for(let O=0;O<c.length;O+=1)ae(h[O]);o=!0}},o(P){h=h.filter(Boolean);for(let O=0;O<h.length;O+=1)mt(h[O]);o=!1},d(P){P&&q(e),At(h,P)}}}function br(t){let e,o,c,h,w,P,O,z,W,J,tt,gt,ne,Wt,Dt,ze,me,Ce=t[6]!==void 0&&!t[7]&&Kn(ki(t)),Xt=t[6]!==void 0&&!t[7]&&lr(si(t)),Ie=Tt(t[30].rings),Ye=[];for(let Ge=0;Ge<Ie.length;Ge+=1)Ye[Ge]=dr(Ci(t,Ie,Ge));const un=Ge=>mt(Ye[Ge],1,1,()=>{Ye[Ge]=null});return{c(){e=_t("g"),o=_t("defs"),c=_t("mask"),h=_t("rect"),W=_t("path"),Ce&&Ce.c(),Xt&&Xt.c(),tt=_t("path"),ne=_t("path");for(let Ge=0;Ge<Ye.length;Ge+=1)Ye[Ge].c();L(h,"x",w=t[9].x),L(h,"y",P=t[9].y),L(h,"width",O=t[9].w),L(h,"height",z=t[9].h),L(h,"class","svelte-1vxo6dc"),L(W,"d",J=qe(t[30])),L(W,"class","svelte-1vxo6dc"),L(c,"id",`${t[18]}-${t[32]}-outer`),L(c,"class","a9s-multipolygon-editor-mask svelte-1vxo6dc"),L(tt,"class","a9s-outer"),L(tt,"mask",`url(#${t[18]}-${t[32]}-outer)`),L(tt,"fill-rule","evenodd"),L(tt,"d",gt=qe(t[30])),L(ne,"class","a9s-inner"),L(ne,"mask",`url(#${t[18]}-${t[32]}-inner)`),L(ne,"style",t[1]),L(ne,"fill-rule","evenodd"),L(ne,"d",Wt=qe(t[30]))},m(Ge,zn){ft(Ge,e,zn),pt(e,o),pt(o,c),pt(c,h),pt(c,W),Ce&&Ce.m(c,null),Xt&&Xt.m(o,null),pt(e,tt),pt(e,ne);for(let kn=0;kn<Ye.length;kn+=1)Ye[kn]&&Ye[kn].m(e,null);Dt=!0,ze||(me=[jt(tt,"pointerup",t[13]),jt(tt,"pointerdown",function(){S(t[28]("SHAPE"))&&t[28]("SHAPE").apply(this,arguments)}),jt(ne,"pointerup",t[13]),jt(ne,"pointerdown",function(){S(t[28]("SHAPE"))&&t[28]("SHAPE").apply(this,arguments)})],ze=!0)},p(Ge,zn){if(t=Ge,(!Dt||zn[0]&512&&w!==(w=t[9].x))&&L(h,"x",w),(!Dt||zn[0]&512&&P!==(P=t[9].y))&&L(h,"y",P),(!Dt||zn[0]&512&&O!==(O=t[9].w))&&L(h,"width",O),(!Dt||zn[0]&512&&z!==(z=t[9].h))&&L(h,"height",z),(!Dt||zn[0]&32&&J!==(J=qe(t[30])))&&L(W,"d",J),t[6]!==void 0&&!t[7]?Ce?Ce.p(ki(t),zn):(Ce=Kn(ki(t)),Ce.c(),Ce.m(c,null)):Ce&&(Ce.d(1),Ce=null),t[6]!==void 0&&!t[7]?Xt?Xt.p(si(t),zn):(Xt=lr(si(t)),Xt.c(),Xt.m(o,null)):Xt&&(Xt.d(1),Xt=null),(!Dt||zn[0]&32&&gt!==(gt=qe(t[30])))&&L(tt,"d",gt),(!Dt||zn[0]&2)&&L(ne,"style",t[1]),(!Dt||zn[0]&32&&Wt!==(Wt=qe(t[30])))&&L(ne,"d",Wt),zn[0]&268491048){Ie=Tt(t[30].rings);let kn;for(kn=0;kn<Ie.length;kn+=1){const Ii=Ci(t,Ie,kn);Ye[kn]?(Ye[kn].p(Ii,zn),ae(Ye[kn],1)):(Ye[kn]=dr(Ii),Ye[kn].c(),ae(Ye[kn],1),Ye[kn].m(e,null))}for(Te(),kn=Ie.length;kn<Ye.length;kn+=1)un(kn);Be()}},i(Ge){if(!Dt){for(let zn=0;zn<Ie.length;zn+=1)ae(Ye[zn]);Dt=!0}},o(Ge){Ye=Ye.filter(Boolean);for(let zn=0;zn<Ye.length;zn+=1)mt(Ye[zn]);Dt=!1},d(Ge){Ge&&q(e),Ce&&Ce.d(),Xt&&Xt.d(),At(Ye,Ge),ze=!1,y(me)}}}function xr(t){let e,o;return e=new a({props:{x:t[29][0],y:t[29][1],scale:t[3]}}),e.$on("pointerdown",function(){S(t[17](t[6]))&&t[17](t[6]).apply(this,arguments)}),{c(){ue(e.$$.fragment)},m(c,h){Me(e,c,h),o=!0},p(c,h){t=c;const w={};h[0]&1088&&(w.x=t[29][0]),h[0]&1088&&(w.y=t[29][1]),h[0]&8&&(w.scale=t[3]),e.$set(w)},i(c){o||(ae(e.$$.fragment,c),o=!0)},o(c){mt(e.$$.fragment,c),o=!1},d(c){Yt(e,c)}}}function Tr(t){let e,o,c,h=Tt(t[5].polygons),w=[];for(let z=0;z<h.length;z+=1)w[z]=br(pn(t,h,z));const P=z=>mt(w[z],1,1,()=>{w[z]=null});let O=t[6]!==void 0&&!t[7]&&xr(En(t));return{c(){for(let z=0;z<w.length;z+=1)w[z].c();e=g(),O&&O.c(),o=St()},m(z,W){for(let J=0;J<w.length;J+=1)w[J]&&w[J].m(z,W);ft(z,e,W),O&&O.m(z,W),ft(z,o,W),c=!0},p(z,W){if(W[0]&268763114){h=Tt(z[5].polygons);let J;for(J=0;J<h.length;J+=1){const tt=pn(z,h,J);w[J]?(w[J].p(tt,W),ae(w[J],1)):(w[J]=br(tt),w[J].c(),ae(w[J],1),w[J].m(e.parentNode,e))}for(Te(),J=h.length;J<w.length;J+=1)P(J);Be()}z[6]!==void 0&&!z[7]?O?(O.p(En(z),W),W[0]&192&&ae(O,1)):(O=xr(En(z)),O.c(),ae(O,1),O.m(o.parentNode,o)):O&&(Te(),mt(O,1,1,()=>{O=null}),Be())},i(z){if(!c){for(let W=0;W<h.length;W+=1)ae(w[W]);ae(O),c=!0}},o(z){w=w.filter(Boolean);for(let W=0;W<w.length;W+=1)mt(w[W]);mt(O),c=!1},d(z){z&&(q(e),q(o)),At(w,z),O&&O.d(z)}}}function Yi(t){let e,o;return e=new Ir({props:{shape:t[0],transform:t[2],editor:t[16],svgEl:t[4],$$slots:{default:[Tr,({grab:c})=>({28:c}),({grab:c})=>[c?268435456:0]]},$$scope:{ctx:t}}}),e.$on("change",t[20]),e.$on("grab",t[21]),e.$on("release",t[22]),{c(){ue(e.$$.fragment)},m(c,h){Me(e,c,h),o=!0},p(c,h){const w={};h[0]&1&&(w.shape=c[0]),h[0]&4&&(w.transform=c[2]),h[0]&16&&(w.svgEl=c[4]),h[0]&268437482|h[1]&128&&(w.$$scope={dirty:h,ctx:c}),e.$set(w)},i(c){o||(ae(e.$$.fragment,c),o=!0)},o(c){mt(e.$$.fragment,c),o=!1},d(c){Yt(e,c)}}}const jr=250,Cr=1e3,Rr=4.5;function Xr(t,e,o){let c,h,w;const P=we();let{shape:O}=e,{computedStyle:z}=e,{transform:W}=e,{viewportScale:J=1}=e,{svgEl:tt}=e,gt,ne=!1,Wt,Dt=[];const ze=()=>o(7,ne=!0),me=()=>o(7,ne=!1),Ce=se=>{if(Dt.length>0||!h.some(_i=>_i.visible)){o(6,gt=void 0);return}const[rn,Ze]=W.elementToImage(se.offsetX,se.offsetY),hn=_i=>Math.pow(_i[0]-rn,2)+Math.pow(_i[1]-Ze,2),fi=Jn(c).reduce((_i,cr)=>hn(cr)<hn(_i)?cr:_i),Zn=h.filter(_i=>_i.visible).reduce((_i,cr)=>hn(cr.point)<hn(_i.point)?cr:_i),ui=Math.pow(Cr/J,2);hn(fi)<ui||hn(Zn.point)<ui?o(6,gt=h.indexOf(Zn)):o(6,gt=void 0)},Xt=()=>{document.activeElement!==tt&&tt.focus()},Ie=()=>{o(8,Dt=[]),Xt()},Ye=se=>{o(7,ne=!0),se.preventDefault(),se.stopPropagation(),Wt=performance.now()},un=(se,rn,Ze)=>hn=>{if(!Wt||Yn||performance.now()-Wt>jr)return;const fi=ui=>ui.polygon===se&&ui.ring===rn&&ui.point===Ze,Zn=Dt.some(fi);hn.metaKey||hn.ctrlKey||hn.shiftKey?Zn?o(8,Dt=Dt.filter(ui=>!fi(ui))):o(8,Dt=[...Dt,{polygon:se,ring:rn,point:Ze}]):Zn&&Dt.length>1?o(8,Dt=[{polygon:se,ring:rn,point:Ze}]):Zn?o(8,Dt=[]):o(8,Dt=[{polygon:se,ring:rn,point:Ze}]),Xt()},Ge=(se,rn,Ze)=>{Xt();const hn=se.geometry.polygons;let fi;if(rn==="SHAPE")fi=hn.map(Zn=>{const ui=Zn.rings.map((cr,wr)=>({points:cr.points.map((sr,Lr)=>[sr[0]+Ze[0],sr[1]+Ze[1]])})),_i=ht(ui[0].points);return{rings:ui,bounds:_i}});else{const[Zn,ui,_i,cr]=rn.split("-").map(wr=>parseInt(wr));fi=hn.map((wr,sr)=>{if(sr===ui){const Lr=wr.rings.map((qn,gr)=>gr===_i?{points:qn.points.map((Fi,vr)=>vr===cr?[Fi[0]+Ze[0],Fi[1]+Ze[1]]:Fi)}:qn),zr=ht(Lr[0].points);return{rings:Lr,bounds:zr}}else return wr})}return{...se,geometry:{polygons:fi,bounds:Qe(fi)}}},zn=se=>async rn=>{rn.stopPropagation();const Ze=h[se],hn=c.polygons.map((Zn,ui)=>{if(ui===Ze.elementIdx){const _i=Zn.rings.map((wr,sr)=>sr===Ze.ringIdx?{points:[...wr.points.slice(0,Ze.pointIdx+1),Ze.point,...wr.points.slice(Ze.pointIdx+1)]}:wr),cr=ht(_i[0].points);return{rings:_i,bounds:cr}}else return Zn});P("change",{...O,geometry:{polygons:hn,bounds:Qe(hn)}}),await Ft();const fi=[...document.querySelectorAll(".a9s-handle")][se+1];if(fi!=null&&fi.firstChild){const Zn=new PointerEvent("pointerdown",{bubbles:!0,cancelable:!0,clientX:rn.clientX,clientY:rn.clientY,pointerId:rn.pointerId,pointerType:rn.pointerType,isPrimary:rn.isPrimary,buttons:rn.buttons});fi.firstChild.dispatchEvent(Zn)}},kn=()=>{const se=c.polygons.map((rn,Ze)=>{if(Dt.some(hn=>hn.polygon===Ze)){const hn=rn.rings.map((Zn,ui)=>{const _i=Dt.filter(cr=>cr.polygon===Ze&&cr.ring===ui);return _i.length&&Zn.points.length-_i.length>=3?{points:Zn.points.filter((cr,wr)=>!_i.some(sr=>sr.point===wr))}:Zn}),fi=ht(hn[0].points);return{rings:hn,bounds:fi}}else return rn});!Ee(c.polygons,se)&&(P("change",{...O,geometry:{polygons:se,bounds:Qe(se)}}),o(8,Dt=[]))};qt(()=>{if(Yn)return;const se=rn=>{(rn.key==="Delete"||rn.key==="Backspace")&&(rn.preventDefault(),kn())};return tt.addEventListener("pointermove",Ce),tt.addEventListener("keydown",se),()=>{tt.removeEventListener("pointermove",Ce),tt.removeEventListener("keydown",se)}});const Ii=`polygon-mask-${Math.random().toString(36).substring(2,12)}`,wi=(se,rn,Ze,{polygon:hn,ring:fi,point:Zn})=>hn===se&&fi===rn&&Zn===Ze;function oe(se){ce.call(this,t,se)}function Ae(se){ce.call(this,t,se)}function Ut(se){ce.call(this,t,se)}return t.$$set=se=>{"shape"in se&&o(0,O=se.shape),"computedStyle"in se&&o(1,z=se.computedStyle),"transform"in se&&o(2,W=se.transform),"viewportScale"in se&&o(3,J=se.viewportScale),"svgEl"in se&&o(4,tt=se.svgEl)},t.$$.update=()=>{t.$$.dirty[0]&1&&o(5,c=O.geometry),t.$$.dirty[0]&40&&o(10,h=Yn?[]:vn(c,J)),t.$$.dirty[0]&40&&o(9,w=hr(c.bounds,Rr/J))},[O,z,W,J,tt,c,gt,ne,Dt,w,h,ze,me,Ie,Ye,un,Ge,zn,Ii,wi,oe,Ae,Ut]}class Yr extends bn{constructor(e){super(),tn(this,e,Xr,Yi,R,{shape:0,computedStyle:1,transform:2,viewportScale:3,svgEl:4},null,[-1,-1])}}const Gr=new Map([[an.RECTANGLE,Gt],[an.POLYGON,ke],[an.MULTIPOLYGON,Yr]]),mo=t=>Gr.get(t.type),go=(t,e)=>Gr.set(t,e);function Xo(t,e,o){let c;const h=we();let{annotation:w}=e,{editor:P}=e,{style:O}=e,{target:z}=e,{transform:W}=e,{viewportScale:J}=e,tt;return qt(()=>(o(6,tt=new P({target:z,props:{shape:w.target.selector,computedStyle:c,transform:W,viewportScale:J,svgEl:z.closest("svg")}})),tt.$on("change",gt=>{tt.$$set({shape:gt.detail}),h("change",gt.detail)}),tt.$on("grab",gt=>h("grab",gt.detail)),tt.$on("release",gt=>h("release",gt.detail)),()=>{tt.$destroy()})),t.$$set=gt=>{"annotation"in gt&&o(0,w=gt.annotation),"editor"in gt&&o(1,P=gt.editor),"style"in gt&&o(2,O=gt.style),"target"in gt&&o(3,z=gt.target),"transform"in gt&&o(4,W=gt.transform),"viewportScale"in gt&&o(5,J=gt.viewportScale)},t.$$.update=()=>{t.$$.dirty&5&&o(7,c=ur(w,O)),t.$$.dirty&65&&w&&(tt==null||tt.$set({shape:w.target.selector})),t.$$.dirty&80&&tt&&tt.$set({transform:W}),t.$$.dirty&96&&tt&&tt.$set({viewportScale:J}),t.$$.dirty&192&&tt&&c&&tt.$set({computedStyle:c})},[w,P,O,z,W,J,tt,c]}class vo extends bn{constructor(e){super(),tn(this,e,Xo,null,R,{annotation:0,editor:1,style:2,target:3,transform:4,viewportScale:5})}}function Yo(t,e,o){const c=we();let{drawingMode:h}=e,{target:w}=e,{tool:P}=e,{transform:O}=e,{viewportScale:z}=e,W;return qt(()=>{const J=w.closest("svg"),tt=[],gt=(ne,Wt,Dt)=>{J==null||J.addEventListener(ne,Wt,Dt),tt.push(()=>J==null?void 0:J.removeEventListener(ne,Wt,Dt))};return o(5,W=new P({target:w,props:{addEventListener:gt,drawingMode:h,transform:O,viewportScale:z}})),W.$on("create",ne=>c("create",ne.detail)),()=>{tt.forEach(ne=>ne()),W.$destroy()}}),t.$$set=J=>{"drawingMode"in J&&o(0,h=J.drawingMode),"target"in J&&o(1,w=J.target),"tool"in J&&o(2,P=J.tool),"transform"in J&&o(3,O=J.transform),"viewportScale"in J&&o(4,z=J.viewportScale)},t.$$.update=()=>{t.$$.dirty&40&&W&&W.$set({transform:O}),t.$$.dirty&48&&W&&W.$set({viewportScale:z})},[h,w,P,O,z,W]}class yo extends bn{constructor(e){super(),tn(this,e,Yo,null,R,{drawingMode:0,target:1,tool:2,transform:3,viewportScale:4})}}function bo(t){let e,o,c,h,w,P,O,z,W,J;return{c(){e=_t("defs"),o=_t("mask"),c=_t("rect"),z=_t("rect"),W=_t("rect"),J=_t("rect"),L(c,"class","rect-mask-bg svelte-1a76qe7"),L(c,"x",h=t[1]-t[5]),L(c,"y",w=t[2]-t[5]),L(c,"width",P=t[3]+2*t[5]),L(c,"height",O=t[4]+2*t[5]),L(z,"class","rect-mask-fg svelte-1a76qe7"),L(z,"x",t[1]),L(z,"y",t[2]),L(z,"width",t[3]),L(z,"height",t[4]),L(o,"id",t[6]),L(o,"class","a9s-rubberband-rectangle-mask svelte-1a76qe7"),L(W,"class","a9s-outer"),L(W,"mask",`url(#${t[6]})`),L(W,"x",t[1]),L(W,"y",t[2]),L(W,"width",t[3]),L(W,"height",t[4]),L(J,"class","a9s-inner"),L(J,"x",t[1]),L(J,"y",t[2]),L(J,"width",t[3]),L(J,"height",t[4])},m(tt,gt){ft(tt,e,gt),pt(e,o),pt(o,c),pt(o,z),ft(tt,W,gt),ft(tt,J,gt)},p(tt,gt){gt&34&&h!==(h=tt[1]-tt[5])&&L(c,"x",h),gt&36&&w!==(w=tt[2]-tt[5])&&L(c,"y",w),gt&40&&P!==(P=tt[3]+2*tt[5])&&L(c,"width",P),gt&48&&O!==(O=tt[4]+2*tt[5])&&L(c,"height",O),gt&2&&L(z,"x",tt[1]),gt&4&&L(z,"y",tt[2]),gt&8&&L(z,"width",tt[3]),gt&16&&L(z,"height",tt[4]),gt&2&&L(W,"x",tt[1]),gt&4&&L(W,"y",tt[2]),gt&8&&L(W,"width",tt[3]),gt&16&&L(W,"height",tt[4]),gt&2&&L(J,"x",tt[1]),gt&4&&L(J,"y",tt[2]),gt&8&&L(J,"width",tt[3]),gt&16&&L(J,"height",tt[4])},d(tt){tt&&(q(e),q(W),q(J))}}}function Go(t){let e,o=t[0]&&bo(t);return{c(){e=_t("g"),o&&o.c(),L(e,"class","a9s-annotation a9s-rubberband")},m(c,h){ft(c,e,h),o&&o.m(e,null)},p(c,[h]){c[0]?o?o.p(c,h):(o=bo(c),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},i:d,o:d,d(c){c&&q(e),o&&o.d()}}}function Qo(t,e,o){let c;const h=we();let{addEventListener:w}=e,{drawingMode:P}=e,{transform:O}=e,{viewportScale:z=1}=e,W,J,tt,gt,ne,Wt,Dt;const ze=Ye=>{const un=Ye;W=performance.now(),P==="drag"&&(o(0,J=O.elementToImage(un.offsetX,un.offsetY)),tt=J,o(1,gt=J[0]),o(2,ne=J[1]),o(3,Wt=1),o(4,Dt=1))},me=Ye=>{const un=Ye;J&&(tt=O.elementToImage(un.offsetX,un.offsetY),o(1,gt=Math.min(tt[0],J[0])),o(2,ne=Math.min(tt[1],J[1])),o(3,Wt=Math.abs(tt[0]-J[0])),o(4,Dt=Math.abs(tt[1]-J[1])))},Ce=Ye=>{const un=Ye,Ge=performance.now()-W;if(P==="click"){if(Ge>300)return;J?Xt():(o(0,J=O.elementToImage(un.offsetX,un.offsetY)),tt=J,o(1,gt=J[0]),o(2,ne=J[1]),o(3,Wt=1),o(4,Dt=1))}else J&&(Ge>300||Wt*Dt>100?(un.stopPropagation(),Xt()):(o(0,J=void 0),tt=void 0))},Xt=()=>{if(Wt*Dt>15){const Ye={type:an.RECTANGLE,geometry:{bounds:{minX:gt,minY:ne,maxX:gt+Wt,maxY:ne+Dt},x:gt,y:ne,w:Wt,h:Dt}};h("create",Ye)}o(0,J=void 0),tt=void 0};qt(()=>{w("pointerdown",ze),w("pointermove",me),w("pointerup",Ce,!0)});const Ie=`rect-mask-${Math.random().toString(36).substring(2,12)}`;return t.$$set=Ye=>{"addEventListener"in Ye&&o(7,w=Ye.addEventListener),"drawingMode"in Ye&&o(8,P=Ye.drawingMode),"transform"in Ye&&o(9,O=Ye.transform),"viewportScale"in Ye&&o(10,z=Ye.viewportScale)},t.$$.update=()=>{t.$$.dirty&1024&&o(5,c=2/z)},[J,gt,ne,Wt,Dt,c,Ie,w,P,O,z]}class wo extends bn{constructor(e){super(),tn(this,e,Qo,Go,R,{addEventListener:7,drawingMode:8,transform:9,viewportScale:10})}}function no(t){const e=t.slice(),o=e[2].map(c=>c.join(",")).join(" ");return e[19]=o,e}function _o(t){let e,o,c,h,w,P,O,z,W,J,tt,gt,ne,Wt,Dt=t[1]&&xo(t);return{c(){e=_t("defs"),o=_t("mask"),c=_t("rect"),z=_t("polygon"),J=_t("polygon"),gt=_t("polygon"),Dt&&Dt.c(),Wt=St(),L(c,"x",h=t[3].x),L(c,"y",w=t[3].y),L(c,"width",P=t[3].w),L(c,"height",O=t[3].h),L(c,"class","svelte-18wrg3t"),L(z,"points",W=t[19]),L(z,"class","svelte-18wrg3t"),L(o,"id",t[5]),L(o,"class","a9s-rubberband-polygon-mask svelte-18wrg3t"),L(J,"class","a9s-outer"),L(J,"mask",`url(#${t[5]})`),L(J,"points",tt=t[19]),L(gt,"class","a9s-inner"),L(gt,"points",ne=t[19])},m(ze,me){ft(ze,e,me),pt(e,o),pt(o,c),pt(o,z),ft(ze,J,me),ft(ze,gt,me),Dt&&Dt.m(ze,me),ft(ze,Wt,me)},p(ze,me){me&8&&h!==(h=ze[3].x)&&L(c,"x",h),me&8&&w!==(w=ze[3].y)&&L(c,"y",w),me&8&&P!==(P=ze[3].w)&&L(c,"width",P),me&8&&O!==(O=ze[3].h)&&L(c,"height",O),me&4&&W!==(W=ze[19])&&L(z,"points",W),me&4&&tt!==(tt=ze[19])&&L(J,"points",tt),me&4&&ne!==(ne=ze[19])&&L(gt,"points",ne),ze[1]?Dt?Dt.p(ze,me):(Dt=xo(ze),Dt.c(),Dt.m(Wt.parentNode,Wt)):Dt&&(Dt.d(1),Dt=null)},d(ze){ze&&(q(e),q(J),q(gt),q(Wt)),Dt&&Dt.d(ze)}}}function xo(t){let e,o,c;return{c(){e=_t("circle"),L(e,"class","a9s-handle svelte-18wrg3t"),L(e,"cx",o=t[0][0][0]),L(e,"cy",c=t[0][0][1]),L(e,"r",t[4])},m(h,w){ft(h,e,w)},p(h,w){w&1&&o!==(o=h[0][0][0])&&L(e,"cx",o),w&1&&c!==(c=h[0][0][1])&&L(e,"cy",c),w&16&&L(e,"r",h[4])},d(h){h&&q(e)}}}function Ko(t){let e,o=t[3]&&_o(no(t));return{c(){e=_t("g"),o&&o.c(),L(e,"class","a9s-annotation a9s-rubberband")},m(c,h){ft(c,e,h),o&&o.m(e,null)},p(c,[h]){c[3]?o?o.p(no(c),h):(o=_o(no(c)),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},i:d,o:d,d(c){c&&q(e),o&&o.d()}}}const Zo=20,Jo=1500;function ts(t,e,o){let c,h,w;const P=we();let{addEventListener:O}=e,{drawingMode:z}=e,{transform:W}=e,{viewportScale:J=1}=e,tt,gt=[],ne,Wt,Dt=!1;const ze=un=>{const Ge=un,{timeStamp:zn,offsetX:kn,offsetY:Ii}=Ge;if(tt={timeStamp:zn,offsetX:kn,offsetY:Ii},z==="drag"&&gt.length===0){const wi=W.elementToImage(Ge.offsetX,Ge.offsetY);gt.push(wi),o(10,ne=wi)}},me=un=>{const Ge=un;if(Wt&&clearTimeout(Wt),gt.length>0){if(o(10,ne=W.elementToImage(Ge.offsetX,Ge.offsetY)),gt.length>2){const zn=Fe(ne,gt[0])*J;o(1,Dt=zn<Zo)}Ge.pointerType==="touch"&&(Wt=setTimeout(()=>{Xt()},Jo))}},Ce=un=>{const Ge=un;if(Wt&&clearTimeout(Wt),z==="click"){const zn=Ge.timeStamp-tt.timeStamp,kn=Fe([tt.offsetX,tt.offsetY],[Ge.offsetX,Ge.offsetY]);if(zn>300||kn>15)return;if(Dt)Ie();else if(gt.length===0){const Ii=W.elementToImage(Ge.offsetX,Ge.offsetY);gt.push(Ii),o(10,ne=Ii)}else gt.push(ne)}else{if(gt.length===1&&Fe(gt[0],ne)<=4){o(0,gt=[]),o(10,ne=void 0);return}Ge.stopImmediatePropagation(),Dt?Ie():gt.push(ne)}},Xt=()=>{if(!ne)return;const un=gt.slice(0,-1);if(un.length<3)return;const Ge={type:an.POLYGON,geometry:{bounds:ht(gt),points:un}};Mi(Ge)>4&&(o(0,gt=[]),o(10,ne=void 0),P("create",Ge))},Ie=()=>{const un={type:an.POLYGON,geometry:{bounds:ht(gt),points:[...gt]}};o(0,gt=[]),o(10,ne=void 0),P("create",un)};qt(()=>{O("pointerdown",ze,!0),O("pointermove",me),O("pointerup",Ce,!0),O("dblclick",Xt,!0)});const Ye=`polygon-mask-${Math.random().toString(36).substring(2,12)}`;return t.$$set=un=>{"addEventListener"in un&&o(6,O=un.addEventListener),"drawingMode"in un&&o(7,z=un.drawingMode),"transform"in un&&o(8,W=un.transform),"viewportScale"in un&&o(9,J=un.viewportScale)},t.$$.update=()=>{t.$$.dirty&512&&o(4,c=4/J),t.$$.dirty&1027&&o(2,h=ne?Dt?gt:[...gt,ne]:[]),t.$$.dirty&516&&o(3,w=h.length>0?hr(ht(h),2/J):void 0)},[gt,Dt,h,w,c,Ye,O,z,W,J,ne]}class es extends bn{constructor(e){super(),tn(this,e,ts,Ko,R,{addEventListener:6,drawingMode:7,transform:8,viewportScale:9})}}const io=new Map([["rectangle",{tool:wo}],["polygon",{tool:es}]]),ro=()=>[...io.keys()],oo=t=>io.get(t),Ao=(t,e,o={})=>io.set(t,{tool:e,opts:o});function ns(t){let e,o,c,h,w;return{c(){e=_t("g"),o=_t("ellipse"),h=_t("ellipse"),L(o,"class","a9s-outer"),L(o,"style",c=t[1]?"display:none;":void 0),L(o,"cx",t[2]),L(o,"cy",t[3]),L(o,"rx",t[4]),L(o,"ry",t[5]),L(h,"class","a9s-inner"),L(h,"style",t[1]),L(h,"cx",t[2]),L(h,"cy",t[3]),L(h,"rx",t[4]),L(h,"ry",t[5]),L(e,"class","a9s-annotation"),L(e,"data-id",w=t[0].id)},m(P,O){ft(P,e,O),pt(e,o),pt(e,h)},p(P,[O]){O&2&&c!==(c=P[1]?"display:none;":void 0)&&L(o,"style",c),O&2&&L(h,"style",P[1]),O&1&&w!==(w=P[0].id)&&L(e,"data-id",w)},i:d,o:d,d(P){P&&q(e)}}}function is(t,e,o){let c,{annotation:h}=e,{geom:w}=e,{style:P}=e;const{cx:O,cy:z,rx:W,ry:J}=w;return t.$$set=tt=>{"annotation"in tt&&o(0,h=tt.annotation),"geom"in tt&&o(6,w=tt.geom),"style"in tt&&o(7,P=tt.style)},t.$$.update=()=>{t.$$.dirty&129&&o(1,c=ur(h,P))},[h,c,O,z,W,J,w,P]}class rs extends bn{constructor(e){super(),tn(this,e,is,ns,R,{annotation:0,geom:6,style:7})}}function os(t){let e,o,c,h,w;return{c(){e=_t("g"),o=_t("line"),h=_t("line"),L(o,"class","a9s-outer"),L(o,"style",c=t[1]?"display:none;":void 0),L(o,"x1",t[2]),L(o,"y1",t[3]),L(o,"x2",t[4]),L(o,"y2",t[5]),L(h,"class","a9s-inner"),L(h,"style",t[1]),L(h,"x1",t[2]),L(h,"y1",t[3]),L(h,"x2",t[4]),L(h,"y2",t[5]),L(e,"class","a9s-annotation"),L(e,"data-id",w=t[0].id)},m(P,O){ft(P,e,O),pt(e,o),pt(e,h)},p(P,[O]){O&2&&c!==(c=P[1]?"display:none;":void 0)&&L(o,"style",c),O&2&&L(h,"style",P[1]),O&1&&w!==(w=P[0].id)&&L(e,"data-id",w)},i:d,o:d,d(P){P&&q(e)}}}function ss(t,e,o){let c,{annotation:h}=e,{geom:w}=e,{style:P}=e;const{points:O}=w,[[z,W],[J,tt]]=O;return t.$$set=gt=>{"annotation"in gt&&o(0,h=gt.annotation),"geom"in gt&&o(6,w=gt.geom),"style"in gt&&o(7,P=gt.style)},t.$$.update=()=>{t.$$.dirty&129&&o(1,c=ur(h,P))},[h,c,z,W,J,tt,w,P]}class as extends bn{constructor(e){super(),tn(this,e,ss,os,R,{annotation:0,geom:6,style:7})}}function So(t,e,o){const c=t.slice();return c[5]=e[o],c}function Eo(t){let e,o,c;return{c(){e=_t("path"),c=_t("path"),L(e,"class","a9s-outer"),L(e,"style",o=t[1]?"display:none;":void 0),L(e,"fill-rule","evenodd"),L(e,"d",qe(t[5])),L(c,"class","a9s-inner"),L(c,"style",t[1]),L(c,"fill-rule","evenodd"),L(c,"d",qe(t[5]))},m(h,w){ft(h,e,w),ft(h,c,w)},p(h,w){w&2&&o!==(o=h[1]?"display:none;":void 0)&&L(e,"style",o),w&2&&L(c,"style",h[1])},d(h){h&&(q(e),q(c))}}}function ls(t){let e,o,c=Tt(t[2]),h=[];for(let w=0;w<c.length;w+=1)h[w]=Eo(So(t,c,w));return{c(){e=_t("g");for(let w=0;w<h.length;w+=1)h[w].c();L(e,"class","a9s-annotation"),L(e,"data-id",o=t[0].id)},m(w,P){ft(w,e,P);for(let O=0;O<h.length;O+=1)h[O]&&h[O].m(e,null)},p(w,[P]){if(P&6){c=Tt(w[2]);let O;for(O=0;O<c.length;O+=1){const z=So(w,c,O);h[O]?h[O].p(z,P):(h[O]=Eo(z),h[O].c(),h[O].m(e,null))}for(;O<h.length;O+=1)h[O].d(1);h.length=c.length}P&1&&o!==(o=w[0].id)&&L(e,"data-id",o)},i:d,o:d,d(w){w&&q(e),At(h,w)}}}function cs(t,e,o){let c,{annotation:h}=e,{geom:w}=e,{style:P}=e;const{polygons:O}=w;return t.$$set=z=>{"annotation"in z&&o(0,h=z.annotation),"geom"in z&&o(3,w=z.geom),"style"in z&&o(4,P=z.style)},t.$$.update=()=>{t.$$.dirty&17&&o(1,c=ur(h,P))},[h,c,O,w,P]}class us extends bn{constructor(e){super(),tn(this,e,cs,ls,R,{annotation:0,geom:3,style:4})}}function ds(t){let e,o,c,h,w;return{c(){e=_t("g"),o=_t("polygon"),h=_t("polygon"),L(o,"class","a9s-outer"),L(o,"style",c=t[1]?"display:none;":void 0),L(o,"points",t[2].map(fs).join(" ")),L(h,"class","a9s-inner"),L(h,"style",t[1]),L(h,"points",t[2].map(ps).join(" ")),L(e,"class","a9s-annotation"),L(e,"data-id",w=t[0].id)},m(P,O){ft(P,e,O),pt(e,o),pt(e,h)},p(P,[O]){O&2&&c!==(c=P[1]?"display:none;":void 0)&&L(o,"style",c),O&2&&L(h,"style",P[1]),O&1&&w!==(w=P[0].id)&&L(e,"data-id",w)},i:d,o:d,d(P){P&&q(e)}}}const fs=t=>t.join(","),ps=t=>t.join(",");function hs(t,e,o){let c,{annotation:h}=e,{geom:w}=e,{style:P}=e;const{points:O}=w;return t.$$set=z=>{"annotation"in z&&o(0,h=z.annotation),"geom"in z&&o(3,w=z.geom),"style"in z&&o(4,P=z.style)},t.$$.update=()=>{t.$$.dirty&17&&o(1,c=ur(h,P))},[h,c,O,w,P]}class ms extends bn{constructor(e){super(),tn(this,e,hs,ds,R,{annotation:0,geom:3,style:4})}}function gs(t){let e,o,c,h,w,P,O;return{c(){e=_t("g"),o=_t("path"),w=_t("path"),L(o,"class",c=Pt(`a9s-outer ${t[1]}`)+" svelte-1w0132l"),L(o,"style",h=t[3]?"display:none;":void 0),L(o,"d",t[2]),L(w,"class",P=Pt(`a9s-inner ${t[1]}`)+" svelte-1w0132l"),L(w,"style",t[3]),L(w,"d",t[2]),L(e,"class","a9s-annotation"),L(e,"data-id",O=t[0].id)},m(z,W){ft(z,e,W),pt(e,o),pt(e,w)},p(z,[W]){W&2&&c!==(c=Pt(`a9s-outer ${z[1]}`)+" svelte-1w0132l")&&L(o,"class",c),W&8&&h!==(h=z[3]?"display:none;":void 0)&&L(o,"style",h),W&4&&L(o,"d",z[2]),W&2&&P!==(P=Pt(`a9s-inner ${z[1]}`)+" svelte-1w0132l")&&L(w,"class",P),W&8&&L(w,"style",z[3]),W&4&&L(w,"d",z[2]),W&1&&O!==(O=z[0].id)&&L(e,"data-id",O)},i:d,o:d,d(z){z&&q(e)}}}function vs(t,e,o){let c,h,w,{annotation:P}=e,{geom:O}=e,{style:z}=e;return t.$$set=W=>{"annotation"in W&&o(0,P=W.annotation),"geom"in W&&o(4,O=W.geom),"style"in W&&o(5,z=W.style)},t.$$.update=()=>{t.$$.dirty&33&&o(3,c=ur(P,z)),t.$$.dirty&16&&o(2,h=Un(O)),t.$$.dirty&16&&o(1,w=O.closed?"closed":"open")},[P,w,h,c,O,z]}class ys extends bn{constructor(e){super(),tn(this,e,vs,gs,R,{annotation:0,geom:4,style:5})}}function bs(t){let e,o,c,h,w;return{c(){e=_t("g"),o=_t("rect"),h=_t("rect"),L(o,"class","a9s-outer"),L(o,"style",c=t[5]?"display:none;":void 0),L(o,"x",t[4]),L(o,"y",t[3]),L(o,"width",t[2]),L(o,"height",t[1]),L(h,"class","a9s-inner"),L(h,"style",t[5]),L(h,"x",t[4]),L(h,"y",t[3]),L(h,"width",t[2]),L(h,"height",t[1]),L(e,"class","a9s-annotation"),L(e,"data-id",w=t[0].id)},m(P,O){ft(P,e,O),pt(e,o),pt(e,h)},p(P,[O]){O&32&&c!==(c=P[5]?"display:none;":void 0)&&L(o,"style",c),O&16&&L(o,"x",P[4]),O&8&&L(o,"y",P[3]),O&4&&L(o,"width",P[2]),O&2&&L(o,"height",P[1]),O&32&&L(h,"style",P[5]),O&16&&L(h,"x",P[4]),O&8&&L(h,"y",P[3]),O&4&&L(h,"width",P[2]),O&2&&L(h,"height",P[1]),O&1&&w!==(w=P[0].id)&&L(e,"data-id",w)},i:d,o:d,d(P){P&&q(e)}}}function ws(t,e,o){let c,h,w,P,O,{annotation:z}=e,{geom:W}=e,{style:J}=e;return t.$$set=tt=>{"annotation"in tt&&o(0,z=tt.annotation),"geom"in tt&&o(6,W=tt.geom),"style"in tt&&o(7,J=tt.style)},t.$$.update=()=>{t.$$.dirty&129&&o(5,c=ur(z,J)),t.$$.dirty&64&&o(4,{x:h,y:w,w:P,h:O}=W,h,(o(3,w),o(6,W)),(o(2,P),o(6,W)),(o(1,O),o(6,W)))},[z,O,P,w,h,c,W,J]}class _s extends bn{constructor(e){super(),tn(this,e,ws,bs,R,{annotation:0,geom:6,style:7})}}const xs={elementToImage:(t,e)=>[t,e]},ko=t=>({elementToImage:(e,o)=>{const c=t.getBoundingClientRect(),h=t.createSVGPoint();h.x=e+c.x,h.y=o+c.y;const{x:w,y:P}=h.matrixTransform(t.getScreenCTM().inverse());return[w,P]}}),As=250,To=(t,e)=>{const o=we();let c;return{onPointerDown:()=>c=performance.now(),onPointerUp:h=>{if(performance.now()-c<As){const{x:w,y:P}=so(h,t),O=Yn?10:2,z=e.getAt(w,P,void 0,O);z?o("click",{originalEvent:h,annotation:z}):o("click",{originalEvent:h})}}}},so=(t,e)=>{const o=e.createSVGPoint(),c=e.getBoundingClientRect(),h=t.clientX-c.x,w=t.clientY-c.y,{left:P,top:O}=e.getBoundingClientRect();return o.x=h+P,o.y=w+O,o.matrixTransform(e.getScreenCTM().inverse())};function Co(t,e,o){const c=t.slice();return c[39]=e[o],c}function Po(t,e,o){const c=t.slice();return c[42]=e[o],c}function ao(t){const e=t.slice(),o=e[42].target.selector;return e[45]=o,e}function Oo(t){let e=t[42],o,c,h=Io(t);return{c(){h.c(),o=St()},m(w,P){h.m(w,P),ft(w,o,P),c=!0},p(w,P){P[0]&131072&&R(e,e=w[42])?(Te(),mt(h,1,1,d),Be(),h=Io(w),h.c(),ae(h,1),h.m(o.parentNode,o)):h.p(w,P)},i(w){c||(ae(h),c=!0)},o(w){mt(h),c=!1},d(w){w&&q(o),h.d(w)}}}function Ss(t){let e,o;return e=new as({props:{annotation:t[42],geom:t[45].geometry,style:t[1]}}),{c(){ue(e.$$.fragment)},m(c,h){Me(e,c,h),o=!0},p(c,h){const w={};h[0]&131072&&(w.annotation=c[42]),h[0]&131072&&(w.geom=c[45].geometry),h[0]&2&&(w.style=c[1]),e.$set(w)},i(c){o||(ae(e.$$.fragment,c),o=!0)},o(c){mt(e.$$.fragment,c),o=!1},d(c){Yt(e,c)}}}function Es(t){let e,o;return e=new ys({props:{annotation:t[42],geom:t[45].geometry,style:t[1]}}),{c(){ue(e.$$.fragment)},m(c,h){Me(e,c,h),o=!0},p(c,h){const w={};h[0]&131072&&(w.annotation=c[42]),h[0]&131072&&(w.geom=c[45].geometry),h[0]&2&&(w.style=c[1]),e.$set(w)},i(c){o||(ae(e.$$.fragment,c),o=!0)},o(c){mt(e.$$.fragment,c),o=!1},d(c){Yt(e,c)}}}function ks(t){let e,o;return e=new us({props:{annotation:t[42],geom:t[45].geometry,style:t[1]}}),{c(){ue(e.$$.fragment)},m(c,h){Me(e,c,h),o=!0},p(c,h){const w={};h[0]&131072&&(w.annotation=c[42]),h[0]&131072&&(w.geom=c[45].geometry),h[0]&2&&(w.style=c[1]),e.$set(w)},i(c){o||(ae(e.$$.fragment,c),o=!0)},o(c){mt(e.$$.fragment,c),o=!1},d(c){Yt(e,c)}}}function Ts(t){let e,o;return e=new ms({props:{annotation:t[42],geom:t[45].geometry,style:t[1]}}),{c(){ue(e.$$.fragment)},m(c,h){Me(e,c,h),o=!0},p(c,h){const w={};h[0]&131072&&(w.annotation=c[42]),h[0]&131072&&(w.geom=c[45].geometry),h[0]&2&&(w.style=c[1]),e.$set(w)},i(c){o||(ae(e.$$.fragment,c),o=!0)},o(c){mt(e.$$.fragment,c),o=!1},d(c){Yt(e,c)}}}function Cs(t){let e,o;return e=new _s({props:{annotation:t[42],geom:t[45].geometry,style:t[1]}}),{c(){ue(e.$$.fragment)},m(c,h){Me(e,c,h),o=!0},p(c,h){const w={};h[0]&131072&&(w.annotation=c[42]),h[0]&131072&&(w.geom=c[45].geometry),h[0]&2&&(w.style=c[1]),e.$set(w)},i(c){o||(ae(e.$$.fragment,c),o=!0)},o(c){mt(e.$$.fragment,c),o=!1},d(c){Yt(e,c)}}}function Ps(t){var e;let o,c;return o=new rs({props:{annotation:t[42],geom:(e=t[45])==null?void 0:e.geometry,style:t[1]}}),{c(){ue(o.$$.fragment)},m(h,w){Me(o,h,w),c=!0},p(h,w){var P;const O={};w[0]&131072&&(O.annotation=h[42]),w[0]&131072&&(O.geom=(P=h[45])==null?void 0:P.geometry),w[0]&2&&(O.style=h[1]),o.$set(O)},i(h){c||(ae(o.$$.fragment,h),c=!0)},o(h){mt(o.$$.fragment,h),c=!1},d(h){Yt(o,h)}}}function Io(t){let e,o,c,h;const w=[Ps,Cs,Ts,ks,Es,Ss],P=[];function O(z,W){var J,tt,gt,ne,Wt,Dt;return((J=z[45])==null?void 0:J.type)===an.ELLIPSE?0:((tt=z[45])==null?void 0:tt.type)===an.RECTANGLE?1:((gt=z[45])==null?void 0:gt.type)===an.POLYGON?2:((ne=z[45])==null?void 0:ne.type)===an.MULTIPOLYGON?3:((Wt=z[45])==null?void 0:Wt.type)===an.POLYLINE?4:((Dt=z[45])==null?void 0:Dt.type)===an.LINE?5:-1}return~(e=O(t))&&(o=P[e]=w[e](t)),{c(){o&&o.c(),c=St()},m(z,W){~e&&P[e].m(z,W),ft(z,c,W),h=!0},p(z,W){let J=e;e=O(z),e===J?~e&&P[e].p(z,W):(o&&(Te(),mt(P[J],1,1,()=>{P[J]=null}),Be()),~e?(o=P[e],o?o.p(z,W):(o=P[e]=w[e](z),o.c()),ae(o,1),o.m(c.parentNode,c)):o=null)},i(z){h||(ae(o),h=!0)},o(z){mt(o),h=!1},d(z){z&&q(c),~e&&P[e].d(z)}}}function Mo(t){let e=li(t[42])&&!t[10](t[42]),o,c,h=e&&Oo(ao(t));return{c(){h&&h.c(),o=St()},m(w,P){h&&h.m(w,P),ft(w,o,P),c=!0},p(w,P){P[0]&132096&&(e=li(w[42])&&!w[10](w[42])),e?h?(h.p(ao(w),P),P[0]&132096&&ae(h,1)):(h=Oo(ao(w)),h.c(),ae(h,1),h.m(o.parentNode,o)):h&&(Te(),mt(h,1,1,()=>{h=null}),Be())},i(w){c||(ae(h),c=!0)},o(w){mt(h),c=!1},d(w){w&&q(o),h&&h.d(w)}}}function No(t){let e,o,c,h;const w=[Is,Os],P=[];function O(z,W){return z[6]?0:z[15]&&z[0]?1:-1}return~(e=O(t))&&(o=P[e]=w[e](t)),{c(){o&&o.c(),c=St()},m(z,W){~e&&P[e].m(z,W),ft(z,c,W),h=!0},p(z,W){let J=e;e=O(z),e===J?~e&&P[e].p(z,W):(o&&(Te(),mt(P[J],1,1,()=>{P[J]=null}),Be()),~e?(o=P[e],o?o.p(z,W):(o=P[e]=w[e](z),o.c()),ae(o,1),o.m(c.parentNode,c)):o=null)},i(z){h||(ae(o),h=!0)},o(z){mt(o),h=!1},d(z){z&&q(c),~e&&P[e].d(z)}}}function Os(t){let e=`${t[2]}-${t[7]}`,o,c,h=Ro(t);return{c(){h.c(),o=St()},m(w,P){h.m(w,P),ft(w,o,P),c=!0},p(w,P){P[0]&132&&R(e,e=`${w[2]}-${w[7]}`)?(Te(),mt(h,1,1,d),Be(),h=Ro(w),h.c(),ae(h,1),h.m(o.parentNode,o)):h.p(w,P)},i(w){c||(ae(h),c=!0)},o(w){mt(h),c=!1},d(w){w&&q(o),h.d(w)}}}function Is(t){let e,o,c=Tt(t[6]),h=[];for(let P=0;P<c.length;P+=1)h[P]=Do(Co(t,c,P));const w=P=>mt(h[P],1,1,()=>{h[P]=null});return{c(){for(let P=0;P<h.length;P+=1)h[P].c();e=St()},m(P,O){for(let z=0;z<h.length;z+=1)h[z]&&h[z].m(P,O);ft(P,e,O),o=!0},p(P,O){if(O[0]&8659266){c=Tt(P[6]);let z;for(z=0;z<c.length;z+=1){const W=Co(P,c,z);h[z]?(h[z].p(W,O),ae(h[z],1)):(h[z]=Do(W),h[z].c(),ae(h[z],1),h[z].m(e.parentNode,e))}for(Te(),z=c.length;z<h.length;z+=1)w(z);Be()}},i(P){if(!o){for(let O=0;O<c.length;O+=1)ae(h[O]);o=!0}},o(P){h=h.filter(Boolean);for(let O=0;O<h.length;O+=1)mt(h[O]);o=!1},d(P){P&&q(e),At(h,P)}}}function Ro(t){let e,o;return e=new yo({props:{target:t[8],tool:t[15],drawingMode:t[14],transform:t[13],viewportScale:t[18]}}),e.$on("create",t[22]),{c(){ue(e.$$.fragment)},m(c,h){Me(e,c,h),o=!0},p(c,h){const w={};h[0]&256&&(w.target=c[8]),h[0]&32768&&(w.tool=c[15]),h[0]&16384&&(w.drawingMode=c[14]),h[0]&8192&&(w.transform=c[13]),h[0]&262144&&(w.viewportScale=c[18]),e.$set(w)},i(c){o||(ae(e.$$.fragment,c),o=!0)},o(c){mt(e.$$.fragment,c),o=!1},d(c){Yt(e,c)}}}function Lo(t){let e,o;return e=new vo({props:{target:t[8],editor:t[39].editor,annotation:t[39].annotation,style:t[1],transform:t[13],viewportScale:t[18]}}),e.$on("change",function(){S(t[23](t[39].annotation))&&t[23](t[39].annotation).apply(this,arguments)}),{c(){ue(e.$$.fragment)},m(c,h){Me(e,c,h),o=!0},p(c,h){t=c;const w={};h[0]&256&&(w.target=t[8]),h[0]&64&&(w.editor=t[39].editor),h[0]&64&&(w.annotation=t[39].annotation),h[0]&2&&(w.style=t[1]),h[0]&8192&&(w.transform=t[13]),h[0]&262144&&(w.viewportScale=t[18]),e.$set(w)},i(c){o||(ae(e.$$.fragment,c),o=!0)},o(c){mt(e.$$.fragment,c),o=!1},d(c){Yt(e,c)}}}function Do(t){let e=t[39].annotation.id,o,c,h=Lo(t);return{c(){h.c(),o=St()},m(w,P){h.m(w,P),ft(w,o,P),c=!0},p(w,P){P[0]&64&&R(e,e=w[39].annotation.id)?(Te(),mt(h,1,1,d),Be(),h=Lo(w),h.c(),ae(h,1),h.m(o.parentNode,o)):h.p(w,P)},i(w){c||(ae(h),c=!0)},o(w){mt(h),c=!1},d(w){w&&q(o),h.d(w)}}}function Ms(t){let e,o,c,h,w,P,O=Tt(t[17].filter(t[34])),z=[];for(let tt=0;tt<O.length;tt+=1)z[tt]=Mo(Po(t,O,tt));const W=tt=>mt(z[tt],1,1,()=>{z[tt]=null});let J=t[8]&&No(t);return{c(){e=_t("svg"),o=_t("g");for(let tt=0;tt<z.length;tt+=1)z[tt].c();c=_t("g"),J&&J.c(),L(c,"class","drawing"),L(e,"role","application"),L(e,"tabindex",0),L(e,"class","a9s-annotationlayer"),te(e,"drawing",t[15]),te(e,"editing",t[5]),te(e,"hidden",!t[3]),te(e,"hover",t[16])},m(tt,gt){ft(tt,e,gt),pt(e,o);for(let ne=0;ne<z.length;ne+=1)z[ne]&&z[ne].m(o,null);pt(e,c),J&&J.m(c,null),t[35](c),t[36](e),h=!0,w||(P=[jt(e,"pointerup",function(){S(t[11])&&t[11].apply(this,arguments)}),jt(e,"pointerdown",function(){S(t[12])&&t[12].apply(this,arguments)}),jt(e,"pointermove",t[24])],w=!0)},p(tt,gt){if(t=tt,gt[0]&132098){O=Tt(t[17].filter(t[34]));let ne;for(ne=0;ne<O.length;ne+=1){const Wt=Po(t,O,ne);z[ne]?(z[ne].p(Wt,gt),ae(z[ne],1)):(z[ne]=Mo(Wt),z[ne].c(),ae(z[ne],1),z[ne].m(o,null))}for(Te(),ne=O.length;ne<z.length;ne+=1)W(ne);Be()}t[8]?J?(J.p(t,gt),gt[0]&256&&ae(J,1)):(J=No(t),J.c(),ae(J,1),J.m(c,null)):J&&(Te(),mt(J,1,1,()=>{J=null}),Be()),(!h||gt[0]&32768)&&te(e,"drawing",t[15]),(!h||gt[0]&32)&&te(e,"editing",t[5]),(!h||gt[0]&8)&&te(e,"hidden",!t[3]),(!h||gt[0]&65536)&&te(e,"hover",t[16])},i(tt){if(!h){for(let gt=0;gt<O.length;gt+=1)ae(z[gt]);ae(J),h=!0}},o(tt){z=z.filter(Boolean);for(let gt=0;gt<z.length;gt+=1)mt(z[gt]);mt(J),h=!1},d(tt){tt&&q(e),At(z,tt),J&&J.d(),t[35](null),t[36](null),w=!1,y(P)}}}function Ns(t,e,o){let c,h,w,P,O,z,W,J,tt,gt,ne,Wt,Dt=d,ze=()=>(Dt(),Dt=F(se,qn=>o(18,Wt=qn)),se);t.$$.on_destroy.push(()=>Dt());let{drawingEnabled:me}=e,{image:Ce}=e,{preferredDrawingMode:Xt}=e,{state:Ie}=e,{style:Ye=void 0}=e,{toolName:un=ro()[0]}=e,{user:Ge}=e,{visible:zn=!0}=e,kn=0;const Ii=()=>o(7,kn+=1),wi=()=>un,oe=()=>me;let Ae,Ut,se;qt(()=>ze(o(9,se=Ji(Ce,Ut))));const{hover:rn,selection:Ze,store:hn}=Ie;it(t,rn,qn=>o(16,tt=qn)),it(t,Ze,qn=>o(33,gt=qn)),it(t,hn,qn=>o(17,ne=qn));let fi,Zn;const ui=qn=>{fi&&hn.unobserve(fi);const gr=qn.filter(({editable:Fi})=>Fi).map(({id:Fi})=>Fi);gr.length>0?(o(5,Zn=gr.map(Fi=>hn.getAnnotation(Fi)).filter(Fi=>Fi&&li(Fi))),fi=Fi=>{const{updated:vr}=Fi.changes;o(5,Zn=vr==null?void 0:vr.map(Mr=>Mr.newValue))},hn.observe(fi,{annotations:gr})):o(5,Zn=void 0)},_i=qn=>{const gr=yr(),Fi={id:gr,bodies:[],target:{annotation:gr,selector:qn.detail,creator:Ge,created:new Date}};hn.addAnnotation(Fi),Ze.setSelected(Fi.id)},cr=qn=>gr=>{var Fi;const{target:vr}=qn,Mr=600*1e3,Br=((Fi=vr.creator)==null?void 0:Fi.id)!==Ge.id||!vr.created||new Date().getTime()-vr.created.getTime()>Mr;hn.updateTarget({...vr,selector:gr.detail,created:Br?vr.created:new Date,updated:Br?new Date:void 0,updatedBy:Br?Ge:void 0})},wr=qn=>{const{x:gr,y:Fi}=so(qn,Ut),vr=hn.getAt(gr,Fi,void 0,2);vr?tt!==vr.id&&rn.set(vr.id):rn.set(void 0)},sr=qn=>li(qn);function Lr(qn){yn[qn?"unshift":"push"](()=>{Ae=qn,o(8,Ae)})}function zr(qn){yn[qn?"unshift":"push"](()=>{Ut=qn,o(4,Ut)})}return t.$$set=qn=>{"drawingEnabled"in qn&&o(0,me=qn.drawingEnabled),"image"in qn&&o(25,Ce=qn.image),"preferredDrawingMode"in qn&&o(26,Xt=qn.preferredDrawingMode),"state"in qn&&o(27,Ie=qn.state),"style"in qn&&o(1,Ye=qn.style),"toolName"in qn&&o(2,un=qn.toolName),"user"in qn&&o(28,Ge=qn.user),"visible"in qn&&o(3,zn=qn.visible)},t.$$.update=()=>{t.$$.dirty[0]&4&&o(15,{tool:c,opts:h}=oo(un)||{tool:void 0,opts:void 0},c,(o(32,h),o(2,un))),t.$$.dirty[0]&67108864|t.$$.dirty[1]&2&&o(14,w=(h==null?void 0:h.drawingMode)||Xt),t.$$.dirty[0]&16&&o(13,P=ko(Ut)),t.$$.dirty[0]&16&&o(12,{onPointerDown:O,onPointerUp:z}=To(Ut,hn),O,(o(11,z),o(4,Ut))),t.$$.dirty[1]&4&&ui(gt.selected),t.$$.dirty[0]&32&&o(6,W=Zn?Zn.map(qn=>({annotation:qn,editor:mo(qn.target.selector)})).filter(qn=>qn.editor):void 0),t.$$.dirty[0]&64&&o(10,J=qn=>W&&W.some(gr=>gr.annotation.id===qn.id))},[me,Ye,un,zn,Ut,Zn,W,kn,Ae,se,J,z,O,P,w,c,tt,ne,Wt,rn,Ze,hn,_i,cr,wr,Ce,Xt,Ie,Ge,Ii,wi,oe,h,gt,sr,Lr,zr]}class jo extends bn{constructor(e){super(),tn(this,e,Ns,Ms,R,{drawingEnabled:0,image:25,preferredDrawingMode:26,state:27,style:1,toolName:2,user:28,visible:3,cancelDrawing:29,getDrawingTool:30,isDrawingEnabled:31},null,[-1,-1])}get cancelDrawing(){return this.$$.ctx[29]}get getDrawingTool(){return this.$$.ctx[30]}get isDrawingEnabled(){return this.$$.ctx[31]}}function zo(t,e,o=0,c=t.length-1,h=Rs){for(;c>o;){if(c-o>600){const z=c-o+1,W=e-o+1,J=Math.log(z),tt=.5*Math.exp(2*J/3),gt=.5*Math.sqrt(J*tt*(z-tt)/z)*(W-z/2<0?-1:1),ne=Math.max(o,Math.floor(e-W*tt/z+gt)),Wt=Math.min(c,Math.floor(e+(z-W)*tt/z+gt));zo(t,e,ne,Wt,h)}const w=t[e];let P=o,O=c;for(Wr(t,o,e),h(t[c],w)>0&&Wr(t,o,c);P<O;){for(Wr(t,P,O),P++,O--;h(t[P],w)<0;)P++;for(;h(t[O],w)>0;)O--}h(t[o],w)===0?Wr(t,o,O):(O++,Wr(t,O,c)),O<=e&&(o=O+1),e<=O&&(c=O-1)}}function Wr(t,e,o){const c=t[e];t[e]=t[o],t[o]=c}function Rs(t,e){return t<e?-1:t>e?1:0}class Ls{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(e){let o=this.data;const c=[];if(!Kr(e,o))return c;const h=this.toBBox,w=[];for(;o;){for(let P=0;P<o.children.length;P++){const O=o.children[P],z=o.leaf?h(O):O;Kr(e,z)&&(o.leaf?c.push(O):co(e,z)?this._all(O,c):w.push(O))}o=w.pop()}return c}collides(e){let o=this.data;if(!Kr(e,o))return!1;const c=[];for(;o;){for(let h=0;h<o.children.length;h++){const w=o.children[h],P=o.leaf?this.toBBox(w):w;if(Kr(e,P)){if(o.leaf||co(e,P))return!0;c.push(w)}}o=c.pop()}return!1}load(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(let c=0;c<e.length;c++)this.insert(e[c]);return this}let o=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length)this.data=o;else if(this.data.height===o.height)this._splitRoot(this.data,o);else{if(this.data.height<o.height){const c=this.data;this.data=o,o=c}this._insert(o,this.data.height-o.height-1,!0)}return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=Vr([]),this}remove(e,o){if(!e)return this;let c=this.data;const h=this.toBBox(e),w=[],P=[];let O,z,W;for(;c||w.length;){if(c||(c=w.pop(),z=w[w.length-1],O=P.pop(),W=!0),c.leaf){const J=Ds(e,c.children,o);if(J!==-1)return c.children.splice(J,1),w.push(c),this._condense(w),this}!W&&!c.leaf&&co(c,h)?(w.push(c),P.push(O),O=0,z=c,c=c.children[0]):z?(O++,c=z.children[O],W=!1):c=null}return this}toBBox(e){return e}compareMinX(e,o){return e.minX-o.minX}compareMinY(e,o){return e.minY-o.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,o){const c=[];for(;e;)e.leaf?o.push(...e.children):c.push(...e.children),e=c.pop();return o}_build(e,o,c,h){const w=c-o+1;let P=this._maxEntries,O;if(w<=P)return O=Vr(e.slice(o,c+1)),Ur(O,this.toBBox),O;h||(h=Math.ceil(Math.log(w)/Math.log(P)),P=Math.ceil(w/Math.pow(P,h-1))),O=Vr([]),O.leaf=!1,O.height=h;const z=Math.ceil(w/P),W=z*Math.ceil(Math.sqrt(P));Fo(e,o,c,W,this.compareMinX);for(let J=o;J<=c;J+=W){const tt=Math.min(J+W-1,c);Fo(e,J,tt,z,this.compareMinY);for(let gt=J;gt<=tt;gt+=z){const ne=Math.min(gt+z-1,tt);O.children.push(this._build(e,gt,ne,h-1))}}return Ur(O,this.toBBox),O}_chooseSubtree(e,o,c,h){for(;h.push(o),!(o.leaf||h.length-1===c);){let w=1/0,P=1/0,O;for(let z=0;z<o.children.length;z++){const W=o.children[z],J=lo(W),tt=Fs(e,W)-J;tt<P?(P=tt,w=J<w?J:w,O=W):tt===P&&J<w&&(w=J,O=W)}o=O||o.children[0]}return o}_insert(e,o,c){const h=c?e:this.toBBox(e),w=[],P=this._chooseSubtree(h,this.data,o,w);for(P.children.push(e),$r(P,h);o>=0&&w[o].children.length>this._maxEntries;)this._split(w,o),o--;this._adjustParentBBoxes(h,w,o)}_split(e,o){const c=e[o],h=c.children.length,w=this._minEntries;this._chooseSplitAxis(c,w,h);const P=this._chooseSplitIndex(c,w,h),O=Vr(c.children.splice(P,c.children.length-P));O.height=c.height,O.leaf=c.leaf,Ur(c,this.toBBox),Ur(O,this.toBBox),o?e[o-1].children.push(O):this._splitRoot(c,O)}_splitRoot(e,o){this.data=Vr([e,o]),this.data.height=e.height+1,this.data.leaf=!1,Ur(this.data,this.toBBox)}_chooseSplitIndex(e,o,c){let h,w=1/0,P=1/0;for(let O=o;O<=c-o;O++){const z=qr(e,0,O,this.toBBox),W=qr(e,O,c,this.toBBox),J=Hs(z,W),tt=lo(z)+lo(W);J<w?(w=J,h=O,P=tt<P?tt:P):J===w&&tt<P&&(P=tt,h=O)}return h||c-o}_chooseSplitAxis(e,o,c){const h=e.leaf?this.compareMinX:js,w=e.leaf?this.compareMinY:zs,P=this._allDistMargin(e,o,c,h),O=this._allDistMargin(e,o,c,w);P<O&&e.children.sort(h)}_allDistMargin(e,o,c,h){e.children.sort(h);const w=this.toBBox,P=qr(e,0,o,w),O=qr(e,c-o,c,w);let z=Qr(P)+Qr(O);for(let W=o;W<c-o;W++){const J=e.children[W];$r(P,e.leaf?w(J):J),z+=Qr(P)}for(let W=c-o-1;W>=o;W--){const J=e.children[W];$r(O,e.leaf?w(J):J),z+=Qr(O)}return z}_adjustParentBBoxes(e,o,c){for(let h=c;h>=0;h--)$r(o[h],e)}_condense(e){for(let o=e.length-1,c;o>=0;o--)e[o].children.length===0?o>0?(c=e[o-1].children,c.splice(c.indexOf(e[o]),1)):this.clear():Ur(e[o],this.toBBox)}}function Ds(t,e,o){if(!o)return e.indexOf(t);for(let c=0;c<e.length;c++)if(o(t,e[c]))return c;return-1}function Ur(t,e){qr(t,0,t.children.length,e,t)}function qr(t,e,o,c,h){h||(h=Vr(null)),h.minX=1/0,h.minY=1/0,h.maxX=-1/0,h.maxY=-1/0;for(let w=e;w<o;w++){const P=t.children[w];$r(h,t.leaf?c(P):P)}return h}function $r(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function js(t,e){return t.minX-e.minX}function zs(t,e){return t.minY-e.minY}function lo(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function Qr(t){return t.maxX-t.minX+(t.maxY-t.minY)}function Fs(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function Hs(t,e){const o=Math.max(t.minX,e.minX),c=Math.max(t.minY,e.minY),h=Math.min(t.maxX,e.maxX),w=Math.min(t.maxY,e.maxY);return Math.max(0,h-o)*Math.max(0,w-c)}function co(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function Kr(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function Vr(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Fo(t,e,o,c,h){const w=[e,o];for(;w.length;){if(o=w.pop(),e=w.pop(),o-e<=c)continue;const P=e+Math.ceil((o-e)/c/2)*c;zo(t,P,e,o,h),w.push(e,P,P,o)}}const Bs=()=>{const t=new Ls,e=new Map,o=()=>[...e.values()],c=()=>{t.clear(),e.clear()},h=P=>{if(!ei(P))return;const{minX:O,minY:z,maxX:W,maxY:J}=P.selector.geometry.bounds,tt={minX:O,minY:z,maxX:W,maxY:J,target:P};t.insert(tt),e.set(P.annotation,tt)},w=P=>{if(!ei(P))return;const O=e.get(P.annotation);O&&t.remove(O),e.delete(P.annotation)};return{all:o,clear:c,getAt:(P,O,z=0)=>{const W=t.search({minX:P-z,minY:O-z,maxX:P+z,maxY:O+z}).map(J=>J.target).filter(J=>J.selector.type===an.RECTANGLE||bt(J.selector,P,O,z));return W.length>0?(W.sort((J,tt)=>Mi(J.selector)-Mi(tt.selector)),W):[]},getIntersecting:(P,O,z,W)=>t.search({minX:P,minY:O,maxX:P+z,maxY:O+W}).map(J=>J.target),insert:h,remove:w,set:(P,O=!0)=>{O&&c();const z=P.reduce((W,J)=>{if(ei(J)){const{minX:tt,minY:gt,maxX:ne,maxY:Wt}=J.selector.geometry.bounds;return[...W,{minX:tt,minY:gt,maxX:ne,maxY:Wt,target:J}]}else return W},[]);z.forEach(W=>e.set(W.target.annotation,W)),t.load(z)},size:()=>t.all().length,update:(P,O)=>{w(P),h(O)}}},Ho=t=>{const e=Re(),o=Bs(),c=D(e,t.userSelectAction,t.adapter),h=p(e),w=vt();return e.observe(({changes:P})=>{o.set((P.created||[]).map(O=>O.target),!1),(P.deleted||[]).forEach(O=>o.remove(O.target)),(P.updated||[]).forEach(({oldValue:O,newValue:z})=>o.update(O.target,z.target))}),{store:{...e,getAt:(P,O,z,W)=>{const J=o.getAt(P,O,W);if(z)return J.map(tt=>e.getAnnotation(tt.annotation)).filter(Boolean).filter(z)[0];{const tt=J[0];return tt?e.getAnnotation(tt.annotation):void 0}},getIntersecting:(P,O,z,W)=>o.getIntersecting(P,O,z,W).map(J=>e.getAnnotation(J.annotation)).filter(Boolean)},selection:c,hover:h,viewport:w}},Bo=t=>{const e=Ho(t);return{...e,store:We(e.store)}},Uo=t=>{let e,o;if(t.nodeName==="CANVAS")e=t,o=e.getContext("2d",{willReadFrequently:!0});else{const h=t;e=document.createElement("canvas"),e.width=h.width,e.height=h.height,o=e.getContext("2d",{willReadFrequently:!0}),o.drawImage(h,0,0,h.width,h.height)}let c=0;for(let h=1;h<10;h++)for(let w=1;w<10;w++){const P=Math.round(w*e.width/10),O=Math.round(h*e.height/10),z=o.getImageData(P,O,1,1).data,W=(.299*z[0]+.587*z[1]+.114*z[2])/255;c+=W}return c/81},Vo=t=>{const e=Uo(t),o=e>.6?"dark":"light";return console.log(`[Annotorious] Image brightness: ${e.toFixed(1)}. Setting ${o} theme.`),o},uo=(t,e,o)=>e.setAttribute("data-theme",o==="auto"?Vo(t):o),Wo=(t,e)=>({...t,drawingEnabled:t.drawingEnabled===void 0?e.drawingEnabled:t.drawingEnabled,drawingMode:t.drawingMode||e.drawingMode,userSelectAction:t.userSelectAction||e.userSelectAction,theme:t.theme||e.theme}),fo=typeof navigator>"u"?!1:navigator.userAgent.indexOf("Mac OS X")!==-1,qo=(t,e)=>{const o=e||document,c=P=>{const O=P;O.key==="z"&&O.ctrlKey?t.undo():O.key==="y"&&O.ctrlKey&&t.redo()},h=P=>{const O=P;O.key==="z"&&O.metaKey&&(O.shiftKey?t.redo():t.undo())},w=()=>{fo?o.removeEventListener("keydown",h):o.removeEventListener("keydown",c)};return fo?o.addEventListener("keydown",h):o.addEventListener("keydown",c),{destroy:w}},Us=(t,e={})=>{if(!t)throw"Missing argument: image";const o=typeof t=="string"?document.getElementById(t):t,c=Wo(e,{drawingEnabled:!0,drawingMode:"drag",userSelectAction:x.EDIT,theme:"light"}),h=Bo(c),{selection:w,store:P}=h,O=ci(P,c.initialHistory),z=de(h,O,c.adapter,c.autoSave),W=document.createElement("DIV");W.style.position="relative",W.style.display="inline-block",o.style.display="block",o.parentNode.insertBefore(W,o),W.appendChild(o);const J=qo(O);let tt=U();uo(o,W,c.theme);const gt=new jo({target:W,props:{drawingEnabled:!!c.drawingEnabled,image:o,preferredDrawingMode:c.drawingMode,state:h,style:c.style,user:tt}});gt.$on("click",oe=>{const{originalEvent:Ae,annotation:Ut}=oe.detail;Ut?w.userSelect(Ut.id,Ae):w.isEmpty()||w.clear()});const ne=De(h,O,c.adapter),Wt=()=>gt.cancelDrawing(),Dt=()=>{gt.$destroy(),W.parentNode.insertBefore(o,W),W.parentNode.removeChild(W),J.destroy(),O.destroy()},ze=()=>gt.getDrawingTool(),me=()=>tt,Ce=()=>gt.isDrawingEnabled(),Xt=(oe,Ae,Ut)=>Ao(oe,Ae,Ut),Ie=(oe,Ae)=>go(oe,Ae),Ye=oe=>{if(!oo(oe))throw`No drawing tool named ${oe}`;gt.$set({toolName:oe})},un=oe=>gt.$set({drawingEnabled:oe}),Ge=oe=>{console.warn("Filter not implemented yet")},zn=oe=>gt.$set({style:oe}),kn=oe=>uo(o,W,oe),Ii=oe=>{tt=oe,gt.$set({user:oe})},wi=oe=>gt.$set({visible:oe});return{...ne,cancelDrawing:Wt,destroy:Dt,getDrawingTool:ze,getUser:me,isDrawingEnabled:Ce,listDrawingTools:ro,on:z.on,off:z.off,registerDrawingTool:Xt,registerShapeEditor:Ie,setDrawingEnabled:un,setDrawingTool:Ye,setFilter:Ge,setStyle:zn,setTheme:kn,setUser:Ii,setVisible:wi,element:W,state:h}};n.Editor=Ir,n.EditorMount=vo,n.Handle=ar,n.IdentityTransform=xs,n.MidpointHandle=a,n.PolygonEditor=ke,n.RectangleEditor=Gt,n.RectangleUtil=ti,n.RubberbandRectangle=wo,n.SVGAnnotationLayer=jo,n.ShapeType=an,n.ToolMount=yo,n.UserSelectAction=x,n.W3CImageFormat=Zt,n.addEventListeners=To,n.approximateAsPolygon=yi,n.boundsFromMultiPolygonElements=Qe,n.boundsFromPoints=ht,n.chainStyles=di,n.computeArea=Mi,n.computePolygonArea=Rt,n.computeSVGPath=Un,n.computeStyle=Ve,n.createBody=cn,n.createImageAnnotator=Us,n.createImageAnnotatorState=Ho,n.createSVGTransform=ko,n.createSvelteImageAnnotatorState=Bo,n.defaultColorProvider=xe,n.detectTheme=Vo,n.distance=Fe,n.enableResponsive=Ji,n.fillDefaults=Wo,n.getAllCorners=Jn,n.getEditor=mo,n.getMaskDimensions=hr,n.getSVGPoint=so,n.getTool=oo,n.initKeyboardCommands=qo,n.intersects=bt,n.isImageAnnotation=li,n.isImageAnnotationTarget=ei,n.isMac=fo,n.isPointInPolygon=he,n.isTouch=Yn,n.listDrawingTools=ro,n.multipolygonElementToPath=qe,n.parseFragmentSelector=gi,n.parseSVGSelector=nr,n.parseW3CImageAnnotation=Oe,n.pointsToPath=Pe,n.registerEditor=go,n.registerShapeUtil=en,n.registerTool=Ao,n.sampleBrightness=Uo,n.serializeFragmentSelector=Ai,n.serializeSVGSelector=Wi,n.serializeW3CImageAnnotation=Cn,n.setTheme=uo,n.simplifyMultiPolygon=Hn,n.simplifyPoints=ge,n.simplifyPolygon=On,Object.defineProperty(n,Symbol.toStringTag,{value:"Module"})}),(function(n,T){typeof exports=="object"&&typeof module!="undefined"?T(exports):typeof define=="function"&&define.amd?define(["exports"],T):T((n=typeof globalThis!="undefined"?globalThis:n||self).Popper={})})(void 0,(function(n){"use strict";function T(bt){if(bt==null)return window;if(bt.toString()!=="[object Window]"){var ht=bt.ownerDocument;return ht&&ht.defaultView||window}return bt}function A(bt){return bt instanceof T(bt).Element||bt instanceof Element}function u(bt){return bt instanceof T(bt).HTMLElement||bt instanceof HTMLElement}function d(bt){return typeof ShadowRoot!="undefined"&&(bt instanceof T(bt).ShadowRoot||bt instanceof ShadowRoot)}var v=Math.max,m=Math.min,I=Math.round;function y(){var bt=navigator.userAgentData;return bt!=null&&bt.brands&&Array.isArray(bt.brands)?bt.brands.map((function(ht){return ht.brand+"/"+ht.version})).join(" "):navigator.userAgent}function S(){return!/^((?!chrome|android).)*safari/i.test(y())}function R(bt,ht,Rt){ht===void 0&&(ht=!1),Rt===void 0&&(Rt=!1);var he=bt.getBoundingClientRect(),Pe=1,ge=1;ht&&u(bt)&&(Pe=bt.offsetWidth>0&&I(he.width)/bt.offsetWidth||1,ge=bt.offsetHeight>0&&I(he.height)/bt.offsetHeight||1);var Fe=(A(bt)?T(bt):window).visualViewport,Ne=!S()&&Rt,je=(he.left+(Ne&&Fe?Fe.offsetLeft:0))/Pe,wn=(he.top+(Ne&&Fe?Fe.offsetTop:0))/ge,Qe=he.width/Pe,qe=he.height/ge;return{width:Qe,height:qe,top:wn,right:je+Qe,bottom:wn+qe,left:je,x:je,y:wn}}function Q(bt){var ht=T(bt);return{scrollLeft:ht.pageXOffset,scrollTop:ht.pageYOffset}}function F(bt){return bt?(bt.nodeName||"").toLowerCase():null}function it(bt){return((A(bt)?bt.ownerDocument:bt.document)||window.document).documentElement}function V(bt){return R(it(bt)).left+Q(bt).scrollLeft}function M(bt){return T(bt).getComputedStyle(bt)}function H(bt){var ht=M(bt),Rt=ht.overflow,he=ht.overflowX,Pe=ht.overflowY;return/auto|scroll|overlay|hidden/.test(Rt+Pe+he)}function X(bt,ht,Rt){Rt===void 0&&(Rt=!1);var he,Pe,ge=u(ht),Fe=u(ht)&&(function(qe){var Jn=qe.getBoundingClientRect(),Hn=I(Jn.width)/qe.offsetWidth||1,Bn=I(Jn.height)/qe.offsetHeight||1;return Hn!==1||Bn!==1})(ht),Ne=it(ht),je=R(bt,Fe,Rt),wn={scrollLeft:0,scrollTop:0},Qe={x:0,y:0};return(ge||!ge&&!Rt)&&((F(ht)!=="body"||H(Ne))&&(wn=(he=ht)!==T(he)&&u(he)?{scrollLeft:(Pe=he).scrollLeft,scrollTop:Pe.scrollTop}:Q(he)),u(ht)?((Qe=R(ht,!0)).x+=ht.clientLeft,Qe.y+=ht.clientTop):Ne&&(Qe.x=V(Ne))),{x:je.left+wn.scrollLeft-Qe.x,y:je.top+wn.scrollTop-Qe.y,width:je.width,height:je.height}}function Z(bt){var ht=R(bt),Rt=bt.offsetWidth,he=bt.offsetHeight;return Math.abs(ht.width-Rt)<=1&&(Rt=ht.width),Math.abs(ht.height-he)<=1&&(he=ht.height),{x:bt.offsetLeft,y:bt.offsetTop,width:Rt,height:he}}function st(bt){return F(bt)==="html"?bt:bt.assignedSlot||bt.parentNode||(d(bt)?bt.host:null)||it(bt)}function Pt(bt){return["html","body","#document"].indexOf(F(bt))>=0?bt.ownerDocument.body:u(bt)&&H(bt)?bt:Pt(st(bt))}function pt(bt,ht){var Rt;ht===void 0&&(ht=[]);var he=Pt(bt),Pe=he===((Rt=bt.ownerDocument)==null?void 0:Rt.body),ge=T(he),Fe=Pe?[ge].concat(ge.visualViewport||[],H(he)?he:[]):he,Ne=ht.concat(Fe);return Pe?Ne:Ne.concat(pt(st(Fe)))}function ft(bt){return["table","td","th"].indexOf(F(bt))>=0}function q(bt){return u(bt)&&M(bt).position!=="fixed"?bt.offsetParent:null}function At(bt){for(var ht=T(bt),Rt=q(bt);Rt&&ft(Rt)&&M(Rt).position==="static";)Rt=q(Rt);return Rt&&(F(Rt)==="html"||F(Rt)==="body"&&M(Rt).position==="static")?ht:Rt||(function(he){var Pe=/firefox/i.test(y());if(/Trident/i.test(y())&&u(he)&&M(he).position==="fixed")return null;var ge=st(he);for(d(ge)&&(ge=ge.host);u(ge)&&["html","body"].indexOf(F(ge))<0;){var Fe=M(ge);if(Fe.transform!=="none"||Fe.perspective!=="none"||Fe.contain==="paint"||["transform","perspective"].indexOf(Fe.willChange)!==-1||Pe&&Fe.willChange==="filter"||Pe&&Fe.filter&&Fe.filter!=="none")return ge;ge=ge.parentNode}return null})(bt)||ht}var _t="top",Jt="bottom",g="right",St="left",jt="auto",L=[_t,Jt,g,St],An="start",te="end",Ot="viewport",ye="popper",l=L.reduce((function(bt,ht){return bt.concat([ht+"-"+An,ht+"-"+te])}),[]),Bt=[].concat(L,[jt]).reduce((function(bt,ht){return bt.concat([ht,ht+"-"+An,ht+"-"+te])}),[]),qt=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function we(bt){var ht=new Map,Rt=new Set,he=[];function Pe(ge){Rt.add(ge.name),[].concat(ge.requires||[],ge.requiresIfExists||[]).forEach((function(Fe){if(!Rt.has(Fe)){var Ne=ht.get(Fe);Ne&&Pe(Ne)}})),he.push(ge)}return bt.forEach((function(ge){ht.set(ge.name,ge)})),bt.forEach((function(ge){Rt.has(ge.name)||Pe(ge)})),he}function ce(bt,ht){var Rt=ht.getRootNode&&ht.getRootNode();if(bt.contains(ht))return!0;if(Rt&&d(Rt)){var he=ht;do{if(he&&bt.isSameNode(he))return!0;he=he.parentNode||he.host}while(he)}return!1}function He(bt){return Object.assign({},bt,{left:bt.x,top:bt.y,right:bt.x+bt.width,bottom:bt.y+bt.height})}function yn(bt,ht,Rt){return ht===Ot?He((function(he,Pe){var ge=T(he),Fe=it(he),Ne=ge.visualViewport,je=Fe.clientWidth,wn=Fe.clientHeight,Qe=0,qe=0;if(Ne){je=Ne.width,wn=Ne.height;var Jn=S();(Jn||!Jn&&Pe==="fixed")&&(Qe=Ne.offsetLeft,qe=Ne.offsetTop)}return{width:je,height:wn,x:Qe+V(he),y:qe}})(bt,Rt)):A(ht)?(function(he,Pe){var ge=R(he,!1,Pe==="fixed");return ge.top=ge.top+he.clientTop,ge.left=ge.left+he.clientLeft,ge.bottom=ge.top+he.clientHeight,ge.right=ge.left+he.clientWidth,ge.width=he.clientWidth,ge.height=he.clientHeight,ge.x=ge.left,ge.y=ge.top,ge})(ht,Rt):He((function(he){var Pe,ge=it(he),Fe=Q(he),Ne=(Pe=he.ownerDocument)==null?void 0:Pe.body,je=v(ge.scrollWidth,ge.clientWidth,Ne?Ne.scrollWidth:0,Ne?Ne.clientWidth:0),wn=v(ge.scrollHeight,ge.clientHeight,Ne?Ne.scrollHeight:0,Ne?Ne.clientHeight:0),Qe=-Fe.scrollLeft+V(he),qe=-Fe.scrollTop;return M(Ne||ge).direction==="rtl"&&(Qe+=v(ge.clientWidth,Ne?Ne.clientWidth:0)-je),{width:je,height:wn,x:Qe,y:qe}})(it(bt)))}function on(bt,ht,Rt,he){var Pe=ht==="clippingParents"?(function(je){var wn=pt(st(je)),Qe=["absolute","fixed"].indexOf(M(je).position)>=0&&u(je)?At(je):je;return A(Qe)?wn.filter((function(qe){return A(qe)&&ce(qe,Qe)&&F(qe)!=="body"})):[]})(bt):[].concat(ht),ge=[].concat(Pe,[Rt]),Fe=ge[0],Ne=ge.reduce((function(je,wn){var Qe=yn(bt,wn,he);return je.top=v(Qe.top,je.top),je.right=m(Qe.right,je.right),je.bottom=m(Qe.bottom,je.bottom),je.left=v(Qe.left,je.left),je}),yn(bt,Fe,he));return Ne.width=Ne.right-Ne.left,Ne.height=Ne.bottom-Ne.top,Ne.x=Ne.left,Ne.y=Ne.top,Ne}function Fn(bt){return bt.split("-")[0]}function vi(bt){return bt.split("-")[1]}function Ti(bt){return["top","bottom"].indexOf(bt)>=0?"x":"y"}function ri(bt){var ht,Rt=bt.reference,he=bt.element,Pe=bt.placement,ge=Pe?Fn(Pe):null,Fe=Pe?vi(Pe):null,Ne=Rt.x+Rt.width/2-he.width/2,je=Rt.y+Rt.height/2-he.height/2;switch(ge){case _t:ht={x:Ne,y:Rt.y-he.height};break;case Jt:ht={x:Ne,y:Rt.y+Rt.height};break;case g:ht={x:Rt.x+Rt.width,y:je};break;case St:ht={x:Rt.x-he.width,y:je};break;default:ht={x:Rt.x,y:Rt.y}}var wn=ge?Ti(ge):null;if(wn!=null){var Qe=wn==="y"?"height":"width";switch(Fe){case An:ht[wn]=ht[wn]-(Rt[Qe]/2-he[Qe]/2);break;case te:ht[wn]=ht[wn]+(Rt[Qe]/2-he[Qe]/2)}}return ht}function Ft(bt){return Object.assign({},{top:0,right:0,bottom:0,left:0},bt)}function Se(bt,ht){return ht.reduce((function(Rt,he){return Rt[he]=bt,Rt}),{})}function ln(bt,ht){ht===void 0&&(ht={});var Rt=ht,he=Rt.placement,Pe=he===void 0?bt.placement:he,ge=Rt.strategy,Fe=ge===void 0?bt.strategy:ge,Ne=Rt.boundary,je=Ne===void 0?"clippingParents":Ne,wn=Rt.rootBoundary,Qe=wn===void 0?Ot:wn,qe=Rt.elementContext,Jn=qe===void 0?ye:qe,Hn=Rt.altBoundary,Bn=Hn!==void 0&&Hn,On=Rt.padding,Dn=On===void 0?0:On,yi=Ft(typeof Dn!="number"?Dn:Se(Dn,L)),xi=Jn===ye?"reference":ye,mi=bt.rects.popper,oi=bt.elements[Bn?xi:Jn],Un=on(A(oi)?oi:oi.contextElement||it(bt.elements.popper),je,Qe,Fe),ti=R(bt.elements.reference),li=ri({reference:ti,element:mi,strategy:"absolute",placement:Pe}),ei=He(Object.assign({},mi,li)),gi=Jn===ye?ei:ti,Ai={top:Un.top-gi.top+yi.top,bottom:gi.bottom-Un.bottom+yi.bottom,left:Un.left-gi.left+yi.left,right:gi.right-Un.right+yi.right},Ui=bt.modifiersData.offset;if(Jn===ye&&Ui){var Vi=Ui[Pe];Object.keys(Ai).forEach((function(ir){var er=[g,Jt].indexOf(ir)>=0?1:-1,$i=[_t,Jt].indexOf(ir)>=0?"y":"x";Ai[ir]+=Vi[$i]*er}))}return Ai}var $n={placement:"bottom",modifiers:[],strategy:"absolute"};function Ei(){for(var bt=arguments.length,ht=new Array(bt),Rt=0;Rt<bt;Rt++)ht[Rt]=arguments[Rt];return!ht.some((function(he){return!(he&&typeof he.getBoundingClientRect=="function")}))}function Pi(bt){bt===void 0&&(bt={});var ht=bt,Rt=ht.defaultModifiers,he=Rt===void 0?[]:Rt,Pe=ht.defaultOptions,ge=Pe===void 0?$n:Pe;return function(Fe,Ne,je){je===void 0&&(je=ge);var wn,Qe,qe={placement:"bottom",orderedModifiers:[],options:Object.assign({},$n,ge),modifiersData:{},elements:{reference:Fe,popper:Ne},attributes:{},styles:{}},Jn=[],Hn=!1,Bn={state:qe,setOptions:function(Dn){var yi=typeof Dn=="function"?Dn(qe.options):Dn;On(),qe.options=Object.assign({},ge,qe.options,yi),qe.scrollParents={reference:A(Fe)?pt(Fe):Fe.contextElement?pt(Fe.contextElement):[],popper:pt(Ne)};var xi,mi,oi=(function(Un){var ti=we(Un);return qt.reduce((function(li,ei){return li.concat(ti.filter((function(gi){return gi.phase===ei})))}),[])})((xi=[].concat(he,qe.options.modifiers),mi=xi.reduce((function(Un,ti){var li=Un[ti.name];return Un[ti.name]=li?Object.assign({},li,ti,{options:Object.assign({},li.options,ti.options),data:Object.assign({},li.data,ti.data)}):ti,Un}),{}),Object.keys(mi).map((function(Un){return mi[Un]}))));return qe.orderedModifiers=oi.filter((function(Un){return Un.enabled})),qe.orderedModifiers.forEach((function(Un){var ti=Un.name,li=Un.options,ei=li===void 0?{}:li,gi=Un.effect;if(typeof gi=="function"){var Ai=gi({state:qe,name:ti,instance:Bn,options:ei}),Ui=function(){};Jn.push(Ai||Ui)}})),Bn.update()},forceUpdate:function(){if(!Hn){var Dn=qe.elements,yi=Dn.reference,xi=Dn.popper;if(Ei(yi,xi)){qe.rects={reference:X(yi,At(xi),qe.options.strategy==="fixed"),popper:Z(xi)},qe.reset=!1,qe.placement=qe.options.placement,qe.orderedModifiers.forEach((function(gi){return qe.modifiersData[gi.name]=Object.assign({},gi.data)}));for(var mi=0;mi<qe.orderedModifiers.length;mi++)if(qe.reset!==!0){var oi=qe.orderedModifiers[mi],Un=oi.fn,ti=oi.options,li=ti===void 0?{}:ti,ei=oi.name;typeof Un=="function"&&(qe=Un({state:qe,options:li,name:ei,instance:Bn})||qe)}else qe.reset=!1,mi=-1}}},update:(wn=function(){return new Promise((function(Dn){Bn.forceUpdate(),Dn(qe)}))},function(){return Qe||(Qe=new Promise((function(Dn){Promise.resolve().then((function(){Qe=void 0,Dn(wn())}))}))),Qe}),destroy:function(){On(),Hn=!0}};if(!Ei(Fe,Ne))return Bn;function On(){Jn.forEach((function(Dn){return Dn()})),Jn=[]}return Bn.setOptions(je).then((function(Dn){!Hn&&je.onFirstUpdate&&je.onFirstUpdate(Dn)})),Bn}}var kt={passive:!0},Qt={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(bt){var ht=bt.state,Rt=bt.instance,he=bt.options,Pe=he.scroll,ge=Pe===void 0||Pe,Fe=he.resize,Ne=Fe===void 0||Fe,je=T(ht.elements.popper),wn=[].concat(ht.scrollParents.reference,ht.scrollParents.popper);return ge&&wn.forEach((function(Qe){Qe.addEventListener("scroll",Rt.update,kt)})),Ne&&je.addEventListener("resize",Rt.update,kt),function(){ge&&wn.forEach((function(Qe){Qe.removeEventListener("scroll",Rt.update,kt)})),Ne&&je.removeEventListener("resize",Rt.update,kt)}},data:{}},pe={name:"popperOffsets",enabled:!0,phase:"read",fn:function(bt){var ht=bt.state,Rt=bt.name;ht.modifiersData[Rt]=ri({reference:ht.rects.reference,element:ht.rects.popper,strategy:"absolute",placement:ht.placement})},data:{}},Te={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Be(bt){var ht,Rt=bt.popper,he=bt.popperRect,Pe=bt.placement,ge=bt.variation,Fe=bt.offsets,Ne=bt.position,je=bt.gpuAcceleration,wn=bt.adaptive,Qe=bt.roundOffsets,qe=bt.isFixed,Jn=Fe.x,Hn=Jn===void 0?0:Jn,Bn=Fe.y,On=Bn===void 0?0:Bn,Dn=typeof Qe=="function"?Qe({x:Hn,y:On}):{x:Hn,y:On};Hn=Dn.x,On=Dn.y;var yi=Fe.hasOwnProperty("x"),xi=Fe.hasOwnProperty("y"),mi=St,oi=_t,Un=window;if(wn){var ti=At(Rt),li="clientHeight",ei="clientWidth";ti===T(Rt)&&M(ti=it(Rt)).position!=="static"&&Ne==="absolute"&&(li="scrollHeight",ei="scrollWidth"),ti=ti,(Pe===_t||(Pe===St||Pe===g)&&ge===te)&&(oi=Jt,On-=(qe&&ti===Un&&Un.visualViewport?Un.visualViewport.height:ti[li])-he.height,On*=je?1:-1),(Pe===St||(Pe===_t||Pe===Jt)&&ge===te)&&(mi=g,Hn-=(qe&&ti===Un&&Un.visualViewport?Un.visualViewport.width:ti[ei])-he.width,Hn*=je?1:-1)}var gi,Ai=Object.assign({position:Ne},wn&&Te),Ui=Qe===!0?(function(Vi,ir){var er=Vi.x,$i=Vi.y,Ri=ir.devicePixelRatio||1;return{x:I(er*Ri)/Ri||0,y:I($i*Ri)/Ri||0}})({x:Hn,y:On},T(Rt)):{x:Hn,y:On};return Hn=Ui.x,On=Ui.y,je?Object.assign({},Ai,((gi={})[oi]=xi?"0":"",gi[mi]=yi?"0":"",gi.transform=(Un.devicePixelRatio||1)<=1?"translate("+Hn+"px, "+On+"px)":"translate3d("+Hn+"px, "+On+"px, 0)",gi)):Object.assign({},Ai,((ht={})[oi]=xi?On+"px":"",ht[mi]=yi?Hn+"px":"",ht.transform="",ht))}var ae={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(bt){var ht=bt.state,Rt=bt.options,he=Rt.gpuAcceleration,Pe=he===void 0||he,ge=Rt.adaptive,Fe=ge===void 0||ge,Ne=Rt.roundOffsets,je=Ne===void 0||Ne,wn={placement:Fn(ht.placement),variation:vi(ht.placement),popper:ht.elements.popper,popperRect:ht.rects.popper,gpuAcceleration:Pe,isFixed:ht.options.strategy==="fixed"};ht.modifiersData.popperOffsets!=null&&(ht.styles.popper=Object.assign({},ht.styles.popper,Be(Object.assign({},wn,{offsets:ht.modifiersData.popperOffsets,position:ht.options.strategy,adaptive:Fe,roundOffsets:je})))),ht.modifiersData.arrow!=null&&(ht.styles.arrow=Object.assign({},ht.styles.arrow,Be(Object.assign({},wn,{offsets:ht.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:je})))),ht.attributes.popper=Object.assign({},ht.attributes.popper,{"data-popper-placement":ht.placement})},data:{}},mt={name:"applyStyles",enabled:!0,phase:"write",fn:function(bt){var ht=bt.state;Object.keys(ht.elements).forEach((function(Rt){var he=ht.styles[Rt]||{},Pe=ht.attributes[Rt]||{},ge=ht.elements[Rt];u(ge)&&F(ge)&&(Object.assign(ge.style,he),Object.keys(Pe).forEach((function(Fe){var Ne=Pe[Fe];Ne===!1?ge.removeAttribute(Fe):ge.setAttribute(Fe,Ne===!0?"":Ne)})))}))},effect:function(bt){var ht=bt.state,Rt={popper:{position:ht.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(ht.elements.popper.style,Rt.popper),ht.styles=Rt,ht.elements.arrow&&Object.assign(ht.elements.arrow.style,Rt.arrow),function(){Object.keys(ht.elements).forEach((function(he){var Pe=ht.elements[he],ge=ht.attributes[he]||{},Fe=Object.keys(ht.styles.hasOwnProperty(he)?ht.styles[he]:Rt[he]).reduce((function(Ne,je){return Ne[je]="",Ne}),{});u(Pe)&&F(Pe)&&(Object.assign(Pe.style,Fe),Object.keys(ge).forEach((function(Ne){Pe.removeAttribute(Ne)})))}))}},requires:["computeStyles"]},Tt={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(bt){var ht=bt.state,Rt=bt.options,he=bt.name,Pe=Rt.offset,ge=Pe===void 0?[0,0]:Pe,Fe=Bt.reduce((function(Qe,qe){return Qe[qe]=(function(Jn,Hn,Bn){var On=Fn(Jn),Dn=[St,_t].indexOf(On)>=0?-1:1,yi=typeof Bn=="function"?Bn(Object.assign({},Hn,{placement:Jn})):Bn,xi=yi[0],mi=yi[1];return xi=xi||0,mi=(mi||0)*Dn,[St,g].indexOf(On)>=0?{x:mi,y:xi}:{x:xi,y:mi}})(qe,ht.rects,ge),Qe}),{}),Ne=Fe[ht.placement],je=Ne.x,wn=Ne.y;ht.modifiersData.popperOffsets!=null&&(ht.modifiersData.popperOffsets.x+=je,ht.modifiersData.popperOffsets.y+=wn),ht.modifiersData[he]=Fe}},ue={left:"right",right:"left",bottom:"top",top:"bottom"};function Me(bt){return bt.replace(/left|right|bottom|top/g,(function(ht){return ue[ht]}))}var Yt={start:"end",end:"start"};function Je(bt){return bt.replace(/start|end/g,(function(ht){return Yt[ht]}))}function tn(bt,ht){ht===void 0&&(ht={});var Rt=ht,he=Rt.placement,Pe=Rt.boundary,ge=Rt.rootBoundary,Fe=Rt.padding,Ne=Rt.flipVariations,je=Rt.allowedAutoPlacements,wn=je===void 0?Bt:je,Qe=vi(he),qe=Qe?Ne?l:l.filter((function(Bn){return vi(Bn)===Qe})):L,Jn=qe.filter((function(Bn){return wn.indexOf(Bn)>=0}));Jn.length===0&&(Jn=qe);var Hn=Jn.reduce((function(Bn,On){return Bn[On]=ln(bt,{placement:On,boundary:Pe,rootBoundary:ge,padding:Fe})[Fn(On)],Bn}),{});return Object.keys(Hn).sort((function(Bn,On){return Hn[Bn]-Hn[On]}))}var bn={name:"flip",enabled:!0,phase:"main",fn:function(bt){var ht=bt.state,Rt=bt.options,he=bt.name;if(!ht.modifiersData[he]._skip){for(var Pe=Rt.mainAxis,ge=Pe===void 0||Pe,Fe=Rt.altAxis,Ne=Fe===void 0||Fe,je=Rt.fallbackPlacements,wn=Rt.padding,Qe=Rt.boundary,qe=Rt.rootBoundary,Jn=Rt.altBoundary,Hn=Rt.flipVariations,Bn=Hn===void 0||Hn,On=Rt.allowedAutoPlacements,Dn=ht.options.placement,yi=Fn(Dn),xi=je||(yi===Dn||!Bn?[Me(Dn)]:(function(Mn){if(Fn(Mn)===jt)return[];var Xn=Me(Mn);return[Je(Mn),Xn,Je(Xn)]})(Dn)),mi=[Dn].concat(xi).reduce((function(Mn,Xn){return Mn.concat(Fn(Xn)===jt?tn(ht,{placement:Xn,boundary:Qe,rootBoundary:qe,padding:wn,flipVariations:Bn,allowedAutoPlacements:On}):Xn)}),[]),oi=ht.rects.reference,Un=ht.rects.popper,ti=new Map,li=!0,ei=mi[0],gi=0;gi<mi.length;gi++){var Ai=mi[gi],Ui=Fn(Ai),Vi=vi(Ai)===An,ir=[_t,Jt].indexOf(Ui)>=0,er=ir?"width":"height",$i=ln(ht,{placement:Ai,boundary:Qe,rootBoundary:qe,altBoundary:Jn,padding:wn}),Ri=ir?Vi?g:St:Vi?Jt:_t;oi[er]>Un[er]&&(Ri=Me(Ri));var ve=Me(Ri),mn=[];if(ge&&mn.push($i[Ui]<=0),Ne&&mn.push($i[Ri]<=0,$i[ve]<=0),mn.every((function(Mn){return Mn}))){ei=Ai,li=!1;break}ti.set(Ai,mn)}if(li)for(var In=function(Mn){var Xn=mi.find((function(Gi){var nr=ti.get(Gi);if(nr)return nr.slice(0,Mn).every((function(Oi){return Oi}))}));if(Xn)return ei=Xn,"break"},gn=Bn?3:1;gn>0&&In(gn)!=="break";gn--);ht.placement!==ei&&(ht.modifiersData[he]._skip=!0,ht.placement=ei,ht.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Ln(bt,ht,Rt){return v(bt,m(ht,Rt))}var an={name:"preventOverflow",enabled:!0,phase:"main",fn:function(bt){var ht=bt.state,Rt=bt.options,he=bt.name,Pe=Rt.mainAxis,ge=Pe===void 0||Pe,Fe=Rt.altAxis,Ne=Fe!==void 0&&Fe,je=Rt.boundary,wn=Rt.rootBoundary,Qe=Rt.altBoundary,qe=Rt.padding,Jn=Rt.tether,Hn=Jn===void 0||Jn,Bn=Rt.tetherOffset,On=Bn===void 0?0:Bn,Dn=ln(ht,{boundary:je,rootBoundary:wn,padding:qe,altBoundary:Qe}),yi=Fn(ht.placement),xi=vi(ht.placement),mi=!xi,oi=Ti(yi),Un=oi==="x"?"y":"x",ti=ht.modifiersData.popperOffsets,li=ht.rects.reference,ei=ht.rects.popper,gi=typeof On=="function"?On(Object.assign({},ht.rects,{placement:ht.placement})):On,Ai=typeof gi=="number"?{mainAxis:gi,altAxis:gi}:Object.assign({mainAxis:0,altAxis:0},gi),Ui=ht.modifiersData.offset?ht.modifiersData.offset[ht.placement]:null,Vi={x:0,y:0};if(ti){if(ge){var ir,er=oi==="y"?_t:St,$i=oi==="y"?Jt:g,Ri=oi==="y"?"height":"width",ve=ti[oi],mn=ve+Dn[er],In=ve-Dn[$i],gn=Hn?-ei[Ri]/2:0,Mn=xi===An?li[Ri]:ei[Ri],Xn=xi===An?-ei[Ri]:-li[Ri],Gi=ht.elements.arrow,nr=Hn&&Gi?Z(Gi):{width:0,height:0},Oi=ht.modifiersData["arrow#persistent"]?ht.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Wi=Oi[er],Gn=Oi[$i],Ni=Ln(0,li[Ri],nr[Ri]),zi=mi?li[Ri]/2-gn-Ni-Wi-Ai.mainAxis:Mn-Ni-Wi-Ai.mainAxis,Xi=mi?-li[Ri]/2+gn+Ni+Gn+Ai.mainAxis:Xn+Ni+Gn+Ai.mainAxis,fr=ht.elements.arrow&&At(ht.elements.arrow),Pr=fr?oi==="y"?fr.clientTop||0:fr.clientLeft||0:0,Or=(ir=Ui==null?void 0:Ui[oi])!=null?ir:0,yr=ve+Xi-Or,Qi=Ln(Hn?m(mn,ve+zi-Or-Pr):mn,ve,Hn?v(In,yr):In);ti[oi]=Qi,Vi[oi]=Qi-ve}if(Ne){var Ki,_r=oi==="x"?_t:St,pr=oi==="x"?Jt:g,rr=ti[Un],s=Un==="y"?"height":"width",p=rr+Dn[_r],x=rr-Dn[pr],k=[_t,St].indexOf(yi)!==-1,D=(Ki=Ui==null?void 0:Ui[Un])!=null?Ki:0,Y=k?p:rr-li[s]-ei[s]-D+Ai.altAxis,nt=k?rr+li[s]+ei[s]-D-Ai.altAxis:x,ct=Hn&&k?(function(Mt,xt,Kt){var zt=Ln(Mt,xt,Kt);return zt>Kt?Kt:zt})(Y,rr,nt):Ln(Hn?Y:p,rr,Hn?nt:x);ti[Un]=ct,Vi[Un]=ct-rr}ht.modifiersData[he]=Vi}},requiresIfExists:["offset"]},xn={name:"arrow",enabled:!0,phase:"main",fn:function(bt){var ht,Rt=bt.state,he=bt.name,Pe=bt.options,ge=Rt.elements.arrow,Fe=Rt.modifiersData.popperOffsets,Ne=Fn(Rt.placement),je=Ti(Ne),wn=[St,g].indexOf(Ne)>=0?"height":"width";if(ge&&Fe){var Qe=(function(ei,gi){return Ft(typeof(ei=typeof ei=="function"?ei(Object.assign({},gi.rects,{placement:gi.placement})):ei)!="number"?ei:Se(ei,L))})(Pe.padding,Rt),qe=Z(ge),Jn=je==="y"?_t:St,Hn=je==="y"?Jt:g,Bn=Rt.rects.reference[wn]+Rt.rects.reference[je]-Fe[je]-Rt.rects.popper[wn],On=Fe[je]-Rt.rects.reference[je],Dn=At(ge),yi=Dn?je==="y"?Dn.clientHeight||0:Dn.clientWidth||0:0,xi=Bn/2-On/2,mi=Qe[Jn],oi=yi-qe[wn]-Qe[Hn],Un=yi/2-qe[wn]/2+xi,ti=Ln(mi,Un,oi),li=je;Rt.modifiersData[he]=((ht={})[li]=ti,ht.centerOffset=ti-Un,ht)}},effect:function(bt){var ht=bt.state,Rt=bt.options.element,he=Rt===void 0?"[data-popper-arrow]":Rt;he!=null&&(typeof he!="string"||(he=ht.elements.popper.querySelector(he)))&&ce(ht.elements.popper,he)&&(ht.elements.arrow=he)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function pi(bt,ht,Rt){return Rt===void 0&&(Rt={x:0,y:0}),{top:bt.top-ht.height-Rt.y,right:bt.right-ht.width+Rt.x,bottom:bt.bottom-ht.height+Rt.y,left:bt.left-ht.width-Rt.x}}function Hi(bt){return[_t,g,Jt,St].some((function(ht){return bt[ht]>=0}))}var It={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(bt){var ht=bt.state,Rt=bt.name,he=ht.rects.reference,Pe=ht.rects.popper,ge=ht.modifiersData.preventOverflow,Fe=ln(ht,{elementContext:"reference"}),Ne=ln(ht,{altBoundary:!0}),je=pi(Fe,he),wn=pi(Ne,Pe,ge),Qe=Hi(je),qe=Hi(wn);ht.modifiersData[Rt]={referenceClippingOffsets:je,popperEscapeOffsets:wn,isReferenceHidden:Qe,hasPopperEscaped:qe},ht.attributes.popper=Object.assign({},ht.attributes.popper,{"data-popper-reference-hidden":Qe,"data-popper-escaped":qe})}},ai=Pi({defaultModifiers:[Qt,pe,ae,mt]}),en=[Qt,pe,ae,mt,Tt,bn,an,xn,It],Mi=Pi({defaultModifiers:en});n.applyStyles=mt,n.arrow=xn,n.computeStyles=ae,n.createPopper=Mi,n.createPopperLite=ai,n.defaultModifiers=en,n.detectOverflow=ln,n.eventListeners=Qt,n.flip=bn,n.hide=It,n.offset=Tt,n.popperGenerator=Pi,n.popperOffsets=pe,n.preventOverflow=an,Object.defineProperty(n,"__esModule",{value:!0})})),(function(n,T){typeof exports=="object"&&typeof module!="undefined"?module.exports=T(require("@popperjs/core")):typeof define=="function"&&define.amd?define(["@popperjs/core"],T):(n=n||self).tippy=T(n.Popper)})(void 0,(function(n){"use strict";var T={passive:!0,capture:!0},A=function(){return document.body};function u(kt,Qt,pe){if(Array.isArray(kt)){var Te=kt[Qt];return Te==null?Array.isArray(pe)?pe[Qt]:pe:Te}return kt}function d(kt,Qt){var pe={}.toString.call(kt);return pe.indexOf("[object")===0&&pe.indexOf(Qt+"]")>-1}function v(kt,Qt){return typeof kt=="function"?kt.apply(void 0,Qt):kt}function m(kt,Qt){return Qt===0?kt:function(Te){clearTimeout(pe),pe=setTimeout((function(){kt(Te)}),Qt)};var pe}function I(kt,Qt){var pe=Object.assign({},kt);return Qt.forEach((function(Te){delete pe[Te]})),pe}function y(kt){return[].concat(kt)}function S(kt,Qt){kt.indexOf(Qt)===-1&&kt.push(Qt)}function R(kt){return kt.split("-")[0]}function Q(kt){return[].slice.call(kt)}function F(kt){return Object.keys(kt).reduce((function(Qt,pe){return kt[pe]!==void 0&&(Qt[pe]=kt[pe]),Qt}),{})}function it(){return document.createElement("div")}function V(kt){return["Element","Fragment"].some((function(Qt){return d(kt,Qt)}))}function M(kt){return d(kt,"MouseEvent")}function H(kt){return!(!kt||!kt._tippy||kt._tippy.reference!==kt)}function X(kt){return V(kt)?[kt]:(function(Qt){return d(Qt,"NodeList")})(kt)?Q(kt):Array.isArray(kt)?kt:Q(document.querySelectorAll(kt))}function Z(kt,Qt){kt.forEach((function(pe){pe&&(pe.style.transitionDuration=Qt+"ms")}))}function st(kt,Qt){kt.forEach((function(pe){pe&&pe.setAttribute("data-state",Qt)}))}function Pt(kt){var Qt,pe=y(kt)[0];return pe!=null&&(Qt=pe.ownerDocument)!=null&&Qt.body?pe.ownerDocument:document}function pt(kt,Qt,pe){var Te=Qt+"EventListener";["transitionend","webkitTransitionEnd"].forEach((function(Be){kt[Te](Be,pe)}))}function ft(kt,Qt){for(var pe=Qt;pe;){var Te;if(kt.contains(pe))return!0;pe=pe.getRootNode==null||(Te=pe.getRootNode())==null?void 0:Te.host}return!1}var q={isTouch:!1},At=0;function _t(){q.isTouch||(q.isTouch=!0,window.performance&&document.addEventListener("mousemove",Jt))}function Jt(){var kt=performance.now();kt-At<20&&(q.isTouch=!1,document.removeEventListener("mousemove",Jt)),At=kt}function g(){var kt=document.activeElement;if(H(kt)){var Qt=kt._tippy;kt.blur&&!Qt.state.isVisible&&kt.blur()}}var St=typeof window!="undefined"&&typeof document!="undefined"&&!!window.msCrypto,jt=Object.assign({appendTo:A,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},{animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),L=Object.keys(jt);function An(kt){var Qt=(kt.plugins||[]).reduce((function(pe,Te){var Be,ae=Te.name,mt=Te.defaultValue;return ae&&(pe[ae]=kt[ae]!==void 0?kt[ae]:(Be=jt[ae])!=null?Be:mt),pe}),{});return Object.assign({},kt,Qt)}function te(kt,Qt){var pe=Object.assign({},Qt,{content:v(Qt.content,[kt])},Qt.ignoreAttributes?{}:(function(Te,Be){return(Be?Object.keys(An(Object.assign({},jt,{plugins:Be}))):L).reduce((function(ae,mt){var Tt=(Te.getAttribute("data-tippy-"+mt)||"").trim();if(!Tt)return ae;if(mt==="content")ae[mt]=Tt;else try{ae[mt]=JSON.parse(Tt)}catch(ue){ae[mt]=Tt}return ae}),{})})(kt,Qt.plugins));return pe.aria=Object.assign({},jt.aria,pe.aria),pe.aria={expanded:pe.aria.expanded==="auto"?Qt.interactive:pe.aria.expanded,content:pe.aria.content==="auto"?Qt.interactive?null:"describedby":pe.aria.content},pe}function Ot(kt,Qt){kt.innerHTML=Qt}function ye(kt){var Qt=it();return kt===!0?Qt.className="tippy-arrow":(Qt.className="tippy-svg-arrow",V(kt)?Qt.appendChild(kt):Ot(Qt,kt)),Qt}function l(kt,Qt){V(Qt.content)?(Ot(kt,""),kt.appendChild(Qt.content)):typeof Qt.content!="function"&&(Qt.allowHTML?Ot(kt,Qt.content):kt.textContent=Qt.content)}function Bt(kt){var Qt=kt.firstElementChild,pe=Q(Qt.children);return{box:Qt,content:pe.find((function(Te){return Te.classList.contains("tippy-content")})),arrow:pe.find((function(Te){return Te.classList.contains("tippy-arrow")||Te.classList.contains("tippy-svg-arrow")})),backdrop:pe.find((function(Te){return Te.classList.contains("tippy-backdrop")}))}}function qt(kt){var Qt=it(),pe=it();pe.className="tippy-box",pe.setAttribute("data-state","hidden"),pe.setAttribute("tabindex","-1");var Te=it();function Be(ae,mt){var Tt=Bt(Qt),ue=Tt.box,Me=Tt.content,Yt=Tt.arrow;mt.theme?ue.setAttribute("data-theme",mt.theme):ue.removeAttribute("data-theme"),typeof mt.animation=="string"?ue.setAttribute("data-animation",mt.animation):ue.removeAttribute("data-animation"),mt.inertia?ue.setAttribute("data-inertia",""):ue.removeAttribute("data-inertia"),ue.style.maxWidth=typeof mt.maxWidth=="number"?mt.maxWidth+"px":mt.maxWidth,mt.role?ue.setAttribute("role",mt.role):ue.removeAttribute("role"),ae.content===mt.content&&ae.allowHTML===mt.allowHTML||l(Me,kt.props),mt.arrow?Yt?ae.arrow!==mt.arrow&&(ue.removeChild(Yt),ue.appendChild(ye(mt.arrow))):ue.appendChild(ye(mt.arrow)):Yt&&ue.removeChild(Yt)}return Te.className="tippy-content",Te.setAttribute("data-state","hidden"),l(Te,kt.props),Qt.appendChild(pe),pe.appendChild(Te),Be(kt.props,kt.props),{popper:Qt,onUpdate:Be}}qt.$$tippy=!0;var we=1,ce=[],He=[];function yn(kt,Qt){var pe,Te,Be,ae,mt,Tt,ue,Me,Yt=te(kt,Object.assign({},jt,An(F(Qt)))),Je=!1,tn=!1,bn=!1,Ln=!1,an=[],xn=m(ei,Yt.interactiveDebounce),pi=we++,Hi=(Me=Yt.plugins).filter((function(ve,mn){return Me.indexOf(ve)===mn})),It={id:pi,reference:kt,popper:it(),popperInstance:null,props:Yt,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:Hi,clearDelayTimeouts:function(){clearTimeout(pe),clearTimeout(Te),cancelAnimationFrame(Be)},setProps:function(ve){if(!It.state.isDestroyed){Qe("onBeforeUpdate",[It,ve]),ti();var mn=It.props,In=te(kt,Object.assign({},mn,F(ve),{ignoreAttributes:!0}));It.props=In,Un(),mn.interactiveDebounce!==In.interactiveDebounce&&(Hn(),xn=m(ei,In.interactiveDebounce)),mn.triggerTarget&&!In.triggerTarget?y(mn.triggerTarget).forEach((function(gn){gn.removeAttribute("aria-expanded")})):In.triggerTarget&&kt.removeAttribute("aria-expanded"),Jn(),wn(),Mi&&Mi(mn,In),It.popperInstance&&(Vi(),er().forEach((function(gn){requestAnimationFrame(gn._tippy.popperInstance.forceUpdate)}))),Qe("onAfterUpdate",[It,ve])}},setContent:function(ve){It.setProps({content:ve})},show:function(){var ve=It.state.isVisible,mn=It.state.isDestroyed,In=!It.state.isEnabled,gn=q.isTouch&&!It.props.touch,Mn=u(It.props.duration,0,jt.duration);if(!(ve||mn||In||gn)&&!ge().hasAttribute("disabled")&&(Qe("onShow",[It],!1),It.props.onShow(It)!==!1)){if(It.state.isVisible=!0,Pe()&&(en.style.visibility="visible"),wn(),yi(),It.state.isMounted||(en.style.transition="none"),Pe()){var Xn=Ne(),Gi=Xn.box,nr=Xn.content;Z([Gi,nr],0)}Tt=function(){var Oi;if(It.state.isVisible&&!Ln){if(Ln=!0,en.offsetHeight,en.style.transition=It.props.moveTransition,Pe()&&It.props.animation){var Wi=Ne(),Gn=Wi.box,Ni=Wi.content;Z([Gn,Ni],Mn),st([Gn,Ni],"visible")}qe(),Jn(),S(He,It),(Oi=It.popperInstance)==null||Oi.forceUpdate(),Qe("onMount",[It]),It.props.animation&&Pe()&&(function(zi,Xi){mi(zi,Xi)})(Mn,(function(){It.state.isShown=!0,Qe("onShown",[It])}))}},(function(){var Oi,Wi=It.props.appendTo,Gn=ge();Oi=It.props.interactive&&Wi===A||Wi==="parent"?Gn.parentNode:v(Wi,[Gn]),Oi.contains(en)||Oi.appendChild(en),It.state.isMounted=!0,Vi()})()}},hide:function(){var ve=!It.state.isVisible,mn=It.state.isDestroyed,In=!It.state.isEnabled,gn=u(It.props.duration,1,jt.duration);if(!(ve||mn||In)&&(Qe("onHide",[It],!1),It.props.onHide(It)!==!1)){if(It.state.isVisible=!1,It.state.isShown=!1,Ln=!1,Je=!1,Pe()&&(en.style.visibility="hidden"),Hn(),xi(),wn(!0),Pe()){var Mn=Ne(),Xn=Mn.box,Gi=Mn.content;It.props.animation&&(Z([Xn,Gi],gn),st([Xn,Gi],"hidden"))}qe(),Jn(),It.props.animation?Pe()&&(function(nr,Oi){mi(nr,(function(){!It.state.isVisible&&en.parentNode&&en.parentNode.contains(en)&&Oi()}))})(gn,It.unmount):It.unmount()}},hideWithInteractivity:function(ve){Fe().addEventListener("mousemove",xn),S(ce,xn),xn(ve)},enable:function(){It.state.isEnabled=!0},disable:function(){It.hide(),It.state.isEnabled=!1},unmount:function(){It.state.isVisible&&It.hide(),It.state.isMounted&&(ir(),er().forEach((function(ve){ve._tippy.unmount()})),en.parentNode&&en.parentNode.removeChild(en),He=He.filter((function(ve){return ve!==It})),It.state.isMounted=!1,Qe("onHidden",[It]))},destroy:function(){It.state.isDestroyed||(It.clearDelayTimeouts(),It.unmount(),ti(),delete kt._tippy,It.state.isDestroyed=!0,Qe("onDestroy",[It]))}};if(!Yt.render)return It;var ai=Yt.render(It),en=ai.popper,Mi=ai.onUpdate;en.setAttribute("data-tippy-root",""),en.id="tippy-"+It.id,It.popper=en,kt._tippy=It,en._tippy=It;var bt=Hi.map((function(ve){return ve.fn(It)})),ht=kt.hasAttribute("aria-expanded");return Un(),Jn(),wn(),Qe("onCreate",[It]),Yt.showOnCreate&&$i(),en.addEventListener("mouseenter",(function(){It.props.interactive&&It.state.isVisible&&It.clearDelayTimeouts()})),en.addEventListener("mouseleave",(function(){It.props.interactive&&It.props.trigger.indexOf("mouseenter")>=0&&Fe().addEventListener("mousemove",xn)})),It;function Rt(){var ve=It.props.touch;return Array.isArray(ve)?ve:[ve,0]}function he(){return Rt()[0]==="hold"}function Pe(){var ve;return!((ve=It.props.render)==null||!ve.$$tippy)}function ge(){return ue||kt}function Fe(){var ve=ge().parentNode;return ve?Pt(ve):document}function Ne(){return Bt(en)}function je(ve){return It.state.isMounted&&!It.state.isVisible||q.isTouch||ae&&ae.type==="focus"?0:u(It.props.delay,ve?0:1,jt.delay)}function wn(ve){ve===void 0&&(ve=!1),en.style.pointerEvents=It.props.interactive&&!ve?"":"none",en.style.zIndex=""+It.props.zIndex}function Qe(ve,mn,In){var gn;In===void 0&&(In=!0),bt.forEach((function(Mn){Mn[ve]&&Mn[ve].apply(Mn,mn)})),In&&(gn=It.props)[ve].apply(gn,mn)}function qe(){var ve=It.props.aria;if(ve.content){var mn="aria-"+ve.content,In=en.id;y(It.props.triggerTarget||kt).forEach((function(gn){var Mn=gn.getAttribute(mn);if(It.state.isVisible)gn.setAttribute(mn,Mn?Mn+" "+In:In);else{var Xn=Mn&&Mn.replace(In,"").trim();Xn?gn.setAttribute(mn,Xn):gn.removeAttribute(mn)}}))}}function Jn(){!ht&&It.props.aria.expanded&&y(It.props.triggerTarget||kt).forEach((function(ve){It.props.interactive?ve.setAttribute("aria-expanded",It.state.isVisible&&ve===ge()?"true":"false"):ve.removeAttribute("aria-expanded")}))}function Hn(){Fe().removeEventListener("mousemove",xn),ce=ce.filter((function(ve){return ve!==xn}))}function Bn(ve){if(!q.isTouch||!bn&&ve.type!=="mousedown"){var mn=ve.composedPath&&ve.composedPath()[0]||ve.target;if(!It.props.interactive||!ft(en,mn)){if(y(It.props.triggerTarget||kt).some((function(In){return ft(In,mn)}))){if(q.isTouch||It.state.isVisible&&It.props.trigger.indexOf("click")>=0)return}else Qe("onClickOutside",[It,ve]);It.props.hideOnClick===!0&&(It.clearDelayTimeouts(),It.hide(),tn=!0,setTimeout((function(){tn=!1})),It.state.isMounted||xi())}}}function On(){bn=!0}function Dn(){bn=!1}function yi(){var ve=Fe();ve.addEventListener("mousedown",Bn,!0),ve.addEventListener("touchend",Bn,T),ve.addEventListener("touchstart",Dn,T),ve.addEventListener("touchmove",On,T)}function xi(){var ve=Fe();ve.removeEventListener("mousedown",Bn,!0),ve.removeEventListener("touchend",Bn,T),ve.removeEventListener("touchstart",Dn,T),ve.removeEventListener("touchmove",On,T)}function mi(ve,mn){var In=Ne().box;function gn(Mn){Mn.target===In&&(pt(In,"remove",gn),mn())}if(ve===0)return mn();pt(In,"remove",mt),pt(In,"add",gn),mt=gn}function oi(ve,mn,In){In===void 0&&(In=!1),y(It.props.triggerTarget||kt).forEach((function(gn){gn.addEventListener(ve,mn,In),an.push({node:gn,eventType:ve,handler:mn,options:In})}))}function Un(){var ve;he()&&(oi("touchstart",li,{passive:!0}),oi("touchend",gi,{passive:!0})),(ve=It.props.trigger,ve.split(/\s+/).filter(Boolean)).forEach((function(mn){if(mn!=="manual")switch(oi(mn,li),mn){case"mouseenter":oi("mouseleave",gi);break;case"focus":oi(St?"focusout":"blur",Ai);break;case"focusin":oi("focusout",Ai)}}))}function ti(){an.forEach((function(ve){var mn=ve.node,In=ve.eventType,gn=ve.handler,Mn=ve.options;mn.removeEventListener(In,gn,Mn)})),an=[]}function li(ve){var mn,In=!1;if(It.state.isEnabled&&!Ui(ve)&&!tn){var gn=((mn=ae)==null?void 0:mn.type)==="focus";ae=ve,ue=ve.currentTarget,Jn(),!It.state.isVisible&&M(ve)&&ce.forEach((function(Mn){return Mn(ve)})),ve.type==="click"&&(It.props.trigger.indexOf("mouseenter")<0||Je)&&It.props.hideOnClick!==!1&&It.state.isVisible?In=!0:$i(ve),ve.type==="click"&&(Je=!In),In&&!gn&&Ri(ve)}}function ei(ve){var mn=ve.target,In=ge().contains(mn)||en.contains(mn);ve.type==="mousemove"&&In||(function(gn,Mn){var Xn=Mn.clientX,Gi=Mn.clientY;return gn.every((function(nr){var Oi=nr.popperRect,Wi=nr.popperState,Gn=nr.props.interactiveBorder,Ni=R(Wi.placement),zi=Wi.modifiersData.offset;if(!zi)return!0;var Xi=Ni==="bottom"?zi.top.y:0,fr=Ni==="top"?zi.bottom.y:0,Pr=Ni==="right"?zi.left.x:0,Or=Ni==="left"?zi.right.x:0,yr=Oi.top-Gi+Xi>Gn,Qi=Gi-Oi.bottom-fr>Gn,Ki=Oi.left-Xn+Pr>Gn,_r=Xn-Oi.right-Or>Gn;return yr||Qi||Ki||_r}))})(er().concat(en).map((function(gn){var Mn,Xn=(Mn=gn._tippy.popperInstance)==null?void 0:Mn.state;return Xn?{popperRect:gn.getBoundingClientRect(),popperState:Xn,props:Yt}:null})).filter(Boolean),ve)&&(Hn(),Ri(ve))}function gi(ve){Ui(ve)||It.props.trigger.indexOf("click")>=0&&Je||(It.props.interactive?It.hideWithInteractivity(ve):Ri(ve))}function Ai(ve){It.props.trigger.indexOf("focusin")<0&&ve.target!==ge()||It.props.interactive&&ve.relatedTarget&&en.contains(ve.relatedTarget)||Ri(ve)}function Ui(ve){return!!q.isTouch&&he()!==ve.type.indexOf("touch")>=0}function Vi(){ir();var ve=It.props,mn=ve.popperOptions,In=ve.placement,gn=ve.offset,Mn=ve.getReferenceClientRect,Xn=ve.moveTransition,Gi=Pe()?Bt(en).arrow:null,nr=Mn?{getBoundingClientRect:Mn,contextElement:Mn.contextElement||ge()}:kt,Oi=[{name:"offset",options:{offset:gn}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Xn}},{name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Wi){var Gn=Wi.state;if(Pe()){var Ni=Ne().box;["placement","reference-hidden","escaped"].forEach((function(zi){zi==="placement"?Ni.setAttribute("data-placement",Gn.placement):Gn.attributes.popper["data-popper-"+zi]?Ni.setAttribute("data-"+zi,""):Ni.removeAttribute("data-"+zi)})),Gn.attributes.popper={}}}}];Pe()&&Gi&&Oi.push({name:"arrow",options:{element:Gi,padding:3}}),Oi.push.apply(Oi,(mn==null?void 0:mn.modifiers)||[]),It.popperInstance=n.createPopper(nr,en,Object.assign({},mn,{placement:In,onFirstUpdate:Tt,modifiers:Oi}))}function ir(){It.popperInstance&&(It.popperInstance.destroy(),It.popperInstance=null)}function er(){return Q(en.querySelectorAll("[data-tippy-root]"))}function $i(ve){It.clearDelayTimeouts(),ve&&Qe("onTrigger",[It,ve]),yi();var mn=je(!0),In=Rt(),gn=In[0],Mn=In[1];q.isTouch&&gn==="hold"&&Mn&&(mn=Mn),mn?pe=setTimeout((function(){It.show()}),mn):It.show()}function Ri(ve){if(It.clearDelayTimeouts(),Qe("onUntrigger",[It,ve]),It.state.isVisible){if(!(It.props.trigger.indexOf("mouseenter")>=0&&It.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(ve.type)>=0&&Je)){var mn=je(!1);mn?Te=setTimeout((function(){It.state.isVisible&&It.hide()}),mn):Be=requestAnimationFrame((function(){It.hide()}))}}else xi()}}function on(kt,Qt){Qt===void 0&&(Qt={});var pe=jt.plugins.concat(Qt.plugins||[]);document.addEventListener("touchstart",_t,T),window.addEventListener("blur",g);var Te=Object.assign({},Qt,{plugins:pe}),Be=X(kt).reduce((function(ae,mt){var Tt=mt&&yn(mt,Te);return Tt&&ae.push(Tt),ae}),[]);return V(kt)?Be[0]:Be}on.defaultProps=jt,on.setDefaultProps=function(kt){Object.keys(kt).forEach((function(Qt){jt[Qt]=kt[Qt]}))},on.currentInput=q;var Fn=Object.assign({},n.applyStyles,{effect:function(kt){var Qt=kt.state,pe={popper:{position:Qt.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(Qt.elements.popper.style,pe.popper),Qt.styles=pe,Qt.elements.arrow&&Object.assign(Qt.elements.arrow.style,pe.arrow)}}),vi={mouseover:"mouseenter",focusin:"focus",click:"click"},Ti={name:"animateFill",defaultValue:!1,fn:function(kt){var Qt;if((Qt=kt.props.render)==null||!Qt.$$tippy)return{};var pe=Bt(kt.popper),Te=pe.box,Be=pe.content,ae=kt.props.animateFill?(function(){var mt=it();return mt.className="tippy-backdrop",st([mt],"hidden"),mt})():null;return{onCreate:function(){ae&&(Te.insertBefore(ae,Te.firstElementChild),Te.setAttribute("data-animatefill",""),Te.style.overflow="hidden",kt.setProps({arrow:!1,animation:"shift-away"}))},onMount:function(){if(ae){var mt=Te.style.transitionDuration,Tt=Number(mt.replace("ms",""));Be.style.transitionDelay=Math.round(Tt/10)+"ms",ae.style.transitionDuration=mt,st([ae],"visible")}},onShow:function(){ae&&(ae.style.transitionDuration="0ms")},onHide:function(){ae&&st([ae],"hidden")}}}},ri={clientX:0,clientY:0},Ft=[];function Se(kt){var Qt=kt.clientX,pe=kt.clientY;ri={clientX:Qt,clientY:pe}}var ln={name:"followCursor",defaultValue:!1,fn:function(kt){var Qt=kt.reference,pe=Pt(kt.props.triggerTarget||Qt),Te=!1,Be=!1,ae=!0,mt=kt.props;function Tt(){return kt.props.followCursor==="initial"&&kt.state.isVisible}function ue(){pe.addEventListener("mousemove",Je)}function Me(){pe.removeEventListener("mousemove",Je)}function Yt(){Te=!0,kt.setProps({getReferenceClientRect:null}),Te=!1}function Je(Ln){var an=!Ln.target||Qt.contains(Ln.target),xn=kt.props.followCursor,pi=Ln.clientX,Hi=Ln.clientY,It=Qt.getBoundingClientRect(),ai=pi-It.left,en=Hi-It.top;!an&&kt.props.interactive||kt.setProps({getReferenceClientRect:function(){var Mi=Qt.getBoundingClientRect(),bt=pi,ht=Hi;xn==="initial"&&(bt=Mi.left+ai,ht=Mi.top+en);var Rt=xn==="horizontal"?Mi.top:ht,he=xn==="vertical"?Mi.right:bt,Pe=xn==="horizontal"?Mi.bottom:ht,ge=xn==="vertical"?Mi.left:bt;return{width:he-ge,height:Pe-Rt,top:Rt,right:he,bottom:Pe,left:ge}}})}function tn(){kt.props.followCursor&&(Ft.push({instance:kt,doc:pe}),(function(Ln){Ln.addEventListener("mousemove",Se)})(pe))}function bn(){(Ft=Ft.filter((function(Ln){return Ln.instance!==kt}))).filter((function(Ln){return Ln.doc===pe})).length===0&&(function(Ln){Ln.removeEventListener("mousemove",Se)})(pe)}return{onCreate:tn,onDestroy:bn,onBeforeUpdate:function(){mt=kt.props},onAfterUpdate:function(Ln,an){var xn=an.followCursor;Te||xn!==void 0&&mt.followCursor!==xn&&(bn(),xn?(tn(),!kt.state.isMounted||Be||Tt()||ue()):(Me(),Yt()))},onMount:function(){kt.props.followCursor&&!Be&&(ae&&(Je(ri),ae=!1),Tt()||ue())},onTrigger:function(Ln,an){M(an)&&(ri={clientX:an.clientX,clientY:an.clientY}),Be=an.type==="focus"},onHidden:function(){kt.props.followCursor&&(Yt(),Me(),ae=!0)}}}},$n={name:"inlinePositioning",defaultValue:!1,fn:function(kt){var Qt,pe=kt.reference,Te=-1,Be=!1,ae=[],mt={name:"tippyInlinePositioning",enabled:!0,phase:"afterWrite",fn:function(ue){var Me=ue.state;kt.props.inlinePositioning&&(ae.indexOf(Me.placement)!==-1&&(ae=[]),Qt!==Me.placement&&ae.indexOf(Me.placement)===-1&&(ae.push(Me.placement),kt.setProps({getReferenceClientRect:function(){return(function(Yt){return(function(Je,tn,bn,Ln){if(bn.length<2||Je===null)return tn;if(bn.length===2&&Ln>=0&&bn[0].left>bn[1].right)return bn[Ln]||tn;switch(Je){case"top":case"bottom":var an=bn[0],xn=bn[bn.length-1],pi=Je==="top",Hi=an.top,It=xn.bottom,ai=pi?an.left:xn.left,en=pi?an.right:xn.right;return{top:Hi,bottom:It,left:ai,right:en,width:en-ai,height:It-Hi};case"left":case"right":var Mi=Math.min.apply(Math,bn.map((function(Pe){return Pe.left}))),bt=Math.max.apply(Math,bn.map((function(Pe){return Pe.right}))),ht=bn.filter((function(Pe){return Je==="left"?Pe.left===Mi:Pe.right===bt})),Rt=ht[0].top,he=ht[ht.length-1].bottom;return{top:Rt,bottom:he,left:Mi,right:bt,width:bt-Mi,height:he-Rt};default:return tn}})(R(Yt),pe.getBoundingClientRect(),Q(pe.getClientRects()),Te)})(Me.placement)}})),Qt=Me.placement)}};function Tt(){var ue;Be||(ue=(function(Me,Yt){var Je;return{popperOptions:Object.assign({},Me.popperOptions,{modifiers:[].concat((((Je=Me.popperOptions)==null?void 0:Je.modifiers)||[]).filter((function(tn){return tn.name!==Yt.name})),[Yt])})}})(kt.props,mt),Be=!0,kt.setProps(ue),Be=!1)}return{onCreate:Tt,onAfterUpdate:Tt,onTrigger:function(ue,Me){if(M(Me)){var Yt=Q(kt.reference.getClientRects()),Je=Yt.find((function(bn){return bn.left-2<=Me.clientX&&bn.right+2>=Me.clientX&&bn.top-2<=Me.clientY&&bn.bottom+2>=Me.clientY})),tn=Yt.indexOf(Je);Te=tn>-1?tn:Te}},onHidden:function(){Te=-1}}}},Ei={name:"sticky",defaultValue:!1,fn:function(kt){var Qt=kt.reference,pe=kt.popper;function Te(Tt){return kt.props.sticky===!0||kt.props.sticky===Tt}var Be=null,ae=null;function mt(){var Tt=Te("reference")?(kt.popperInstance?kt.popperInstance.state.elements.reference:Qt).getBoundingClientRect():null,ue=Te("popper")?pe.getBoundingClientRect():null;(Tt&&Pi(Be,Tt)||ue&&Pi(ae,ue))&&kt.popperInstance&&kt.popperInstance.update(),Be=Tt,ae=ue,kt.state.isMounted&&requestAnimationFrame(mt)}return{onMount:function(){kt.props.sticky&&mt()}}}};function Pi(kt,Qt){return!kt||!Qt||kt.top!==Qt.top||kt.right!==Qt.right||kt.bottom!==Qt.bottom||kt.left!==Qt.left}return on.setDefaultProps({plugins:[Ti,ln,$n,Ei],render:qt}),on.createSingleton=function(kt,Qt){var pe;Qt===void 0&&(Qt={});var Te,Be=kt,ae=[],mt=[],Tt=Qt.overrides,ue=[],Me=!1;function Yt(){mt=Be.map((function(It){return y(It.props.triggerTarget||It.reference)})).reduce((function(It,ai){return It.concat(ai)}),[])}function Je(){ae=Be.map((function(It){return It.reference}))}function tn(It){Be.forEach((function(ai){It?ai.enable():ai.disable()}))}function bn(It){return Be.map((function(ai){var en=ai.setProps;return ai.setProps=function(Mi){en(Mi),ai.reference===Te&&It.setProps(Mi)},function(){ai.setProps=en}}))}function Ln(It,ai){var en=mt.indexOf(ai);if(ai!==Te){Te=ai;var Mi=(Tt||[]).concat("content").reduce((function(bt,ht){return bt[ht]=Be[en].props[ht],bt}),{});It.setProps(Object.assign({},Mi,{getReferenceClientRect:typeof Mi.getReferenceClientRect=="function"?Mi.getReferenceClientRect:function(){var bt;return(bt=ae[en])==null?void 0:bt.getBoundingClientRect()}}))}}tn(!1),Je(),Yt();var an={fn:function(){return{onDestroy:function(){tn(!0)},onHidden:function(){Te=null},onClickOutside:function(It){It.props.showOnCreate&&!Me&&(Me=!0,Te=null)},onShow:function(It){It.props.showOnCreate&&!Me&&(Me=!0,Ln(It,ae[0]))},onTrigger:function(It,ai){Ln(It,ai.currentTarget)}}}},xn=on(it(),Object.assign({},I(Qt,["overrides"]),{plugins:[an].concat(Qt.plugins||[]),triggerTarget:mt,popperOptions:Object.assign({},Qt.popperOptions,{modifiers:[].concat(((pe=Qt.popperOptions)==null?void 0:pe.modifiers)||[],[Fn])})})),pi=xn.show;xn.show=function(It){if(pi(),!Te&&It==null)return Ln(xn,ae[0]);if(!Te||It!=null){if(typeof It=="number")return ae[It]&&Ln(xn,ae[It]);if(Be.indexOf(It)>=0){var ai=It.reference;return Ln(xn,ai)}return ae.indexOf(It)>=0?Ln(xn,It):void 0}},xn.showNext=function(){var It=ae[0];if(!Te)return xn.show(0);var ai=ae.indexOf(Te);xn.show(ae[ai+1]||It)},xn.showPrevious=function(){var It=ae[ae.length-1];if(!Te)return xn.show(It);var ai=ae.indexOf(Te),en=ae[ai-1]||It;xn.show(en)};var Hi=xn.setProps;return xn.setProps=function(It){Tt=It.overrides||Tt,Hi(It)},xn.setInstances=function(It){tn(!0),ue.forEach((function(ai){return ai()})),Be=It,tn(!1),Je(),Yt(),ue=bn(xn),xn.setProps({triggerTarget:mt})},ue=bn(xn),xn},on.delegate=function(kt,Qt){var pe=[],Te=[],Be=!1,ae=Qt.target,mt=I(Qt,["target"]),Tt=Object.assign({},mt,{trigger:"manual",touch:!1}),ue=Object.assign({touch:jt.touch},mt,{showOnCreate:!0}),Me=on(kt,Tt);function Yt(tn){if(tn.target&&!Be){var bn=tn.target.closest(ae);if(bn){var Ln=bn.getAttribute("data-tippy-trigger")||Qt.trigger||jt.trigger;if(!bn._tippy&&!(tn.type==="touchstart"&&typeof ue.touch=="boolean"||tn.type!=="touchstart"&&Ln.indexOf(vi[tn.type])<0)){var an=on(bn,ue);an&&(Te=Te.concat(an))}}}}function Je(tn,bn,Ln,an){an===void 0&&(an=!1),tn.addEventListener(bn,Ln,an),pe.push({node:tn,eventType:bn,handler:Ln,options:an})}return y(Me).forEach((function(tn){var bn=tn.destroy,Ln=tn.enable,an=tn.disable;tn.destroy=function(xn){xn===void 0&&(xn=!0),xn&&Te.forEach((function(pi){pi.destroy()})),Te=[],pe.forEach((function(pi){var Hi=pi.node,It=pi.eventType,ai=pi.handler,en=pi.options;Hi.removeEventListener(It,ai,en)})),pe=[],bn()},tn.enable=function(){Ln(),Te.forEach((function(xn){return xn.enable()})),Be=!1},tn.disable=function(){an(),Te.forEach((function(xn){return xn.disable()})),Be=!0},(function(xn){var pi=xn.reference;Je(pi,"touchstart",Yt,T),Je(pi,"mouseover",Yt),Je(pi,"focusin",Yt),Je(pi,"click",Yt)})(tn)})),Me},on.hideAll=function(kt){var Qt=kt===void 0?{}:kt,pe=Qt.exclude,Te=Qt.duration;He.forEach((function(Be){var ae=!1;if(pe&&(ae=H(pe)?Be.reference===pe:Be.popper===pe.popper),!ae){var mt=Be.props.duration;Be.setProps({duration:Te}),Be.hide(),Be.state.isDestroyed||Be.setProps({duration:mt})}}))},on.roundArrow='<svg width="16" height="6" xmlns="http://www.w3.org/2000/svg"><path d="M0 6s1.796-.013 4.67-3.615C5.851.9 6.93.006 8 0c1.07-.006 2.148.887 3.343 2.385C14.233 6.005 16 6 16 6H0z"></svg>',on})),(()=>{var __webpack_modules__={20:(n,T,A)=>{(function(u){var d=[].indexOf||function(Ot){for(var ye=0,l=this.length;ye<l;ye++)if(ye in this&&this[ye]===Ot)return ye;return-1},v="notify",m="escapp_notifyjs",I=v+"!blank",y={t:"top",m:"middle",b:"bottom",l:"left",c:"center",r:"right"},S=["l","c","r"],R=["t","m","b"],Q=["t","b","l","r"],F={t:"b",m:null,b:"t",l:"r",c:null,r:"l"},it=function(Ot){var ye;return ye=[],u.each(Ot.split(/\W+/),(function(l,Bt){var qt;if(qt=Bt.toLowerCase().charAt(0),y[qt])return ye.push(qt)})),ye},V={},M={name:"core",html:'<div class="'+m+`-wrapper">
	<div class="`+m+`-arrow"></div>
	<div class="`+m+`-container"></div>
</div>`,css:"."+m+`-corner {
	position: fixed;
	margin: 5px;
	z-index: 1050;
}

.`+m+"-corner ."+m+`-wrapper,
.`+m+"-corner ."+m+`-container {
	position: relative;
	display: block;
	height: inherit;
	width: inherit;
	margin: 3px;
}

.`+m+`-wrapper {
	z-index: 1;
	position: absolute;
	display: inline-block;
	height: 0;
	width: 0;
}

.`+m+`-container {
	display: none;
	z-index: 1;
	position: absolute;
}

.`+m+`-hidable {
	cursor: pointer;
}

[data-notify-text],[data-notify-html] {
	position: relative;
}

.`+m+`-arrow {
	position: absolute;
	z-index: 2;
	width: 0;
	height: 0;
}`},H={"border-radius":["-webkit-","-moz-"]},X=function(Ot){return V[Ot]},Z=function(Ot){if(!Ot)throw"Missing Style name";V[Ot]&&delete V[Ot]},st=function(Ot,ye){if(!Ot)throw"Missing Style name";if(!ye)throw"Missing Style definition";if(!ye.html)throw"Missing Style HTML";var l=V[Ot];l&&l.cssElem&&(window.console&&console.warn(v+": overwriting style '"+Ot+"'"),V[Ot].cssElem.remove()),ye.name=Ot,V[Ot]=ye;var Bt="";ye.classes&&u.each(ye.classes,(function(ce,He){return Bt+="."+m+"-"+ye.name+"-"+ce+` {
`,u.each(He,(function(yn,on){return H[yn]&&u.each(H[yn],(function(Fn,vi){return Bt+="	"+vi+yn+": "+on+`;
`})),Bt+="	"+yn+": "+on+`;
`})),Bt+=`}
`})),ye.css&&(Bt+="/* styles for "+ye.name+` */
`+ye.css),Bt&&(ye.cssElem=Pt(Bt),ye.cssElem.attr("id","notify-"+ye.name));var qt={},we=u(ye.html);pt("html",we,qt),pt("text",we,qt),ye.fields=qt},Pt=function(Ot){var ye;(ye=Jt("style")).attr("type","text/css"),u("head").append(ye);try{ye.html(Ot)}catch(l){ye[0].styleSheet.cssText=Ot}return ye},pt=function(Ot,ye,l){var Bt;return Ot!=="html"&&(Ot="text"),ft(ye,"["+(Bt="data-notify-"+Ot)+"]").each((function(){var qt;(qt=u(this).attr(Bt))||(qt=I),l[qt]=Ot}))},ft=function(Ot,ye){return Ot.is(ye)?Ot:Ot.find(ye)},q={clickToHide:!0,autoHide:!0,autoHideDelay:5e3,arrowShow:!0,arrowSize:5,breakNewLines:!0,elementPosition:"bottom",globalPosition:"top right",style:"bootstrap",className:"error",showAnimation:"slideDown",showDuration:400,hideAnimation:"slideUp",hideDuration:200,gap:5},At=function(Ot,ye){var l;return(l=function(){}).prototype=Ot,u.extend(!0,new l,ye)},_t=function(Ot){return u.extend(q,Ot)},Jt=function(Ot){return u("<"+Ot+"></"+Ot+">")},g={},St=function(Ot){var ye;return Ot.is("[type=radio]")&&(ye=Ot.parents("form:first").find("[type=radio]").filter((function(l,Bt){return u(Bt).attr("name")===Ot.attr("name")})),Ot=ye.first()),Ot},jt=function(Ot,ye,l){var Bt;if(typeof l=="string")l=parseInt(l,10);else if(typeof l!="number")return;if(!isNaN(l))return Bt=y[F[ye.charAt(0)]],Ot[Bt]!==void 0&&(ye=y[Bt.charAt(0)],l=-l),Ot[ye]===void 0?Ot[ye]=l:Ot[ye]+=l,null},L=function(Ot,ye,l){if(Ot==="l"||Ot==="t")return 0;if(Ot==="c"||Ot==="m")return l/2-ye/2;if(Ot==="r"||Ot==="b")return l-ye;throw"Invalid alignment"},An=function(Ot){return An.e=An.e||Jt("div"),An.e.text(Ot).html()};function te(Ot,ye,l){typeof l=="string"&&(l={className:l}),this.options=At(q,u.isPlainObject(l)?l:{}),this.loadHTML(),this.wrapper=u(M.html),this.options.clickToHide&&this.wrapper.addClass(m+"-hidable"),this.wrapper.data(m,this),this.arrow=this.wrapper.find("."+m+"-arrow"),this.container=this.wrapper.find("."+m+"-container"),this.container.append(this.userContainer),Ot&&Ot.length&&(this.elementType=Ot.attr("type"),this.originalElement=Ot,this.elem=St(Ot),this.elem.data(m,this),this.elem.before(this.wrapper)),this.container.hide(),this.run(ye)}te.prototype.loadHTML=function(){var Ot;Ot=this.getStyle(),this.userContainer=u(Ot.html),this.userFields=Ot.fields},te.prototype.show=function(Ot,ye){var l,Bt,qt,we,ce,He;if(He=this,Bt=function(){if(Ot||He.elem||He.destroy(),ye)return ye()},ce=this.container.parent().parents(":hidden").length>0,qt=this.container.add(this.arrow),l=[],ce&&Ot)we="show";else if(ce&&!Ot)we="hide";else if(!ce&&Ot)we=this.options.showAnimation,l.push(this.options.showDuration);else{if(ce||Ot)return Bt();we=this.options.hideAnimation,l.push(this.options.hideDuration)}return l.push(Bt),qt[we].apply(qt,l)},te.prototype.setGlobalPosition=function(){var Ot=this.getPosition(),ye=Ot[0],l=Ot[1],Bt=y[ye],qt=y[l],we=ye+"|"+l,ce=g[we];if(!ce||!document.body.contains(ce[0])){ce=g[we]=Jt("div");var He={};He[Bt]=0,qt==="middle"?He.top="45%":qt==="center"?He.left="45%":He[qt]=0,ce.css(He).addClass(m+"-corner"),u("body").append(ce)}return ce.prepend(this.wrapper)},te.prototype.setElementPosition=function(){var Ot,ye,l,Bt,qt,we,ce,He,yn,on,Fn,vi,Ti,ri,Ft,Se,ln,$n,Ei,Pi,kt,Qt,pe,Te,Be,ae,mt,Tt;for(pe=(ae=this.getPosition())[0],Qt=ae[1],ae[2],Fn=this.elem.position(),He=this.elem.outerHeight(),vi=this.elem.outerWidth(),yn=this.elem.innerHeight(),on=this.elem.innerWidth(),Tt=this.wrapper.position(),qt=this.container.height(),we=this.container.width(),$n=y[pe],Pi=F[pe],(ce={})[kt=y[Pi]]=pe==="b"?He:pe==="r"?vi:0,jt(ce,"top",Fn.top-Tt.top),jt(ce,"left",Fn.left-Tt.left),ri=0,Se=(mt=["top","left"]).length;ri<Se;ri++)Te=mt[ri],(Ei=parseInt(this.elem.css("margin-"+Te),10))&&jt(ce,Te,Ei);if(Ti=Math.max(0,this.options.gap-(this.options.arrowShow?l:0)),jt(ce,kt,Ti),this.options.arrowShow){for(l=this.options.arrowSize,ye=u.extend({},ce),Ot=this.userContainer.css("border-color")||this.userContainer.css("border-top-color")||this.userContainer.css("background-color")||"white",Ft=0,ln=Q.length;Ft<ln;Ft++)Te=Q[Ft],Be=y[Te],Te!==Pi&&(Bt=Be===$n?Ot:"transparent",ye["border-"+Be]=l+"px solid "+Bt);jt(ce,y[Pi],l),d.call(Q,Qt)>=0&&jt(ye,y[Qt],2*l)}else this.arrow.hide();if(d.call(R,pe)>=0?(jt(ce,"left",L(Qt,we,vi)),ye&&jt(ye,"left",L(Qt,l,on))):d.call(S,pe)>=0&&(jt(ce,"top",L(Qt,qt,He)),ye&&jt(ye,"top",L(Qt,l,yn))),this.container.is(":visible")&&(ce.display="block"),this.container.removeAttr("style").css(ce),ye)return this.arrow.removeAttr("style").css(ye)},te.prototype.getPosition=function(){var Ot,ye,l,Bt,qt,we,ce,He;if(He=this.options.position||(this.elem?this.options.elementPosition:this.options.globalPosition),(Ot=it(He)).length===0&&(Ot[0]="b"),ye=Ot[0],d.call(Q,ye)<0)throw"Must be one of ["+Q+"]";return(Ot.length===1||(l=Ot[0],d.call(R,l)>=0&&(Bt=Ot[1],d.call(S,Bt)<0))||(qt=Ot[0],d.call(S,qt)>=0&&(we=Ot[1],d.call(R,we)<0)))&&(Ot[1]=(ce=Ot[0],d.call(S,ce)>=0?"m":"l")),Ot.length===2&&(Ot[2]=Ot[1]),Ot},te.prototype.getStyle=function(Ot){var ye;if(Ot||(Ot=this.options.style),Ot||(Ot="default"),!(ye=V[Ot]))throw"Missing style: "+Ot;return ye},te.prototype.updateClasses=function(){var Ot,ye;return Ot=["base"],u.isArray(this.options.className)?Ot=Ot.concat(this.options.className):this.options.className&&Ot.push(this.options.className),ye=this.getStyle(),Ot=u.map(Ot,(function(l){return m+"-"+ye.name+"-"+l})).join(" "),this.userContainer.attr("class",Ot)},te.prototype.run=function(Ot,ye){var l,Bt,qt,we,ce;if(u.isPlainObject(ye)?u.extend(this.options,ye):u.type(ye)==="string"&&(this.options.className=ye),!this.container||Ot){if(this.container||Ot){for(qt in Bt={},u.isPlainObject(Ot)?Bt=Ot:Bt[I]=Ot,Bt)l=Bt[qt],(we=this.userFields[qt])&&(we==="text"&&(l=An(l),this.options.breakNewLines&&(l=l.replace(/\n/g,"<br/>"))),ce=qt===I?"":"="+qt,ft(this.userContainer,"[data-notify-"+we+ce+"]").html(l));this.updateClasses(),this.elem?this.setElementPosition():this.setGlobalPosition(),this.show(!0),this.options.autoHide&&(clearTimeout(this.autohideTimer),this.autohideTimer=setTimeout(this.show.bind(this,!1),this.options.autoHideDelay))}}else this.show(!1)},te.prototype.destroy=function(){this.wrapper.data(m,null),this.wrapper.remove()},u[v]=function(Ot,ye,l){return Ot&&Ot.nodeName||Ot.jquery?u(Ot)[v](ye,l):(l=ye,new te(null,ye=Ot,l)),Ot},u.fn[v]=function(Ot,ye){return u(this).each((function(){var l=St(u(this)).data(m);l&&l.destroy(),new te(u(this),Ot,ye)})),this},u.extend(u[v],{defaults:_t,addStyle:st,removeStyle:Z,pluginOptions:q,getStyle:X,insertCSS:Pt}),st("bootstrap",{html:`<div>
<span data-notify-text></span>
</div>`,classes:{base:{"font-weight":"bold",padding:"8px 15px 8px 14px","text-shadow":"0 1px 0 rgba(255, 255, 255, 0.5)","background-color":"#fcf8e3",border:"1px solid #fbeed5","border-radius":"4px","white-space":"nowrap","padding-left":"25px","background-repeat":"no-repeat","background-position":"3px 7px"},error:{color:"#B94A48","background-color":"#F2DEDE","border-color":"#EED3D7","background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAtRJREFUeNqkVc1u00AQHq+dOD+0poIQfkIjalW0SEGqRMuRnHos3DjwAH0ArlyQeANOOSMeAA5VjyBxKBQhgSpVUKKQNGloFdw4cWw2jtfMOna6JOUArDTazXi/b3dm55socPqQhFka++aHBsI8GsopRJERNFlY88FCEk9Yiwf8RhgRyaHFQpPHCDmZG5oX2ui2yilkcTT1AcDsbYC1NMAyOi7zTX2Agx7A9luAl88BauiiQ/cJaZQfIpAlngDcvZZMrl8vFPK5+XktrWlx3/ehZ5r9+t6e+WVnp1pxnNIjgBe4/6dAysQc8dsmHwPcW9C0h3fW1hans1ltwJhy0GxK7XZbUlMp5Ww2eyan6+ft/f2FAqXGK4CvQk5HueFz7D6GOZtIrK+srupdx1GRBBqNBtzc2AiMr7nPplRdKhb1q6q6zjFhrklEFOUutoQ50xcX86ZlqaZpQrfbBdu2R6/G19zX6XSgh6RX5ubyHCM8nqSID6ICrGiZjGYYxojEsiw4PDwMSL5VKsC8Yf4VRYFzMzMaxwjlJSlCyAQ9l0CW44PBADzXhe7xMdi9HtTrdYjFYkDQL0cn4Xdq2/EAE+InCnvADTf2eah4Sx9vExQjkqXT6aAERICMewd/UAp/IeYANM2joxt+q5VI+ieq2i0Wg3l6DNzHwTERPgo1ko7XBXj3vdlsT2F+UuhIhYkp7u7CarkcrFOCtR3H5JiwbAIeImjT/YQKKBtGjRFCU5IUgFRe7fF4cCNVIPMYo3VKqxwjyNAXNepuopyqnld602qVsfRpEkkz+GFL1wPj6ySXBpJtWVa5xlhpcyhBNwpZHmtX8AGgfIExo0ZpzkWVTBGiXCSEaHh62/PoR0p/vHaczxXGnj4bSo+G78lELU80h1uogBwWLf5YlsPmgDEd4M236xjm+8nm4IuE/9u+/PH2JXZfbwz4zw1WbO+SQPpXfwG/BBgAhCNZiSb/pOQAAAAASUVORK5CYII=)"},success:{color:"#468847","background-color":"#DFF0D8","border-color":"#D6E9C6","background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAutJREFUeNq0lctPE0Ecx38zu/RFS1EryqtgJFA08YCiMZIAQQ4eRG8eDGdPJiYeTIwHTfwPiAcvXIwXLwoXPaDxkWgQ6islKlJLSQWLUraPLTv7Gme32zoF9KSTfLO7v53vZ3d/M7/fIth+IO6INt2jjoA7bjHCJoAlzCRw59YwHYjBnfMPqAKWQYKjGkfCJqAF0xwZjipQtA3MxeSG87VhOOYegVrUCy7UZM9S6TLIdAamySTclZdYhFhRHloGYg7mgZv1Zzztvgud7V1tbQ2twYA34LJmF4p5dXF1KTufnE+SxeJtuCZNsLDCQU0+RyKTF27Unw101l8e6hns3u0PBalORVVVkcaEKBJDgV3+cGM4tKKmI+ohlIGnygKX00rSBfszz/n2uXv81wd6+rt1orsZCHRdr1Imk2F2Kob3hutSxW8thsd8AXNaln9D7CTfA6O+0UgkMuwVvEFFUbbAcrkcTA8+AtOk8E6KiQiDmMFSDqZItAzEVQviRkdDdaFgPp8HSZKAEAL5Qh7Sq2lIJBJwv2scUqkUnKoZgNhcDKhKg5aH+1IkcouCAdFGAQsuWZYhOjwFHQ96oagWgRoUov1T9kRBEODAwxM2QtEUl+Wp+Ln9VRo6BcMw4ErHRYjH4/B26AlQoQQTRdHWwcd9AH57+UAXddvDD37DmrBBV34WfqiXPl61g+vr6xA9zsGeM9gOdsNXkgpEtTwVvwOklXLKm6+/p5ezwk4B+j6droBs2CsGa/gNs6RIxazl4Tc25mpTgw/apPR1LYlNRFAzgsOxkyXYLIM1V8NMwyAkJSctD1eGVKiq5wWjSPdjmeTkiKvVW4f2YPHWl3GAVq6ymcyCTgovM3FzyRiDe2TaKcEKsLpJvNHjZgPNqEtyi6mZIm4SRFyLMUsONSSdkPeFtY1n0mczoY3BHTLhwPRy9/lzcziCw9ACI+yql0VLzcGAZbYSM5CCSZg1/9oc/nn7+i8N9p/8An4JMADxhH+xHfuiKwAAAABJRU5ErkJggg==)"},info:{color:"#3A87AD","background-color":"#D9EDF7","border-color":"#BCE8F1","background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QYFAhkSsdes/QAAA8dJREFUOMvVlGtMW2UYx//POaWHXg6lLaW0ypAtw1UCgbniNOLcVOLmAjHZolOYlxmTGXVZdAnRfXQm+7SoU4mXaOaiZsEpC9FkiQs6Z6bdCnNYruM6KNBw6YWewzl9z+sHImEWv+vz7XmT95f/+3/+7wP814v+efDOV3/SoX3lHAA+6ODeUFfMfjOWMADgdk+eEKz0pF7aQdMAcOKLLjrcVMVX3xdWN29/GhYP7SvnP0cWfS8caSkfHZsPE9Fgnt02JNutQ0QYHB2dDz9/pKX8QjjuO9xUxd/66HdxTeCHZ3rojQObGQBcuNjfplkD3b19Y/6MrimSaKgSMmpGU5WevmE/swa6Oy73tQHA0Rdr2Mmv/6A1n9w9suQ7097Z9lM4FlTgTDrzZTu4StXVfpiI48rVcUDM5cmEksrFnHxfpTtU/3BFQzCQF/2bYVoNbH7zmItbSoMj40JSzmMyX5qDvriA7QdrIIpA+3cdsMpu0nXI8cV0MtKXCPZev+gCEM1S2NHPvWfP/hL+7FSr3+0p5RBEyhEN5JCKYr8XnASMT0xBNyzQGQeI8fjsGD39RMPk7se2bd5ZtTyoFYXftF6y37gx7NeUtJJOTFlAHDZLDuILU3j3+H5oOrD3yWbIztugaAzgnBKJuBLpGfQrS8wO4FZgV+c1IxaLgWVU0tMLEETCos4xMzEIv9cJXQcyagIwigDGwJgOAtHAwAhisQUjy0ORGERiELgG4iakkzo4MYAxcM5hAMi1WWG1yYCJIcMUaBkVRLdGeSU2995TLWzcUAzONJ7J6FBVBYIggMzmFbvdBV44Corg8vjhzC+EJEl8U1kJtgYrhCzgc/vvTwXKSib1paRFVRVORDAJAsw5FuTaJEhWM2SHB3mOAlhkNxwuLzeJsGwqWzf5TFNdKgtY5qHp6ZFf67Y/sAVadCaVY5YACDDb3Oi4NIjLnWMw2QthCBIsVhsUTU9tvXsjeq9+X1d75/KEs4LNOfcdf/+HthMnvwxOD0wmHaXr7ZItn2wuH2SnBzbZAbPJwpPx+VQuzcm7dgRCB57a1uBzUDRL4bfnI0RE0eaXd9W89mpjqHZnUI5Hh2l2dkZZUhOqpi2qSmpOmZ64Tuu9qlz/SEXo6MEHa3wOip46F1n7633eekV8ds8Wxjn37Wl63VVa+ej5oeEZ/82ZBETJjpJ1Rbij2D3Z/1trXUvLsblCK0XfOx0SX2kMsn9dX+d+7Kf6h8o4AIykuffjT8L20LU+w4AZd5VvEPY+XpWqLV327HR7DzXuDnD8r+ovkBehJ8i+y8YAAAAASUVORK5CYII=)"},warn:{color:"#C09853","background-color":"#FCF8E3","border-color":"#FBEED5","background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAABJlBMVEXr6eb/2oD/wi7/xjr/0mP/ykf/tQD/vBj/3o7/uQ//vyL/twebhgD/4pzX1K3z8e349vK6tHCilCWbiQymn0jGworr6dXQza3HxcKkn1vWvV/5uRfk4dXZ1bD18+/52YebiAmyr5S9mhCzrWq5t6ufjRH54aLs0oS+qD751XqPhAybhwXsujG3sm+Zk0PTwG6Shg+PhhObhwOPgQL4zV2nlyrf27uLfgCPhRHu7OmLgAafkyiWkD3l49ibiAfTs0C+lgCniwD4sgDJxqOilzDWowWFfAH08uebig6qpFHBvH/aw26FfQTQzsvy8OyEfz20r3jAvaKbhgG9q0nc2LbZxXanoUu/u5WSggCtp1anpJKdmFz/zlX/1nGJiYmuq5Dx7+sAAADoPUZSAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfdBgUBGhh4aah5AAAAlklEQVQY02NgoBIIE8EUcwn1FkIXM1Tj5dDUQhPU502Mi7XXQxGz5uVIjGOJUUUW81HnYEyMi2HVcUOICQZzMMYmxrEyMylJwgUt5BljWRLjmJm4pI1hYp5SQLGYxDgmLnZOVxuooClIDKgXKMbN5ggV1ACLJcaBxNgcoiGCBiZwdWxOETBDrTyEFey0jYJ4eHjMGWgEAIpRFRCUt08qAAAAAElFTkSuQmCC)"}}}),u((function(){Pt(M.css).attr("id","core-notify"),u(document).on("click","."+m+"-hidable",(function(Ot){u(this).trigger("notify-hide")})),u(document).on("notify-hide","."+m+"-wrapper",(function(Ot){var ye=u(this).data(m);ye&&ye.show(!1)}))}))})(A(883))},33:function(n){n.exports=(function(T){var A={};function u(d){if(A[d])return A[d].exports;var v=A[d]={i:d,l:!1,exports:{}};return T[d].call(v.exports,v,v.exports,u),v.l=!0,v.exports}return u.m=T,u.c=A,u.d=function(d,v,m){u.o(d,v)||Object.defineProperty(d,v,{enumerable:!0,get:m})},u.r=function(d){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},u.t=function(d,v){if(1&v&&(d=u(d)),8&v||4&v&&typeof d=="object"&&d&&d.__esModule)return d;var m=Object.create(null);if(u.r(m),Object.defineProperty(m,"default",{enumerable:!0,value:d}),2&v&&typeof d!="string")for(var I in d)u.d(m,I,function(y){return d[y]}.bind(null,I));return m},u.n=function(d){var v=d&&d.__esModule?function(){return d.default}:function(){return d};return u.d(v,"a",v),v},u.o=function(d,v){return Object.prototype.hasOwnProperty.call(d,v)},u.p="",u(u.s=90)})({17:function(T,A,u){"use strict";A.__esModule=!0,A.default=void 0;var d=u(18),v=(function(){function m(){}return m.getFirstMatch=function(I,y){var S=y.match(I);return S&&S.length>0&&S[1]||""},m.getSecondMatch=function(I,y){var S=y.match(I);return S&&S.length>1&&S[2]||""},m.matchAndReturnConst=function(I,y,S){if(I.test(y))return S},m.getWindowsVersionName=function(I){switch(I){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},m.getMacOSVersionName=function(I){var y=I.split(".").splice(0,2).map((function(S){return parseInt(S,10)||0}));if(y.push(0),y[0]===10)switch(y[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},m.getAndroidVersionName=function(I){var y=I.split(".").splice(0,2).map((function(S){return parseInt(S,10)||0}));if(y.push(0),!(y[0]===1&&y[1]<5))return y[0]===1&&y[1]<6?"Cupcake":y[0]===1&&y[1]>=6?"Donut":y[0]===2&&y[1]<2?"Eclair":y[0]===2&&y[1]===2?"Froyo":y[0]===2&&y[1]>2?"Gingerbread":y[0]===3?"Honeycomb":y[0]===4&&y[1]<1?"Ice Cream Sandwich":y[0]===4&&y[1]<4?"Jelly Bean":y[0]===4&&y[1]>=4?"KitKat":y[0]===5?"Lollipop":y[0]===6?"Marshmallow":y[0]===7?"Nougat":y[0]===8?"Oreo":y[0]===9?"Pie":void 0},m.getVersionPrecision=function(I){return I.split(".").length},m.compareVersions=function(I,y,S){S===void 0&&(S=!1);var R=m.getVersionPrecision(I),Q=m.getVersionPrecision(y),F=Math.max(R,Q),it=0,V=m.map([I,y],(function(M){var H=F-m.getVersionPrecision(M),X=M+new Array(H+1).join(".0");return m.map(X.split("."),(function(Z){return new Array(20-Z.length).join("0")+Z})).reverse()}));for(S&&(it=F-Math.min(R,Q)),F-=1;F>=it;){if(V[0][F]>V[1][F])return 1;if(V[0][F]===V[1][F]){if(F===it)return 0;F-=1}else if(V[0][F]<V[1][F])return-1}},m.map=function(I,y){var S,R=[];if(Array.prototype.map)return Array.prototype.map.call(I,y);for(S=0;S<I.length;S+=1)R.push(y(I[S]));return R},m.find=function(I,y){var S,R;if(Array.prototype.find)return Array.prototype.find.call(I,y);for(S=0,R=I.length;S<R;S+=1){var Q=I[S];if(y(Q,S))return Q}},m.assign=function(I){for(var y,S,R=I,Q=arguments.length,F=new Array(Q>1?Q-1:0),it=1;it<Q;it++)F[it-1]=arguments[it];if(Object.assign)return Object.assign.apply(Object,[I].concat(F));var V=function(){var M=F[y];typeof M=="object"&&M!==null&&Object.keys(M).forEach((function(H){R[H]=M[H]}))};for(y=0,S=F.length;y<S;y+=1)V();return I},m.getBrowserAlias=function(I){return d.BROWSER_ALIASES_MAP[I]},m.getBrowserTypeByAlias=function(I){return d.BROWSER_MAP[I]||""},m})();A.default=v,T.exports=A.default},18:function(T,A,u){"use strict";A.__esModule=!0,A.ENGINE_MAP=A.OS_MAP=A.PLATFORMS_MAP=A.BROWSER_MAP=A.BROWSER_ALIASES_MAP=void 0,A.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},A.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},A.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},A.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},A.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(T,A,u){"use strict";A.__esModule=!0,A.default=void 0;var d,v=(d=u(91))&&d.__esModule?d:{default:d},m=u(18);function I(S,R){for(var Q=0;Q<R.length;Q++){var F=R[Q];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(S,F.key,F)}}var y=(function(){function S(){}var R,Q,F;return S.getParser=function(it,V){if(V===void 0&&(V=!1),typeof it!="string")throw new Error("UserAgent should be a string");return new v.default(it,V)},S.parse=function(it){return new v.default(it).getResult()},R=S,F=[{key:"BROWSER_MAP",get:function(){return m.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return m.ENGINE_MAP}},{key:"OS_MAP",get:function(){return m.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return m.PLATFORMS_MAP}}],(Q=null)&&I(R.prototype,Q),F&&I(R,F),S})();A.default=y,T.exports=A.default},91:function(T,A,u){"use strict";A.__esModule=!0,A.default=void 0;var d=S(u(92)),v=S(u(93)),m=S(u(94)),I=S(u(95)),y=S(u(17));function S(Q){return Q&&Q.__esModule?Q:{default:Q}}var R=(function(){function Q(it,V){if(V===void 0&&(V=!1),it==null||it==="")throw new Error("UserAgent parameter can't be empty");this._ua=it,this.parsedResult={},V!==!0&&this.parse()}var F=Q.prototype;return F.getUA=function(){return this._ua},F.test=function(it){return it.test(this._ua)},F.parseBrowser=function(){var it=this;this.parsedResult.browser={};var V=y.default.find(d.default,(function(M){if(typeof M.test=="function")return M.test(it);if(M.test instanceof Array)return M.test.some((function(H){return it.test(H)}));throw new Error("Browser's test function is not valid")}));return V&&(this.parsedResult.browser=V.describe(this.getUA())),this.parsedResult.browser},F.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},F.getBrowserName=function(it){return it?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},F.getBrowserVersion=function(){return this.getBrowser().version},F.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},F.parseOS=function(){var it=this;this.parsedResult.os={};var V=y.default.find(v.default,(function(M){if(typeof M.test=="function")return M.test(it);if(M.test instanceof Array)return M.test.some((function(H){return it.test(H)}));throw new Error("Browser's test function is not valid")}));return V&&(this.parsedResult.os=V.describe(this.getUA())),this.parsedResult.os},F.getOSName=function(it){var V=this.getOS().name;return it?String(V).toLowerCase()||"":V||""},F.getOSVersion=function(){return this.getOS().version},F.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},F.getPlatformType=function(it){it===void 0&&(it=!1);var V=this.getPlatform().type;return it?String(V).toLowerCase()||"":V||""},F.parsePlatform=function(){var it=this;this.parsedResult.platform={};var V=y.default.find(m.default,(function(M){if(typeof M.test=="function")return M.test(it);if(M.test instanceof Array)return M.test.some((function(H){return it.test(H)}));throw new Error("Browser's test function is not valid")}));return V&&(this.parsedResult.platform=V.describe(this.getUA())),this.parsedResult.platform},F.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},F.getEngineName=function(it){return it?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},F.parseEngine=function(){var it=this;this.parsedResult.engine={};var V=y.default.find(I.default,(function(M){if(typeof M.test=="function")return M.test(it);if(M.test instanceof Array)return M.test.some((function(H){return it.test(H)}));throw new Error("Browser's test function is not valid")}));return V&&(this.parsedResult.engine=V.describe(this.getUA())),this.parsedResult.engine},F.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},F.getResult=function(){return y.default.assign({},this.parsedResult)},F.satisfies=function(it){var V=this,M={},H=0,X={},Z=0;if(Object.keys(it).forEach((function(Jt){var g=it[Jt];typeof g=="string"?(X[Jt]=g,Z+=1):typeof g=="object"&&(M[Jt]=g,H+=1)})),H>0){var st=Object.keys(M),Pt=y.default.find(st,(function(Jt){return V.isOS(Jt)}));if(Pt){var pt=this.satisfies(M[Pt]);if(pt!==void 0)return pt}var ft=y.default.find(st,(function(Jt){return V.isPlatform(Jt)}));if(ft){var q=this.satisfies(M[ft]);if(q!==void 0)return q}}if(Z>0){var At=Object.keys(X),_t=y.default.find(At,(function(Jt){return V.isBrowser(Jt,!0)}));if(_t!==void 0)return this.compareVersion(X[_t])}},F.isBrowser=function(it,V){V===void 0&&(V=!1);var M=this.getBrowserName().toLowerCase(),H=it.toLowerCase(),X=y.default.getBrowserTypeByAlias(H);return V&&X&&(H=X.toLowerCase()),H===M},F.compareVersion=function(it){var V=[0],M=it,H=!1,X=this.getBrowserVersion();if(typeof X=="string")return it[0]===">"||it[0]==="<"?(M=it.substr(1),it[1]==="="?(H=!0,M=it.substr(2)):V=[],it[0]===">"?V.push(1):V.push(-1)):it[0]==="="?M=it.substr(1):it[0]==="~"&&(H=!0,M=it.substr(1)),V.indexOf(y.default.compareVersions(X,M,H))>-1},F.isOS=function(it){return this.getOSName(!0)===String(it).toLowerCase()},F.isPlatform=function(it){return this.getPlatformType(!0)===String(it).toLowerCase()},F.isEngine=function(it){return this.getEngineName(!0)===String(it).toLowerCase()},F.is=function(it,V){return V===void 0&&(V=!1),this.isBrowser(it,V)||this.isOS(it)||this.isPlatform(it)},F.some=function(it){var V=this;return it===void 0&&(it=[]),it.some((function(M){return V.is(M)}))},Q})();A.default=R,T.exports=A.default},92:function(T,A,u){"use strict";A.__esModule=!0,A.default=void 0;var d,v=(d=u(17))&&d.__esModule?d:{default:d},m=/version\/(\d+(\.?_?\d+)+)/i,I=[{test:[/googlebot/i],describe:function(y){var S={name:"Googlebot"},R=v.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,y)||v.default.getFirstMatch(m,y);return R&&(S.version=R),S}},{test:[/opera/i],describe:function(y){var S={name:"Opera"},R=v.default.getFirstMatch(m,y)||v.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,y);return R&&(S.version=R),S}},{test:[/opr\/|opios/i],describe:function(y){var S={name:"Opera"},R=v.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,y)||v.default.getFirstMatch(m,y);return R&&(S.version=R),S}},{test:[/SamsungBrowser/i],describe:function(y){var S={name:"Samsung Internet for Android"},R=v.default.getFirstMatch(m,y)||v.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,y);return R&&(S.version=R),S}},{test:[/Whale/i],describe:function(y){var S={name:"NAVER Whale Browser"},R=v.default.getFirstMatch(m,y)||v.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,y);return R&&(S.version=R),S}},{test:[/MZBrowser/i],describe:function(y){var S={name:"MZ Browser"},R=v.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,y)||v.default.getFirstMatch(m,y);return R&&(S.version=R),S}},{test:[/focus/i],describe:function(y){var S={name:"Focus"},R=v.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,y)||v.default.getFirstMatch(m,y);return R&&(S.version=R),S}},{test:[/swing/i],describe:function(y){var S={name:"Swing"},R=v.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,y)||v.default.getFirstMatch(m,y);return R&&(S.version=R),S}},{test:[/coast/i],describe:function(y){var S={name:"Opera Coast"},R=v.default.getFirstMatch(m,y)||v.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,y);return R&&(S.version=R),S}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(y){var S={name:"Opera Touch"},R=v.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,y)||v.default.getFirstMatch(m,y);return R&&(S.version=R),S}},{test:[/yabrowser/i],describe:function(y){var S={name:"Yandex Browser"},R=v.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,y)||v.default.getFirstMatch(m,y);return R&&(S.version=R),S}},{test:[/ucbrowser/i],describe:function(y){var S={name:"UC Browser"},R=v.default.getFirstMatch(m,y)||v.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,y);return R&&(S.version=R),S}},{test:[/Maxthon|mxios/i],describe:function(y){var S={name:"Maxthon"},R=v.default.getFirstMatch(m,y)||v.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,y);return R&&(S.version=R),S}},{test:[/epiphany/i],describe:function(y){var S={name:"Epiphany"},R=v.default.getFirstMatch(m,y)||v.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,y);return R&&(S.version=R),S}},{test:[/puffin/i],describe:function(y){var S={name:"Puffin"},R=v.default.getFirstMatch(m,y)||v.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,y);return R&&(S.version=R),S}},{test:[/sleipnir/i],describe:function(y){var S={name:"Sleipnir"},R=v.default.getFirstMatch(m,y)||v.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,y);return R&&(S.version=R),S}},{test:[/k-meleon/i],describe:function(y){var S={name:"K-Meleon"},R=v.default.getFirstMatch(m,y)||v.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,y);return R&&(S.version=R),S}},{test:[/micromessenger/i],describe:function(y){var S={name:"WeChat"},R=v.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,y)||v.default.getFirstMatch(m,y);return R&&(S.version=R),S}},{test:[/qqbrowser/i],describe:function(y){var S={name:/qqbrowserlite/i.test(y)?"QQ Browser Lite":"QQ Browser"},R=v.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,y)||v.default.getFirstMatch(m,y);return R&&(S.version=R),S}},{test:[/msie|trident/i],describe:function(y){var S={name:"Internet Explorer"},R=v.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,y);return R&&(S.version=R),S}},{test:[/\sedg\//i],describe:function(y){var S={name:"Microsoft Edge"},R=v.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,y);return R&&(S.version=R),S}},{test:[/edg([ea]|ios)/i],describe:function(y){var S={name:"Microsoft Edge"},R=v.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,y);return R&&(S.version=R),S}},{test:[/vivaldi/i],describe:function(y){var S={name:"Vivaldi"},R=v.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,y);return R&&(S.version=R),S}},{test:[/seamonkey/i],describe:function(y){var S={name:"SeaMonkey"},R=v.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,y);return R&&(S.version=R),S}},{test:[/sailfish/i],describe:function(y){var S={name:"Sailfish"},R=v.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,y);return R&&(S.version=R),S}},{test:[/silk/i],describe:function(y){var S={name:"Amazon Silk"},R=v.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,y);return R&&(S.version=R),S}},{test:[/phantom/i],describe:function(y){var S={name:"PhantomJS"},R=v.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,y);return R&&(S.version=R),S}},{test:[/slimerjs/i],describe:function(y){var S={name:"SlimerJS"},R=v.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,y);return R&&(S.version=R),S}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(y){var S={name:"BlackBerry"},R=v.default.getFirstMatch(m,y)||v.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,y);return R&&(S.version=R),S}},{test:[/(web|hpw)[o0]s/i],describe:function(y){var S={name:"WebOS Browser"},R=v.default.getFirstMatch(m,y)||v.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,y);return R&&(S.version=R),S}},{test:[/bada/i],describe:function(y){var S={name:"Bada"},R=v.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,y);return R&&(S.version=R),S}},{test:[/tizen/i],describe:function(y){var S={name:"Tizen"},R=v.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,y)||v.default.getFirstMatch(m,y);return R&&(S.version=R),S}},{test:[/qupzilla/i],describe:function(y){var S={name:"QupZilla"},R=v.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,y)||v.default.getFirstMatch(m,y);return R&&(S.version=R),S}},{test:[/firefox|iceweasel|fxios/i],describe:function(y){var S={name:"Firefox"},R=v.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,y);return R&&(S.version=R),S}},{test:[/electron/i],describe:function(y){var S={name:"Electron"},R=v.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,y);return R&&(S.version=R),S}},{test:[/MiuiBrowser/i],describe:function(y){var S={name:"Miui"},R=v.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,y);return R&&(S.version=R),S}},{test:[/chromium/i],describe:function(y){var S={name:"Chromium"},R=v.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,y)||v.default.getFirstMatch(m,y);return R&&(S.version=R),S}},{test:[/chrome|crios|crmo/i],describe:function(y){var S={name:"Chrome"},R=v.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,y);return R&&(S.version=R),S}},{test:[/GSA/i],describe:function(y){var S={name:"Google Search"},R=v.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,y);return R&&(S.version=R),S}},{test:function(y){var S=!y.test(/like android/i),R=y.test(/android/i);return S&&R},describe:function(y){var S={name:"Android Browser"},R=v.default.getFirstMatch(m,y);return R&&(S.version=R),S}},{test:[/playstation 4/i],describe:function(y){var S={name:"PlayStation 4"},R=v.default.getFirstMatch(m,y);return R&&(S.version=R),S}},{test:[/safari|applewebkit/i],describe:function(y){var S={name:"Safari"},R=v.default.getFirstMatch(m,y);return R&&(S.version=R),S}},{test:[/.*/i],describe:function(y){var S=y.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:v.default.getFirstMatch(S,y),version:v.default.getSecondMatch(S,y)}}}];A.default=I,T.exports=A.default},93:function(T,A,u){"use strict";A.__esModule=!0,A.default=void 0;var d,v=(d=u(17))&&d.__esModule?d:{default:d},m=u(18),I=[{test:[/Roku\/DVP/],describe:function(y){var S=v.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,y);return{name:m.OS_MAP.Roku,version:S}}},{test:[/windows phone/i],describe:function(y){var S=v.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,y);return{name:m.OS_MAP.WindowsPhone,version:S}}},{test:[/windows /i],describe:function(y){var S=v.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,y),R=v.default.getWindowsVersionName(S);return{name:m.OS_MAP.Windows,version:S,versionName:R}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(y){var S={name:m.OS_MAP.iOS},R=v.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,y);return R&&(S.version=R),S}},{test:[/macintosh/i],describe:function(y){var S=v.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,y).replace(/[_\s]/g,"."),R=v.default.getMacOSVersionName(S),Q={name:m.OS_MAP.MacOS,version:S};return R&&(Q.versionName=R),Q}},{test:[/(ipod|iphone|ipad)/i],describe:function(y){var S=v.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,y).replace(/[_\s]/g,".");return{name:m.OS_MAP.iOS,version:S}}},{test:function(y){var S=!y.test(/like android/i),R=y.test(/android/i);return S&&R},describe:function(y){var S=v.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,y),R=v.default.getAndroidVersionName(S),Q={name:m.OS_MAP.Android,version:S};return R&&(Q.versionName=R),Q}},{test:[/(web|hpw)[o0]s/i],describe:function(y){var S=v.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,y),R={name:m.OS_MAP.WebOS};return S&&S.length&&(R.version=S),R}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(y){var S=v.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,y)||v.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,y)||v.default.getFirstMatch(/\bbb(\d+)/i,y);return{name:m.OS_MAP.BlackBerry,version:S}}},{test:[/bada/i],describe:function(y){var S=v.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,y);return{name:m.OS_MAP.Bada,version:S}}},{test:[/tizen/i],describe:function(y){var S=v.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,y);return{name:m.OS_MAP.Tizen,version:S}}},{test:[/linux/i],describe:function(){return{name:m.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:m.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(y){var S=v.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,y);return{name:m.OS_MAP.PlayStation4,version:S}}}];A.default=I,T.exports=A.default},94:function(T,A,u){"use strict";A.__esModule=!0,A.default=void 0;var d,v=(d=u(17))&&d.__esModule?d:{default:d},m=u(18),I=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(y){var S=v.default.getFirstMatch(/(can-l01)/i,y)&&"Nova",R={type:m.PLATFORMS_MAP.mobile,vendor:"Huawei"};return S&&(R.model=S),R}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:m.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:m.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:m.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:m.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:m.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:m.PLATFORMS_MAP.tablet}}},{test:function(y){var S=y.test(/ipod|iphone/i),R=y.test(/like (ipod|iphone)/i);return S&&!R},describe:function(y){var S=v.default.getFirstMatch(/(ipod|iphone)/i,y);return{type:m.PLATFORMS_MAP.mobile,vendor:"Apple",model:S}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:m.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:m.PLATFORMS_MAP.mobile}}},{test:function(y){return y.getBrowserName(!0)==="blackberry"},describe:function(){return{type:m.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(y){return y.getBrowserName(!0)==="bada"},describe:function(){return{type:m.PLATFORMS_MAP.mobile}}},{test:function(y){return y.getBrowserName()==="windows phone"},describe:function(){return{type:m.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(y){var S=Number(String(y.getOSVersion()).split(".")[0]);return y.getOSName(!0)==="android"&&S>=3},describe:function(){return{type:m.PLATFORMS_MAP.tablet}}},{test:function(y){return y.getOSName(!0)==="android"},describe:function(){return{type:m.PLATFORMS_MAP.mobile}}},{test:function(y){return y.getOSName(!0)==="macos"},describe:function(){return{type:m.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(y){return y.getOSName(!0)==="windows"},describe:function(){return{type:m.PLATFORMS_MAP.desktop}}},{test:function(y){return y.getOSName(!0)==="linux"},describe:function(){return{type:m.PLATFORMS_MAP.desktop}}},{test:function(y){return y.getOSName(!0)==="playstation 4"},describe:function(){return{type:m.PLATFORMS_MAP.tv}}},{test:function(y){return y.getOSName(!0)==="roku"},describe:function(){return{type:m.PLATFORMS_MAP.tv}}}];A.default=I,T.exports=A.default},95:function(T,A,u){"use strict";A.__esModule=!0,A.default=void 0;var d,v=(d=u(17))&&d.__esModule?d:{default:d},m=u(18),I=[{test:function(y){return y.getBrowserName(!0)==="microsoft edge"},describe:function(y){if(/\sedg\//i.test(y))return{name:m.ENGINE_MAP.Blink};var S=v.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,y);return{name:m.ENGINE_MAP.EdgeHTML,version:S}}},{test:[/trident/i],describe:function(y){var S={name:m.ENGINE_MAP.Trident},R=v.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,y);return R&&(S.version=R),S}},{test:function(y){return y.test(/presto/i)},describe:function(y){var S={name:m.ENGINE_MAP.Presto},R=v.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,y);return R&&(S.version=R),S}},{test:function(y){var S=y.test(/gecko/i),R=y.test(/like gecko/i);return S&&!R},describe:function(y){var S={name:m.ENGINE_MAP.Gecko},R=v.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,y);return R&&(S.version=R),S}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:m.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(y){var S={name:m.ENGINE_MAP.WebKit},R=v.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,y);return R&&(S.version=R),S}}];A.default=I,T.exports=A.default}})},329:(module,exports,__webpack_require__)=>{var __WEBPACK_AMD_DEFINE_RESULT__;/**
 * [js-sha256]{@link https://github.com/emn178/js-sha256}
 *
 * @version 0.9.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */(function(){"use strict";var ERROR="input is invalid type",WINDOW=typeof window=="object",root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&typeof self=="object",NODE_JS=!root.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;NODE_JS?root=__webpack_require__.g:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&module.exports,AMD=__webpack_require__.amdO,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer!="undefined",HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];!root.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(n){return Object.prototype.toString.call(n)==="[object Array]"}),!ARRAY_BUFFER||!root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(n){return typeof n=="object"&&n.buffer&&n.buffer.constructor===ArrayBuffer});var createOutputMethod=function(n,T){return function(A){return new Sha256(T,!0).update(A)[n]()}},createMethod=function(n){var T=createOutputMethod("hex",n);NODE_JS&&(T=nodeWrap(T,n)),T.create=function(){return new Sha256(n)},T.update=function(d){return T.create().update(d)};for(var A=0;A<OUTPUT_TYPES.length;++A){var u=OUTPUT_TYPES[A];T[u]=createOutputMethod(u,n)}return T},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(n){if(typeof n=="string")return crypto.createHash(algorithm).update(n,"utf8").digest("hex");if(n==null)throw new Error(ERROR);return n.constructor===ArrayBuffer&&(n=new Uint8Array(n)),Array.isArray(n)||ArrayBuffer.isView(n)||n.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(n)).digest("hex"):method(n)};return nodeMethod},createHmacOutputMethod=function(n,T){return function(A,u){return new HmacSha256(A,T,!0).update(u)[n]()}},createHmacMethod=function(n){var T=createHmacOutputMethod("hex",n);T.create=function(d){return new HmacSha256(d,n)},T.update=function(d,v){return T.create(d).update(v)};for(var A=0;A<OUTPUT_TYPES.length;++A){var u=OUTPUT_TYPES[A];T[u]=createHmacOutputMethod(u,n)}return T};function Sha256(n,T){T?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=n}function HmacSha256(n,T,A){var u,d=typeof n;if(d==="string"){var v,m=[],I=n.length,y=0;for(u=0;u<I;++u)(v=n.charCodeAt(u))<128?m[y++]=v:v<2048?(m[y++]=192|v>>6,m[y++]=128|63&v):v<55296||v>=57344?(m[y++]=224|v>>12,m[y++]=128|v>>6&63,m[y++]=128|63&v):(v=65536+((1023&v)<<10|1023&n.charCodeAt(++u)),m[y++]=240|v>>18,m[y++]=128|v>>12&63,m[y++]=128|v>>6&63,m[y++]=128|63&v);n=m}else{if(d!=="object")throw new Error(ERROR);if(n===null)throw new Error(ERROR);if(ARRAY_BUFFER&&n.constructor===ArrayBuffer)n=new Uint8Array(n);else if(!(Array.isArray(n)||ARRAY_BUFFER&&ArrayBuffer.isView(n)))throw new Error(ERROR)}n.length>64&&(n=new Sha256(T,!0).update(n).array());var S=[],R=[];for(u=0;u<64;++u){var Q=n[u]||0;S[u]=92^Q,R[u]=54^Q}Sha256.call(this,T,A),this.update(R),this.oKeyPad=S,this.inner=!0,this.sharedMemory=A}Sha256.prototype.update=function(n){if(!this.finalized){var T,A=typeof n;if(A!=="string"){if(A!=="object")throw new Error(ERROR);if(n===null)throw new Error(ERROR);if(ARRAY_BUFFER&&n.constructor===ArrayBuffer)n=new Uint8Array(n);else if(!(Array.isArray(n)||ARRAY_BUFFER&&ArrayBuffer.isView(n)))throw new Error(ERROR);T=!0}for(var u,d,v=0,m=n.length,I=this.blocks;v<m;){if(this.hashed&&(this.hashed=!1,I[0]=this.block,I[16]=I[1]=I[2]=I[3]=I[4]=I[5]=I[6]=I[7]=I[8]=I[9]=I[10]=I[11]=I[12]=I[13]=I[14]=I[15]=0),T)for(d=this.start;v<m&&d<64;++v)I[d>>2]|=n[v]<<SHIFT[3&d++];else for(d=this.start;v<m&&d<64;++v)(u=n.charCodeAt(v))<128?I[d>>2]|=u<<SHIFT[3&d++]:u<2048?(I[d>>2]|=(192|u>>6)<<SHIFT[3&d++],I[d>>2]|=(128|63&u)<<SHIFT[3&d++]):u<55296||u>=57344?(I[d>>2]|=(224|u>>12)<<SHIFT[3&d++],I[d>>2]|=(128|u>>6&63)<<SHIFT[3&d++],I[d>>2]|=(128|63&u)<<SHIFT[3&d++]):(u=65536+((1023&u)<<10|1023&n.charCodeAt(++v)),I[d>>2]|=(240|u>>18)<<SHIFT[3&d++],I[d>>2]|=(128|u>>12&63)<<SHIFT[3&d++],I[d>>2]|=(128|u>>6&63)<<SHIFT[3&d++],I[d>>2]|=(128|63&u)<<SHIFT[3&d++]);this.lastByteIndex=d,this.bytes+=d-this.start,d>=64?(this.block=I[16],this.start=d-64,this.hash(),this.hashed=!0):this.start=d}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296|0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var n=this.blocks,T=this.lastByteIndex;n[16]=this.block,n[T>>2]|=EXTRA[3&T],this.block=n[16],T>=56&&(this.hashed||this.hash(),n[0]=this.block,n[16]=n[1]=n[2]=n[3]=n[4]=n[5]=n[6]=n[7]=n[8]=n[9]=n[10]=n[11]=n[12]=n[13]=n[14]=n[15]=0),n[14]=this.hBytes<<3|this.bytes>>>29,n[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var n,T,A,u,d,v,m,I,y,S=this.h0,R=this.h1,Q=this.h2,F=this.h3,it=this.h4,V=this.h5,M=this.h6,H=this.h7,X=this.blocks;for(n=16;n<64;++n)T=((d=X[n-15])>>>7|d<<25)^(d>>>18|d<<14)^d>>>3,A=((d=X[n-2])>>>17|d<<15)^(d>>>19|d<<13)^d>>>10,X[n]=X[n-16]+T+X[n-7]+A|0;for(y=R&Q,n=0;n<64;n+=4)this.first?(this.is224?(v=300032,H=(d=X[0]-1413257819)-150054599|0,F=d+24177077|0):(v=704751109,H=(d=X[0]-210244248)-1521486534|0,F=d+143694565|0),this.first=!1):(T=(S>>>2|S<<30)^(S>>>13|S<<19)^(S>>>22|S<<10),u=(v=S&R)^S&Q^y,H=F+(d=H+(A=(it>>>6|it<<26)^(it>>>11|it<<21)^(it>>>25|it<<7))+(it&V^~it&M)+K[n]+X[n])|0,F=d+(T+u)|0),T=(F>>>2|F<<30)^(F>>>13|F<<19)^(F>>>22|F<<10),u=(m=F&S)^F&R^v,M=Q+(d=M+(A=(H>>>6|H<<26)^(H>>>11|H<<21)^(H>>>25|H<<7))+(H&it^~H&V)+K[n+1]+X[n+1])|0,T=((Q=d+(T+u)|0)>>>2|Q<<30)^(Q>>>13|Q<<19)^(Q>>>22|Q<<10),u=(I=Q&F)^Q&S^m,V=R+(d=V+(A=(M>>>6|M<<26)^(M>>>11|M<<21)^(M>>>25|M<<7))+(M&H^~M&it)+K[n+2]+X[n+2])|0,T=((R=d+(T+u)|0)>>>2|R<<30)^(R>>>13|R<<19)^(R>>>22|R<<10),u=(y=R&Q)^R&F^I,it=S+(d=it+(A=(V>>>6|V<<26)^(V>>>11|V<<21)^(V>>>25|V<<7))+(V&M^~V&H)+K[n+3]+X[n+3])|0,S=d+(T+u)|0;this.h0=this.h0+S|0,this.h1=this.h1+R|0,this.h2=this.h2+Q|0,this.h3=this.h3+F|0,this.h4=this.h4+it|0,this.h5=this.h5+V|0,this.h6=this.h6+M|0,this.h7=this.h7+H|0},Sha256.prototype.hex=function(){this.finalize();var n=this.h0,T=this.h1,A=this.h2,u=this.h3,d=this.h4,v=this.h5,m=this.h6,I=this.h7,y=HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[T>>28&15]+HEX_CHARS[T>>24&15]+HEX_CHARS[T>>20&15]+HEX_CHARS[T>>16&15]+HEX_CHARS[T>>12&15]+HEX_CHARS[T>>8&15]+HEX_CHARS[T>>4&15]+HEX_CHARS[15&T]+HEX_CHARS[A>>28&15]+HEX_CHARS[A>>24&15]+HEX_CHARS[A>>20&15]+HEX_CHARS[A>>16&15]+HEX_CHARS[A>>12&15]+HEX_CHARS[A>>8&15]+HEX_CHARS[A>>4&15]+HEX_CHARS[15&A]+HEX_CHARS[u>>28&15]+HEX_CHARS[u>>24&15]+HEX_CHARS[u>>20&15]+HEX_CHARS[u>>16&15]+HEX_CHARS[u>>12&15]+HEX_CHARS[u>>8&15]+HEX_CHARS[u>>4&15]+HEX_CHARS[15&u]+HEX_CHARS[d>>28&15]+HEX_CHARS[d>>24&15]+HEX_CHARS[d>>20&15]+HEX_CHARS[d>>16&15]+HEX_CHARS[d>>12&15]+HEX_CHARS[d>>8&15]+HEX_CHARS[d>>4&15]+HEX_CHARS[15&d]+HEX_CHARS[v>>28&15]+HEX_CHARS[v>>24&15]+HEX_CHARS[v>>20&15]+HEX_CHARS[v>>16&15]+HEX_CHARS[v>>12&15]+HEX_CHARS[v>>8&15]+HEX_CHARS[v>>4&15]+HEX_CHARS[15&v]+HEX_CHARS[m>>28&15]+HEX_CHARS[m>>24&15]+HEX_CHARS[m>>20&15]+HEX_CHARS[m>>16&15]+HEX_CHARS[m>>12&15]+HEX_CHARS[m>>8&15]+HEX_CHARS[m>>4&15]+HEX_CHARS[15&m];return this.is224||(y+=HEX_CHARS[I>>28&15]+HEX_CHARS[I>>24&15]+HEX_CHARS[I>>20&15]+HEX_CHARS[I>>16&15]+HEX_CHARS[I>>12&15]+HEX_CHARS[I>>8&15]+HEX_CHARS[I>>4&15]+HEX_CHARS[15&I]),y},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var n=this.h0,T=this.h1,A=this.h2,u=this.h3,d=this.h4,v=this.h5,m=this.h6,I=this.h7,y=[n>>24&255,n>>16&255,n>>8&255,255&n,T>>24&255,T>>16&255,T>>8&255,255&T,A>>24&255,A>>16&255,A>>8&255,255&A,u>>24&255,u>>16&255,u>>8&255,255&u,d>>24&255,d>>16&255,d>>8&255,255&d,v>>24&255,v>>16&255,v>>8&255,255&v,m>>24&255,m>>16&255,m>>8&255,255&m];return this.is224||y.push(I>>24&255,I>>16&255,I>>8&255,255&I),y},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var n=new ArrayBuffer(this.is224?28:32),T=new DataView(n);return T.setUint32(0,this.h0),T.setUint32(4,this.h1),T.setUint32(8,this.h2),T.setUint32(12,this.h3),T.setUint32(16,this.h4),T.setUint32(20,this.h5),T.setUint32(24,this.h6),this.is224||T.setUint32(28,this.h7),n},HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var n=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(n),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),__WEBPACK_AMD_DEFINE_RESULT__===void 0||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))})()},489:function(n,T,A){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */n.exports=(function(){"use strict";function u(mt){var Tt=typeof mt;return mt!==null&&(Tt==="object"||Tt==="function")}function d(mt){return typeof mt=="function"}var v=Array.isArray?Array.isArray:function(mt){return Object.prototype.toString.call(mt)==="[object Array]"},m=0,I=void 0,y=void 0,S=function(mt,Tt){ft[m]=mt,ft[m+1]=Tt,(m+=2)===2&&(y?y(q):_t())};function R(mt){y=mt}function Q(mt){S=mt}var F=typeof window!="undefined"?window:void 0,it=F||{},V=it.MutationObserver||it.WebKitMutationObserver,M=typeof self=="undefined"&&typeof process!="undefined"&&{}.toString.call(process)==="[object process]",H=typeof Uint8ClampedArray!="undefined"&&typeof importScripts!="undefined"&&typeof MessageChannel!="undefined";function X(){return function(){return process.nextTick(q)}}function Z(){return I!==void 0?function(){I(q)}:pt()}function st(){var mt=0,Tt=new V(q),ue=document.createTextNode("");return Tt.observe(ue,{characterData:!0}),function(){ue.data=mt=++mt%2}}function Pt(){var mt=new MessageChannel;return mt.port1.onmessage=q,function(){return mt.port2.postMessage(0)}}function pt(){var mt=setTimeout;return function(){return mt(q,1)}}var ft=new Array(1e3);function q(){for(var mt=0;mt<m;mt+=2)(0,ft[mt])(ft[mt+1]),ft[mt]=void 0,ft[mt+1]=void 0;m=0}function At(){try{var mt=Function("return this")().require("vertx");return I=mt.runOnLoop||mt.runOnContext,Z()}catch(Tt){return pt()}}var _t=void 0;function Jt(mt,Tt){var ue=this,Me=new this.constructor(jt);Me[St]===void 0&&ln(Me);var Yt=ue._state;if(Yt){var Je=arguments[Yt-1];S((function(){return Ti(Yt,Me,Je,ue._result)}))}else Fn(ue,Me,mt,Tt);return Me}function g(mt){var Tt=this;if(mt&&typeof mt=="object"&&mt.constructor===Tt)return mt;var ue=new Tt(jt);return ce(ue,mt),ue}_t=M?X():V?st():H?Pt():F===void 0?At():pt();var St=Math.random().toString(36).substring(2);function jt(){}var L=void 0,An=1,te=2;function Ot(){return new TypeError("You cannot resolve a promise with itself")}function ye(){return new TypeError("A promises callback cannot return that same promise.")}function l(mt,Tt,ue,Me){try{mt.call(Tt,ue,Me)}catch(Yt){return Yt}}function Bt(mt,Tt,ue){S((function(Me){var Yt=!1,Je=l(ue,Tt,(function(tn){Yt||(Yt=!0,Tt!==tn?ce(Me,tn):yn(Me,tn))}),(function(tn){Yt||(Yt=!0,on(Me,tn))}),"Settle: "+(Me._label||" unknown promise"));!Yt&&Je&&(Yt=!0,on(Me,Je))}),mt)}function qt(mt,Tt){Tt._state===An?yn(mt,Tt._result):Tt._state===te?on(mt,Tt._result):Fn(Tt,void 0,(function(ue){return ce(mt,ue)}),(function(ue){return on(mt,ue)}))}function we(mt,Tt,ue){Tt.constructor===mt.constructor&&ue===Jt&&Tt.constructor.resolve===g?qt(mt,Tt):ue===void 0?yn(mt,Tt):d(ue)?Bt(mt,Tt,ue):yn(mt,Tt)}function ce(mt,Tt){if(mt===Tt)on(mt,Ot());else if(u(Tt)){var ue=void 0;try{ue=Tt.then}catch(Me){return void on(mt,Me)}we(mt,Tt,ue)}else yn(mt,Tt)}function He(mt){mt._onerror&&mt._onerror(mt._result),vi(mt)}function yn(mt,Tt){mt._state===L&&(mt._result=Tt,mt._state=An,mt._subscribers.length!==0&&S(vi,mt))}function on(mt,Tt){mt._state===L&&(mt._state=te,mt._result=Tt,S(He,mt))}function Fn(mt,Tt,ue,Me){var Yt=mt._subscribers,Je=Yt.length;mt._onerror=null,Yt[Je]=Tt,Yt[Je+An]=ue,Yt[Je+te]=Me,Je===0&&mt._state&&S(vi,mt)}function vi(mt){var Tt=mt._subscribers,ue=mt._state;if(Tt.length!==0){for(var Me=void 0,Yt=void 0,Je=mt._result,tn=0;tn<Tt.length;tn+=3)Me=Tt[tn],Yt=Tt[tn+ue],Me?Ti(ue,Me,Yt,Je):Yt(Je);mt._subscribers.length=0}}function Ti(mt,Tt,ue,Me){var Yt=d(ue),Je=void 0,tn=void 0,bn=!0;if(Yt){try{Je=ue(Me)}catch(Ln){bn=!1,tn=Ln}if(Tt===Je)return void on(Tt,ye())}else Je=Me;Tt._state!==L||(Yt&&bn?ce(Tt,Je):bn===!1?on(Tt,tn):mt===An?yn(Tt,Je):mt===te&&on(Tt,Je))}function ri(mt,Tt){try{Tt((function(ue){ce(mt,ue)}),(function(ue){on(mt,ue)}))}catch(ue){on(mt,ue)}}var Ft=0;function Se(){return Ft++}function ln(mt){mt[St]=Ft++,mt._state=void 0,mt._result=void 0,mt._subscribers=[]}function $n(){return new Error("Array Methods must be provided an Array")}var Ei=(function(){function mt(Tt,ue){this._instanceConstructor=Tt,this.promise=new Tt(jt),this.promise[St]||ln(this.promise),v(ue)?(this.length=ue.length,this._remaining=ue.length,this._result=new Array(this.length),this.length===0?yn(this.promise,this._result):(this.length=this.length||0,this._enumerate(ue),this._remaining===0&&yn(this.promise,this._result))):on(this.promise,$n())}return mt.prototype._enumerate=function(Tt){for(var ue=0;this._state===L&&ue<Tt.length;ue++)this._eachEntry(Tt[ue],ue)},mt.prototype._eachEntry=function(Tt,ue){var Me=this._instanceConstructor,Yt=Me.resolve;if(Yt===g){var Je=void 0,tn=void 0,bn=!1;try{Je=Tt.then}catch(an){bn=!0,tn=an}if(Je===Jt&&Tt._state!==L)this._settledAt(Tt._state,ue,Tt._result);else if(typeof Je!="function")this._remaining--,this._result[ue]=Tt;else if(Me===Be){var Ln=new Me(jt);bn?on(Ln,tn):we(Ln,Tt,Je),this._willSettleAt(Ln,ue)}else this._willSettleAt(new Me((function(an){return an(Tt)})),ue)}else this._willSettleAt(Yt(Tt),ue)},mt.prototype._settledAt=function(Tt,ue,Me){var Yt=this.promise;Yt._state===L&&(this._remaining--,Tt===te?on(Yt,Me):this._result[ue]=Me),this._remaining===0&&yn(Yt,this._result)},mt.prototype._willSettleAt=function(Tt,ue){var Me=this;Fn(Tt,void 0,(function(Yt){return Me._settledAt(An,ue,Yt)}),(function(Yt){return Me._settledAt(te,ue,Yt)}))},mt})();function Pi(mt){return new Ei(this,mt).promise}function kt(mt){var Tt=this;return v(mt)?new Tt((function(ue,Me){for(var Yt=mt.length,Je=0;Je<Yt;Je++)Tt.resolve(mt[Je]).then(ue,Me)})):new Tt((function(ue,Me){return Me(new TypeError("You must pass an array to race."))}))}function Qt(mt){var Tt=new this(jt);return on(Tt,mt),Tt}function pe(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function Te(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var Be=(function(){function mt(Tt){this[St]=Se(),this._result=this._state=void 0,this._subscribers=[],jt!==Tt&&(typeof Tt!="function"&&pe(),this instanceof mt?ri(this,Tt):Te())}return mt.prototype.catch=function(Tt){return this.then(null,Tt)},mt.prototype.finally=function(Tt){var ue=this,Me=ue.constructor;return d(Tt)?ue.then((function(Yt){return Me.resolve(Tt()).then((function(){return Yt}))}),(function(Yt){return Me.resolve(Tt()).then((function(){throw Yt}))})):ue.then(Tt,Tt)},mt})();function ae(){var mt=void 0;if(A.g!==void 0)mt=A.g;else if(typeof self!="undefined")mt=self;else try{mt=Function("return this")()}catch(Me){throw new Error("polyfill failed because global object is unavailable in this environment")}var Tt=mt.Promise;if(Tt){var ue=null;try{ue=Object.prototype.toString.call(Tt.resolve())}catch(Me){}if(ue==="[object Promise]"&&!Tt.cast)return}mt.Promise=Be}return Be.prototype.then=Jt,Be.all=Pi,Be.race=kt,Be.resolve=g,Be.reject=Qt,Be._setScheduler=R,Be._setAsap=Q,Be._asap=S,Be.polyfill=ae,Be.Promise=Be,Be})()},491:(n,T,A)=>{A(581),n.exports=self.fetch.bind(self)},581:(n,T,A)=>{"use strict";A.r(T),A.d(T,{DOMException:()=>pt,Headers:()=>R,Request:()=>X,Response:()=>st,fetch:()=>ft});var u=typeof globalThis!="undefined"&&globalThis||typeof self!="undefined"&&self||A.g!==void 0&&A.g||{},d={searchParams:"URLSearchParams"in u,iterable:"Symbol"in u&&"iterator"in Symbol,blob:"FileReader"in u&&"Blob"in u&&(function(){try{return new Blob,!0}catch(q){return!1}})(),formData:"FormData"in u,arrayBuffer:"ArrayBuffer"in u};if(d.arrayBuffer)var v=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],m=ArrayBuffer.isView||function(q){return q&&v.indexOf(Object.prototype.toString.call(q))>-1};function I(q){if(typeof q!="string"&&(q=String(q)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(q)||q==="")throw new TypeError('Invalid character in header field name: "'+q+'"');return q.toLowerCase()}function y(q){return typeof q!="string"&&(q=String(q)),q}function S(q){var At={next:function(){var _t=q.shift();return{done:_t===void 0,value:_t}}};return d.iterable&&(At[Symbol.iterator]=function(){return At}),At}function R(q){this.map={},q instanceof R?q.forEach((function(At,_t){this.append(_t,At)}),this):Array.isArray(q)?q.forEach((function(At){if(At.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+At.length);this.append(At[0],At[1])}),this):q&&Object.getOwnPropertyNames(q).forEach((function(At){this.append(At,q[At])}),this)}function Q(q){if(!q._noBody)return q.bodyUsed?Promise.reject(new TypeError("Already read")):void(q.bodyUsed=!0)}function F(q){return new Promise((function(At,_t){q.onload=function(){At(q.result)},q.onerror=function(){_t(q.error)}}))}function it(q){var At=new FileReader,_t=F(At);return At.readAsArrayBuffer(q),_t}function V(q){if(q.slice)return q.slice(0);var At=new Uint8Array(q.byteLength);return At.set(new Uint8Array(q)),At.buffer}function M(){return this.bodyUsed=!1,this._initBody=function(q){var At;this.bodyUsed=this.bodyUsed,this._bodyInit=q,q?typeof q=="string"?this._bodyText=q:d.blob&&Blob.prototype.isPrototypeOf(q)?this._bodyBlob=q:d.formData&&FormData.prototype.isPrototypeOf(q)?this._bodyFormData=q:d.searchParams&&URLSearchParams.prototype.isPrototypeOf(q)?this._bodyText=q.toString():d.arrayBuffer&&d.blob&&(At=q)&&DataView.prototype.isPrototypeOf(At)?(this._bodyArrayBuffer=V(q.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):d.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(q)||m(q))?this._bodyArrayBuffer=V(q):this._bodyText=q=Object.prototype.toString.call(q):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof q=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):d.searchParams&&URLSearchParams.prototype.isPrototypeOf(q)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},d.blob&&(this.blob=function(){var q=Q(this);if(q)return q;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var q=Q(this);return q||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}if(d.blob)return this.blob().then(it);throw new Error("could not read as ArrayBuffer")},this.text=function(){var q,At,_t,Jt,g,St=Q(this);if(St)return St;if(this._bodyBlob)return q=this._bodyBlob,At=new FileReader,_t=F(At),Jt=/charset=([A-Za-z0-9_-]+)/.exec(q.type),g=Jt?Jt[1]:"utf-8",At.readAsText(q,g),_t;if(this._bodyArrayBuffer)return Promise.resolve((function(jt){for(var L=new Uint8Array(jt),An=new Array(L.length),te=0;te<L.length;te++)An[te]=String.fromCharCode(L[te]);return An.join("")})(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},d.formData&&(this.formData=function(){return this.text().then(Z)}),this.json=function(){return this.text().then(JSON.parse)},this}R.prototype.append=function(q,At){q=I(q),At=y(At);var _t=this.map[q];this.map[q]=_t?_t+", "+At:At},R.prototype.delete=function(q){delete this.map[I(q)]},R.prototype.get=function(q){return q=I(q),this.has(q)?this.map[q]:null},R.prototype.has=function(q){return this.map.hasOwnProperty(I(q))},R.prototype.set=function(q,At){this.map[I(q)]=y(At)},R.prototype.forEach=function(q,At){for(var _t in this.map)this.map.hasOwnProperty(_t)&&q.call(At,this.map[_t],_t,this)},R.prototype.keys=function(){var q=[];return this.forEach((function(At,_t){q.push(_t)})),S(q)},R.prototype.values=function(){var q=[];return this.forEach((function(At){q.push(At)})),S(q)},R.prototype.entries=function(){var q=[];return this.forEach((function(At,_t){q.push([_t,At])})),S(q)},d.iterable&&(R.prototype[Symbol.iterator]=R.prototype.entries);var H=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function X(q,At){if(!(this instanceof X))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var _t,Jt,g=(At=At||{}).body;if(q instanceof X){if(q.bodyUsed)throw new TypeError("Already read");this.url=q.url,this.credentials=q.credentials,At.headers||(this.headers=new R(q.headers)),this.method=q.method,this.mode=q.mode,this.signal=q.signal,g||q._bodyInit==null||(g=q._bodyInit,q.bodyUsed=!0)}else this.url=String(q);if(this.credentials=At.credentials||this.credentials||"same-origin",!At.headers&&this.headers||(this.headers=new R(At.headers)),this.method=(_t=At.method||this.method||"GET",Jt=_t.toUpperCase(),H.indexOf(Jt)>-1?Jt:_t),this.mode=At.mode||this.mode||null,this.signal=At.signal||this.signal||(function(){if("AbortController"in u)return new AbortController().signal})(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&g)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(g),!(this.method!=="GET"&&this.method!=="HEAD"||At.cache!=="no-store"&&At.cache!=="no-cache")){var St=/([?&])_=[^&]*/;St.test(this.url)?this.url=this.url.replace(St,"$1_="+new Date().getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+new Date().getTime()}}function Z(q){var At=new FormData;return q.trim().split("&").forEach((function(_t){if(_t){var Jt=_t.split("="),g=Jt.shift().replace(/\+/g," "),St=Jt.join("=").replace(/\+/g," ");At.append(decodeURIComponent(g),decodeURIComponent(St))}})),At}function st(q,At){if(!(this instanceof st))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(At||(At={}),this.type="default",this.status=At.status===void 0?200:At.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=At.statusText===void 0?"":""+At.statusText,this.headers=new R(At.headers),this.url=At.url||"",this._initBody(q)}X.prototype.clone=function(){return new X(this,{body:this._bodyInit})},M.call(X.prototype),M.call(st.prototype),st.prototype.clone=function(){return new st(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new R(this.headers),url:this.url})},st.error=function(){var q=new st(null,{status:200,statusText:""});return q.ok=!1,q.status=0,q.type="error",q};var Pt=[301,302,303,307,308];st.redirect=function(q,At){if(Pt.indexOf(At)===-1)throw new RangeError("Invalid status code");return new st(null,{status:At,headers:{location:q}})};var pt=u.DOMException;try{new pt}catch(q){(pt=function(At,_t){this.message=At,this.name=_t;var Jt=Error(At);this.stack=Jt.stack}).prototype=Object.create(Error.prototype),pt.prototype.constructor=pt}function ft(q,At){return new Promise((function(_t,Jt){var g=new X(q,At);if(g.signal&&g.signal.aborted)return Jt(new pt("Aborted","AbortError"));var St=new XMLHttpRequest;function jt(){St.abort()}if(St.onload=function(){var An,te,Ot={statusText:St.statusText,headers:(An=St.getAllResponseHeaders()||"",te=new R,An.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(l){return l.indexOf(`
`)===0?l.substr(1,l.length):l})).forEach((function(l){var Bt=l.split(":"),qt=Bt.shift().trim();if(qt){var we=Bt.join(":").trim();try{te.append(qt,we)}catch(ce){console.warn("Response "+ce.message)}}})),te)};g.url.indexOf("file://")===0&&(St.status<200||St.status>599)?Ot.status=200:Ot.status=St.status,Ot.url="responseURL"in St?St.responseURL:Ot.headers.get("X-Request-URL");var ye="response"in St?St.response:St.responseText;setTimeout((function(){_t(new st(ye,Ot))}),0)},St.onerror=function(){setTimeout((function(){Jt(new TypeError("Network request failed"))}),0)},St.ontimeout=function(){setTimeout((function(){Jt(new TypeError("Network request timed out"))}),0)},St.onabort=function(){setTimeout((function(){Jt(new pt("Aborted","AbortError"))}),0)},St.open(g.method,(function(An){try{return An===""&&u.location.href?u.location.href:An}catch(te){return An}})(g.url),!0),g.credentials==="include"?St.withCredentials=!0:g.credentials==="omit"&&(St.withCredentials=!1),"responseType"in St&&(d.blob?St.responseType="blob":d.arrayBuffer&&(St.responseType="arraybuffer")),At&&typeof At.headers=="object"&&!(At.headers instanceof R||u.Headers&&At.headers instanceof u.Headers)){var L=[];Object.getOwnPropertyNames(At.headers).forEach((function(An){L.push(I(An)),St.setRequestHeader(An,y(At.headers[An]))})),g.headers.forEach((function(An,te){L.indexOf(te)===-1&&St.setRequestHeader(te,An)}))}else g.headers.forEach((function(An,te){St.setRequestHeader(te,An)}));g.signal&&(g.signal.addEventListener("abort",jt),St.onreadystatechange=function(){St.readyState===4&&g.signal.removeEventListener("abort",jt)}),St.send(g._bodyInit===void 0?null:g._bodyInit)}))}ft.polyfill=!0,u.fetch||(u.fetch=ft,u.Headers=R,u.Request=X,u.Response=st)},883:function(n,T,A){var u;function d(v){return d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},d(v);/*! jQuery v3.7.1 | (c) OpenJS Foundation and other contributors | jquery.org/license */}n=A.nmd(n),(function(v,m){"use strict";d(n)=="object"&&d(n.exports)=="object"?n.exports=v.document?m(v,!0):function(I){if(!I.document)throw new Error("jQuery requires a window with a document");return m(I)}:m(v)})(typeof window!="undefined"?window:this,(function(v,m){"use strict";var I=[],y=Object.getPrototypeOf,S=I.slice,R=I.flat?function(r){return I.flat.call(r)}:function(r){return I.concat.apply([],r)},Q=I.push,F=I.indexOf,it={},V=it.toString,M=it.hasOwnProperty,H=M.toString,X=H.call(Object),Z={},st=function(r){return typeof r=="function"&&typeof r.nodeType!="number"&&typeof r.item!="function"},Pt=function(r){return r!=null&&r===r.window},pt=v.document,ft={type:!0,src:!0,nonce:!0,noModule:!0};function q(r,f,_){var E,B,U=(_=_||pt).createElement("script");if(U.text=r,f)for(E in ft)(B=f[E]||f.getAttribute&&f.getAttribute(E))&&U.setAttribute(E,B);_.head.appendChild(U).parentNode.removeChild(U)}function At(r){return r==null?r+"":d(r)=="object"||typeof r=="function"?it[V.call(r)]||"object":d(r)}var _t="3.7.1",Jt=/HTML$/i,g=function(r,f){return new g.fn.init(r,f)};function St(r){var f=!!r&&"length"in r&&r.length,_=At(r);return!st(r)&&!Pt(r)&&(_==="array"||f===0||typeof f=="number"&&0<f&&f-1 in r)}function jt(r,f){return r.nodeName&&r.nodeName.toLowerCase()===f.toLowerCase()}g.fn=g.prototype={jquery:_t,constructor:g,length:0,toArray:function(){return S.call(this)},get:function(r){return r==null?S.call(this):r<0?this[r+this.length]:this[r]},pushStack:function(r){var f=g.merge(this.constructor(),r);return f.prevObject=this,f},each:function(r){return g.each(this,r)},map:function(r){return this.pushStack(g.map(this,(function(f,_){return r.call(f,_,f)})))},slice:function(){return this.pushStack(S.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(g.grep(this,(function(r,f){return(f+1)%2})))},odd:function(){return this.pushStack(g.grep(this,(function(r,f){return f%2})))},eq:function(r){var f=this.length,_=+r+(r<0?f:0);return this.pushStack(0<=_&&_<f?[this[_]]:[])},end:function(){return this.prevObject||this.constructor()},push:Q,sort:I.sort,splice:I.splice},g.extend=g.fn.extend=function(){var r,f,_,E,B,U,et=arguments[0]||{},wt=1,yt=arguments.length,Lt=!1;for(typeof et=="boolean"&&(Lt=et,et=arguments[wt]||{},wt++),d(et)=="object"||st(et)||(et={}),wt===yt&&(et=this,wt--);wt<yt;wt++)if((r=arguments[wt])!=null)for(f in r)E=r[f],f!=="__proto__"&&et!==E&&(Lt&&E&&(g.isPlainObject(E)||(B=Array.isArray(E)))?(_=et[f],U=B&&!Array.isArray(_)?[]:B||g.isPlainObject(_)?_:{},B=!1,et[f]=g.extend(Lt,U,E)):E!==void 0&&(et[f]=E));return et},g.extend({expando:"jQuery"+(_t+Math.random()).replace(/\D/g,""),isReady:!0,error:function(r){throw new Error(r)},noop:function(){},isPlainObject:function(r){var f,_;return!(!r||V.call(r)!=="[object Object]"||(f=y(r))&&(typeof(_=M.call(f,"constructor")&&f.constructor)!="function"||H.call(_)!==X))},isEmptyObject:function(r){var f;for(f in r)return!1;return!0},globalEval:function(r,f,_){q(r,{nonce:f&&f.nonce},_)},each:function(r,f){var _,E=0;if(St(r))for(_=r.length;E<_&&f.call(r[E],E,r[E])!==!1;E++);else for(E in r)if(f.call(r[E],E,r[E])===!1)break;return r},text:function(r){var f,_="",E=0,B=r.nodeType;if(!B)for(;f=r[E++];)_+=g.text(f);return B===1||B===11?r.textContent:B===9?r.documentElement.textContent:B===3||B===4?r.nodeValue:_},makeArray:function(r,f){var _=f||[];return r!=null&&(St(Object(r))?g.merge(_,typeof r=="string"?[r]:r):Q.call(_,r)),_},inArray:function(r,f,_){return f==null?-1:F.call(f,r,_)},isXMLDoc:function(r){var f=r&&r.namespaceURI,_=r&&(r.ownerDocument||r).documentElement;return!Jt.test(f||_&&_.nodeName||"HTML")},merge:function(r,f){for(var _=+f.length,E=0,B=r.length;E<_;E++)r[B++]=f[E];return r.length=B,r},grep:function(r,f,_){for(var E=[],B=0,U=r.length,et=!_;B<U;B++)!f(r[B],B)!==et&&E.push(r[B]);return E},map:function(r,f,_){var E,B,U=0,et=[];if(St(r))for(E=r.length;U<E;U++)(B=f(r[U],U,_))!=null&&et.push(B);else for(U in r)(B=f(r[U],U,_))!=null&&et.push(B);return R(et)},guid:1,support:Z}),typeof Symbol=="function"&&(g.fn[Symbol.iterator]=I[Symbol.iterator]),g.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(r,f){it["[object "+f+"]"]=f.toLowerCase()}));var L=I.pop,An=I.sort,te=I.splice,Ot="[\\x20\\t\\r\\n\\f]",ye=new RegExp("^"+Ot+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Ot+"+$","g");g.contains=function(r,f){var _=f&&f.parentNode;return r===_||!(!_||_.nodeType!==1||!(r.contains?r.contains(_):r.compareDocumentPosition&&16&r.compareDocumentPosition(_)))};var l=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function Bt(r,f){return f?r==="\0"?"\uFFFD":r.slice(0,-1)+"\\"+r.charCodeAt(r.length-1).toString(16)+" ":"\\"+r}g.escapeSelector=function(r){return(r+"").replace(l,Bt)};var qt=pt,we=Q;(function(){var r,f,_,E,B,U,et,wt,yt,Lt,re=we,xe=g.expando,Zt=0,Oe=0,Cn=N(),Vn=N(),Qn=N(),Zi=N(),Ji=function(G,lt){return G===lt&&(B=!0),0},ur="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",hr="(?:\\\\[\\da-fA-F]{1,6}"+Ot+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Yn="\\["+Ot+"*("+hr+")(?:"+Ot+"*([*^$|!~]?=)"+Ot+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+hr+"))|)"+Ot+"*\\]",Bi=":("+hr+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Yn+")*)|.*)\\)|)",hi=new RegExp(Ot+"+","g"),qi=new RegExp("^"+Ot+"*,"+Ot+"*"),Ar=new RegExp("^"+Ot+"*([>+~]|"+Ot+")"+Ot+"*"),Ir=new RegExp(Ot+"|>"),Sr=new RegExp(Bi),Dr=new RegExp("^"+hr+"$"),Er={ID:new RegExp("^#("+hr+")"),CLASS:new RegExp("^\\.("+hr+")"),TAG:new RegExp("^("+hr+"|[*])"),ATTR:new RegExp("^"+Yn),PSEUDO:new RegExp("^"+Bi),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Ot+"*(even|odd|(([+-]|)(\\d*)n|)"+Ot+"*(?:([+-]|)"+Ot+"*(\\d+)|))"+Ot+"*\\)|)","i"),bool:new RegExp("^(?:"+ur+")$","i"),needsContext:new RegExp("^"+Ot+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Ot+"*((?:-\\d)?\\d*)"+Ot+"*\\)|)(?=[^-]|$)","i")},kr=/^(?:input|select|textarea|button)$/i,Nr=/^h\d$/i,ar=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,or=/[+~]/,tr=new RegExp("\\\\[\\da-fA-F]{1,6}"+Ot+"?|\\\\([^\\r\\n\\f])","g"),bi=function(G,lt){var Gt="0x"+G.slice(1)-65536;return lt||(Gt<0?String.fromCharCode(Gt+65536):String.fromCharCode(Gt>>10|55296,1023&Gt|56320))},C=function(){at()},a=Ht((function(G){return G.disabled===!0&&jt(G,"fieldset")}),{dir:"parentNode",next:"legend"});try{re.apply(I=S.call(qt.childNodes),qt.childNodes),I[qt.childNodes.length].nodeType}catch(G){re={apply:function(lt,Gt){we.apply(lt,S.call(Gt))},call:function(lt){we.apply(lt,S.call(arguments,1))}}}function b(G,lt,Gt,le){var Ee,fn,vn,En,pn,Ci,ii,si=lt&&lt.ownerDocument,ki=lt?lt.nodeType:9;if(Gt=Gt||[],typeof G!="string"||!G||ki!==1&&ki!==9&&ki!==11)return Gt;if(!le&&(at(lt),lt=lt||U,wt)){if(ki!==11&&(pn=ar.exec(G)))if(Ee=pn[1]){if(ki===9){if(!(vn=lt.getElementById(Ee)))return Gt;if(vn.id===Ee)return re.call(Gt,vn),Gt}else if(si&&(vn=si.getElementById(Ee))&&b.contains(lt,vn)&&vn.id===Ee)return re.call(Gt,vn),Gt}else{if(pn[2])return re.apply(Gt,lt.getElementsByTagName(G)),Gt;if((Ee=pn[3])&&lt.getElementsByClassName)return re.apply(Gt,lt.getElementsByClassName(Ee)),Gt}if(!(Zi[G+" "]||yt&&yt.test(G))){if(ii=G,si=lt,ki===1&&(Ir.test(G)||Ar.test(G))){for((si=or.test(G)&&dn(lt.parentNode)||lt)==lt&&Z.scope||((En=lt.getAttribute("id"))?En=g.escapeSelector(En):lt.setAttribute("id",En=xe)),fn=(Ci=ut(G)).length;fn--;)Ci[fn]=(En?"#"+En:":scope")+" "+$t(Ci[fn]);ii=Ci.join(",")}try{return re.apply(Gt,si.querySelectorAll(ii)),Gt}catch(Kn){Zi(G,!0)}finally{En===xe&&lt.removeAttribute("id")}}}return Le(G.replace(ye,"$1"),lt,Gt,le)}function N(){var G=[];return function lt(Gt,le){return G.push(Gt+" ")>f.cacheLength&&delete lt[G.shift()],lt[Gt+" "]=le}}function ot(G){return G[xe]=!0,G}function Ct(G){var lt=U.createElement("fieldset");try{return!!G(lt)}catch(Gt){return!1}finally{lt.parentNode&&lt.parentNode.removeChild(lt),lt=null}}function _e(G){return function(lt){return jt(lt,"input")&&lt.type===G}}function Xe(G){return function(lt){return(jt(lt,"input")||jt(lt,"button"))&&lt.type===G}}function Ue(G){return function(lt){return"form"in lt?lt.parentNode&&lt.disabled===!1?"label"in lt?"label"in lt.parentNode?lt.parentNode.disabled===G:lt.disabled===G:lt.isDisabled===G||lt.isDisabled!==!G&&a(lt)===G:lt.disabled===G:"label"in lt&&lt.disabled===G}}function Rn(G){return ot((function(lt){return lt=+lt,ot((function(Gt,le){for(var Ee,fn=G([],Gt.length,lt),vn=fn.length;vn--;)Gt[Ee=fn[vn]]&&(Gt[Ee]=!(le[Ee]=Gt[Ee]))}))}))}function dn(G){return G&&G.getElementsByTagName!==void 0&&G}function at(G){var lt,Gt=G?G.ownerDocument||G:qt;return Gt!=U&&Gt.nodeType===9&&Gt.documentElement&&(et=(U=Gt).documentElement,wt=!g.isXMLDoc(U),Lt=et.matches||et.webkitMatchesSelector||et.msMatchesSelector,et.msMatchesSelector&&qt!=U&&(lt=U.defaultView)&&lt.top!==lt&&lt.addEventListener("unload",C),Z.getById=Ct((function(le){return et.appendChild(le).id=g.expando,!U.getElementsByName||!U.getElementsByName(g.expando).length})),Z.disconnectedMatch=Ct((function(le){return Lt.call(le,"*")})),Z.scope=Ct((function(){return U.querySelectorAll(":scope")})),Z.cssHas=Ct((function(){try{return U.querySelector(":has(*,:jqfake)"),!1}catch(le){return!0}})),Z.getById?(f.filter.ID=function(le){var Ee=le.replace(tr,bi);return function(fn){return fn.getAttribute("id")===Ee}},f.find.ID=function(le,Ee){if(Ee.getElementById!==void 0&&wt){var fn=Ee.getElementById(le);return fn?[fn]:[]}}):(f.filter.ID=function(le){var Ee=le.replace(tr,bi);return function(fn){var vn=fn.getAttributeNode!==void 0&&fn.getAttributeNode("id");return vn&&vn.value===Ee}},f.find.ID=function(le,Ee){if(Ee.getElementById!==void 0&&wt){var fn,vn,En,pn=Ee.getElementById(le);if(pn){if((fn=pn.getAttributeNode("id"))&&fn.value===le)return[pn];for(En=Ee.getElementsByName(le),vn=0;pn=En[vn++];)if((fn=pn.getAttributeNode("id"))&&fn.value===le)return[pn]}return[]}}),f.find.TAG=function(le,Ee){return Ee.getElementsByTagName!==void 0?Ee.getElementsByTagName(le):Ee.querySelectorAll(le)},f.find.CLASS=function(le,Ee){if(Ee.getElementsByClassName!==void 0&&wt)return Ee.getElementsByClassName(le)},yt=[],Ct((function(le){var Ee;et.appendChild(le).innerHTML="<a id='"+xe+"' href='' disabled='disabled'></a><select id='"+xe+"-\r\\' disabled='disabled'><option selected=''></option></select>",le.querySelectorAll("[selected]").length||yt.push("\\["+Ot+"*(?:value|"+ur+")"),le.querySelectorAll("[id~="+xe+"-]").length||yt.push("~="),le.querySelectorAll("a#"+xe+"+*").length||yt.push(".#.+[+~]"),le.querySelectorAll(":checked").length||yt.push(":checked"),(Ee=U.createElement("input")).setAttribute("type","hidden"),le.appendChild(Ee).setAttribute("name","D"),et.appendChild(le).disabled=!0,le.querySelectorAll(":disabled").length!==2&&yt.push(":enabled",":disabled"),(Ee=U.createElement("input")).setAttribute("name",""),le.appendChild(Ee),le.querySelectorAll("[name='']").length||yt.push("\\["+Ot+"*name"+Ot+"*="+Ot+`*(?:''|"")`)})),Z.cssHas||yt.push(":has"),yt=yt.length&&new RegExp(yt.join("|")),Ji=function(le,Ee){if(le===Ee)return B=!0,0;var fn=!le.compareDocumentPosition-!Ee.compareDocumentPosition;return fn||(1&(fn=(le.ownerDocument||le)==(Ee.ownerDocument||Ee)?le.compareDocumentPosition(Ee):1)||!Z.sortDetached&&Ee.compareDocumentPosition(le)===fn?le===U||le.ownerDocument==qt&&b.contains(qt,le)?-1:Ee===U||Ee.ownerDocument==qt&&b.contains(qt,Ee)?1:E?F.call(E,le)-F.call(E,Ee):0:4&fn?-1:1)}),U}for(r in b.matches=function(G,lt){return b(G,null,null,lt)},b.matchesSelector=function(G,lt){if(at(G),wt&&!Zi[lt+" "]&&(!yt||!yt.test(lt)))try{var Gt=Lt.call(G,lt);if(Gt||Z.disconnectedMatch||G.document&&G.document.nodeType!==11)return Gt}catch(le){Zi(lt,!0)}return 0<b(lt,U,null,[G]).length},b.contains=function(G,lt){return(G.ownerDocument||G)!=U&&at(G),g.contains(G,lt)},b.attr=function(G,lt){(G.ownerDocument||G)!=U&&at(G);var Gt=f.attrHandle[lt.toLowerCase()],le=Gt&&M.call(f.attrHandle,lt.toLowerCase())?Gt(G,lt,!wt):void 0;return le!==void 0?le:G.getAttribute(lt)},b.error=function(G){throw new Error("Syntax error, unrecognized expression: "+G)},g.uniqueSort=function(G){var lt,Gt=[],le=0,Ee=0;if(B=!Z.sortStable,E=!Z.sortStable&&S.call(G,0),An.call(G,Ji),B){for(;lt=G[Ee++];)lt===G[Ee]&&(le=Gt.push(Ee));for(;le--;)te.call(G,Gt[le],1)}return E=null,G},g.fn.uniqueSort=function(){return this.pushStack(g.uniqueSort(S.apply(this)))},(f=g.expr={cacheLength:50,createPseudo:ot,match:Er,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(G){return G[1]=G[1].replace(tr,bi),G[3]=(G[3]||G[4]||G[5]||"").replace(tr,bi),G[2]==="~="&&(G[3]=" "+G[3]+" "),G.slice(0,4)},CHILD:function(G){return G[1]=G[1].toLowerCase(),G[1].slice(0,3)==="nth"?(G[3]||b.error(G[0]),G[4]=+(G[4]?G[5]+(G[6]||1):2*(G[3]==="even"||G[3]==="odd")),G[5]=+(G[7]+G[8]||G[3]==="odd")):G[3]&&b.error(G[0]),G},PSEUDO:function(G){var lt,Gt=!G[6]&&G[2];return Er.CHILD.test(G[0])?null:(G[3]?G[2]=G[4]||G[5]||"":Gt&&Sr.test(Gt)&&(lt=ut(Gt,!0))&&(lt=Gt.indexOf(")",Gt.length-lt)-Gt.length)&&(G[0]=G[0].slice(0,lt),G[2]=Gt.slice(0,lt)),G.slice(0,3))}},filter:{TAG:function(G){var lt=G.replace(tr,bi).toLowerCase();return G==="*"?function(){return!0}:function(Gt){return jt(Gt,lt)}},CLASS:function(G){var lt=Cn[G+" "];return lt||(lt=new RegExp("(^|"+Ot+")"+G+"("+Ot+"|$)"))&&Cn(G,(function(Gt){return lt.test(typeof Gt.className=="string"&&Gt.className||Gt.getAttribute!==void 0&&Gt.getAttribute("class")||"")}))},ATTR:function(G,lt,Gt){return function(le){var Ee=b.attr(le,G);return Ee==null?lt==="!=":!lt||(Ee+="",lt==="="?Ee===Gt:lt==="!="?Ee!==Gt:lt==="^="?Gt&&Ee.indexOf(Gt)===0:lt==="*="?Gt&&-1<Ee.indexOf(Gt):lt==="$="?Gt&&Ee.slice(-Gt.length)===Gt:lt==="~="?-1<(" "+Ee.replace(hi," ")+" ").indexOf(Gt):lt==="|="&&(Ee===Gt||Ee.slice(0,Gt.length+1)===Gt+"-"))}},CHILD:function(G,lt,Gt,le,Ee){var fn=G.slice(0,3)!=="nth",vn=G.slice(-4)!=="last",En=lt==="of-type";return le===1&&Ee===0?function(pn){return!!pn.parentNode}:function(pn,Ci,ii){var si,ki,Kn,lr,mr,dr=fn!==vn?"nextSibling":"previousSibling",br=pn.parentNode,xr=En&&pn.nodeName.toLowerCase(),Tr=!ii&&!En,Yi=!1;if(br){if(fn){for(;dr;){for(Kn=pn;Kn=Kn[dr];)if(En?jt(Kn,xr):Kn.nodeType===1)return!1;mr=dr=G==="only"&&!mr&&"nextSibling"}return!0}if(mr=[vn?br.firstChild:br.lastChild],vn&&Tr){for(Yi=(lr=(si=(ki=br[xe]||(br[xe]={}))[G]||[])[0]===Zt&&si[1])&&si[2],Kn=lr&&br.childNodes[lr];Kn=++lr&&Kn&&Kn[dr]||(Yi=lr=0)||mr.pop();)if(Kn.nodeType===1&&++Yi&&Kn===pn){ki[G]=[Zt,lr,Yi];break}}else if(Tr&&(Yi=lr=(si=(ki=pn[xe]||(pn[xe]={}))[G]||[])[0]===Zt&&si[1]),Yi===!1)for(;(Kn=++lr&&Kn&&Kn[dr]||(Yi=lr=0)||mr.pop())&&(!(En?jt(Kn,xr):Kn.nodeType===1)||!++Yi||(Tr&&((ki=Kn[xe]||(Kn[xe]={}))[G]=[Zt,Yi]),Kn!==pn)););return(Yi-=Ee)===le||Yi%le==0&&0<=Yi/le}}},PSEUDO:function(G,lt){var Gt,le=f.pseudos[G]||f.setFilters[G.toLowerCase()]||b.error("unsupported pseudo: "+G);return le[xe]?le(lt):1<le.length?(Gt=[G,G,"",lt],f.setFilters.hasOwnProperty(G.toLowerCase())?ot((function(Ee,fn){for(var vn,En=le(Ee,lt),pn=En.length;pn--;)Ee[vn=F.call(Ee,En[pn])]=!(fn[vn]=En[pn])})):function(Ee){return le(Ee,0,Gt)}):le}},pseudos:{not:ot((function(G){var lt=[],Gt=[],le=ke(G.replace(ye,"$1"));return le[xe]?ot((function(Ee,fn,vn,En){for(var pn,Ci=le(Ee,null,En,[]),ii=Ee.length;ii--;)(pn=Ci[ii])&&(Ee[ii]=!(fn[ii]=pn))})):function(Ee,fn,vn){return lt[0]=Ee,le(lt,null,vn,Gt),lt[0]=null,!Gt.pop()}})),has:ot((function(G){return function(lt){return 0<b(G,lt).length}})),contains:ot((function(G){return G=G.replace(tr,bi),function(lt){return-1<(lt.textContent||g.text(lt)).indexOf(G)}})),lang:ot((function(G){return Dr.test(G||"")||b.error("unsupported lang: "+G),G=G.replace(tr,bi).toLowerCase(),function(lt){var Gt;do if(Gt=wt?lt.lang:lt.getAttribute("xml:lang")||lt.getAttribute("lang"))return(Gt=Gt.toLowerCase())===G||Gt.indexOf(G+"-")===0;while((lt=lt.parentNode)&&lt.nodeType===1);return!1}})),target:function(G){var lt=v.location&&v.location.hash;return lt&&lt.slice(1)===G.id},root:function(G){return G===et},focus:function(G){return G===(function(){try{return U.activeElement}catch(lt){}})()&&U.hasFocus()&&!!(G.type||G.href||~G.tabIndex)},enabled:Ue(!1),disabled:Ue(!0),checked:function(G){return jt(G,"input")&&!!G.checked||jt(G,"option")&&!!G.selected},selected:function(G){return G.parentNode&&G.parentNode.selectedIndex,G.selected===!0},empty:function(G){for(G=G.firstChild;G;G=G.nextSibling)if(G.nodeType<6)return!1;return!0},parent:function(G){return!f.pseudos.empty(G)},header:function(G){return Nr.test(G.nodeName)},input:function(G){return kr.test(G.nodeName)},button:function(G){return jt(G,"input")&&G.type==="button"||jt(G,"button")},text:function(G){var lt;return jt(G,"input")&&G.type==="text"&&((lt=G.getAttribute("type"))==null||lt.toLowerCase()==="text")},first:Rn((function(){return[0]})),last:Rn((function(G,lt){return[lt-1]})),eq:Rn((function(G,lt,Gt){return[Gt<0?Gt+lt:Gt]})),even:Rn((function(G,lt){for(var Gt=0;Gt<lt;Gt+=2)G.push(Gt);return G})),odd:Rn((function(G,lt){for(var Gt=1;Gt<lt;Gt+=2)G.push(Gt);return G})),lt:Rn((function(G,lt,Gt){var le;for(le=Gt<0?Gt+lt:lt<Gt?lt:Gt;0<=--le;)G.push(le);return G})),gt:Rn((function(G,lt,Gt){for(var le=Gt<0?Gt+lt:Gt;++le<lt;)G.push(le);return G}))}}).pseudos.nth=f.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})f.pseudos[r]=_e(r);for(r in{submit:!0,reset:!0})f.pseudos[r]=Xe(r);function Et(){}function ut(G,lt){var Gt,le,Ee,fn,vn,En,pn,Ci=Vn[G+" "];if(Ci)return lt?0:Ci.slice(0);for(vn=G,En=[],pn=f.preFilter;vn;){for(fn in Gt&&!(le=qi.exec(vn))||(le&&(vn=vn.slice(le[0].length)||vn),En.push(Ee=[])),Gt=!1,(le=Ar.exec(vn))&&(Gt=le.shift(),Ee.push({value:Gt,type:le[0].replace(ye," ")}),vn=vn.slice(Gt.length)),f.filter)!(le=Er[fn].exec(vn))||pn[fn]&&!(le=pn[fn](le))||(Gt=le.shift(),Ee.push({value:Gt,type:fn,matches:le}),vn=vn.slice(Gt.length));if(!Gt)break}return lt?vn.length:vn?b.error(G):Vn(G,En).slice(0)}function $t(G){for(var lt=0,Gt=G.length,le="";lt<Gt;lt++)le+=G[lt].value;return le}function Ht(G,lt,Gt){var le=lt.dir,Ee=lt.next,fn=Ee||le,vn=Gt&&fn==="parentNode",En=Oe++;return lt.first?function(pn,Ci,ii){for(;pn=pn[le];)if(pn.nodeType===1||vn)return G(pn,Ci,ii);return!1}:function(pn,Ci,ii){var si,ki,Kn=[Zt,En];if(ii){for(;pn=pn[le];)if((pn.nodeType===1||vn)&&G(pn,Ci,ii))return!0}else for(;pn=pn[le];)if(pn.nodeType===1||vn)if(ki=pn[xe]||(pn[xe]={}),Ee&&jt(pn,Ee))pn=pn[le]||pn;else{if((si=ki[fn])&&si[0]===Zt&&si[1]===En)return Kn[2]=si[2];if((ki[fn]=Kn)[2]=G(pn,Ci,ii))return!0}return!1}}function sn(G){return 1<G.length?function(lt,Gt,le){for(var Ee=G.length;Ee--;)if(!G[Ee](lt,Gt,le))return!1;return!0}:G[0]}function Sn(G,lt,Gt,le,Ee){for(var fn,vn=[],En=0,pn=G.length,Ci=lt!=null;En<pn;En++)(fn=G[En])&&(Gt&&!Gt(fn,le,Ee)||(vn.push(fn),Ci&&lt.push(En)));return vn}function ni(G,lt,Gt,le,Ee,fn){return le&&!le[xe]&&(le=ni(le)),Ee&&!Ee[xe]&&(Ee=ni(Ee,fn)),ot((function(vn,En,pn,Ci){var ii,si,ki,Kn,lr=[],mr=[],dr=En.length,br=vn||(function(Tr,Yi,jr){for(var Cr=0,Rr=Yi.length;Cr<Rr;Cr++)b(Tr,Yi[Cr],jr);return jr})(lt||"*",pn.nodeType?[pn]:pn,[]),xr=!G||!vn&&lt?br:Sn(br,lr,G,pn,Ci);if(Gt?Gt(xr,Kn=Ee||(vn?G:dr||le)?[]:En,pn,Ci):Kn=xr,le)for(ii=Sn(Kn,mr),le(ii,[],pn,Ci),si=ii.length;si--;)(ki=ii[si])&&(Kn[mr[si]]=!(xr[mr[si]]=ki));if(vn){if(Ee||G){if(Ee){for(ii=[],si=Kn.length;si--;)(ki=Kn[si])&&ii.push(xr[si]=ki);Ee(null,Kn=[],ii,Ci)}for(si=Kn.length;si--;)(ki=Kn[si])&&-1<(ii=Ee?F.call(vn,ki):lr[si])&&(vn[ii]=!(En[ii]=ki))}}else Kn=Sn(Kn===En?Kn.splice(dr,Kn.length):Kn),Ee?Ee(null,En,Kn,Ci):re.apply(En,Kn)}))}function Wn(G){for(var lt,Gt,le,Ee=G.length,fn=f.relative[G[0].type],vn=fn||f.relative[" "],En=fn?1:0,pn=Ht((function(si){return si===lt}),vn,!0),Ci=Ht((function(si){return-1<F.call(lt,si)}),vn,!0),ii=[function(si,ki,Kn){var lr=!fn&&(Kn||ki!=_)||((lt=ki).nodeType?pn(si,ki,Kn):Ci(si,ki,Kn));return lt=null,lr}];En<Ee;En++)if(Gt=f.relative[G[En].type])ii=[Ht(sn(ii),Gt)];else{if((Gt=f.filter[G[En].type].apply(null,G[En].matches))[xe]){for(le=++En;le<Ee&&!f.relative[G[le].type];le++);return ni(1<En&&sn(ii),1<En&&$t(G.slice(0,En-1).concat({value:G[En-2].type===" "?"*":""})).replace(ye,"$1"),Gt,En<le&&Wn(G.slice(En,le)),le<Ee&&Wn(G=G.slice(le)),le<Ee&&$t(G))}ii.push(Gt)}return sn(ii)}function ke(G,lt){var Gt,le,Ee,fn,vn,En,pn=[],Ci=[],ii=Qn[G+" "];if(!ii){for(lt||(lt=ut(G)),Gt=lt.length;Gt--;)(ii=Wn(lt[Gt]))[xe]?pn.push(ii):Ci.push(ii);(ii=Qn(G,(le=Ci,fn=0<(Ee=pn).length,vn=0<le.length,En=function(si,ki,Kn,lr,mr){var dr,br,xr,Tr=0,Yi="0",jr=si&&[],Cr=[],Rr=_,Xr=si||vn&&f.find.TAG("*",mr),Yr=Zt+=Rr==null?1:Math.random()||.1,Gr=Xr.length;for(mr&&(_=ki==U||ki||mr);Yi!==Gr&&(dr=Xr[Yi])!=null;Yi++){if(vn&&dr){for(br=0,ki||dr.ownerDocument==U||(at(dr),Kn=!wt);xr=le[br++];)if(xr(dr,ki||U,Kn)){re.call(lr,dr);break}mr&&(Zt=Yr)}fn&&((dr=!xr&&dr)&&Tr--,si&&jr.push(dr))}if(Tr+=Yi,fn&&Yi!==Tr){for(br=0;xr=Ee[br++];)xr(jr,Cr,ki,Kn);if(si){if(0<Tr)for(;Yi--;)jr[Yi]||Cr[Yi]||(Cr[Yi]=L.call(lr));Cr=Sn(Cr)}re.apply(lr,Cr),mr&&!si&&0<Cr.length&&1<Tr+Ee.length&&g.uniqueSort(lr)}return mr&&(Zt=Yr,_=Rr),jr},fn?ot(En):En))).selector=G}return ii}function Le(G,lt,Gt,le){var Ee,fn,vn,En,pn,Ci=typeof G=="function"&&G,ii=!le&&ut(G=Ci.selector||G);if(Gt=Gt||[],ii.length===1){if(2<(fn=ii[0]=ii[0].slice(0)).length&&(vn=fn[0]).type==="ID"&&lt.nodeType===9&&wt&&f.relative[fn[1].type]){if(!(lt=(f.find.ID(vn.matches[0].replace(tr,bi),lt)||[])[0]))return Gt;Ci&&(lt=lt.parentNode),G=G.slice(fn.shift().value.length)}for(Ee=Er.needsContext.test(G)?0:fn.length;Ee--&&(vn=fn[Ee],!f.relative[En=vn.type]);)if((pn=f.find[En])&&(le=pn(vn.matches[0].replace(tr,bi),or.test(fn[0].type)&&dn(lt.parentNode)||lt))){if(fn.splice(Ee,1),!(G=le.length&&$t(fn)))return re.apply(Gt,le),Gt;break}}return(Ci||ke(G,ii))(le,lt,!wt,Gt,!lt||or.test(G)&&dn(lt.parentNode)||lt),Gt}Et.prototype=f.filters=f.pseudos,f.setFilters=new Et,Z.sortStable=xe.split("").sort(Ji).join("")===xe,at(),Z.sortDetached=Ct((function(G){return 1&G.compareDocumentPosition(U.createElement("fieldset"))})),g.find=b,g.expr[":"]=g.expr.pseudos,g.unique=g.uniqueSort,b.compile=ke,b.select=Le,b.setDocument=at,b.tokenize=ut,b.escape=g.escapeSelector,b.getText=g.text,b.isXML=g.isXMLDoc,b.selectors=g.expr,b.support=g.support,b.uniqueSort=g.uniqueSort})();var ce=function(r,f,_){for(var E=[],B=_!==void 0;(r=r[f])&&r.nodeType!==9;)if(r.nodeType===1){if(B&&g(r).is(_))break;E.push(r)}return E},He=function(r,f){for(var _=[];r;r=r.nextSibling)r.nodeType===1&&r!==f&&_.push(r);return _},yn=g.expr.match.needsContext,on=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Fn(r,f,_){return st(f)?g.grep(r,(function(E,B){return!!f.call(E,B,E)!==_})):f.nodeType?g.grep(r,(function(E){return E===f!==_})):typeof f!="string"?g.grep(r,(function(E){return-1<F.call(f,E)!==_})):g.filter(f,r,_)}g.filter=function(r,f,_){var E=f[0];return _&&(r=":not("+r+")"),f.length===1&&E.nodeType===1?g.find.matchesSelector(E,r)?[E]:[]:g.find.matches(r,g.grep(f,(function(B){return B.nodeType===1})))},g.fn.extend({find:function(r){var f,_,E=this.length,B=this;if(typeof r!="string")return this.pushStack(g(r).filter((function(){for(f=0;f<E;f++)if(g.contains(B[f],this))return!0})));for(_=this.pushStack([]),f=0;f<E;f++)g.find(r,B[f],_);return 1<E?g.uniqueSort(_):_},filter:function(r){return this.pushStack(Fn(this,r||[],!1))},not:function(r){return this.pushStack(Fn(this,r||[],!0))},is:function(r){return!!Fn(this,typeof r=="string"&&yn.test(r)?g(r):r||[],!1).length}});var vi,Ti=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(g.fn.init=function(r,f,_){var E,B;if(!r)return this;if(_=_||vi,typeof r=="string"){if(!(E=r[0]==="<"&&r[r.length-1]===">"&&3<=r.length?[null,r,null]:Ti.exec(r))||!E[1]&&f)return!f||f.jquery?(f||_).find(r):this.constructor(f).find(r);if(E[1]){if(f=f instanceof g?f[0]:f,g.merge(this,g.parseHTML(E[1],f&&f.nodeType?f.ownerDocument||f:pt,!0)),on.test(E[1])&&g.isPlainObject(f))for(E in f)st(this[E])?this[E](f[E]):this.attr(E,f[E]);return this}return(B=pt.getElementById(E[2]))&&(this[0]=B,this.length=1),this}return r.nodeType?(this[0]=r,this.length=1,this):st(r)?_.ready!==void 0?_.ready(r):r(g):g.makeArray(r,this)}).prototype=g.fn,vi=g(pt);var ri=/^(?:parents|prev(?:Until|All))/,Ft={children:!0,contents:!0,next:!0,prev:!0};function Se(r,f){for(;(r=r[f])&&r.nodeType!==1;);return r}g.fn.extend({has:function(r){var f=g(r,this),_=f.length;return this.filter((function(){for(var E=0;E<_;E++)if(g.contains(this,f[E]))return!0}))},closest:function(r,f){var _,E=0,B=this.length,U=[],et=typeof r!="string"&&g(r);if(!yn.test(r)){for(;E<B;E++)for(_=this[E];_&&_!==f;_=_.parentNode)if(_.nodeType<11&&(et?-1<et.index(_):_.nodeType===1&&g.find.matchesSelector(_,r))){U.push(_);break}}return this.pushStack(1<U.length?g.uniqueSort(U):U)},index:function(r){return r?typeof r=="string"?F.call(g(r),this[0]):F.call(this,r.jquery?r[0]:r):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(r,f){return this.pushStack(g.uniqueSort(g.merge(this.get(),g(r,f))))},addBack:function(r){return this.add(r==null?this.prevObject:this.prevObject.filter(r))}}),g.each({parent:function(r){var f=r.parentNode;return f&&f.nodeType!==11?f:null},parents:function(r){return ce(r,"parentNode")},parentsUntil:function(r,f,_){return ce(r,"parentNode",_)},next:function(r){return Se(r,"nextSibling")},prev:function(r){return Se(r,"previousSibling")},nextAll:function(r){return ce(r,"nextSibling")},prevAll:function(r){return ce(r,"previousSibling")},nextUntil:function(r,f,_){return ce(r,"nextSibling",_)},prevUntil:function(r,f,_){return ce(r,"previousSibling",_)},siblings:function(r){return He((r.parentNode||{}).firstChild,r)},children:function(r){return He(r.firstChild)},contents:function(r){return r.contentDocument!=null&&y(r.contentDocument)?r.contentDocument:(jt(r,"template")&&(r=r.content||r),g.merge([],r.childNodes))}},(function(r,f){g.fn[r]=function(_,E){var B=g.map(this,f,_);return r.slice(-5)!=="Until"&&(E=_),E&&typeof E=="string"&&(B=g.filter(E,B)),1<this.length&&(Ft[r]||g.uniqueSort(B),ri.test(r)&&B.reverse()),this.pushStack(B)}}));var ln=/[^\x20\t\r\n\f]+/g;function $n(r){return r}function Ei(r){throw r}function Pi(r,f,_,E){var B;try{r&&st(B=r.promise)?B.call(r).done(f).fail(_):r&&st(B=r.then)?B.call(r,f,_):f.apply(void 0,[r].slice(E))}catch(U){_.apply(void 0,[U])}}g.Callbacks=function(r){var f,_;r=typeof r=="string"?(f=r,_={},g.each(f.match(ln)||[],(function(Zt,Oe){_[Oe]=!0})),_):g.extend({},r);var E,B,U,et,wt=[],yt=[],Lt=-1,re=function(){for(et=et||r.once,U=E=!0;yt.length;Lt=-1)for(B=yt.shift();++Lt<wt.length;)wt[Lt].apply(B[0],B[1])===!1&&r.stopOnFalse&&(Lt=wt.length,B=!1);r.memory||(B=!1),E=!1,et&&(wt=B?[]:"")},xe={add:function(){return wt&&(B&&!E&&(Lt=wt.length-1,yt.push(B)),(function Zt(Oe){g.each(Oe,(function(Cn,Vn){st(Vn)?r.unique&&xe.has(Vn)||wt.push(Vn):Vn&&Vn.length&&At(Vn)!=="string"&&Zt(Vn)}))})(arguments),B&&!E&&re()),this},remove:function(){return g.each(arguments,(function(Zt,Oe){for(var Cn;-1<(Cn=g.inArray(Oe,wt,Cn));)wt.splice(Cn,1),Cn<=Lt&&Lt--})),this},has:function(Zt){return Zt?-1<g.inArray(Zt,wt):0<wt.length},empty:function(){return wt&&(wt=[]),this},disable:function(){return et=yt=[],wt=B="",this},disabled:function(){return!wt},lock:function(){return et=yt=[],B||E||(wt=B=""),this},locked:function(){return!!et},fireWith:function(Zt,Oe){return et||(Oe=[Zt,(Oe=Oe||[]).slice?Oe.slice():Oe],yt.push(Oe),E||re()),this},fire:function(){return xe.fireWith(this,arguments),this},fired:function(){return!!U}};return xe},g.extend({Deferred:function(r){var f=[["notify","progress",g.Callbacks("memory"),g.Callbacks("memory"),2],["resolve","done",g.Callbacks("once memory"),g.Callbacks("once memory"),0,"resolved"],["reject","fail",g.Callbacks("once memory"),g.Callbacks("once memory"),1,"rejected"]],_="pending",E={state:function(){return _},always:function(){return B.done(arguments).fail(arguments),this},catch:function(U){return E.then(null,U)},pipe:function(){var U=arguments;return g.Deferred((function(et){g.each(f,(function(wt,yt){var Lt=st(U[yt[4]])&&U[yt[4]];B[yt[1]]((function(){var re=Lt&&Lt.apply(this,arguments);re&&st(re.promise)?re.promise().progress(et.notify).done(et.resolve).fail(et.reject):et[yt[0]+"With"](this,Lt?[re]:arguments)}))})),U=null})).promise()},then:function(U,et,wt){var yt=0;function Lt(re,xe,Zt,Oe){return function(){var Cn=this,Vn=arguments,Qn=function(){var Ji,ur;if(!(re<yt)){if((Ji=Zt.apply(Cn,Vn))===xe.promise())throw new TypeError("Thenable self-resolution");ur=Ji&&(d(Ji)=="object"||typeof Ji=="function")&&Ji.then,st(ur)?Oe?ur.call(Ji,Lt(yt,xe,$n,Oe),Lt(yt,xe,Ei,Oe)):(yt++,ur.call(Ji,Lt(yt,xe,$n,Oe),Lt(yt,xe,Ei,Oe),Lt(yt,xe,$n,xe.notifyWith))):(Zt!==$n&&(Cn=void 0,Vn=[Ji]),(Oe||xe.resolveWith)(Cn,Vn))}},Zi=Oe?Qn:function(){try{Qn()}catch(Ji){g.Deferred.exceptionHook&&g.Deferred.exceptionHook(Ji,Zi.error),yt<=re+1&&(Zt!==Ei&&(Cn=void 0,Vn=[Ji]),xe.rejectWith(Cn,Vn))}};re?Zi():(g.Deferred.getErrorHook?Zi.error=g.Deferred.getErrorHook():g.Deferred.getStackHook&&(Zi.error=g.Deferred.getStackHook()),v.setTimeout(Zi))}}return g.Deferred((function(re){f[0][3].add(Lt(0,re,st(wt)?wt:$n,re.notifyWith)),f[1][3].add(Lt(0,re,st(U)?U:$n)),f[2][3].add(Lt(0,re,st(et)?et:Ei))})).promise()},promise:function(U){return U!=null?g.extend(U,E):E}},B={};return g.each(f,(function(U,et){var wt=et[2],yt=et[5];E[et[1]]=wt.add,yt&&wt.add((function(){_=yt}),f[3-U][2].disable,f[3-U][3].disable,f[0][2].lock,f[0][3].lock),wt.add(et[3].fire),B[et[0]]=function(){return B[et[0]+"With"](this===B?void 0:this,arguments),this},B[et[0]+"With"]=wt.fireWith})),E.promise(B),r&&r.call(B,B),B},when:function(r){var f=arguments.length,_=f,E=Array(_),B=S.call(arguments),U=g.Deferred(),et=function(wt){return function(yt){E[wt]=this,B[wt]=1<arguments.length?S.call(arguments):yt,--f||U.resolveWith(E,B)}};if(f<=1&&(Pi(r,U.done(et(_)).resolve,U.reject,!f),U.state()==="pending"||st(B[_]&&B[_].then)))return U.then();for(;_--;)Pi(B[_],et(_),U.reject);return U.promise()}});var kt=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;g.Deferred.exceptionHook=function(r,f){v.console&&v.console.warn&&r&&kt.test(r.name)&&v.console.warn("jQuery.Deferred exception: "+r.message,r.stack,f)},g.readyException=function(r){v.setTimeout((function(){throw r}))};var Qt=g.Deferred();function pe(){pt.removeEventListener("DOMContentLoaded",pe),v.removeEventListener("load",pe),g.ready()}g.fn.ready=function(r){return Qt.then(r).catch((function(f){g.readyException(f)})),this},g.extend({isReady:!1,readyWait:1,ready:function(r){(r===!0?--g.readyWait:g.isReady)||(g.isReady=!0)!==r&&0<--g.readyWait||Qt.resolveWith(pt,[g])}}),g.ready.then=Qt.then,pt.readyState==="complete"||pt.readyState!=="loading"&&!pt.documentElement.doScroll?v.setTimeout(g.ready):(pt.addEventListener("DOMContentLoaded",pe),v.addEventListener("load",pe));var Te=function(r,f,_,E,B,U,et){var wt=0,yt=r.length,Lt=_==null;if(At(_)==="object")for(wt in B=!0,_)Te(r,f,wt,_[wt],!0,U,et);else if(E!==void 0&&(B=!0,st(E)||(et=!0),Lt&&(et?(f.call(r,E),f=null):(Lt=f,f=function(re,xe,Zt){return Lt.call(g(re),Zt)})),f))for(;wt<yt;wt++)f(r[wt],_,et?E:E.call(r[wt],wt,f(r[wt],_)));return B?r:Lt?f.call(r):yt?f(r[0],_):U},Be=/^-ms-/,ae=/-([a-z])/g;function mt(r,f){return f.toUpperCase()}function Tt(r){return r.replace(Be,"ms-").replace(ae,mt)}var ue=function(r){return r.nodeType===1||r.nodeType===9||!+r.nodeType};function Me(){this.expando=g.expando+Me.uid++}Me.uid=1,Me.prototype={cache:function(r){var f=r[this.expando];return f||(f={},ue(r)&&(r.nodeType?r[this.expando]=f:Object.defineProperty(r,this.expando,{value:f,configurable:!0}))),f},set:function(r,f,_){var E,B=this.cache(r);if(typeof f=="string")B[Tt(f)]=_;else for(E in f)B[Tt(E)]=f[E];return B},get:function(r,f){return f===void 0?this.cache(r):r[this.expando]&&r[this.expando][Tt(f)]},access:function(r,f,_){return f===void 0||f&&typeof f=="string"&&_===void 0?this.get(r,f):(this.set(r,f,_),_!==void 0?_:f)},remove:function(r,f){var _,E=r[this.expando];if(E!==void 0){if(f!==void 0)for(_=(f=Array.isArray(f)?f.map(Tt):(f=Tt(f))in E?[f]:f.match(ln)||[]).length;_--;)delete E[f[_]];(f===void 0||g.isEmptyObject(E))&&(r.nodeType?r[this.expando]=void 0:delete r[this.expando])}},hasData:function(r){var f=r[this.expando];return f!==void 0&&!g.isEmptyObject(f)}};var Yt=new Me,Je=new Me,tn=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,bn=/[A-Z]/g;function Ln(r,f,_){var E,B;if(_===void 0&&r.nodeType===1)if(E="data-"+f.replace(bn,"-$&").toLowerCase(),typeof(_=r.getAttribute(E))=="string"){try{_=(B=_)==="true"||B!=="false"&&(B==="null"?null:B===+B+""?+B:tn.test(B)?JSON.parse(B):B)}catch(U){}Je.set(r,f,_)}else _=void 0;return _}g.extend({hasData:function(r){return Je.hasData(r)||Yt.hasData(r)},data:function(r,f,_){return Je.access(r,f,_)},removeData:function(r,f){Je.remove(r,f)},_data:function(r,f,_){return Yt.access(r,f,_)},_removeData:function(r,f){Yt.remove(r,f)}}),g.fn.extend({data:function(r,f){var _,E,B,U=this[0],et=U&&U.attributes;if(r===void 0){if(this.length&&(B=Je.get(U),U.nodeType===1&&!Yt.get(U,"hasDataAttrs"))){for(_=et.length;_--;)et[_]&&(E=et[_].name).indexOf("data-")===0&&(E=Tt(E.slice(5)),Ln(U,E,B[E]));Yt.set(U,"hasDataAttrs",!0)}return B}return d(r)=="object"?this.each((function(){Je.set(this,r)})):Te(this,(function(wt){var yt;if(U&&wt===void 0)return(yt=Je.get(U,r))!==void 0||(yt=Ln(U,r))!==void 0?yt:void 0;this.each((function(){Je.set(this,r,wt)}))}),null,f,1<arguments.length,null,!0)},removeData:function(r){return this.each((function(){Je.remove(this,r)}))}}),g.extend({queue:function(r,f,_){var E;if(r)return f=(f||"fx")+"queue",E=Yt.get(r,f),_&&(!E||Array.isArray(_)?E=Yt.access(r,f,g.makeArray(_)):E.push(_)),E||[]},dequeue:function(r,f){f=f||"fx";var _=g.queue(r,f),E=_.length,B=_.shift(),U=g._queueHooks(r,f);B==="inprogress"&&(B=_.shift(),E--),B&&(f==="fx"&&_.unshift("inprogress"),delete U.stop,B.call(r,(function(){g.dequeue(r,f)}),U)),!E&&U&&U.empty.fire()},_queueHooks:function(r,f){var _=f+"queueHooks";return Yt.get(r,_)||Yt.access(r,_,{empty:g.Callbacks("once memory").add((function(){Yt.remove(r,[f+"queue",_])}))})}}),g.fn.extend({queue:function(r,f){var _=2;return typeof r!="string"&&(f=r,r="fx",_--),arguments.length<_?g.queue(this[0],r):f===void 0?this:this.each((function(){var E=g.queue(this,r,f);g._queueHooks(this,r),r==="fx"&&E[0]!=="inprogress"&&g.dequeue(this,r)}))},dequeue:function(r){return this.each((function(){g.dequeue(this,r)}))},clearQueue:function(r){return this.queue(r||"fx",[])},promise:function(r,f){var _,E=1,B=g.Deferred(),U=this,et=this.length,wt=function(){--E||B.resolveWith(U,[U])};for(typeof r!="string"&&(f=r,r=void 0),r=r||"fx";et--;)(_=Yt.get(U[et],r+"queueHooks"))&&_.empty&&(E++,_.empty.add(wt));return wt(),B.promise(f)}});var an=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,xn=new RegExp("^(?:([+-])=|)("+an+")([a-z%]*)$","i"),pi=["Top","Right","Bottom","Left"],Hi=pt.documentElement,It=function(r){return g.contains(r.ownerDocument,r)},ai={composed:!0};Hi.getRootNode&&(It=function(r){return g.contains(r.ownerDocument,r)||r.getRootNode(ai)===r.ownerDocument});var en=function(r,f){return(r=f||r).style.display==="none"||r.style.display===""&&It(r)&&g.css(r,"display")==="none"};function Mi(r,f,_,E){var B,U,et=20,wt=E?function(){return E.cur()}:function(){return g.css(r,f,"")},yt=wt(),Lt=_&&_[3]||(g.cssNumber[f]?"":"px"),re=r.nodeType&&(g.cssNumber[f]||Lt!=="px"&&+yt)&&xn.exec(g.css(r,f));if(re&&re[3]!==Lt){for(yt/=2,Lt=Lt||re[3],re=+yt||1;et--;)g.style(r,f,re+Lt),(1-U)*(1-(U=wt()/yt||.5))<=0&&(et=0),re/=U;re*=2,g.style(r,f,re+Lt),_=_||[]}return _&&(re=+re||+yt||0,B=_[1]?re+(_[1]+1)*_[2]:+_[2],E&&(E.unit=Lt,E.start=re,E.end=B)),B}var bt={};function ht(r,f){for(var _,E,B,U,et,wt,yt,Lt=[],re=0,xe=r.length;re<xe;re++)(E=r[re]).style&&(_=E.style.display,f?(_==="none"&&(Lt[re]=Yt.get(E,"display")||null,Lt[re]||(E.style.display="")),E.style.display===""&&en(E)&&(Lt[re]=(yt=et=U=void 0,et=(B=E).ownerDocument,wt=B.nodeName,(yt=bt[wt])||(U=et.body.appendChild(et.createElement(wt)),yt=g.css(U,"display"),U.parentNode.removeChild(U),yt==="none"&&(yt="block"),bt[wt]=yt)))):_!=="none"&&(Lt[re]="none",Yt.set(E,"display",_)));for(re=0;re<xe;re++)Lt[re]!=null&&(r[re].style.display=Lt[re]);return r}g.fn.extend({show:function(){return ht(this,!0)},hide:function(){return ht(this)},toggle:function(r){return typeof r=="boolean"?r?this.show():this.hide():this.each((function(){en(this)?g(this).show():g(this).hide()}))}});var Rt,he,Pe=/^(?:checkbox|radio)$/i,ge=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Fe=/^$|^module$|\/(?:java|ecma)script/i;Rt=pt.createDocumentFragment().appendChild(pt.createElement("div")),(he=pt.createElement("input")).setAttribute("type","radio"),he.setAttribute("checked","checked"),he.setAttribute("name","t"),Rt.appendChild(he),Z.checkClone=Rt.cloneNode(!0).cloneNode(!0).lastChild.checked,Rt.innerHTML="<textarea>x</textarea>",Z.noCloneChecked=!!Rt.cloneNode(!0).lastChild.defaultValue,Rt.innerHTML="<option></option>",Z.option=!!Rt.lastChild;var Ne={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function je(r,f){var _;return _=r.getElementsByTagName!==void 0?r.getElementsByTagName(f||"*"):r.querySelectorAll!==void 0?r.querySelectorAll(f||"*"):[],f===void 0||f&&jt(r,f)?g.merge([r],_):_}function wn(r,f){for(var _=0,E=r.length;_<E;_++)Yt.set(r[_],"globalEval",!f||Yt.get(f[_],"globalEval"))}Ne.tbody=Ne.tfoot=Ne.colgroup=Ne.caption=Ne.thead,Ne.th=Ne.td,Z.option||(Ne.optgroup=Ne.option=[1,"<select multiple='multiple'>","</select>"]);var Qe=/<|&#?\w+;/;function qe(r,f,_,E,B){for(var U,et,wt,yt,Lt,re,xe=f.createDocumentFragment(),Zt=[],Oe=0,Cn=r.length;Oe<Cn;Oe++)if((U=r[Oe])||U===0)if(At(U)==="object")g.merge(Zt,U.nodeType?[U]:U);else if(Qe.test(U)){for(et=et||xe.appendChild(f.createElement("div")),wt=(ge.exec(U)||["",""])[1].toLowerCase(),yt=Ne[wt]||Ne._default,et.innerHTML=yt[1]+g.htmlPrefilter(U)+yt[2],re=yt[0];re--;)et=et.lastChild;g.merge(Zt,et.childNodes),(et=xe.firstChild).textContent=""}else Zt.push(f.createTextNode(U));for(xe.textContent="",Oe=0;U=Zt[Oe++];)if(E&&-1<g.inArray(U,E))B&&B.push(U);else if(Lt=It(U),et=je(xe.appendChild(U),"script"),Lt&&wn(et),_)for(re=0;U=et[re++];)Fe.test(U.type||"")&&_.push(U);return xe}var Jn=/^([^.]*)(?:\.(.+)|)/;function Hn(){return!0}function Bn(){return!1}function On(r,f,_,E,B,U){var et,wt;if(d(f)=="object"){for(wt in typeof _!="string"&&(E=E||_,_=void 0),f)On(r,wt,_,E,f[wt],U);return r}if(E==null&&B==null?(B=_,E=_=void 0):B==null&&(typeof _=="string"?(B=E,E=void 0):(B=E,E=_,_=void 0)),B===!1)B=Bn;else if(!B)return r;return U===1&&(et=B,(B=function(yt){return g().off(yt),et.apply(this,arguments)}).guid=et.guid||(et.guid=g.guid++)),r.each((function(){g.event.add(this,f,B,E,_)}))}function Dn(r,f,_){_?(Yt.set(r,f,!1),g.event.add(r,f,{namespace:!1,handler:function(E){var B,U=Yt.get(this,f);if(1&E.isTrigger&&this[f]){if(U)(g.event.special[f]||{}).delegateType&&E.stopPropagation();else if(U=S.call(arguments),Yt.set(this,f,U),this[f](),B=Yt.get(this,f),Yt.set(this,f,!1),U!==B)return E.stopImmediatePropagation(),E.preventDefault(),B}else U&&(Yt.set(this,f,g.event.trigger(U[0],U.slice(1),this)),E.stopPropagation(),E.isImmediatePropagationStopped=Hn)}})):Yt.get(r,f)===void 0&&g.event.add(r,f,Hn)}g.event={global:{},add:function(r,f,_,E,B){var U,et,wt,yt,Lt,re,xe,Zt,Oe,Cn,Vn,Qn=Yt.get(r);if(ue(r))for(_.handler&&(_=(U=_).handler,B=U.selector),B&&g.find.matchesSelector(Hi,B),_.guid||(_.guid=g.guid++),(yt=Qn.events)||(yt=Qn.events=Object.create(null)),(et=Qn.handle)||(et=Qn.handle=function(Zi){return g!==void 0&&g.event.triggered!==Zi.type?g.event.dispatch.apply(r,arguments):void 0}),Lt=(f=(f||"").match(ln)||[""]).length;Lt--;)Oe=Vn=(wt=Jn.exec(f[Lt])||[])[1],Cn=(wt[2]||"").split(".").sort(),Oe&&(xe=g.event.special[Oe]||{},Oe=(B?xe.delegateType:xe.bindType)||Oe,xe=g.event.special[Oe]||{},re=g.extend({type:Oe,origType:Vn,data:E,handler:_,guid:_.guid,selector:B,needsContext:B&&g.expr.match.needsContext.test(B),namespace:Cn.join(".")},U),(Zt=yt[Oe])||((Zt=yt[Oe]=[]).delegateCount=0,xe.setup&&xe.setup.call(r,E,Cn,et)!==!1||r.addEventListener&&r.addEventListener(Oe,et)),xe.add&&(xe.add.call(r,re),re.handler.guid||(re.handler.guid=_.guid)),B?Zt.splice(Zt.delegateCount++,0,re):Zt.push(re),g.event.global[Oe]=!0)},remove:function(r,f,_,E,B){var U,et,wt,yt,Lt,re,xe,Zt,Oe,Cn,Vn,Qn=Yt.hasData(r)&&Yt.get(r);if(Qn&&(yt=Qn.events)){for(Lt=(f=(f||"").match(ln)||[""]).length;Lt--;)if(Oe=Vn=(wt=Jn.exec(f[Lt])||[])[1],Cn=(wt[2]||"").split(".").sort(),Oe){for(xe=g.event.special[Oe]||{},Zt=yt[Oe=(E?xe.delegateType:xe.bindType)||Oe]||[],wt=wt[2]&&new RegExp("(^|\\.)"+Cn.join("\\.(?:.*\\.|)")+"(\\.|$)"),et=U=Zt.length;U--;)re=Zt[U],!B&&Vn!==re.origType||_&&_.guid!==re.guid||wt&&!wt.test(re.namespace)||E&&E!==re.selector&&(E!=="**"||!re.selector)||(Zt.splice(U,1),re.selector&&Zt.delegateCount--,xe.remove&&xe.remove.call(r,re));et&&!Zt.length&&(xe.teardown&&xe.teardown.call(r,Cn,Qn.handle)!==!1||g.removeEvent(r,Oe,Qn.handle),delete yt[Oe])}else for(Oe in yt)g.event.remove(r,Oe+f[Lt],_,E,!0);g.isEmptyObject(yt)&&Yt.remove(r,"handle events")}},dispatch:function(r){var f,_,E,B,U,et,wt=new Array(arguments.length),yt=g.event.fix(r),Lt=(Yt.get(this,"events")||Object.create(null))[yt.type]||[],re=g.event.special[yt.type]||{};for(wt[0]=yt,f=1;f<arguments.length;f++)wt[f]=arguments[f];if(yt.delegateTarget=this,!re.preDispatch||re.preDispatch.call(this,yt)!==!1){for(et=g.event.handlers.call(this,yt,Lt),f=0;(B=et[f++])&&!yt.isPropagationStopped();)for(yt.currentTarget=B.elem,_=0;(U=B.handlers[_++])&&!yt.isImmediatePropagationStopped();)yt.rnamespace&&U.namespace!==!1&&!yt.rnamespace.test(U.namespace)||(yt.handleObj=U,yt.data=U.data,(E=((g.event.special[U.origType]||{}).handle||U.handler).apply(B.elem,wt))!==void 0&&(yt.result=E)===!1&&(yt.preventDefault(),yt.stopPropagation()));return re.postDispatch&&re.postDispatch.call(this,yt),yt.result}},handlers:function(r,f){var _,E,B,U,et,wt=[],yt=f.delegateCount,Lt=r.target;if(yt&&Lt.nodeType&&!(r.type==="click"&&1<=r.button)){for(;Lt!==this;Lt=Lt.parentNode||this)if(Lt.nodeType===1&&(r.type!=="click"||Lt.disabled!==!0)){for(U=[],et={},_=0;_<yt;_++)et[B=(E=f[_]).selector+" "]===void 0&&(et[B]=E.needsContext?-1<g(B,this).index(Lt):g.find(B,this,null,[Lt]).length),et[B]&&U.push(E);U.length&&wt.push({elem:Lt,handlers:U})}}return Lt=this,yt<f.length&&wt.push({elem:Lt,handlers:f.slice(yt)}),wt},addProp:function(r,f){Object.defineProperty(g.Event.prototype,r,{enumerable:!0,configurable:!0,get:st(f)?function(){if(this.originalEvent)return f(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[r]},set:function(_){Object.defineProperty(this,r,{enumerable:!0,configurable:!0,writable:!0,value:_})}})},fix:function(r){return r[g.expando]?r:new g.Event(r)},special:{load:{noBubble:!0},click:{setup:function(r){var f=this||r;return Pe.test(f.type)&&f.click&&jt(f,"input")&&Dn(f,"click",!0),!1},trigger:function(r){var f=this||r;return Pe.test(f.type)&&f.click&&jt(f,"input")&&Dn(f,"click"),!0},_default:function(r){var f=r.target;return Pe.test(f.type)&&f.click&&jt(f,"input")&&Yt.get(f,"click")||jt(f,"a")}},beforeunload:{postDispatch:function(r){r.result!==void 0&&r.originalEvent&&(r.originalEvent.returnValue=r.result)}}}},g.removeEvent=function(r,f,_){r.removeEventListener&&r.removeEventListener(f,_)},g.Event=function(r,f){if(!(this instanceof g.Event))return new g.Event(r,f);r&&r.type?(this.originalEvent=r,this.type=r.type,this.isDefaultPrevented=r.defaultPrevented||r.defaultPrevented===void 0&&r.returnValue===!1?Hn:Bn,this.target=r.target&&r.target.nodeType===3?r.target.parentNode:r.target,this.currentTarget=r.currentTarget,this.relatedTarget=r.relatedTarget):this.type=r,f&&g.extend(this,f),this.timeStamp=r&&r.timeStamp||Date.now(),this[g.expando]=!0},g.Event.prototype={constructor:g.Event,isDefaultPrevented:Bn,isPropagationStopped:Bn,isImmediatePropagationStopped:Bn,isSimulated:!1,preventDefault:function(){var r=this.originalEvent;this.isDefaultPrevented=Hn,r&&!this.isSimulated&&r.preventDefault()},stopPropagation:function(){var r=this.originalEvent;this.isPropagationStopped=Hn,r&&!this.isSimulated&&r.stopPropagation()},stopImmediatePropagation:function(){var r=this.originalEvent;this.isImmediatePropagationStopped=Hn,r&&!this.isSimulated&&r.stopImmediatePropagation(),this.stopPropagation()}},g.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},g.event.addProp),g.each({focus:"focusin",blur:"focusout"},(function(r,f){function _(E){if(pt.documentMode){var B=Yt.get(this,"handle"),U=g.event.fix(E);U.type=E.type==="focusin"?"focus":"blur",U.isSimulated=!0,B(E),U.target===U.currentTarget&&B(U)}else g.event.simulate(f,E.target,g.event.fix(E))}g.event.special[r]={setup:function(){var E;if(Dn(this,r,!0),!pt.documentMode)return!1;(E=Yt.get(this,f))||this.addEventListener(f,_),Yt.set(this,f,(E||0)+1)},trigger:function(){return Dn(this,r),!0},teardown:function(){var E;if(!pt.documentMode)return!1;(E=Yt.get(this,f)-1)?Yt.set(this,f,E):(this.removeEventListener(f,_),Yt.remove(this,f))},_default:function(E){return Yt.get(E.target,r)},delegateType:f},g.event.special[f]={setup:function(){var E=this.ownerDocument||this.document||this,B=pt.documentMode?this:E,U=Yt.get(B,f);U||(pt.documentMode?this.addEventListener(f,_):E.addEventListener(r,_,!0)),Yt.set(B,f,(U||0)+1)},teardown:function(){var E=this.ownerDocument||this.document||this,B=pt.documentMode?this:E,U=Yt.get(B,f)-1;U?Yt.set(B,f,U):(pt.documentMode?this.removeEventListener(f,_):E.removeEventListener(r,_,!0),Yt.remove(B,f))}}})),g.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(r,f){g.event.special[r]={delegateType:f,bindType:f,handle:function(_){var E,B=_.relatedTarget,U=_.handleObj;return B&&(B===this||g.contains(this,B))||(_.type=U.origType,E=U.handler.apply(this,arguments),_.type=f),E}}})),g.fn.extend({on:function(r,f,_,E){return On(this,r,f,_,E)},one:function(r,f,_,E){return On(this,r,f,_,E,1)},off:function(r,f,_){var E,B;if(r&&r.preventDefault&&r.handleObj)return E=r.handleObj,g(r.delegateTarget).off(E.namespace?E.origType+"."+E.namespace:E.origType,E.selector,E.handler),this;if(d(r)=="object"){for(B in r)this.off(B,f,r[B]);return this}return f!==!1&&typeof f!="function"||(_=f,f=void 0),_===!1&&(_=Bn),this.each((function(){g.event.remove(this,r,_,f)}))}});var yi=/<script|<style|<link/i,xi=/checked\s*(?:[^=]|=\s*.checked.)/i,mi=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function oi(r,f){return jt(r,"table")&&jt(f.nodeType!==11?f:f.firstChild,"tr")&&g(r).children("tbody")[0]||r}function Un(r){return r.type=(r.getAttribute("type")!==null)+"/"+r.type,r}function ti(r){return(r.type||"").slice(0,5)==="true/"?r.type=r.type.slice(5):r.removeAttribute("type"),r}function li(r,f){var _,E,B,U,et,wt;if(f.nodeType===1){if(Yt.hasData(r)&&(wt=Yt.get(r).events))for(B in Yt.remove(f,"handle events"),wt)for(_=0,E=wt[B].length;_<E;_++)g.event.add(f,B,wt[B][_]);Je.hasData(r)&&(U=Je.access(r),et=g.extend({},U),Je.set(f,et))}}function ei(r,f,_,E){f=R(f);var B,U,et,wt,yt,Lt,re=0,xe=r.length,Zt=xe-1,Oe=f[0],Cn=st(Oe);if(Cn||1<xe&&typeof Oe=="string"&&!Z.checkClone&&xi.test(Oe))return r.each((function(Vn){var Qn=r.eq(Vn);Cn&&(f[0]=Oe.call(this,Vn,Qn.html())),ei(Qn,f,_,E)}));if(xe&&(U=(B=qe(f,r[0].ownerDocument,!1,r,E)).firstChild,B.childNodes.length===1&&(B=U),U||E)){for(wt=(et=g.map(je(B,"script"),Un)).length;re<xe;re++)yt=B,re!==Zt&&(yt=g.clone(yt,!0,!0),wt&&g.merge(et,je(yt,"script"))),_.call(r[re],yt,re);if(wt)for(Lt=et[et.length-1].ownerDocument,g.map(et,ti),re=0;re<wt;re++)yt=et[re],Fe.test(yt.type||"")&&!Yt.access(yt,"globalEval")&&g.contains(Lt,yt)&&(yt.src&&(yt.type||"").toLowerCase()!=="module"?g._evalUrl&&!yt.noModule&&g._evalUrl(yt.src,{nonce:yt.nonce||yt.getAttribute("nonce")},Lt):q(yt.textContent.replace(mi,""),yt,Lt))}return r}function gi(r,f,_){for(var E,B=f?g.filter(f,r):r,U=0;(E=B[U])!=null;U++)_||E.nodeType!==1||g.cleanData(je(E)),E.parentNode&&(_&&It(E)&&wn(je(E,"script")),E.parentNode.removeChild(E));return r}g.extend({htmlPrefilter:function(r){return r},clone:function(r,f,_){var E,B,U,et,wt,yt,Lt,re=r.cloneNode(!0),xe=It(r);if(!(Z.noCloneChecked||r.nodeType!==1&&r.nodeType!==11||g.isXMLDoc(r)))for(et=je(re),E=0,B=(U=je(r)).length;E<B;E++)wt=U[E],(Lt=(yt=et[E]).nodeName.toLowerCase())==="input"&&Pe.test(wt.type)?yt.checked=wt.checked:Lt!=="input"&&Lt!=="textarea"||(yt.defaultValue=wt.defaultValue);if(f)if(_)for(U=U||je(r),et=et||je(re),E=0,B=U.length;E<B;E++)li(U[E],et[E]);else li(r,re);return 0<(et=je(re,"script")).length&&wn(et,!xe&&je(r,"script")),re},cleanData:function(r){for(var f,_,E,B=g.event.special,U=0;(_=r[U])!==void 0;U++)if(ue(_)){if(f=_[Yt.expando]){if(f.events)for(E in f.events)B[E]?g.event.remove(_,E):g.removeEvent(_,E,f.handle);_[Yt.expando]=void 0}_[Je.expando]&&(_[Je.expando]=void 0)}}}),g.fn.extend({detach:function(r){return gi(this,r,!0)},remove:function(r){return gi(this,r)},text:function(r){return Te(this,(function(f){return f===void 0?g.text(this):this.empty().each((function(){this.nodeType!==1&&this.nodeType!==11&&this.nodeType!==9||(this.textContent=f)}))}),null,r,arguments.length)},append:function(){return ei(this,arguments,(function(r){this.nodeType!==1&&this.nodeType!==11&&this.nodeType!==9||oi(this,r).appendChild(r)}))},prepend:function(){return ei(this,arguments,(function(r){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var f=oi(this,r);f.insertBefore(r,f.firstChild)}}))},before:function(){return ei(this,arguments,(function(r){this.parentNode&&this.parentNode.insertBefore(r,this)}))},after:function(){return ei(this,arguments,(function(r){this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling)}))},empty:function(){for(var r,f=0;(r=this[f])!=null;f++)r.nodeType===1&&(g.cleanData(je(r,!1)),r.textContent="");return this},clone:function(r,f){return r=r!=null&&r,f=f==null?r:f,this.map((function(){return g.clone(this,r,f)}))},html:function(r){return Te(this,(function(f){var _=this[0]||{},E=0,B=this.length;if(f===void 0&&_.nodeType===1)return _.innerHTML;if(typeof f=="string"&&!yi.test(f)&&!Ne[(ge.exec(f)||["",""])[1].toLowerCase()]){f=g.htmlPrefilter(f);try{for(;E<B;E++)(_=this[E]||{}).nodeType===1&&(g.cleanData(je(_,!1)),_.innerHTML=f);_=0}catch(U){}}_&&this.empty().append(f)}),null,r,arguments.length)},replaceWith:function(){var r=[];return ei(this,arguments,(function(f){var _=this.parentNode;g.inArray(this,r)<0&&(g.cleanData(je(this)),_&&_.replaceChild(f,this))}),r)}}),g.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(r,f){g.fn[r]=function(_){for(var E,B=[],U=g(_),et=U.length-1,wt=0;wt<=et;wt++)E=wt===et?this:this.clone(!0),g(U[wt])[f](E),Q.apply(B,E.get());return this.pushStack(B)}}));var Ai=new RegExp("^("+an+")(?!px)[a-z%]+$","i"),Ui=/^--/,Vi=function(r){var f=r.ownerDocument.defaultView;return f&&f.opener||(f=v),f.getComputedStyle(r)},ir=function(r,f,_){var E,B,U={};for(B in f)U[B]=r.style[B],r.style[B]=f[B];for(B in E=_.call(r),f)r.style[B]=U[B];return E},er=new RegExp(pi.join("|"),"i");function $i(r,f,_){var E,B,U,et,wt=Ui.test(f),yt=r.style;return(_=_||Vi(r))&&(et=_.getPropertyValue(f)||_[f],wt&&et&&(et=et.replace(ye,"$1")||void 0),et!==""||It(r)||(et=g.style(r,f)),!Z.pixelBoxStyles()&&Ai.test(et)&&er.test(f)&&(E=yt.width,B=yt.minWidth,U=yt.maxWidth,yt.minWidth=yt.maxWidth=yt.width=et,et=_.width,yt.width=E,yt.minWidth=B,yt.maxWidth=U)),et!==void 0?et+"":et}function Ri(r,f){return{get:function(){if(!r())return(this.get=f).apply(this,arguments);delete this.get}}}(function(){function r(){if(Lt){yt.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Lt.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Hi.appendChild(yt).appendChild(Lt);var re=v.getComputedStyle(Lt);_=re.top!=="1%",wt=f(re.marginLeft)===12,Lt.style.right="60%",U=f(re.right)===36,E=f(re.width)===36,Lt.style.position="absolute",B=f(Lt.offsetWidth/3)===12,Hi.removeChild(yt),Lt=null}}function f(re){return Math.round(parseFloat(re))}var _,E,B,U,et,wt,yt=pt.createElement("div"),Lt=pt.createElement("div");Lt.style&&(Lt.style.backgroundClip="content-box",Lt.cloneNode(!0).style.backgroundClip="",Z.clearCloneStyle=Lt.style.backgroundClip==="content-box",g.extend(Z,{boxSizingReliable:function(){return r(),E},pixelBoxStyles:function(){return r(),U},pixelPosition:function(){return r(),_},reliableMarginLeft:function(){return r(),wt},scrollboxSize:function(){return r(),B},reliableTrDimensions:function(){var re,xe,Zt,Oe;return et==null&&(re=pt.createElement("table"),xe=pt.createElement("tr"),Zt=pt.createElement("div"),re.style.cssText="position:absolute;left:-11111px;border-collapse:separate",xe.style.cssText="box-sizing:content-box;border:1px solid",xe.style.height="1px",Zt.style.height="9px",Zt.style.display="block",Hi.appendChild(re).appendChild(xe).appendChild(Zt),Oe=v.getComputedStyle(xe),et=parseInt(Oe.height,10)+parseInt(Oe.borderTopWidth,10)+parseInt(Oe.borderBottomWidth,10)===xe.offsetHeight,Hi.removeChild(re)),et}}))})();var ve=["Webkit","Moz","ms"],mn=pt.createElement("div").style,In={};function gn(r){return g.cssProps[r]||In[r]||(r in mn?r:In[r]=(function(f){for(var _=f[0].toUpperCase()+f.slice(1),E=ve.length;E--;)if((f=ve[E]+_)in mn)return f})(r)||r)}var Mn=/^(none|table(?!-c[ea]).+)/,Xn={position:"absolute",visibility:"hidden",display:"block"},Gi={letterSpacing:"0",fontWeight:"400"};function nr(r,f,_){var E=xn.exec(f);return E?Math.max(0,E[2]-(_||0))+(E[3]||"px"):f}function Oi(r,f,_,E,B,U){var et=f==="width"?1:0,wt=0,yt=0,Lt=0;if(_===(E?"border":"content"))return 0;for(;et<4;et+=2)_==="margin"&&(Lt+=g.css(r,_+pi[et],!0,B)),E?(_==="content"&&(yt-=g.css(r,"padding"+pi[et],!0,B)),_!=="margin"&&(yt-=g.css(r,"border"+pi[et]+"Width",!0,B))):(yt+=g.css(r,"padding"+pi[et],!0,B),_!=="padding"?yt+=g.css(r,"border"+pi[et]+"Width",!0,B):wt+=g.css(r,"border"+pi[et]+"Width",!0,B));return!E&&0<=U&&(yt+=Math.max(0,Math.ceil(r["offset"+f[0].toUpperCase()+f.slice(1)]-U-yt-wt-.5))||0),yt+Lt}function Wi(r,f,_){var E=Vi(r),B=(!Z.boxSizingReliable()||_)&&g.css(r,"boxSizing",!1,E)==="border-box",U=B,et=$i(r,f,E),wt="offset"+f[0].toUpperCase()+f.slice(1);if(Ai.test(et)){if(!_)return et;et="auto"}return(!Z.boxSizingReliable()&&B||!Z.reliableTrDimensions()&&jt(r,"tr")||et==="auto"||!parseFloat(et)&&g.css(r,"display",!1,E)==="inline")&&r.getClientRects().length&&(B=g.css(r,"boxSizing",!1,E)==="border-box",(U=wt in r)&&(et=r[wt])),(et=parseFloat(et)||0)+Oi(r,f,_||(B?"border":"content"),U,E,et)+"px"}function Gn(r,f,_,E,B){return new Gn.prototype.init(r,f,_,E,B)}g.extend({cssHooks:{opacity:{get:function(r,f){if(f){var _=$i(r,"opacity");return _===""?"1":_}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(r,f,_,E){if(r&&r.nodeType!==3&&r.nodeType!==8&&r.style){var B,U,et,wt=Tt(f),yt=Ui.test(f),Lt=r.style;if(yt||(f=gn(wt)),et=g.cssHooks[f]||g.cssHooks[wt],_===void 0)return et&&"get"in et&&(B=et.get(r,!1,E))!==void 0?B:Lt[f];(U=d(_))==="string"&&(B=xn.exec(_))&&B[1]&&(_=Mi(r,f,B),U="number"),_!=null&&_==_&&(U!=="number"||yt||(_+=B&&B[3]||(g.cssNumber[wt]?"":"px")),Z.clearCloneStyle||_!==""||f.indexOf("background")!==0||(Lt[f]="inherit"),et&&"set"in et&&(_=et.set(r,_,E))===void 0||(yt?Lt.setProperty(f,_):Lt[f]=_))}},css:function(r,f,_,E){var B,U,et,wt=Tt(f);return Ui.test(f)||(f=gn(wt)),(et=g.cssHooks[f]||g.cssHooks[wt])&&"get"in et&&(B=et.get(r,!0,_)),B===void 0&&(B=$i(r,f,E)),B==="normal"&&f in Gi&&(B=Gi[f]),_===""||_?(U=parseFloat(B),_===!0||isFinite(U)?U||0:B):B}}),g.each(["height","width"],(function(r,f){g.cssHooks[f]={get:function(_,E,B){if(E)return!Mn.test(g.css(_,"display"))||_.getClientRects().length&&_.getBoundingClientRect().width?Wi(_,f,B):ir(_,Xn,(function(){return Wi(_,f,B)}))},set:function(_,E,B){var U,et=Vi(_),wt=!Z.scrollboxSize()&&et.position==="absolute",yt=(wt||B)&&g.css(_,"boxSizing",!1,et)==="border-box",Lt=B?Oi(_,f,B,yt,et):0;return yt&&wt&&(Lt-=Math.ceil(_["offset"+f[0].toUpperCase()+f.slice(1)]-parseFloat(et[f])-Oi(_,f,"border",!1,et)-.5)),Lt&&(U=xn.exec(E))&&(U[3]||"px")!=="px"&&(_.style[f]=E,E=g.css(_,f)),nr(0,E,Lt)}}})),g.cssHooks.marginLeft=Ri(Z.reliableMarginLeft,(function(r,f){if(f)return(parseFloat($i(r,"marginLeft"))||r.getBoundingClientRect().left-ir(r,{marginLeft:0},(function(){return r.getBoundingClientRect().left})))+"px"})),g.each({margin:"",padding:"",border:"Width"},(function(r,f){g.cssHooks[r+f]={expand:function(_){for(var E=0,B={},U=typeof _=="string"?_.split(" "):[_];E<4;E++)B[r+pi[E]+f]=U[E]||U[E-2]||U[0];return B}},r!=="margin"&&(g.cssHooks[r+f].set=nr)})),g.fn.extend({css:function(r,f){return Te(this,(function(_,E,B){var U,et,wt={},yt=0;if(Array.isArray(E)){for(U=Vi(_),et=E.length;yt<et;yt++)wt[E[yt]]=g.css(_,E[yt],!1,U);return wt}return B!==void 0?g.style(_,E,B):g.css(_,E)}),r,f,1<arguments.length)}}),((g.Tween=Gn).prototype={constructor:Gn,init:function(r,f,_,E,B,U){this.elem=r,this.prop=_,this.easing=B||g.easing._default,this.options=f,this.start=this.now=this.cur(),this.end=E,this.unit=U||(g.cssNumber[_]?"":"px")},cur:function(){var r=Gn.propHooks[this.prop];return r&&r.get?r.get(this):Gn.propHooks._default.get(this)},run:function(r){var f,_=Gn.propHooks[this.prop];return this.options.duration?this.pos=f=g.easing[this.easing](r,this.options.duration*r,0,1,this.options.duration):this.pos=f=r,this.now=(this.end-this.start)*f+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),_&&_.set?_.set(this):Gn.propHooks._default.set(this),this}}).init.prototype=Gn.prototype,(Gn.propHooks={_default:{get:function(r){var f;return r.elem.nodeType!==1||r.elem[r.prop]!=null&&r.elem.style[r.prop]==null?r.elem[r.prop]:(f=g.css(r.elem,r.prop,""))&&f!=="auto"?f:0},set:function(r){g.fx.step[r.prop]?g.fx.step[r.prop](r):r.elem.nodeType!==1||!g.cssHooks[r.prop]&&r.elem.style[gn(r.prop)]==null?r.elem[r.prop]=r.now:g.style(r.elem,r.prop,r.now+r.unit)}}}).scrollTop=Gn.propHooks.scrollLeft={set:function(r){r.elem.nodeType&&r.elem.parentNode&&(r.elem[r.prop]=r.now)}},g.easing={linear:function(r){return r},swing:function(r){return .5-Math.cos(r*Math.PI)/2},_default:"swing"},g.fx=Gn.prototype.init,g.fx.step={};var Ni,zi,Xi,fr,Pr=/^(?:toggle|show|hide)$/,Or=/queueHooks$/;function yr(){zi&&(pt.hidden===!1&&v.requestAnimationFrame?v.requestAnimationFrame(yr):v.setTimeout(yr,g.fx.interval),g.fx.tick())}function Qi(){return v.setTimeout((function(){Ni=void 0})),Ni=Date.now()}function Ki(r,f){var _,E=0,B={height:r};for(f=f?1:0;E<4;E+=2-f)B["margin"+(_=pi[E])]=B["padding"+_]=r;return f&&(B.opacity=B.width=r),B}function _r(r,f,_){for(var E,B=(pr.tweeners[f]||[]).concat(pr.tweeners["*"]),U=0,et=B.length;U<et;U++)if(E=B[U].call(_,f,r))return E}function pr(r,f,_){var E,B,U=0,et=pr.prefilters.length,wt=g.Deferred().always((function(){delete yt.elem})),yt=function(){if(B)return!1;for(var xe=Ni||Qi(),Zt=Math.max(0,Lt.startTime+Lt.duration-xe),Oe=1-(Zt/Lt.duration||0),Cn=0,Vn=Lt.tweens.length;Cn<Vn;Cn++)Lt.tweens[Cn].run(Oe);return wt.notifyWith(r,[Lt,Oe,Zt]),Oe<1&&Vn?Zt:(Vn||wt.notifyWith(r,[Lt,1,0]),wt.resolveWith(r,[Lt]),!1)},Lt=wt.promise({elem:r,props:g.extend({},f),opts:g.extend(!0,{specialEasing:{},easing:g.easing._default},_),originalProperties:f,originalOptions:_,startTime:Ni||Qi(),duration:_.duration,tweens:[],createTween:function(xe,Zt){var Oe=g.Tween(r,Lt.opts,xe,Zt,Lt.opts.specialEasing[xe]||Lt.opts.easing);return Lt.tweens.push(Oe),Oe},stop:function(xe){var Zt=0,Oe=xe?Lt.tweens.length:0;if(B)return this;for(B=!0;Zt<Oe;Zt++)Lt.tweens[Zt].run(1);return xe?(wt.notifyWith(r,[Lt,1,0]),wt.resolveWith(r,[Lt,xe])):wt.rejectWith(r,[Lt,xe]),this}}),re=Lt.props;for((function(xe,Zt){var Oe,Cn,Vn,Qn,Zi;for(Oe in xe)if(Vn=Zt[Cn=Tt(Oe)],Qn=xe[Oe],Array.isArray(Qn)&&(Vn=Qn[1],Qn=xe[Oe]=Qn[0]),Oe!==Cn&&(xe[Cn]=Qn,delete xe[Oe]),(Zi=g.cssHooks[Cn])&&"expand"in Zi)for(Oe in Qn=Zi.expand(Qn),delete xe[Cn],Qn)Oe in xe||(xe[Oe]=Qn[Oe],Zt[Oe]=Vn);else Zt[Cn]=Vn})(re,Lt.opts.specialEasing);U<et;U++)if(E=pr.prefilters[U].call(Lt,r,re,Lt.opts))return st(E.stop)&&(g._queueHooks(Lt.elem,Lt.opts.queue).stop=E.stop.bind(E)),E;return g.map(re,_r,Lt),st(Lt.opts.start)&&Lt.opts.start.call(r,Lt),Lt.progress(Lt.opts.progress).done(Lt.opts.done,Lt.opts.complete).fail(Lt.opts.fail).always(Lt.opts.always),g.fx.timer(g.extend(yt,{elem:r,anim:Lt,queue:Lt.opts.queue})),Lt}g.Animation=g.extend(pr,{tweeners:{"*":[function(r,f){var _=this.createTween(r,f);return Mi(_.elem,r,xn.exec(f),_),_}]},tweener:function(r,f){st(r)?(f=r,r=["*"]):r=r.match(ln);for(var _,E=0,B=r.length;E<B;E++)_=r[E],pr.tweeners[_]=pr.tweeners[_]||[],pr.tweeners[_].unshift(f)},prefilters:[function(r,f,_){var E,B,U,et,wt,yt,Lt,re,xe="width"in f||"height"in f,Zt=this,Oe={},Cn=r.style,Vn=r.nodeType&&en(r),Qn=Yt.get(r,"fxshow");for(E in _.queue||((et=g._queueHooks(r,"fx")).unqueued==null&&(et.unqueued=0,wt=et.empty.fire,et.empty.fire=function(){et.unqueued||wt()}),et.unqueued++,Zt.always((function(){Zt.always((function(){et.unqueued--,g.queue(r,"fx").length||et.empty.fire()}))}))),f)if(B=f[E],Pr.test(B)){if(delete f[E],U=U||B==="toggle",B===(Vn?"hide":"show")){if(B!=="show"||!Qn||Qn[E]===void 0)continue;Vn=!0}Oe[E]=Qn&&Qn[E]||g.style(r,E)}if((yt=!g.isEmptyObject(f))||!g.isEmptyObject(Oe))for(E in xe&&r.nodeType===1&&(_.overflow=[Cn.overflow,Cn.overflowX,Cn.overflowY],(Lt=Qn&&Qn.display)==null&&(Lt=Yt.get(r,"display")),(re=g.css(r,"display"))==="none"&&(Lt?re=Lt:(ht([r],!0),Lt=r.style.display||Lt,re=g.css(r,"display"),ht([r]))),(re==="inline"||re==="inline-block"&&Lt!=null)&&g.css(r,"float")==="none"&&(yt||(Zt.done((function(){Cn.display=Lt})),Lt==null&&(re=Cn.display,Lt=re==="none"?"":re)),Cn.display="inline-block")),_.overflow&&(Cn.overflow="hidden",Zt.always((function(){Cn.overflow=_.overflow[0],Cn.overflowX=_.overflow[1],Cn.overflowY=_.overflow[2]}))),yt=!1,Oe)yt||(Qn?"hidden"in Qn&&(Vn=Qn.hidden):Qn=Yt.access(r,"fxshow",{display:Lt}),U&&(Qn.hidden=!Vn),Vn&&ht([r],!0),Zt.done((function(){for(E in Vn||ht([r]),Yt.remove(r,"fxshow"),Oe)g.style(r,E,Oe[E])}))),yt=_r(Vn?Qn[E]:0,E,Zt),E in Qn||(Qn[E]=yt.start,Vn&&(yt.end=yt.start,yt.start=0))}],prefilter:function(r,f){f?pr.prefilters.unshift(r):pr.prefilters.push(r)}}),g.speed=function(r,f,_){var E=r&&d(r)=="object"?g.extend({},r):{complete:_||!_&&f||st(r)&&r,duration:r,easing:_&&f||f&&!st(f)&&f};return g.fx.off?E.duration=0:typeof E.duration!="number"&&(E.duration in g.fx.speeds?E.duration=g.fx.speeds[E.duration]:E.duration=g.fx.speeds._default),E.queue!=null&&E.queue!==!0||(E.queue="fx"),E.old=E.complete,E.complete=function(){st(E.old)&&E.old.call(this),E.queue&&g.dequeue(this,E.queue)},E},g.fn.extend({fadeTo:function(r,f,_,E){return this.filter(en).css("opacity",0).show().end().animate({opacity:f},r,_,E)},animate:function(r,f,_,E){var B=g.isEmptyObject(r),U=g.speed(f,_,E),et=function(){var wt=pr(this,g.extend({},r),U);(B||Yt.get(this,"finish"))&&wt.stop(!0)};return et.finish=et,B||U.queue===!1?this.each(et):this.queue(U.queue,et)},stop:function(r,f,_){var E=function(B){var U=B.stop;delete B.stop,U(_)};return typeof r!="string"&&(_=f,f=r,r=void 0),f&&this.queue(r||"fx",[]),this.each((function(){var B=!0,U=r!=null&&r+"queueHooks",et=g.timers,wt=Yt.get(this);if(U)wt[U]&&wt[U].stop&&E(wt[U]);else for(U in wt)wt[U]&&wt[U].stop&&Or.test(U)&&E(wt[U]);for(U=et.length;U--;)et[U].elem!==this||r!=null&&et[U].queue!==r||(et[U].anim.stop(_),B=!1,et.splice(U,1));!B&&_||g.dequeue(this,r)}))},finish:function(r){return r!==!1&&(r=r||"fx"),this.each((function(){var f,_=Yt.get(this),E=_[r+"queue"],B=_[r+"queueHooks"],U=g.timers,et=E?E.length:0;for(_.finish=!0,g.queue(this,r,[]),B&&B.stop&&B.stop.call(this,!0),f=U.length;f--;)U[f].elem===this&&U[f].queue===r&&(U[f].anim.stop(!0),U.splice(f,1));for(f=0;f<et;f++)E[f]&&E[f].finish&&E[f].finish.call(this);delete _.finish}))}}),g.each(["toggle","show","hide"],(function(r,f){var _=g.fn[f];g.fn[f]=function(E,B,U){return E==null||typeof E=="boolean"?_.apply(this,arguments):this.animate(Ki(f,!0),E,B,U)}})),g.each({slideDown:Ki("show"),slideUp:Ki("hide"),slideToggle:Ki("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(r,f){g.fn[r]=function(_,E,B){return this.animate(f,_,E,B)}})),g.timers=[],g.fx.tick=function(){var r,f=0,_=g.timers;for(Ni=Date.now();f<_.length;f++)(r=_[f])()||_[f]!==r||_.splice(f--,1);_.length||g.fx.stop(),Ni=void 0},g.fx.timer=function(r){g.timers.push(r),g.fx.start()},g.fx.interval=13,g.fx.start=function(){zi||(zi=!0,yr())},g.fx.stop=function(){zi=null},g.fx.speeds={slow:600,fast:200,_default:400},g.fn.delay=function(r,f){return r=g.fx&&g.fx.speeds[r]||r,f=f||"fx",this.queue(f,(function(_,E){var B=v.setTimeout(_,r);E.stop=function(){v.clearTimeout(B)}}))},Xi=pt.createElement("input"),fr=pt.createElement("select").appendChild(pt.createElement("option")),Xi.type="checkbox",Z.checkOn=Xi.value!=="",Z.optSelected=fr.selected,(Xi=pt.createElement("input")).value="t",Xi.type="radio",Z.radioValue=Xi.value==="t";var rr,s=g.expr.attrHandle;g.fn.extend({attr:function(r,f){return Te(this,g.attr,r,f,1<arguments.length)},removeAttr:function(r){return this.each((function(){g.removeAttr(this,r)}))}}),g.extend({attr:function(r,f,_){var E,B,U=r.nodeType;if(U!==3&&U!==8&&U!==2)return r.getAttribute===void 0?g.prop(r,f,_):(U===1&&g.isXMLDoc(r)||(B=g.attrHooks[f.toLowerCase()]||(g.expr.match.bool.test(f)?rr:void 0)),_!==void 0?_===null?void g.removeAttr(r,f):B&&"set"in B&&(E=B.set(r,_,f))!==void 0?E:(r.setAttribute(f,_+""),_):B&&"get"in B&&(E=B.get(r,f))!==null?E:(E=g.find.attr(r,f))==null?void 0:E)},attrHooks:{type:{set:function(r,f){if(!Z.radioValue&&f==="radio"&&jt(r,"input")){var _=r.value;return r.setAttribute("type",f),_&&(r.value=_),f}}}},removeAttr:function(r,f){var _,E=0,B=f&&f.match(ln);if(B&&r.nodeType===1)for(;_=B[E++];)r.removeAttribute(_)}}),rr={set:function(r,f,_){return f===!1?g.removeAttr(r,_):r.setAttribute(_,_),_}},g.each(g.expr.match.bool.source.match(/\w+/g),(function(r,f){var _=s[f]||g.find.attr;s[f]=function(E,B,U){var et,wt,yt=B.toLowerCase();return U||(wt=s[yt],s[yt]=et,et=_(E,B,U)!=null?yt:null,s[yt]=wt),et}}));var p=/^(?:input|select|textarea|button)$/i,x=/^(?:a|area)$/i;function k(r){return(r.match(ln)||[]).join(" ")}function D(r){return r.getAttribute&&r.getAttribute("class")||""}function Y(r){return Array.isArray(r)?r:typeof r=="string"&&r.match(ln)||[]}g.fn.extend({prop:function(r,f){return Te(this,g.prop,r,f,1<arguments.length)},removeProp:function(r){return this.each((function(){delete this[g.propFix[r]||r]}))}}),g.extend({prop:function(r,f,_){var E,B,U=r.nodeType;if(U!==3&&U!==8&&U!==2)return U===1&&g.isXMLDoc(r)||(f=g.propFix[f]||f,B=g.propHooks[f]),_!==void 0?B&&"set"in B&&(E=B.set(r,_,f))!==void 0?E:r[f]=_:B&&"get"in B&&(E=B.get(r,f))!==null?E:r[f]},propHooks:{tabIndex:{get:function(r){var f=g.find.attr(r,"tabindex");return f?parseInt(f,10):p.test(r.nodeName)||x.test(r.nodeName)&&r.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),Z.optSelected||(g.propHooks.selected={get:function(r){var f=r.parentNode;return f&&f.parentNode&&f.parentNode.selectedIndex,null},set:function(r){var f=r.parentNode;f&&(f.selectedIndex,f.parentNode&&f.parentNode.selectedIndex)}}),g.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){g.propFix[this.toLowerCase()]=this})),g.fn.extend({addClass:function(r){var f,_,E,B,U,et;return st(r)?this.each((function(wt){g(this).addClass(r.call(this,wt,D(this)))})):(f=Y(r)).length?this.each((function(){if(E=D(this),_=this.nodeType===1&&" "+k(E)+" "){for(U=0;U<f.length;U++)B=f[U],_.indexOf(" "+B+" ")<0&&(_+=B+" ");et=k(_),E!==et&&this.setAttribute("class",et)}})):this},removeClass:function(r){var f,_,E,B,U,et;return st(r)?this.each((function(wt){g(this).removeClass(r.call(this,wt,D(this)))})):arguments.length?(f=Y(r)).length?this.each((function(){if(E=D(this),_=this.nodeType===1&&" "+k(E)+" "){for(U=0;U<f.length;U++)for(B=f[U];-1<_.indexOf(" "+B+" ");)_=_.replace(" "+B+" "," ");et=k(_),E!==et&&this.setAttribute("class",et)}})):this:this.attr("class","")},toggleClass:function(r,f){var _,E,B,U,et=d(r),wt=et==="string"||Array.isArray(r);return st(r)?this.each((function(yt){g(this).toggleClass(r.call(this,yt,D(this),f),f)})):typeof f=="boolean"&&wt?f?this.addClass(r):this.removeClass(r):(_=Y(r),this.each((function(){if(wt)for(U=g(this),B=0;B<_.length;B++)E=_[B],U.hasClass(E)?U.removeClass(E):U.addClass(E);else r!==void 0&&et!=="boolean"||((E=D(this))&&Yt.set(this,"__className__",E),this.setAttribute&&this.setAttribute("class",E||r===!1?"":Yt.get(this,"__className__")||""))})))},hasClass:function(r){var f,_,E=0;for(f=" "+r+" ";_=this[E++];)if(_.nodeType===1&&-1<(" "+k(D(_))+" ").indexOf(f))return!0;return!1}});var nt=/\r/g;g.fn.extend({val:function(r){var f,_,E,B=this[0];return arguments.length?(E=st(r),this.each((function(U){var et;this.nodeType===1&&((et=E?r.call(this,U,g(this).val()):r)==null?et="":typeof et=="number"?et+="":Array.isArray(et)&&(et=g.map(et,(function(wt){return wt==null?"":wt+""}))),(f=g.valHooks[this.type]||g.valHooks[this.nodeName.toLowerCase()])&&"set"in f&&f.set(this,et,"value")!==void 0||(this.value=et))}))):B?(f=g.valHooks[B.type]||g.valHooks[B.nodeName.toLowerCase()])&&"get"in f&&(_=f.get(B,"value"))!==void 0?_:typeof(_=B.value)=="string"?_.replace(nt,""):_==null?"":_:void 0}}),g.extend({valHooks:{option:{get:function(r){var f=g.find.attr(r,"value");return f!=null?f:k(g.text(r))}},select:{get:function(r){var f,_,E,B=r.options,U=r.selectedIndex,et=r.type==="select-one",wt=et?null:[],yt=et?U+1:B.length;for(E=U<0?yt:et?U:0;E<yt;E++)if(((_=B[E]).selected||E===U)&&!_.disabled&&(!_.parentNode.disabled||!jt(_.parentNode,"optgroup"))){if(f=g(_).val(),et)return f;wt.push(f)}return wt},set:function(r,f){for(var _,E,B=r.options,U=g.makeArray(f),et=B.length;et--;)((E=B[et]).selected=-1<g.inArray(g.valHooks.option.get(E),U))&&(_=!0);return _||(r.selectedIndex=-1),U}}}}),g.each(["radio","checkbox"],(function(){g.valHooks[this]={set:function(r,f){if(Array.isArray(f))return r.checked=-1<g.inArray(g(r).val(),f)}},Z.checkOn||(g.valHooks[this].get=function(r){return r.getAttribute("value")===null?"on":r.value})}));var ct=v.location,Mt={guid:Date.now()},xt=/\?/;g.parseXML=function(r){var f,_;if(!r||typeof r!="string")return null;try{f=new v.DOMParser().parseFromString(r,"text/xml")}catch(E){}return _=f&&f.getElementsByTagName("parsererror")[0],f&&!_||g.error("Invalid XML: "+(_?g.map(_.childNodes,(function(E){return E.textContent})).join(`
`):r)),f};var Kt=/^(?:focusinfocus|focusoutblur)$/,zt=function(r){r.stopPropagation()};g.extend(g.event,{trigger:function(r,f,_,E){var B,U,et,wt,yt,Lt,re,xe,Zt=[_||pt],Oe=M.call(r,"type")?r.type:r,Cn=M.call(r,"namespace")?r.namespace.split("."):[];if(U=xe=et=_=_||pt,_.nodeType!==3&&_.nodeType!==8&&!Kt.test(Oe+g.event.triggered)&&(-1<Oe.indexOf(".")&&(Oe=(Cn=Oe.split(".")).shift(),Cn.sort()),yt=Oe.indexOf(":")<0&&"on"+Oe,(r=r[g.expando]?r:new g.Event(Oe,d(r)=="object"&&r)).isTrigger=E?2:3,r.namespace=Cn.join("."),r.rnamespace=r.namespace?new RegExp("(^|\\.)"+Cn.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,r.result=void 0,r.target||(r.target=_),f=f==null?[r]:g.makeArray(f,[r]),re=g.event.special[Oe]||{},E||!re.trigger||re.trigger.apply(_,f)!==!1)){if(!E&&!re.noBubble&&!Pt(_)){for(wt=re.delegateType||Oe,Kt.test(wt+Oe)||(U=U.parentNode);U;U=U.parentNode)Zt.push(U),et=U;et===(_.ownerDocument||pt)&&Zt.push(et.defaultView||et.parentWindow||v)}for(B=0;(U=Zt[B++])&&!r.isPropagationStopped();)xe=U,r.type=1<B?wt:re.bindType||Oe,(Lt=(Yt.get(U,"events")||Object.create(null))[r.type]&&Yt.get(U,"handle"))&&Lt.apply(U,f),(Lt=yt&&U[yt])&&Lt.apply&&ue(U)&&(r.result=Lt.apply(U,f),r.result===!1&&r.preventDefault());return r.type=Oe,E||r.isDefaultPrevented()||re._default&&re._default.apply(Zt.pop(),f)!==!1||!ue(_)||yt&&st(_[Oe])&&!Pt(_)&&((et=_[yt])&&(_[yt]=null),g.event.triggered=Oe,r.isPropagationStopped()&&xe.addEventListener(Oe,zt),_[Oe](),r.isPropagationStopped()&&xe.removeEventListener(Oe,zt),g.event.triggered=void 0,et&&(_[yt]=et)),r.result}},simulate:function(r,f,_){var E=g.extend(new g.Event,_,{type:r,isSimulated:!0});g.event.trigger(E,null,f)}}),g.fn.extend({trigger:function(r,f){return this.each((function(){g.event.trigger(r,f,this)}))},triggerHandler:function(r,f){var _=this[0];if(_)return g.event.trigger(r,f,_,!0)}});var Vt=/\[\]$/,ie=/\r?\n/g,_n=/^(?:submit|button|image|reset|file)$/i,nn=/^(?:input|select|textarea|keygen)/i;function cn(r,f,_,E){var B;if(Array.isArray(f))g.each(f,(function(U,et){_||Vt.test(r)?E(r,et):cn(r+"["+(d(et)=="object"&&et!=null?U:"")+"]",et,_,E)}));else if(_||At(f)!=="object")E(r,f);else for(B in f)cn(r+"["+B+"]",f[B],_,E)}g.param=function(r,f){var _,E=[],B=function(U,et){var wt=st(et)?et():et;E[E.length]=encodeURIComponent(U)+"="+encodeURIComponent(wt==null?"":wt)};if(r==null)return"";if(Array.isArray(r)||r.jquery&&!g.isPlainObject(r))g.each(r,(function(){B(this.name,this.value)}));else for(_ in r)cn(_,r[_],f,B);return E.join("&")},g.fn.extend({serialize:function(){return g.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var r=g.prop(this,"elements");return r?g.makeArray(r):this})).filter((function(){var r=this.type;return this.name&&!g(this).is(":disabled")&&nn.test(this.nodeName)&&!_n.test(r)&&(this.checked||!Pe.test(r))})).map((function(r,f){var _=g(this).val();return _==null?null:Array.isArray(_)?g.map(_,(function(E){return{name:f.name,value:E.replace(ie,`\r
`)}})):{name:f.name,value:_.replace(ie,`\r
`)}})).get()}});var Tn=/%20/g,ji=/#.*$/,Li=/([?&])_=[^&]*/,jn=/^(.*?):[ \t]*([^\r\n]*)$/gm,rt=/^(?:GET|HEAD)$/,dt=/^\/\//,Nt={},ee={},be="*/".concat("*"),fe=pt.createElement("a");function Re(r){return function(f,_){typeof f!="string"&&(_=f,f="*");var E,B=0,U=f.toLowerCase().match(ln)||[];if(st(_))for(;E=U[B++];)E[0]==="+"?(E=E.slice(1)||"*",(r[E]=r[E]||[]).unshift(_)):(r[E]=r[E]||[]).push(_)}}function We(r,f,_,E){var B={},U=r===ee;function et(wt){var yt;return B[wt]=!0,g.each(r[wt]||[],(function(Lt,re){var xe=re(f,_,E);return typeof xe!="string"||U||B[xe]?U?!(yt=xe):void 0:(f.dataTypes.unshift(xe),et(xe),!1)})),yt}return et(f.dataTypes[0])||!B["*"]&&et("*")}function Ke(r,f){var _,E,B=g.ajaxSettings.flatOptions||{};for(_ in f)f[_]!==void 0&&((B[_]?r:E||(E={}))[_]=f[_]);return E&&g.extend(!0,r,E),r}fe.href=ct.href,g.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ct.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(ct.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":be,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":g.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(r,f){return f?Ke(Ke(r,g.ajaxSettings),f):Ke(g.ajaxSettings,r)},ajaxPrefilter:Re(Nt),ajaxTransport:Re(ee),ajax:function(r,f){d(r)=="object"&&(f=r,r=void 0),f=f||{};var _,E,B,U,et,wt,yt,Lt,re,xe,Zt=g.ajaxSetup({},f),Oe=Zt.context||Zt,Cn=Zt.context&&(Oe.nodeType||Oe.jquery)?g(Oe):g.event,Vn=g.Deferred(),Qn=g.Callbacks("once memory"),Zi=Zt.statusCode||{},Ji={},ur={},hr="canceled",Yn={readyState:0,getResponseHeader:function(hi){var qi;if(yt){if(!U)for(U={};qi=jn.exec(B);)U[qi[1].toLowerCase()+" "]=(U[qi[1].toLowerCase()+" "]||[]).concat(qi[2]);qi=U[hi.toLowerCase()+" "]}return qi==null?null:qi.join(", ")},getAllResponseHeaders:function(){return yt?B:null},setRequestHeader:function(hi,qi){return yt==null&&(hi=ur[hi.toLowerCase()]=ur[hi.toLowerCase()]||hi,Ji[hi]=qi),this},overrideMimeType:function(hi){return yt==null&&(Zt.mimeType=hi),this},statusCode:function(hi){var qi;if(hi)if(yt)Yn.always(hi[Yn.status]);else for(qi in hi)Zi[qi]=[Zi[qi],hi[qi]];return this},abort:function(hi){var qi=hi||hr;return _&&_.abort(qi),Bi(0,qi),this}};if(Vn.promise(Yn),Zt.url=((r||Zt.url||ct.href)+"").replace(dt,ct.protocol+"//"),Zt.type=f.method||f.type||Zt.method||Zt.type,Zt.dataTypes=(Zt.dataType||"*").toLowerCase().match(ln)||[""],Zt.crossDomain==null){wt=pt.createElement("a");try{wt.href=Zt.url,wt.href=wt.href,Zt.crossDomain=fe.protocol+"//"+fe.host!=wt.protocol+"//"+wt.host}catch(hi){Zt.crossDomain=!0}}if(Zt.data&&Zt.processData&&typeof Zt.data!="string"&&(Zt.data=g.param(Zt.data,Zt.traditional)),We(Nt,Zt,f,Yn),yt)return Yn;for(re in(Lt=g.event&&Zt.global)&&g.active++==0&&g.event.trigger("ajaxStart"),Zt.type=Zt.type.toUpperCase(),Zt.hasContent=!rt.test(Zt.type),E=Zt.url.replace(ji,""),Zt.hasContent?Zt.data&&Zt.processData&&(Zt.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(Zt.data=Zt.data.replace(Tn,"+")):(xe=Zt.url.slice(E.length),Zt.data&&(Zt.processData||typeof Zt.data=="string")&&(E+=(xt.test(E)?"&":"?")+Zt.data,delete Zt.data),Zt.cache===!1&&(E=E.replace(Li,"$1"),xe=(xt.test(E)?"&":"?")+"_="+Mt.guid+++xe),Zt.url=E+xe),Zt.ifModified&&(g.lastModified[E]&&Yn.setRequestHeader("If-Modified-Since",g.lastModified[E]),g.etag[E]&&Yn.setRequestHeader("If-None-Match",g.etag[E])),(Zt.data&&Zt.hasContent&&Zt.contentType!==!1||f.contentType)&&Yn.setRequestHeader("Content-Type",Zt.contentType),Yn.setRequestHeader("Accept",Zt.dataTypes[0]&&Zt.accepts[Zt.dataTypes[0]]?Zt.accepts[Zt.dataTypes[0]]+(Zt.dataTypes[0]!=="*"?", "+be+"; q=0.01":""):Zt.accepts["*"]),Zt.headers)Yn.setRequestHeader(re,Zt.headers[re]);if(Zt.beforeSend&&(Zt.beforeSend.call(Oe,Yn,Zt)===!1||yt))return Yn.abort();if(hr="abort",Qn.add(Zt.complete),Yn.done(Zt.success),Yn.fail(Zt.error),_=We(ee,Zt,f,Yn)){if(Yn.readyState=1,Lt&&Cn.trigger("ajaxSend",[Yn,Zt]),yt)return Yn;Zt.async&&0<Zt.timeout&&(et=v.setTimeout((function(){Yn.abort("timeout")}),Zt.timeout));try{yt=!1,_.send(Ji,Bi)}catch(hi){if(yt)throw hi;Bi(-1,hi)}}else Bi(-1,"No Transport");function Bi(hi,qi,Ar,Ir){var Sr,Dr,Er,kr,Nr,ar=qi;yt||(yt=!0,et&&v.clearTimeout(et),_=void 0,B=Ir||"",Yn.readyState=0<hi?4:0,Sr=200<=hi&&hi<300||hi===304,Ar&&(kr=(function(or,tr,bi){for(var C,a,b,N,ot=or.contents,Ct=or.dataTypes;Ct[0]==="*";)Ct.shift(),C===void 0&&(C=or.mimeType||tr.getResponseHeader("Content-Type"));if(C){for(a in ot)if(ot[a]&&ot[a].test(C)){Ct.unshift(a);break}}if(Ct[0]in bi)b=Ct[0];else{for(a in bi){if(!Ct[0]||or.converters[a+" "+Ct[0]]){b=a;break}N||(N=a)}b=b||N}if(b)return b!==Ct[0]&&Ct.unshift(b),bi[b]})(Zt,Yn,Ar)),!Sr&&-1<g.inArray("script",Zt.dataTypes)&&g.inArray("json",Zt.dataTypes)<0&&(Zt.converters["text script"]=function(){}),kr=(function(or,tr,bi,C){var a,b,N,ot,Ct,_e={},Xe=or.dataTypes.slice();if(Xe[1])for(N in or.converters)_e[N.toLowerCase()]=or.converters[N];for(b=Xe.shift();b;)if(or.responseFields[b]&&(bi[or.responseFields[b]]=tr),!Ct&&C&&or.dataFilter&&(tr=or.dataFilter(tr,or.dataType)),Ct=b,b=Xe.shift()){if(b==="*")b=Ct;else if(Ct!=="*"&&Ct!==b){if(!(N=_e[Ct+" "+b]||_e["* "+b])){for(a in _e)if((ot=a.split(" "))[1]===b&&(N=_e[Ct+" "+ot[0]]||_e["* "+ot[0]])){N===!0?N=_e[a]:_e[a]!==!0&&(b=ot[0],Xe.unshift(ot[1]));break}}if(N!==!0)if(N&&or.throws)tr=N(tr);else try{tr=N(tr)}catch(Ue){return{state:"parsererror",error:N?Ue:"No conversion from "+Ct+" to "+b}}}}return{state:"success",data:tr}})(Zt,kr,Yn,Sr),Sr?(Zt.ifModified&&((Nr=Yn.getResponseHeader("Last-Modified"))&&(g.lastModified[E]=Nr),(Nr=Yn.getResponseHeader("etag"))&&(g.etag[E]=Nr)),hi===204||Zt.type==="HEAD"?ar="nocontent":hi===304?ar="notmodified":(ar=kr.state,Dr=kr.data,Sr=!(Er=kr.error))):(Er=ar,!hi&&ar||(ar="error",hi<0&&(hi=0))),Yn.status=hi,Yn.statusText=(qi||ar)+"",Sr?Vn.resolveWith(Oe,[Dr,ar,Yn]):Vn.rejectWith(Oe,[Yn,ar,Er]),Yn.statusCode(Zi),Zi=void 0,Lt&&Cn.trigger(Sr?"ajaxSuccess":"ajaxError",[Yn,Zt,Sr?Dr:Er]),Qn.fireWith(Oe,[Yn,ar]),Lt&&(Cn.trigger("ajaxComplete",[Yn,Zt]),--g.active||g.event.trigger("ajaxStop")))}return Yn},getJSON:function(r,f,_){return g.get(r,f,_,"json")},getScript:function(r,f){return g.get(r,void 0,f,"script")}}),g.each(["get","post"],(function(r,f){g[f]=function(_,E,B,U){return st(E)&&(U=U||B,B=E,E=void 0),g.ajax(g.extend({url:_,type:f,dataType:U,data:E,success:B},g.isPlainObject(_)&&_))}})),g.ajaxPrefilter((function(r){var f;for(f in r.headers)f.toLowerCase()==="content-type"&&(r.contentType=r.headers[f]||"")})),g._evalUrl=function(r,f,_){return g.ajax({url:r,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(E){g.globalEval(E,f,_)}})},g.fn.extend({wrapAll:function(r){var f;return this[0]&&(st(r)&&(r=r.call(this[0])),f=g(r,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&f.insertBefore(this[0]),f.map((function(){for(var _=this;_.firstElementChild;)_=_.firstElementChild;return _})).append(this)),this},wrapInner:function(r){return st(r)?this.each((function(f){g(this).wrapInner(r.call(this,f))})):this.each((function(){var f=g(this),_=f.contents();_.length?_.wrapAll(r):f.append(r)}))},wrap:function(r){var f=st(r);return this.each((function(_){g(this).wrapAll(f?r.call(this,_):r)}))},unwrap:function(r){return this.parent(r).not("body").each((function(){g(this).replaceWith(this.childNodes)})),this}}),g.expr.pseudos.hidden=function(r){return!g.expr.pseudos.visible(r)},g.expr.pseudos.visible=function(r){return!!(r.offsetWidth||r.offsetHeight||r.getClientRects().length)},g.ajaxSettings.xhr=function(){try{return new v.XMLHttpRequest}catch(r){}};var Nn={0:200,1223:204},ci=g.ajaxSettings.xhr();Z.cors=!!ci&&"withCredentials"in ci,Z.ajax=ci=!!ci,g.ajaxTransport((function(r){var f,_;if(Z.cors||ci&&!r.crossDomain)return{send:function(E,B){var U,et=r.xhr();if(et.open(r.type,r.url,r.async,r.username,r.password),r.xhrFields)for(U in r.xhrFields)et[U]=r.xhrFields[U];for(U in r.mimeType&&et.overrideMimeType&&et.overrideMimeType(r.mimeType),r.crossDomain||E["X-Requested-With"]||(E["X-Requested-With"]="XMLHttpRequest"),E)et.setRequestHeader(U,E[U]);f=function(wt){return function(){f&&(f=_=et.onload=et.onerror=et.onabort=et.ontimeout=et.onreadystatechange=null,wt==="abort"?et.abort():wt==="error"?typeof et.status!="number"?B(0,"error"):B(et.status,et.statusText):B(Nn[et.status]||et.status,et.statusText,(et.responseType||"text")!=="text"||typeof et.responseText!="string"?{binary:et.response}:{text:et.responseText},et.getAllResponseHeaders()))}},et.onload=f(),_=et.onerror=et.ontimeout=f("error"),et.onabort!==void 0?et.onabort=_:et.onreadystatechange=function(){et.readyState===4&&v.setTimeout((function(){f&&_()}))},f=f("abort");try{et.send(r.hasContent&&r.data||null)}catch(wt){if(f)throw wt}},abort:function(){f&&f()}}})),g.ajaxPrefilter((function(r){r.crossDomain&&(r.contents.script=!1)})),g.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(r){return g.globalEval(r),r}}}),g.ajaxPrefilter("script",(function(r){r.cache===void 0&&(r.cache=!1),r.crossDomain&&(r.type="GET")})),g.ajaxTransport("script",(function(r){var f,_;if(r.crossDomain||r.scriptAttrs)return{send:function(E,B){f=g("<script>").attr(r.scriptAttrs||{}).prop({charset:r.scriptCharset,src:r.url}).on("load error",_=function(U){f.remove(),_=null,U&&B(U.type==="error"?404:200,U.type)}),pt.head.appendChild(f[0])},abort:function(){_&&_()}}}));var vt,de=[],$e=/(=)\?(?=&|$)|\?\?/;g.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var r=de.pop()||g.expando+"_"+Mt.guid++;return this[r]=!0,r}}),g.ajaxPrefilter("json jsonp",(function(r,f,_){var E,B,U,et=r.jsonp!==!1&&($e.test(r.url)?"url":typeof r.data=="string"&&(r.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&$e.test(r.data)&&"data");if(et||r.dataTypes[0]==="jsonp")return E=r.jsonpCallback=st(r.jsonpCallback)?r.jsonpCallback():r.jsonpCallback,et?r[et]=r[et].replace($e,"$1"+E):r.jsonp!==!1&&(r.url+=(xt.test(r.url)?"&":"?")+r.jsonp+"="+E),r.converters["script json"]=function(){return U||g.error(E+" was not called"),U[0]},r.dataTypes[0]="json",B=v[E],v[E]=function(){U=arguments},_.always((function(){B===void 0?g(v).removeProp(E):v[E]=B,r[E]&&(r.jsonpCallback=f.jsonpCallback,de.push(E)),U&&st(B)&&B(U[0]),U=B=void 0})),"script"})),Z.createHTMLDocument=((vt=pt.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",vt.childNodes.length===2),g.parseHTML=function(r,f,_){return typeof r!="string"?[]:(typeof f=="boolean"&&(_=f,f=!1),f||(Z.createHTMLDocument?((E=(f=pt.implementation.createHTMLDocument("")).createElement("base")).href=pt.location.href,f.head.appendChild(E)):f=pt),U=!_&&[],(B=on.exec(r))?[f.createElement(B[1])]:(B=qe([r],f,U),U&&U.length&&g(U).remove(),g.merge([],B.childNodes)));var E,B,U},g.fn.load=function(r,f,_){var E,B,U,et=this,wt=r.indexOf(" ");return-1<wt&&(E=k(r.slice(wt)),r=r.slice(0,wt)),st(f)?(_=f,f=void 0):f&&d(f)=="object"&&(B="POST"),0<et.length&&g.ajax({url:r,type:B||"GET",dataType:"html",data:f}).done((function(yt){U=arguments,et.html(E?g("<div>").append(g.parseHTML(yt)).find(E):yt)})).always(_&&function(yt,Lt){et.each((function(){_.apply(this,U||[yt.responseText,Lt,yt])}))}),this},g.expr.pseudos.animated=function(r){return g.grep(g.timers,(function(f){return r===f.elem})).length},g.offset={setOffset:function(r,f,_){var E,B,U,et,wt,yt,Lt=g.css(r,"position"),re=g(r),xe={};Lt==="static"&&(r.style.position="relative"),wt=re.offset(),U=g.css(r,"top"),yt=g.css(r,"left"),(Lt==="absolute"||Lt==="fixed")&&-1<(U+yt).indexOf("auto")?(et=(E=re.position()).top,B=E.left):(et=parseFloat(U)||0,B=parseFloat(yt)||0),st(f)&&(f=f.call(r,_,g.extend({},wt))),f.top!=null&&(xe.top=f.top-wt.top+et),f.left!=null&&(xe.left=f.left-wt.left+B),"using"in f?f.using.call(r,xe):re.css(xe)}},g.fn.extend({offset:function(r){if(arguments.length)return r===void 0?this:this.each((function(B){g.offset.setOffset(this,r,B)}));var f,_,E=this[0];return E?E.getClientRects().length?(f=E.getBoundingClientRect(),_=E.ownerDocument.defaultView,{top:f.top+_.pageYOffset,left:f.left+_.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var r,f,_,E=this[0],B={top:0,left:0};if(g.css(E,"position")==="fixed")f=E.getBoundingClientRect();else{for(f=this.offset(),_=E.ownerDocument,r=E.offsetParent||_.documentElement;r&&(r===_.body||r===_.documentElement)&&g.css(r,"position")==="static";)r=r.parentNode;r&&r!==E&&r.nodeType===1&&((B=g(r).offset()).top+=g.css(r,"borderTopWidth",!0),B.left+=g.css(r,"borderLeftWidth",!0))}return{top:f.top-B.top-g.css(E,"marginTop",!0),left:f.left-B.left-g.css(E,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var r=this.offsetParent;r&&g.css(r,"position")==="static";)r=r.offsetParent;return r||Hi}))}}),g.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(r,f){var _=f==="pageYOffset";g.fn[r]=function(E){return Te(this,(function(B,U,et){var wt;if(Pt(B)?wt=B:B.nodeType===9&&(wt=B.defaultView),et===void 0)return wt?wt[f]:B[U];wt?wt.scrollTo(_?wt.pageXOffset:et,_?et:wt.pageYOffset):B[U]=et}),r,E,arguments.length)}})),g.each(["top","left"],(function(r,f){g.cssHooks[f]=Ri(Z.pixelPosition,(function(_,E){if(E)return E=$i(_,f),Ai.test(E)?g(_).position()[f]+"px":E}))})),g.each({Height:"height",Width:"width"},(function(r,f){g.each({padding:"inner"+r,content:f,"":"outer"+r},(function(_,E){g.fn[E]=function(B,U){var et=arguments.length&&(_||typeof B!="boolean"),wt=_||(B===!0||U===!0?"margin":"border");return Te(this,(function(yt,Lt,re){var xe;return Pt(yt)?E.indexOf("outer")===0?yt["inner"+r]:yt.document.documentElement["client"+r]:yt.nodeType===9?(xe=yt.documentElement,Math.max(yt.body["scroll"+r],xe["scroll"+r],yt.body["offset"+r],xe["offset"+r],xe["client"+r])):re===void 0?g.css(yt,Lt,wt):g.style(yt,Lt,re,wt)}),f,et?B:void 0,et)}}))})),g.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(r,f){g.fn[f]=function(_){return this.on(f,_)}})),g.fn.extend({bind:function(r,f,_){return this.on(r,null,f,_)},unbind:function(r,f){return this.off(r,null,f)},delegate:function(r,f,_,E){return this.on(f,r,_,E)},undelegate:function(r,f,_){return arguments.length===1?this.off(r,"**"):this.off(f,r||"**",_)},hover:function(r,f){return this.on("mouseenter",r).on("mouseleave",f||r)}}),g.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(r,f){g.fn[f]=function(_,E){return 0<arguments.length?this.on(f,null,_,E):this.trigger(f)}}));var De=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;g.proxy=function(r,f){var _,E,B;if(typeof f=="string"&&(_=r[f],f=r,r=_),st(r))return E=S.call(arguments,2),(B=function(){return r.apply(f||this,E.concat(S.call(arguments)))}).guid=r.guid=r.guid||g.guid++,B},g.holdReady=function(r){r?g.readyWait++:g.ready(!0)},g.isArray=Array.isArray,g.parseJSON=JSON.parse,g.nodeName=jt,g.isFunction=st,g.isWindow=Pt,g.camelCase=Tt,g.type=At,g.now=Date.now,g.isNumeric=function(r){var f=g.type(r);return(f==="number"||f==="string")&&!isNaN(r-parseFloat(r))},g.trim=function(r){return r==null?"":(r+"").replace(De,"$1")},(u=function(){return g}.apply(T,[]))===void 0||(n.exports=u);var Ve=v.jQuery,di=v.$;return g.noConflict=function(r){return v.$===g&&(v.$=di),r&&v.jQuery===g&&(v.jQuery=Ve),g},m===void 0&&(v.jQuery=v.$=g),g}))}},__webpack_module_cache__={};function __webpack_require__(n){var T=__webpack_module_cache__[n];if(T!==void 0)return T.exports;var A=__webpack_module_cache__[n]={id:n,loaded:!1,exports:{}};return __webpack_modules__[n].call(A.exports,A,A.exports,__webpack_require__),A.loaded=!0,A.exports}__webpack_require__.amdO={},__webpack_require__.n=n=>{var T=n&&n.__esModule?()=>n.default:()=>n;return __webpack_require__.d(T,{a:T}),T},__webpack_require__.d=(n,T)=>{for(var A in T)__webpack_require__.o(T,A)&&!__webpack_require__.o(n,A)&&Object.defineProperty(n,A,{enumerable:!0,get:T[A]})},__webpack_require__.g=(function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(n){if(typeof window=="object")return window}})(),__webpack_require__.o=(n,T)=>Object.prototype.hasOwnProperty.call(n,T),__webpack_require__.r=n=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},__webpack_require__.nmd=n=>(n.paths=[],n.children||(n.children=[]),n);var __webpack_exports__={};(()=>{"use strict";var n={};__webpack_require__.r(n),__webpack_require__.d(n,{clear:()=>An,getChildSetting:()=>te,getSetting:()=>St,init:()=>At,isSupported:()=>_t,removeChildSetting:()=>ye,removeSetting:()=>L,saveChildSetting:()=>Ot,saveSetting:()=>jt});var T={};__webpack_require__.r(T),__webpack_require__.d(T,{clear:()=>yn,getSetting:()=>we,init:()=>qt,removeSetting:()=>He,saveSetting:()=>ce});var A={};__webpack_require__.r(A),__webpack_require__.d(A,{Decoder:()=>fe,Encoder:()=>ee,PacketType:()=>Nt,protocol:()=>dt}),__webpack_require__(489),__webpack_require__(491);var u=__webpack_require__(33),d=__webpack_require__.n(u);__webpack_require__(883);function v(C){return v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},v(C)}function m(C,a){if(v(C)!=="object"||v(a)!=="object"||C instanceof Array)return a!==void 0?a:C;for(var b=Object.keys(Object.assign({},C,a)),N=b.length,ot=0;ot<N;ot++)C[b[ot]]=m(C[b[ot]],a[b[ot]]);return C}function I(){try{return(function(C){var a={};if(typeof C!="string")return a;var b=C.split("?");if(b.length<=1)return a;for(var N=b[1].split("#")[0].split("&"),ot=0;ot<N.length;ot++){var Ct=N[ot].split("=");Ct.length===2&&(a[Ct[0]]=decodeURIComponent(Ct[1]))}return a})(window.location.href)}catch(C){return{}}}function y(C,a,b){if(typeof C!="string"||typeof a!="string"||typeof b!="string")return C;var N=C.split("#");C=N[0];var ot=a+"="+encodeURIComponent(b);return C.indexOf("?")>-1?C+="&"+ot:C+="?"+ot,N.length>1&&(C=C+"#"+N[1]),C}var S,R=function(){var C;try{C=document.location.protocol}catch(b){}if(typeof C=="string"){var a=C.match(/[\w]+/);C=a instanceof Array&&typeof a[0]=="string"?a[0]:"unknown"}return C},Q,F,it={en:{"i.button_ok":"Ok","i.button_nok":"Cancel","i.button_retry":"Retry","i.generic_error_title":"Error","i.auth_title":"Authentication required","i.auth_text":"Enter your Escapp user credentials (email and password). For this authentication to be successful, you must have previously registered with your user to the escape room on the Escapp platform.","i.auth_title_wrong_credentials":"Authentication error","i.auth_text_wrong_credentials":"The credentials provided are not correct. You need to enter your Escapp user credentials (email and password). For this authentication to be successful, you must have previously registered with your user to the escape room on the Escapp platform.","i.auth_email_label":"Email","i.auth_password_label":"Password","i.connecton_error_title":"Connection Error","i.connecton_error_text":"Unable to connect to the Escapp platform.","i.completion_title":"\xA1Escape Room Completed!","i.completion_text":"\xA1Congratulations! You have completed the escape room. On the escapp platform you can check the ranking to see in which position you have ended.","i.initialization_error_title":"Escapp client initialization error","i.initialization_error_endpoint":"Escapp client could not be started correctly because the Escapp endpoint was not provided.","i.initialization_error_endpoint_format":"Escapp client could not be started correctly because the format of the provided Escapp endpoint is incorrect.","i.initialization_error_linkedPuzzleIds":"Escapp client could not be started correctly because neither resourceId nor linkedPuzzleIds were provided.","i.participation_error_NOT_ACTIVE":"You are a participant of this escape room but the turn you have signed up for has not started yet.","i.participation_error_NOT_AUTHENTICATED":"Authentication is required before submitting puzzle solutions.","i.participation_error_NOT_PARTICIPANT":"You are not a participant of this escape room.","i.participation_error_NOT_STARTED":"You are a participant of this escape room but you need to click on the 'Start' button in the Escapp platform in order to start the escape room.","i.participation_error_TOO_LATE":"You are a participant of this escape room but the turn you have signed up for has ended or you have run out of time.","i.puzzles_required":"You shouldn't be here. You must complete previous puzzles before accessing this one.","i.restore_title":"Status update","i.restore_auto_text":"A newer application status was found on the Escapp server. The application is going to be updated based on this status.","i.restore_request_text":"A newer application status was found on the Escapp server. Do you want to update the application based on this status? If you don't, your application could be in a different state than the rest of your team members.","i.start_title":"Do you want to start the escape room?","i.start_text":"Press 'Ok' to start the escape room right now or 'Cancel' to start it later.<br/>Once the escape room has been started, time will start to run and it cannot be stopped.","i.notification_start":"The Escape Room begins. Good luck #{team}!","i.notification_member_join":"#{member} has joined the Escape Room","i.notification_member_leave":"#{member} has left the Escape Room","i.notification_hint_new":"Your team has obtained a new hint. Access the Escapp platform to read it.","i.notification_puzzle_success":"Your team has solved a new puzzle.","i.notification_puzzle_success_end1":"\xA1Good job #{team}!","i.notification_puzzle_success_end2":"\xA1Well done #{team}!","i.notification_puzzle_success_end3":"\xA1Keep up the good work #{team}!","i.notification_ranking_1_up":"Congratulations #{team}! You are first in the leaderboard","i.notification_ranking_2_up":"Awesome #{team}! You are second in the leaderboard","i.notification_ranking_3_up":"Very good #{team}! You are third in the leaderboard","i.notification_ranking_1_same":"Very good #{team}, you continue leading the leaderboard!","i.notification_ranking_2_same":"Great #{team}, you continue second in the leaderboard!","i.notification_ranking_3_same":"Good #{team}, you continue third in the leaderboard!","i.notification_ranking_2_down":"#{teamOther} just overtook you in the leaderboard! Now you are second in the leaderboard","i.notification_ranking_3_down":"#{teamOther} just overtook you in the leaderboard! Now you are third in the leaderboard","i.notification_ranking_up":"#{team} has advanced to position #{position} in the leaderboard!","i.notification_ranking_down":"#{teamOther} just overtook you! #{team} is now at position #{position} in the leaderboard","i.notification_ranking_down_generic":"#{team} is now at position #{position} in the leaderboard","i.notification_ranking_generic":"#{team} is at position #{position} in the leaderboard","i.notification_ranking_1_other":"#{team} is now at the first position of the leaderboard!","i.notification_ranking_2_other":"#{team} is now at the second position of the leaderboard!","i.notification_ranking_3_other":"#{team} is now at the third position of the leaderboard!","i.notification_time_hours_and_minutes":"#{hours} hours and #{minutes} minutes to run out of time","i.notification_time_one_hour_and_minutes":"One hour and #{minutes} minutes to run out of time","i.notification_time_hours":"#{hours} hours to run out of time","i.notification_time_one_hour":"1 hour to run out of time","i.notification_time_minutes":"#{minutes} minutes to run out of time","i.notification_time_one_minute":"1 minute to run out of time","i.notification_time_runout":"Time's up!","i.notification_time_runout_title":"Escape room completed","i.not_supported_title":"Unsupported web browser","i.not_supported_text":"We are sorry. Your web browser does not allow to perform this activity. Try a different browser."},es:{"i.button_ok":"Ok","i.button_nok":"Cancelar","i.button_retry":"Reintentar","i.generic_error_title":"Error","i.auth_title":"Autenticaci\xF3n necesaria","i.auth_text":"Introduce las credenciales (correo y contrase\xF1a) de tu usuario en la plataforma Escapp. Para que esta autenticaci\xF3n tenga \xE9xito, previamente debes de haberte inscrito con tu usuario a la escape room en la plataforma Escapp.","i.auth_title_wrong_credentials":"Error de autenticaci\xF3n","i.auth_text_wrong_credentials":"Las credenciales aportadas no son correctas. Debes introducir las credenciales (correo y contrase\xF1a) de tu usuario en la plataforma Escapp. Para que esta autenticaci\xF3n tenga \xE9xito, previamente debes de haberte inscrito con tu usuario a la escape room en la plataforma Escapp.","i.auth_email_label":"Correo electr\xF3nico","i.auth_password_label":"Contrase\xF1a","i.connecton_error_title":"Error de conexi\xF3n","i.connecton_error_text":"No se ha podido conectar con la plataforma Escapp.","i.completion_title":"\xA1Escape Room Completada!","i.completion_text":"\xA1Enhorabuena! Has completado la escape room.<br/>En la <a href='#{escappURL}' target='_blank'>plataforma escapp</a> puedes consultar el ranking para ver en que posici\xF3n has finalizado.","i.initialization_error_title":"Error de inicializaci\xF3n de Escapp client","i.initialization_error_endpoint":"Escapp client no se pudo iniciar correctamente porque no se proporcion\xF3 la URL de la plataforma Escapp.","i.initialization_error_endpoint_format":"Escapp client no se pudo iniciar correctamente porque la URL proporcionada para acceder a la plataforma Escapp tiene un formato incorrecto.","i.initialization_error_linkedPuzzleIds":"Escapp client no se pudo iniciar correctamente porque no se ha proporcionado ni resourceId ni linkedPuzzleIds.","i.participation_error_NOT_ACTIVE":"Eres participante de esta escape room pero el turno al que te has apuntado a\xFAn no ha empezado.","i.participation_error_NOT_AUTHENTICATED":"Es necesario autenticarse antes de enviar soluciones de retos.","i.participation_error_NOT_PARTICIPANT":"No eres participante de esta escape room.","i.participation_error_NOT_STARTED":"Eres participante de esta escape room pero no le has dado al bot\xF3n de comenzar en la plataforma escapp.","i.participation_error_TOO_LATE":"Eres participante de esta escape room pero el turno al que te has apuntado ha terminado o te has quedado sin tiempo.","i.puzzles_required":"No deber\xEDas estar aqu\xED. Debes completar retos anteriores antes de acceder a este.","i.restore_title":"Actualizaci\xF3n de estado","i.restore_auto_text":"Se encontr\xF3 un estado m\xE1s reciente de la aplicaci\xF3n en el servidor de Escapp. Se va a actualizar la aplicaci\xF3n en base a este estado.","i.restore_request_text":"Se encontr\xF3 un estado m\xE1s reciente de la aplicaci\xF3n en el servidor de Escapp. \xBFDesea actualizar la aplicaci\xF3n en base a este estado? Si no lo hace su aplicaci\xF3n podr\xEDa estar en un estado diferente al del resto de miembros de su equipo.","i.start_title":"\xBFQuieres iniciar la escape room?","i.start_text":"Pulsa 'Ok' para empezar la escape room ahora mismo o 'Cancelar' para iniciarla en otro momento.<br/>Una vez iniciada la escape room, empezar\xE1 a correr el tiempo y \xE9ste no podr\xE1 ser detenido.","i.notification_start":"Empieza la Escape Room. \xA1Suerte #{team}!","i.notification_member_join":"#{member} se ha unido a la Escape Room","i.notification_member_leave":"#{member} ha abandonado la Escape Room","i.notification_hint_new":"Tu equipo ha conseguido una nueva pista. Accede a la plataforma Escapp para consultarla.","i.notification_puzzle_success":"Tu equipo ha superado un nuevo reto.","i.notification_puzzle_success_end1":"\xA1Buen trabajo #{team}!","i.notification_puzzle_success_end2":"\xA1Bien hecho #{team}!","i.notification_puzzle_success_end3":"\xA1Seguid as\xED #{team}!","i.notification_ranking_1_up":"\xA1Enhorabuena #{team}! Vais primeros en la clasificaci\xF3n!","i.notification_ranking_2_up":"\xA1Genial #{team}! Vais segundos en la clasificaci\xF3n","i.notification_ranking_3_up":"\xA1Muy bien #{team}! Vais terceros en la clasificaci\xF3n","i.notification_ranking_1_same":"Muy bien #{team}, \xA1segu\xEDs encabezando la clasificaci\xF3n!","i.notification_ranking_2_same":"Estupendo #{team}, \xA1segu\xEDs segundos en la clasificaci\xF3n!","i.notification_ranking_3_same":"Bien #{team}, \xA1segu\xEDs terceros en la clasificaci\xF3n!","i.notification_ranking_2_down":"\xA1#{teamOther} os acaba de adelantar en la clasificaci\xF3n! Ahora v\xE1is segundos","i.notification_ranking_3_down":"\xA1#{teamOther} os acaba de adelantar en la clasificaci\xF3n! Ahora v\xE1is terceros","i.notification_ranking_up":"\xA1#{team} ha avanzado a la #{position}\xBA posici\xF3n de la clasificaci\xF3n!","i.notification_ranking_down":"\xA1#{teamOther} os acaba de adelantar! #{team} ahora ocupa la #{position}\xBA posici\xF3n de la clasificaci\xF3n","i.notification_ranking_down_generic":"#{team} ahora ocupa la #{position}\xBA posici\xF3n de la clasificaci\xF3n","i.notification_ranking_generic":"#{team} est\xE1 en la #{position}\xBA posici\xF3n de la clasificaci\xF3n","i.notification_ranking_1_other":"#{teamOther} se ha colocado en la primera posici\xF3n de la clasificaci\xF3n","i.notification_ranking_2_other":"#{teamOther} se ha colocado en la segunda posici\xF3n de la clasificaci\xF3n","i.notification_ranking_3_other":"#{teamOther} se ha colocado en la tercera posici\xF3n de la clasificaci\xF3n","i.notification_time_hours_and_minutes":"Faltan #{hours} horas y #{minutes} minutos para que se agote el tiempo","i.notification_time_one_hour_and_minutes":"Falta 1 hora y #{minutes} minutos para que se agote el tiempo","i.notification_time_hours":"Faltan #{hours} horas para que se agote el tiempo","i.notification_time_one_hour":"Falta 1 hora para que se agote el tiempo","i.notification_time_minutes":"Faltan #{minutes} minutos para que se agote el tiempo","i.notification_time_one_minute":"Falta 1 minuto para que se agote el tiempo","i.notification_time_runout":"\xA1Se ha agotado el tiempo!","i.notification_time_runout_title":"Escape room finalizada","i.notsupported_title":"Navegador web no soportado","i.notsupported_text":"Lo sentimos. Su navegador web no permite realizar esta actividad. Pruebe con otro navegador."},sr:{"i.button_ok":"U redu","i.button_nok":"Otka\u017Ei","i.button_retry":"Poku\u0161aj ponovo","i.generic_error_title":"Gre\u0161ka","i.auth_title":"Potrebna je autentifikacija","i.auth_text":"Unesite svoje Escapp korisni\u010Dke akreditive (e-po\u0161tu i lozinku). Da bi ova autentifikacija bila uspe\u0161na, morate se prethodno registrovati sa svojim korisni\u010Dkim imenom u escape sobi na Escapp platformi.","i.auth_title_wrong_credentials":"Gre\u0161ka pri autentifikaciji","i.auth_text_wrong_credentials":"Uneti akreditivi nisu ispravni. Potrebno je da unesete svoje Escapp korisni\u010Dke akreditive (e-po\u0161tu i lozinku). Da bi ova autentifikacija bila uspe\u0161na, morate se prethodno registrovati sa svojim korisni\u010Dkim imenom u escape sobi na Escapp platformi.","i.auth_email_label":"Email","i.auth_password_label":"Lozinka","i.connecton_error_title":"Gre\u0161ka u povezivanju","i.connecton_error_text":"Nije moguc\u0301e povezati se sa Escapp platformom.","i.completion_title":"Escape soba zavr\u0161ena!","i.completion_text":"\xA1\u010Cestitamo! Zavr\u0161ili ste escape sobu. Na Escapp platformi mo\u017Eete proveriti tabelu da biste videli na kojoj ste poziciji zavr\u0161ili.","i.initialization_error_title":"Gre\u0161ka pri inicijalizaciji Escapp klijenta","i.initialization_error_endpoint":"Escapp klijent nije mogao biti ispravno pokrenut jer krajnja ta\u010Dka (endpoint) Escapp-a nije navedena.","i.initialization_error_endpoint_format":"Escapp klijent nije mogao biti ispravno pokrenut jer je format navedene krajnje ta\u010Dke (endpoint) Escapp-a neta\u010Dant.","i.initialization_error_linkedPuzzleIds":"Escapp klijent nije mogao biti ispravno pokrenut jer nisu navedeni ni resourceId ni linkedPuzzleIds.","i.participation_error_NOT_ACTIVE":"Vi ste u\u010Desnik ove escape sobe, ali smena za koju ste se prijavili jo\u0161 nije po\u010Dela.","i.participation_error_NOT_AUTHENTICATED":"Potrebna je autentifikacija pre slanja re\u0161enja zagonetki.","i.participation_error_NOT_PARTICIPANT":"Niste u\u010Desnik ove escape sobe.","i.participation_error_NOT_STARTED":"Vi ste u\u010Desnik ove escape sobe, ali morate da kliknete na dugme \u201EStart\u201C na Escapp platformi da biste pokrenuli escape sobu.","i.participation_error_TOO_LATE":"Vi ste u\u010Desnik ove escape sobe, ali smena za koju ste se prijavili je zavr\u0161ena ili vam je isteklo vreme.","i.puzzles_required":"Vi ne bi trebalo da budete ovde. Morate da zavr\u0161ite prethodne zagonetke pre nego \u0161to pristupite ovoj.","i.restore_title":"A\u017Euriranje statusa","i.restore_auto_text":"Noviji status aplikacije je prona\u0111en na Escapp serveru. Aplikacija c\u0301e biti a\u017Eurirana na osnovu ovog statusa.","i.restore_request_text":" Noviji status aplikacije je prona\u0111en na Escapp serveru. Da li \u017Eelite da a\u017Eurirate aplikaciju na osnovu ovog statusa? Ako to ne u\u010Dinite, va\u0161a aplikacija bi mogla biti u druga\u010Dijem stanju od ostalih \u010Dlanova va\u0161eg tima.","i.start_title":"Da li \u017Eelite da pokrenete escape sobu?","i.start_text":"Pritisnite 'U redu' da biste odmah pokrenuli escape sobu ili 'Otka\u017Ei' da biste je pokrenuli kasnije.<br/>Kada se escape soba pokrene, vreme c\u0301e po\u010Deti da te\u010De i ne mo\u017Ee se zaustaviti.","i.notification_start":"Escape Soba po\u010Dinje. Srec\u0301no #{team}!","i.notification_member_join":"#{member} se pridru\u017Eio Escape Room-u","i.notification_member_leave":"#{member} je napustio Escape Room","i.notification_hint_new":"Va\u0161 tim je dobio novi savet (hint). Pristupite Escapp platformi da biste ga pro\u010Ditali.","i.notification_puzzle_success":"Va\u0161 tim je re\u0161io novu zagonetku.","i.notification_puzzle_success_end1":"Dobro odra\u0111eno #{team}!","i.notification_puzzle_success_end2":"Veoma dobro #{team}!","i.notification_puzzle_success_end3":"Samo nastavite sa dobrim radom #{team}!","i.notification_ranking_1_up":"\u010Cestitamo #{team}! Prvi ste na tabeli","i.notification_ranking_2_up":"Odli\u010Dno #{team}! Drugi ste na tabeli","i.notification_ranking_3_up":"Vrlo dobro #{team}! Trec\u0301i ste na tabeli","i.notification_ranking_1_same":"Vrlo dobro #{team}, nastavljate da vodite na tabeli!","i.notification_ranking_2_same":"Odli\u010Dno #{team}, nastavljate da budete drugi na tabeli!","i.notification_ranking_3_same":"Dobro #{team}, nastavljate da budete trec\u0301i na tabeli!","i.notification_ranking_2_down":"#{teamOther} vas je upravo pretekao na tabeli! Sada ste drugi na tabeli","i.notification_ranking_3_down":"#{teamOther} vas je upravo pretekao na tabeli! Sada ste trec\u0301i na tabeli.","i.notification_ranking_up":"#{team} je napredovao na poziciju #{position} na tabeli!","i.notification_ranking_down":"#{teamOther} vas je upravo pretekao! #{team} je sada na poziciji #{position} na tabeli.","i.notification_ranking_down_generic":"#{team} je sada na poziciji #{position} na tabeli.","i.notification_ranking_generic":"#{team} je na poziciji #{position} na tabeli.","i.notification_ranking_1_other":"#{team} je sada na prvoj poziciji tabele!","i.notification_ranking_2_other":"#{team} je sada na drugoj poziciji tabele!","i.notification_ranking_3_other":"#{team} je sada na trec\u0301oj poziciji tabele!","i.notification_time_hours_and_minutes":"#{hours} sati i #{minutes} minuta do isteka vremena.","i.notification_time_one_hour_and_minutes":"Jedan sat i  #{minutes} minuta do isteka vremena.","i.notification_time_hours":"#{hours} sati do isteka vremena.","i.notification_time_one_hour":"1 sat do isteka vremena.","i.notification_time_minutes":"#{minutes} minuta do isteka vremena.","i.notification_time_one_minute":"1 minut do isteka vremena.","i.notification_time_runout":"Vreme je isteklo!","i.notification_time_runout_title":"Escape soba zavr\u0161ena.","i.not_supported_title":"Nepodr\u017Eani veb pregleda\u010D (browser).","i.not_supported_text":"\u017Dao nam je. Va\u0161 veb pregleda\u010D (browser) ne dozvoljava izvr\u0161avanje ove aktivnosti. Poku\u0161ajte sa drugim pregleda\u010Dem."}};function V(C){return V=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},V(C)}function M(C){if(Q===void 0){var a={availableLocales:["es","en","sr"],defaultLocale:"en",locale:void 0};if(F=m(a,C),Q=it,V(C)=="object"&&V(C.locales)==="object"&&(Q=m(Q,C.locales),delete F.locales),H(F.defaultLocale)===!1&&(F.availableLocales!==void 0&&F.availableLocales instanceof Array&&F.availableLocales.length>0?F.defaultLocale=F.availableLocales[0]:F.defaultLocale=a.defaultLocale),H(F.locale)===!1){var b=(function(){var N=I();if(H(N.locale))return N.locale;var ot=navigator.language||navigator.userLanguage;if(typeof ot=="string"&&ot.indexOf("-")!==-1&&(ot=ot.split("-")[0]),H(ot))return ot})();H(b)?F.locale=b:F.locale=F.defaultLocale}}}function H(C){return typeof C=="string"&&F.availableLocales.indexOf(C)!==-1}function X(C,a){return Q[F.locale]!==void 0&&typeof Q[F.locale][C]=="string"?Z(Q[F.locale][C],a):F.locale!==F.defaultLocale&&Q[F.defaultLocale]!==void 0&&typeof Q[F.defaultLocale][C]=="string"?Z(Q[F.defaultLocale][C],a):F.locale!=="EN"&&F.defaultLocale!=="EN"&&Q.en!==void 0&&typeof Q.en[C]=="string"?Z(Q.en[C],a):void 0}function Z(C,a){if(V(a)!=="object")return C;for(var b in a){var N="#{"+b+"}";C.indexOf(N)!==-1&&(ot=C,Ct=N,_e=a[b],C=ot.replace(new RegExp(Ct.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),_e))}var ot,Ct,_e;return C}function st(C){return st=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},st(C)}var Pt,pt,ft=!1,q=!1;function At(C,a){Pt===void 0&&typeof C=="string"&&(Pt=C,ft=_t(),q=ft&&!a)}function _t(){return!!window.localStorage&&typeof localStorage.getItem=="function"&&typeof localStorage.setItem=="function"&&typeof localStorage.removeItem=="function"}function Jt(){if(!q)return{};var C=localStorage.getItem(Pt);if(C==null)return{};try{return JSON.parse(C)}catch(a){return{}}}function g(C){if(q){try{C=JSON.stringify(C),localStorage.setItem(Pt,C)}catch(a){return}return C}}function St(C){if(q){var a=Jt();return st(a)==="object"?a[C]:void 0}}function jt(C,a){if(q){var b=Jt();return st(b)==="object"?(b[C]=a,g(b)):void 0}}function L(C){if(q){var a=Jt();return st(a)==="object"?(delete a[C],g(a)):void 0}}function An(){ft&&localStorage.removeItem(Pt)}function te(C,a){if(q){var b=St(C);return st(b)==="object"?b[a]:void 0}}function Ot(C,a,b){if(q){var N=St(C);return N===void 0&&(N={}),st(N)==="object"?(N[a]=b,jt(C,N)):void 0}}function ye(C,a){if(q){var b=St(C);return st(b)==="object"?(delete b[a],jt(C,b)):void 0}}var l=!1,Bt="appData";function qt(C,a){l=(pt=C)!==void 0&&!a}function we(C){return l?pt.getChildSetting(Bt,C):void 0}function ce(C,a){return l?pt.saveChildSetting(Bt,C,a):void 0}function He(C){return l?pt.removeChildSetting(Bt,C):void 0}function yn(){return l?pt.removeSetting(Bt):void 0}const on=(function(){function C(ut,$t){var Ht=(65535&ut)+(65535&$t);return(ut>>16)+($t>>16)+(Ht>>16)<<16|65535&Ht}function a(ut,$t,Ht,sn,Sn,ni){return C((Wn=C(C($t,ut),C(sn,ni)))<<(ke=Sn)|Wn>>>32-ke,Ht);var Wn,ke}function b(ut,$t,Ht,sn,Sn,ni,Wn){return a($t&Ht|~$t&sn,ut,$t,Sn,ni,Wn)}function N(ut,$t,Ht,sn,Sn,ni,Wn){return a($t&sn|Ht&~sn,ut,$t,Sn,ni,Wn)}function ot(ut,$t,Ht,sn,Sn,ni,Wn){return a($t^Ht^sn,ut,$t,Sn,ni,Wn)}function Ct(ut,$t,Ht,sn,Sn,ni,Wn){return a(Ht^($t|~sn),ut,$t,Sn,ni,Wn)}function _e(ut,$t){var Ht,sn,Sn,ni,Wn;ut[$t>>5]|=128<<$t%32,ut[14+($t+64>>>9<<4)]=$t;var ke=1732584193,Le=-271733879,G=-1732584194,lt=271733878;for(Ht=0;Ht<ut.length;Ht+=16)sn=ke,Sn=Le,ni=G,Wn=lt,ke=b(ke,Le,G,lt,ut[Ht],7,-680876936),lt=b(lt,ke,Le,G,ut[Ht+1],12,-389564586),G=b(G,lt,ke,Le,ut[Ht+2],17,606105819),Le=b(Le,G,lt,ke,ut[Ht+3],22,-1044525330),ke=b(ke,Le,G,lt,ut[Ht+4],7,-176418897),lt=b(lt,ke,Le,G,ut[Ht+5],12,1200080426),G=b(G,lt,ke,Le,ut[Ht+6],17,-1473231341),Le=b(Le,G,lt,ke,ut[Ht+7],22,-45705983),ke=b(ke,Le,G,lt,ut[Ht+8],7,1770035416),lt=b(lt,ke,Le,G,ut[Ht+9],12,-1958414417),G=b(G,lt,ke,Le,ut[Ht+10],17,-42063),Le=b(Le,G,lt,ke,ut[Ht+11],22,-1990404162),ke=b(ke,Le,G,lt,ut[Ht+12],7,1804603682),lt=b(lt,ke,Le,G,ut[Ht+13],12,-40341101),G=b(G,lt,ke,Le,ut[Ht+14],17,-1502002290),ke=N(ke,Le=b(Le,G,lt,ke,ut[Ht+15],22,1236535329),G,lt,ut[Ht+1],5,-165796510),lt=N(lt,ke,Le,G,ut[Ht+6],9,-1069501632),G=N(G,lt,ke,Le,ut[Ht+11],14,643717713),Le=N(Le,G,lt,ke,ut[Ht],20,-373897302),ke=N(ke,Le,G,lt,ut[Ht+5],5,-701558691),lt=N(lt,ke,Le,G,ut[Ht+10],9,38016083),G=N(G,lt,ke,Le,ut[Ht+15],14,-660478335),Le=N(Le,G,lt,ke,ut[Ht+4],20,-405537848),ke=N(ke,Le,G,lt,ut[Ht+9],5,568446438),lt=N(lt,ke,Le,G,ut[Ht+14],9,-1019803690),G=N(G,lt,ke,Le,ut[Ht+3],14,-187363961),Le=N(Le,G,lt,ke,ut[Ht+8],20,1163531501),ke=N(ke,Le,G,lt,ut[Ht+13],5,-1444681467),lt=N(lt,ke,Le,G,ut[Ht+2],9,-51403784),G=N(G,lt,ke,Le,ut[Ht+7],14,1735328473),ke=ot(ke,Le=N(Le,G,lt,ke,ut[Ht+12],20,-1926607734),G,lt,ut[Ht+5],4,-378558),lt=ot(lt,ke,Le,G,ut[Ht+8],11,-2022574463),G=ot(G,lt,ke,Le,ut[Ht+11],16,1839030562),Le=ot(Le,G,lt,ke,ut[Ht+14],23,-35309556),ke=ot(ke,Le,G,lt,ut[Ht+1],4,-1530992060),lt=ot(lt,ke,Le,G,ut[Ht+4],11,1272893353),G=ot(G,lt,ke,Le,ut[Ht+7],16,-155497632),Le=ot(Le,G,lt,ke,ut[Ht+10],23,-1094730640),ke=ot(ke,Le,G,lt,ut[Ht+13],4,681279174),lt=ot(lt,ke,Le,G,ut[Ht],11,-358537222),G=ot(G,lt,ke,Le,ut[Ht+3],16,-722521979),Le=ot(Le,G,lt,ke,ut[Ht+6],23,76029189),ke=ot(ke,Le,G,lt,ut[Ht+9],4,-640364487),lt=ot(lt,ke,Le,G,ut[Ht+12],11,-421815835),G=ot(G,lt,ke,Le,ut[Ht+15],16,530742520),ke=Ct(ke,Le=ot(Le,G,lt,ke,ut[Ht+2],23,-995338651),G,lt,ut[Ht],6,-198630844),lt=Ct(lt,ke,Le,G,ut[Ht+7],10,1126891415),G=Ct(G,lt,ke,Le,ut[Ht+14],15,-1416354905),Le=Ct(Le,G,lt,ke,ut[Ht+5],21,-57434055),ke=Ct(ke,Le,G,lt,ut[Ht+12],6,1700485571),lt=Ct(lt,ke,Le,G,ut[Ht+3],10,-1894986606),G=Ct(G,lt,ke,Le,ut[Ht+10],15,-1051523),Le=Ct(Le,G,lt,ke,ut[Ht+1],21,-2054922799),ke=Ct(ke,Le,G,lt,ut[Ht+8],6,1873313359),lt=Ct(lt,ke,Le,G,ut[Ht+15],10,-30611744),G=Ct(G,lt,ke,Le,ut[Ht+6],15,-1560198380),Le=Ct(Le,G,lt,ke,ut[Ht+13],21,1309151649),ke=Ct(ke,Le,G,lt,ut[Ht+4],6,-145523070),lt=Ct(lt,ke,Le,G,ut[Ht+11],10,-1120210379),G=Ct(G,lt,ke,Le,ut[Ht+2],15,718787259),Le=Ct(Le,G,lt,ke,ut[Ht+9],21,-343485551),ke=C(ke,sn),Le=C(Le,Sn),G=C(G,ni),lt=C(lt,Wn);return[ke,Le,G,lt]}function Xe(ut){var $t,Ht="",sn=32*ut.length;for($t=0;$t<sn;$t+=8)Ht+=String.fromCharCode(ut[$t>>5]>>>$t%32&255);return Ht}function Ue(ut){var $t,Ht=[];for(Ht[(ut.length>>2)-1]=void 0,$t=0;$t<Ht.length;$t+=1)Ht[$t]=0;var sn=8*ut.length;for($t=0;$t<sn;$t+=8)Ht[$t>>5]|=(255&ut.charCodeAt($t/8))<<$t%32;return Ht}function Rn(ut){var $t,Ht,sn="0123456789abcdef",Sn="";for(Ht=0;Ht<ut.length;Ht+=1)$t=ut.charCodeAt(Ht),Sn+=sn.charAt($t>>>4&15)+sn.charAt(15&$t);return Sn}function dn(ut){return unescape(encodeURIComponent(ut))}function at(ut){return(function($t){return Xe(_e(Ue($t),8*$t.length))})(dn(ut))}function Et(ut,$t){return(function(Ht,sn){var Sn,ni,Wn=Ue(Ht),ke=[],Le=[];for(ke[15]=Le[15]=void 0,Wn.length>16&&(Wn=_e(Wn,8*Ht.length)),Sn=0;Sn<16;Sn+=1)ke[Sn]=909522486^Wn[Sn],Le[Sn]=1549556828^Wn[Sn];return ni=_e(ke.concat(Ue(sn)),512+8*sn.length),Xe(_e(Le.concat(ni),640))})(dn(ut),dn($t))}return function(ut,$t,Ht){return $t?Ht?Et($t,ut):Rn(Et($t,ut)):Ht?at(ut):Rn(at(ut))}})();var Fn=__webpack_require__(329),vi=!1,Ti=void 0;function ri(C){vi!==!0&&(vi=!0,Ti=C)}function Ft(C){return Ft=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Ft(C)}function Se(C){return(function(a){if(Array.isArray(a))return ln(a)})(C)||(function(a){if(typeof Symbol!="undefined"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)})(C)||(function(a,b){if(a){if(typeof a=="string")return ln(a,b);var N={}.toString.call(a).slice(8,-1);return N==="Object"&&a.constructor&&(N=a.constructor.name),N==="Map"||N==="Set"?Array.from(a):N==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N)?ln(a,b):void 0}})(C)||(function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function ln(C,a){(a==null||a>C.length)&&(a=C.length);for(var b=0,N=Array(a);b<a;b++)N[b]=C[b];return N}function $n(C,a){for(var b=0;b<a.length;b++){var N=a[b];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(C,Ei(N.key),N)}}function Ei(C){var a=(function(b,N){if(Ft(b)!="object"||!b)return b;var ot=b[Symbol.toPrimitive];if(ot!==void 0){var Ct=ot.call(b,N||"default");if(Ft(Ct)!="object")return Ct;throw new TypeError("@@toPrimitive must return a primitive value.")}return(N==="string"?String:Number)(b)})(C,"string");return Ft(a)=="symbol"?a:a+""}const Pi=(kt=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],Qt=(function(){return C=function N(ot){var Ct=ot.targetModal,_e=ot.triggers,Xe=_e===void 0?[]:_e,Ue=ot.onShow,Rn=Ue===void 0?function(){}:Ue,dn=ot.onClose,at=dn===void 0?function(){}:dn,Et=ot.openTrigger,ut=Et===void 0?"data-micromodal-trigger":Et,$t=ot.closeTrigger,Ht=$t===void 0?"data-micromodal-close":$t,sn=ot.disableScroll,Sn=sn!==void 0&&sn,ni=ot.disableFocus,Wn=ni!==void 0&&ni,ke=ot.awaitCloseAnimation,Le=ke!==void 0&&ke,G=ot.awaitOpenAnimation,lt=G!==void 0&&G,Gt=ot.debugMode,le=Gt!==void 0&&Gt,Ee=ot.inputs,fn=Ee===void 0?void 0:Ee,vn=ot.buttons,En=vn===void 0?void 0:vn;(function(pn,Ci){if(!(pn instanceof Ci))throw new TypeError("Cannot call a class as a function")})(this,N),this.modal=document.getElementById(Ct),this.config={debugMode:le,disableScroll:Sn,openTrigger:ut,closeTrigger:Ht,onShow:Rn,onClose:at,awaitCloseAnimation:Le,awaitOpenAnimation:lt,disableFocus:Wn,inputs:fn,buttons:En},Xe.length>0&&this.registerTriggers.apply(this,Se(Xe)),this.onClick=this.onClick.bind(this),this.onKeydown=this.onKeydown.bind(this),this.onInputKeyup=this.onInputKeyup.bind(this),fn!==void 0&&fn.length>0?(this.modal.classList.add("require-input"),this.modal.classList.add("invalid-input")):(this.modal.classList.remove("require-input"),this.modal.classList.remove("invalid-input"))},a=[{key:"registerTriggers",value:function(){for(var N=this,ot=arguments.length,Ct=new Array(ot),_e=0;_e<ot;_e++)Ct[_e]=arguments[_e];Ct.filter(Boolean).forEach((function(Xe){Xe.addEventListener("click",(function(Ue){return N.showModal(Ue)}))}))}},{key:"showModal",value:function(){var N=this;if(this.activeElement=document.activeElement,this.modal.setAttribute("aria-hidden","false"),this.modal.classList.add("is-open"),this.scrollBehaviour("disable"),this.addEventListeners(),this.config.awaitOpenAnimation){var ot=function(){N.modal.removeEventListener("animationend",ot,!1),N.setFocusToFirstNode()};this.modal.addEventListener("animationend",ot,!1)}else this.setFocusToFirstNode();this.config.onShow(this.modal,this.activeElement)}},{key:"closeModal",value:function(N){var ot=this.modal;this.modal.setAttribute("aria-hidden","true"),this.removeEventListeners(),this.scrollBehaviour("enable"),this.activeElement&&this.activeElement.focus();var Ct={choice:void 0,inputs:[]};if(this.config.inputs!==void 0){for(var _e=[],Xe=0;Xe<this.config.inputs.length;Xe++){var Ue=document.getElementById("escapp-modal-input"+(Xe+1));_e.push(Ue.value)}Ct.inputs=_e}this.config.buttons!==void 0&&this.config.buttons instanceof Array&&this.config.buttons.length>0?(Ct.choice=!1,N!==void 0&&(N.keyCode===13&&typeof this.config.buttons[0].response=="string"?Ct.choice=this.config.buttons[0].response:N.target!==void 0&&typeof N.target.getAttribute("response")=="string"&&(Ct.choice=N.target.getAttribute("response")))):Ct.choice=!0,this.config.onClose(this.modal,Ct),this.config.awaitCloseAnimation?this.modal.addEventListener("animationend",(function Rn(){ot.classList.remove("is-open"),ot.removeEventListener("animationend",Rn,!1)}),!1):ot.classList.remove("is-open")}},{key:"scrollBehaviour",value:function(N){if(this.config.disableScroll){var ot=document.querySelector("body");switch(N){case"enable":Object.assign(ot.style,{overflow:"",height:""});break;case"disable":Object.assign(ot.style,{overflow:"hidden",height:"100vh"})}}}},{key:"addEventListeners",value:function(){if(this.modal.addEventListener("touchstart",this.onClick),this.modal.addEventListener("click",this.onClick),document.addEventListener("keydown",this.onKeydown),this.config.inputs!==void 0)for(var N=0;N<this.config.inputs.length;N++){var ot=document.getElementById("escapp-modal-input"+(N+1));ot&&ot.addEventListener("keydown",this.onInputKeyup)}}},{key:"removeEventListeners",value:function(){if(this.modal.removeEventListener("touchstart",this.onClick),this.modal.removeEventListener("click",this.onClick),document.removeEventListener("keydown",this.onKeydown),this.config.inputs!==void 0)for(var N=0;N<this.config.inputs.length;N++){var ot=document.getElementById("escapp-modal-input"+(N+1));ot&&ot.removeEventListener("keydown",this.onInputKeyup)}}},{key:"onClick",value:function(N){N.target.hasAttribute(this.config.closeTrigger)&&((N.target.classList.contains("ignore_input_validation")||this.validateInputs())&&this.closeModal(N),N.preventDefault())}},{key:"onKeydown",value:function(N){N.keyCode===27&&(this.config.inputs!==void 0||this.config.buttons!==void 0&&this.config.buttons.length!==1||(this.closeModal(N),N.preventDefault())),N.keyCode===13&&(!this.validateInputs()||this.config.buttons!==void 0&&this.config.buttons.length!==1||(this.closeModal(N),N.preventDefault())),N.keyCode===9&&this.maintainFocus(N)}},{key:"onInputKeyup",value:function(N){var ot=this;setTimeout((function(){ot.validateInputs()?ot.modal.classList.remove("invalid-input"):ot.modal.classList.add("invalid-input")}),20)}},{key:"getFocusableNodes",value:function(){var N=this.modal.querySelectorAll(kt);return Array.apply(void 0,Se(N))}},{key:"setFocusToFirstNode",value:function(){if(!this.config.disableFocus){var N=this.getFocusableNodes();N.length&&N[0].focus()}}},{key:"maintainFocus",value:function(N){var ot=this.getFocusableNodes();if(this.modal.contains(document.activeElement)){var Ct=ot.indexOf(document.activeElement);N.shiftKey&&Ct===0&&(ot[ot.length-1].focus(),N.preventDefault()),N.shiftKey||Ct!==ot.length-1||(ot[0].focus(),N.preventDefault())}else ot[0].focus()}},{key:"validateInputs",value:function(){if(this.config.inputs===void 0||this.config.inputs.length===0)return!0;for(var N=0;N<this.config.inputs.length;N++){var ot=document.getElementById("escapp-modal-input"+(N+1));if(this.validateInput(ot,this.config.inputs[N])===!1)return!1}return!0}},{key:"validateInput",value:function(N,ot){var Ct=N.value;return Ct!==""&&(typeof ot.validate!="function"||ot.validate(Ct))}}],a&&$n(C.prototype,a),b&&$n(C,b),Object.defineProperty(C,"prototype",{writable:!1}),C;var C,a,b})(),pe=null,Te=function(C){if(!document.getElementById(C))return console.warn("MicroModal: \u2757Seems like you have missed %c'".concat(C,"'"),"background-color: #f8f9fa;color: #50596c;font-weight: bold;","ID somewhere in your code. Refer example below to resolve it."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<div class="escapp-modal" id="'.concat(C,'"></div>')),!1},Be=function(C,a){if((function(N){N.length<=0&&(console.warn("MicroModal: \u2757Please specify at least one %c'micromodal-trigger'","background-color: #f8f9fa;color: #50596c;font-weight: bold;","data attribute."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<a href="#" data-micromodal-trigger="my-modal"></a>'))})(C),!a)return!0;for(var b in a)Te(b);return!0},ae={init:function(C){var a=Object.assign({},{openTrigger:"data-micromodal-trigger"},C),b=Se(document.querySelectorAll("[".concat(a.openTrigger,"]"))),N=(function(_e,Xe){var Ue=[];return _e.forEach((function(Rn){var dn=Rn.attributes[Xe].value;Ue[dn]===void 0&&(Ue[dn]=[]),Ue[dn].push(Rn)})),Ue})(b,a.openTrigger);if(a.debugMode!==!0||Be(b,N)!==!1)for(var ot in N){var Ct=N[ot];a.targetModal=ot,a.triggers=Se(Ct),pe=new Qt(a)}},show:function(C,a){var b=a||{};b.targetModal=C,b.debugMode===!0&&Te(C)===!1||(pe=new Qt(b)).showModal()},close:function(C,a){(a||{}).targetModal=C,C&&(pe.modal=document.getElementById(C)),typeof a.onClose=="function"&&(pe.config.onClose=a.onClose),pe.closeModal()}},ae);var kt,Qt,pe,Te,Be,ae,mt,Tt=__webpack_require__(883),ue=!1;function Me(C){if(Tt("#escapp-modal").hasClass("is-open"))Pi.close("escapp-modal",{onClose:function(Ct,_e){setTimeout((function(){Me(C)}),50)}});else{var a;if(Tt("#escapp-modal-title").html(C.title),Tt("#escapp-modal-content p.content").html(C.text),Tt(".escapp-modal-input").remove(),typeof C.img=="string"?(Tt("#escapp-modal .escapp-modal__content div.escapp_content_img_wrapper img").attr("src",C.img),Tt("#escapp-modal .escapp-modal__content div.escapp_content_img_wrapper").show()):(Tt("#escapp-modal .escapp-modal__content div.escapp_content_img_wrapper img").attr("src",""),Tt("#escapp-modal .escapp-modal__content div.escapp_content_img_wrapper").hide()),C.escapp!==!1)a="logo";else{var b=["logo","lock"].indexOf(C.icon);b!==-1&&(a=["logo","lock"][b])}if(a===void 0?Tt("div.escapp-modal__container img.dialog_corner").hide():(Tt("div.escapp-modal__container img.dialog_corner."+a).show(),Tt("div.escapp-modal__container img.dialog_corner:not(."+a+")").hide()),C.inputs instanceof Array&&C.inputs.length>0)for(var N=0;N<C.inputs.length;N++)Tt("#escapp-modal-content").append('<p><input id="escapp-modal-input'+(N+1)+'" class="escapp-modal-input" type="text" spellcheck="false"/></p>'),typeof C.inputs[N].type=="string"&&Tt("#escapp-modal-input"+(N+1)).attr("type",C.inputs[N].type),typeof C.inputs[N].label=="string"&&Tt("#escapp-modal-input"+(N+1)).attr("placeholder",C.inputs[N].label),typeof C.inputs[N].autocomplete=="string"&&Tt("#escapp-modal-input"+(N+1)).attr("autocomplete",C.inputs[N].autocomplete);if(Tt("footer.escapp-modal__footer .escapp-modal__btn").remove(),C.buttons instanceof Array)for(var ot=C.buttons.length-1;ot>=0;ot--)Tt("footer.escapp-modal__footer").append('<button id="escapp-modal-button'+(ot+1)+'"class="escapp-modal__btn" data-micromodal-close>'+C.buttons[ot].label+"</button>"),typeof C.buttons[ot].response=="string"&&Tt("#escapp-modal-button"+(ot+1)).attr("response",C.buttons[ot].response),C.buttons[ot].ignoreInputs===!0&&Tt("#escapp-modal-button"+(ot+1)).addClass("ignore_input_validation");else Tt("footer.escapp-modal__footer").append('<button class="escapp-modal__btn" data-micromodal-close>'+X("i.button_ok")+"</button>");C.escapp!==!1?(Tt("#escapp-modal").addClass("escapp_dialog"),Tt("#escapp-modal").removeClass("escapp_custom_dialog")):(Tt("#escapp-modal").removeClass("escapp_dialog"),Tt("#escapp-modal").addClass("escapp_custom_dialog")),Pi.show("escapp-modal",{onShow:function(Ct,_e){typeof C.openCallback=="function"&&C.openCallback()},onClose:function(Ct,_e){typeof C.closeCallback=="function"&&C.closeCallback(_e)},inputs:C.inputs,buttons:C.buttons})}}__webpack_require__(20);var Yt=__webpack_require__(883);function Je(C){return Je=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Je(C)}var tn,bn=!1,Ln=!1,an=!1,xn=0;function pi(C){if(bn!==!0){switch(bn=!0,C.enabled){case!0:Ln=!0;break;case"FALSE_IF_EMBED":Ln=(function(){if(typeof S=="boolean")return S;var a=!0;try{a=window.location!==window.parent.location}catch(b){}return S=a,a})()===!1;break;default:Ln=!1}Yt.notify.addStyle("escapp",{html:`<div>
<span data-notify-text></span>
</div>`})}}function Hi(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Ln===!0&&Je(C)==="object"&&typeof C.text=="string"&&C.text.trim()!=="")switch(C.escapp===!0&&(C.type="event"),["ranking","info","warning","event","time","error"].indexOf(C.type)===-1&&(C.type="event"),C.type){case"ranking":return(function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},b=m(a,{className:"ranking"});return It(b)})(C);case"info":return(function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},b=m(a,{className:"info"});return It(b)})(C);case"warning":return(function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},b=m(a,{className:"warn",autoHide:!1});return It(b)})(C);case"event":return(function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},b=m(a,{className:"event"});return It(b)})(C);case"time":return(function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},b=m(a,{className:"time"});return It(b)})(C);case"error":return(function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},b=m(a,{className:"error",autoHide:!1});return It(b)})(C);default:return}}function It(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=ai(C.text),b=m({className:"event",style:"escapp",clickToHide:!0,autoHide:!0,autoHideDelay:ai(C.text),globalPosition:"top right",showAnimation:"fadeIn",showDuration:600,hideAnimation:"fadeOut",hideDuration:600,gap:0},C);["success","info","warn","error","ranking","event"].indexOf(C.className)===-1&&(C.className="event"),xn=a,an===!1&&(an=!0,tn=setInterval((function(){(xn=Math.max(0,xn-1e3))===0&&tn!==void 0&&(clearInterval(tn),an=!1)}),1e3)),Yt.notify(b.text,b)}function ai(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return xn+Math.min(2e4,Math.max(4e3,1e3+500*C.split(" ").length))}var en={maxCount:150,speed:2,frameInterval:15,alpha:1,gradient:!1,start:null,stop:null,toggle:null,pause:null,resume:null,togglePause:null,remove:null,isPaused:null,isRunning:null};en.start=qe,en.stop=Jn,en.toggle=function(){ht?Jn():qe()},en.pause=je,en.resume=wn,en.togglePause=function(){Rt?wn():je()},en.isPaused=function(){return Rt},en.remove=function(){stop(),Rt=!1,Pe=[]},en.isRunning=function(){return ht};var Mi=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame,bt=["rgba(30,144,255,","rgba(107,142,35,","rgba(255,215,0,","rgba(255,192,203,","rgba(106,90,205,","rgba(173,216,230,","rgba(238,130,238,","rgba(152,251,152,","rgba(70,130,180,","rgba(244,164,96,","rgba(210,105,30,","rgba(220,20,60,"],ht=!1,Rt=!1,he=Date.now(),Pe=[],ge=0,Fe=null;function Ne(C,a,b){return C.color=bt[Math.random()*bt.length|0]+(en.alpha+")"),C.color2=bt[Math.random()*bt.length|0]+(en.alpha+")"),C.x=Math.random()*a,C.y=Math.random()*b-b,C.diameter=10*Math.random()+5,C.tilt=10*Math.random()-10,C.tiltAngleIncrement=.07*Math.random()+.05,C.tiltAngle=Math.random()*Math.PI,C}function je(){Rt=!0}function wn(){Rt=!1,Qe()}function Qe(){if(!Rt)if(Pe.length===0)Fe.clearRect(0,0,window.innerWidth,window.innerHeight);else{var C=Date.now(),a=C-he;(!Mi||a>en.frameInterval)&&(Fe.clearRect(0,0,window.innerWidth,window.innerHeight),(function(){var b,N=window.innerWidth,ot=window.innerHeight;ge+=.01;for(var Ct=0;Ct<Pe.length;Ct++)b=Pe[Ct],!ht&&b.y<-15?b.y=ot+100:(b.tiltAngle+=b.tiltAngleIncrement,b.x+=Math.sin(ge)-.5,b.y+=.5*(Math.cos(ge)+b.diameter+en.speed),b.tilt=15*Math.sin(b.tiltAngle)),(b.x>N+20||b.x<-20||b.y>ot)&&(ht&&Pe.length<=en.maxCount?Ne(b,N,ot):(Pe.splice(Ct,1),Ct--))})(),(function(b){for(var N,ot,Ct,_e,Xe=0;Xe<Pe.length;Xe++){if(N=Pe[Xe],b.beginPath(),b.lineWidth=N.diameter,ot=(Ct=N.x+N.tilt)+N.diameter/2,_e=N.y+N.tilt+N.diameter/2,en.gradient){var Ue=b.createLinearGradient(ot,N.y,Ct,_e);Ue.addColorStop("0",N.color),Ue.addColorStop("1.0",N.color2),b.strokeStyle=Ue}else b.strokeStyle=N.color;b.moveTo(ot,N.y),b.lineTo(Ct,_e),b.stroke()}})(Fe),he=C-a%en.frameInterval),requestAnimationFrame(Qe)}}function qe(C,a,b){var N=window.innerWidth,ot=window.innerHeight;window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(Ue){return window.setTimeout(Ue,en.frameInterval)};var Ct=document.getElementById("confetti-canvas");Ct===null?((Ct=document.createElement("canvas")).setAttribute("id","confetti-canvas"),Ct.setAttribute("style","display:block;z-index:999999;pointer-events:none;position:fixed;top:0"),document.body.prepend(Ct),Ct.width=N,Ct.height=ot,window.addEventListener("resize",(function(){Ct.width=window.innerWidth,Ct.height=window.innerHeight}),!0),Fe=Ct.getContext("2d")):Fe===null&&(Fe=Ct.getContext("2d"));var _e=en.maxCount;if(a)if(b)if(a==b)_e=Pe.length+b;else{if(a>b){var Xe=a;a=b,b=Xe}_e=Pe.length+(Math.random()*(b-a)+a|0)}else _e=Pe.length+a;else b&&(_e=Pe.length+b);for(;Pe.length<_e;)Pe.push(Ne({},N,ot));ht=!0,Rt=!1,Qe(),C&&window.setTimeout(Jn,C)}function Jn(){ht=!1}var Hn=!1,Bn=[];const On=Object.create(null);On.open="0",On.close="1",On.ping="2",On.pong="3",On.message="4",On.upgrade="5",On.noop="6";const Dn=Object.create(null);Object.keys(On).forEach((C=>{Dn[On[C]]=C}));const yi={type:"error",data:"parser error"},xi=typeof Blob=="function"||typeof Blob!="undefined"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",mi=typeof ArrayBuffer=="function",oi=C=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(C):C&&C.buffer instanceof ArrayBuffer,Un=({type:C,data:a},b,N)=>xi&&a instanceof Blob?b?N(a):ti(a,N):mi&&(a instanceof ArrayBuffer||oi(a))?b?N(a):ti(new Blob([a]),N):N(On[C]+(a||"")),ti=(C,a)=>{const b=new FileReader;return b.onload=function(){const N=b.result.split(",")[1];a("b"+(N||""))},b.readAsDataURL(C)};function li(C){return C instanceof Uint8Array?C:C instanceof ArrayBuffer?new Uint8Array(C):new Uint8Array(C.buffer,C.byteOffset,C.byteLength)}let ei;const gi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ai=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(let C=0;C<64;C++)Ai[gi.charCodeAt(C)]=C;const Ui=typeof ArrayBuffer=="function",Vi=(C,a)=>{if(typeof C!="string")return{type:"message",data:er(C,a)};const b=C.charAt(0);return b==="b"?{type:"message",data:ir(C.substring(1),a)}:Dn[b]?C.length>1?{type:Dn[b],data:C.substring(1)}:{type:Dn[b]}:yi},ir=(C,a)=>{if(Ui){const b=(N=>{let ot,Ct,_e,Xe,Ue,Rn=.75*N.length,dn=N.length,at=0;N[N.length-1]==="="&&(Rn--,N[N.length-2]==="="&&Rn--);const Et=new ArrayBuffer(Rn),ut=new Uint8Array(Et);for(ot=0;ot<dn;ot+=4)Ct=Ai[N.charCodeAt(ot)],_e=Ai[N.charCodeAt(ot+1)],Xe=Ai[N.charCodeAt(ot+2)],Ue=Ai[N.charCodeAt(ot+3)],ut[at++]=Ct<<2|_e>>4,ut[at++]=(15&_e)<<4|Xe>>2,ut[at++]=(3&Xe)<<6|63&Ue;return Et})(C);return er(b,a)}return{base64:!0,data:C}},er=(C,a)=>a==="blob"?C instanceof Blob?C:new Blob([C]):C instanceof ArrayBuffer?C:C.buffer,$i="";function Ri(){return new TransformStream({transform(C,a){(function(b,N){xi&&b.data instanceof Blob?b.data.arrayBuffer().then(li).then(N):mi&&(b.data instanceof ArrayBuffer||oi(b.data))?N(li(b.data)):Un(b,!1,(ot=>{ei||(ei=new TextEncoder),N(ei.encode(ot))}))})(C,(b=>{const N=b.length;let ot;if(N<126)ot=new Uint8Array(1),new DataView(ot.buffer).setUint8(0,N);else if(N<65536){ot=new Uint8Array(3);const Ct=new DataView(ot.buffer);Ct.setUint8(0,126),Ct.setUint16(1,N)}else{ot=new Uint8Array(9);const Ct=new DataView(ot.buffer);Ct.setUint8(0,127),Ct.setBigUint64(1,BigInt(N))}C.data&&typeof C.data!="string"&&(ot[0]|=128),a.enqueue(ot),a.enqueue(b)}))}})}let ve;function mn(C){return C.reduce(((a,b)=>a+b.length),0)}function In(C,a){if(C[0].length===a)return C.shift();const b=new Uint8Array(a);let N=0;for(let ot=0;ot<a;ot++)b[ot]=C[0][N++],N===C[0].length&&(C.shift(),N=0);return C.length&&N<C[0].length&&(C[0]=C[0].slice(N)),b}function gn(C){if(C)return(function(a){for(var b in gn.prototype)a[b]=gn.prototype[b];return a})(C)}gn.prototype.on=gn.prototype.addEventListener=function(C,a){return this._callbacks=this._callbacks||{},(this._callbacks["$"+C]=this._callbacks["$"+C]||[]).push(a),this},gn.prototype.once=function(C,a){function b(){this.off(C,b),a.apply(this,arguments)}return b.fn=a,this.on(C,b),this},gn.prototype.off=gn.prototype.removeListener=gn.prototype.removeAllListeners=gn.prototype.removeEventListener=function(C,a){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var b,N=this._callbacks["$"+C];if(!N)return this;if(arguments.length==1)return delete this._callbacks["$"+C],this;for(var ot=0;ot<N.length;ot++)if((b=N[ot])===a||b.fn===a){N.splice(ot,1);break}return N.length===0&&delete this._callbacks["$"+C],this},gn.prototype.emit=function(C){this._callbacks=this._callbacks||{};for(var a=new Array(arguments.length-1),b=this._callbacks["$"+C],N=1;N<arguments.length;N++)a[N-1]=arguments[N];if(b){N=0;for(var ot=(b=b.slice(0)).length;N<ot;++N)b[N].apply(this,a)}return this},gn.prototype.emitReserved=gn.prototype.emit,gn.prototype.listeners=function(C){return this._callbacks=this._callbacks||{},this._callbacks["$"+C]||[]},gn.prototype.hasListeners=function(C){return!!this.listeners(C).length};const Mn=typeof Promise=="function"&&typeof Promise.resolve=="function"?C=>Promise.resolve().then(C):(C,a)=>a(C,0),Xn=typeof self!="undefined"?self:typeof window!="undefined"?window:Function("return this")();function Gi(C,...a){return a.reduce(((b,N)=>(C.hasOwnProperty(N)&&(b[N]=C[N]),b)),{})}const nr=Xn.setTimeout,Oi=Xn.clearTimeout;function Wi(C,a){a.useNativeTimers?(C.setTimeoutFn=nr.bind(Xn),C.clearTimeoutFn=Oi.bind(Xn)):(C.setTimeoutFn=Xn.setTimeout.bind(Xn),C.clearTimeoutFn=Xn.clearTimeout.bind(Xn))}function Gn(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class Ni extends Error{constructor(a,b,N){super(a),this.description=b,this.context=N,this.type="TransportError"}}class zi extends gn{constructor(a){super(),this.writable=!1,Wi(this,a),this.opts=a,this.query=a.query,this.socket=a.socket,this.supportsBinary=!a.forceBase64}onError(a,b,N){return super.emitReserved("error",new Ni(a,b,N)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return this.readyState!=="opening"&&this.readyState!=="open"||(this.doClose(),this.onClose()),this}send(a){this.readyState==="open"&&this.write(a)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(a){const b=Vi(a,this.socket.binaryType);this.onPacket(b)}onPacket(a){super.emitReserved("packet",a)}onClose(a){this.readyState="closed",super.emitReserved("close",a)}pause(a){}createUri(a,b={}){return a+"://"+this._hostname()+this._port()+this.opts.path+this._query(b)}_hostname(){const a=this.opts.hostname;return a.indexOf(":")===-1?a:"["+a+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(a){const b=(function(N){let ot="";for(let Ct in N)N.hasOwnProperty(Ct)&&(ot.length&&(ot+="&"),ot+=encodeURIComponent(Ct)+"="+encodeURIComponent(N[Ct]));return ot})(a);return b.length?"?"+b:""}}class Xi extends zi{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(a){this.readyState="pausing";const b=()=>{this.readyState="paused",a()};if(this._polling||!this.writable){let N=0;this._polling&&(N++,this.once("pollComplete",(function(){--N||b()}))),this.writable||(N++,this.once("drain",(function(){--N||b()})))}else b()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(a){((b,N)=>{const ot=b.split($i),Ct=[];for(let _e=0;_e<ot.length;_e++){const Xe=Vi(ot[_e],N);if(Ct.push(Xe),Xe.type==="error")break}return Ct})(a,this.socket.binaryType).forEach((b=>{if(this.readyState==="opening"&&b.type==="open"&&this.onOpen(),b.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(b)})),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const a=()=>{this.write([{type:"close"}])};this.readyState==="open"?a():this.once("open",a)}write(a){this.writable=!1,((b,N)=>{const ot=b.length,Ct=new Array(ot);let _e=0;b.forEach(((Xe,Ue)=>{Un(Xe,!1,(Rn=>{Ct[Ue]=Rn,++_e===ot&&N(Ct.join($i))}))}))})(a,(b=>{this.doWrite(b,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){const a=this.opts.secure?"https":"http",b=this.query||{};return this.opts.timestampRequests!==!1&&(b[this.opts.timestampParam]=Gn()),this.supportsBinary||b.sid||(b.b64=1),this.createUri(a,b)}}let fr=!1;try{fr=typeof XMLHttpRequest!="undefined"&&"withCredentials"in new XMLHttpRequest}catch(C){}const Pr=fr;function Or(){}class yr extends Xi{constructor(a){if(super(a),typeof location!="undefined"){const b=location.protocol==="https:";let N=location.port;N||(N=b?"443":"80"),this.xd=typeof location!="undefined"&&a.hostname!==location.hostname||N!==a.port}}doWrite(a,b){const N=this.request({method:"POST",data:a});N.on("success",b),N.on("error",((ot,Ct)=>{this.onError("xhr post error",ot,Ct)}))}doPoll(){const a=this.request();a.on("data",this.onData.bind(this)),a.on("error",((b,N)=>{this.onError("xhr poll error",b,N)})),this.pollXhr=a}}class Qi extends gn{constructor(a,b,N){super(),this.createRequest=a,Wi(this,N),this._opts=N,this._method=N.method||"GET",this._uri=b,this._data=N.data!==void 0?N.data:null,this._create()}_create(){var a;const b=Gi(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");b.xdomain=!!this._opts.xd;const N=this._xhr=this.createRequest(b);try{N.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){N.setDisableHeaderCheck&&N.setDisableHeaderCheck(!0);for(let ot in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(ot)&&N.setRequestHeader(ot,this._opts.extraHeaders[ot])}}catch(ot){}if(this._method==="POST")try{N.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(ot){}try{N.setRequestHeader("Accept","*/*")}catch(ot){}(a=this._opts.cookieJar)===null||a===void 0||a.addCookies(N),"withCredentials"in N&&(N.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(N.timeout=this._opts.requestTimeout),N.onreadystatechange=()=>{var ot;N.readyState===3&&((ot=this._opts.cookieJar)===null||ot===void 0||ot.parseCookies(N.getResponseHeader("set-cookie"))),N.readyState===4&&(N.status===200||N.status===1223?this._onLoad():this.setTimeoutFn((()=>{this._onError(typeof N.status=="number"?N.status:0)}),0))},N.send(this._data)}catch(ot){return void this.setTimeoutFn((()=>{this._onError(ot)}),0)}typeof document!="undefined"&&(this._index=Qi.requestsCount++,Qi.requests[this._index]=this)}_onError(a){this.emitReserved("error",a,this._xhr),this._cleanup(!0)}_cleanup(a){if(this._xhr!==void 0&&this._xhr!==null){if(this._xhr.onreadystatechange=Or,a)try{this._xhr.abort()}catch(b){}typeof document!="undefined"&&delete Qi.requests[this._index],this._xhr=null}}_onLoad(){const a=this._xhr.responseText;a!==null&&(this.emitReserved("data",a),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Qi.requestsCount=0,Qi.requests={},typeof document!="undefined"&&(typeof attachEvent=="function"?attachEvent("onunload",Ki):typeof addEventListener=="function"&&addEventListener("onpagehide"in Xn?"pagehide":"unload",Ki,!1));function Ki(){for(let C in Qi.requests)Qi.requests.hasOwnProperty(C)&&Qi.requests[C].abort()}const _r=(function(){const C=pr({xdomain:!1});return C&&C.responseType!==null})();function pr(C){const a=C.xdomain;try{if(typeof XMLHttpRequest!="undefined"&&(!a||Pr))return new XMLHttpRequest}catch(b){}if(!a)try{return new Xn[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(b){}}const rr=typeof navigator!="undefined"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class s extends zi{get name(){return"websocket"}doOpen(){const a=this.uri(),b=this.opts.protocols,N=rr?{}:Gi(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(N.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(a,b,N)}catch(ot){return this.emitReserved("error",ot)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=a=>this.onClose({description:"websocket connection closed",context:a}),this.ws.onmessage=a=>this.onData(a.data),this.ws.onerror=a=>this.onError("websocket error",a)}write(a){this.writable=!1;for(let b=0;b<a.length;b++){const N=a[b],ot=b===a.length-1;Un(N,this.supportsBinary,(Ct=>{try{this.doWrite(N,Ct)}catch(_e){}ot&&Mn((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){this.ws!==void 0&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const a=this.opts.secure?"wss":"ws",b=this.query||{};return this.opts.timestampRequests&&(b[this.opts.timestampParam]=Gn()),this.supportsBinary||(b.b64=1),this.createUri(a,b)}}const p=Xn.WebSocket||Xn.MozWebSocket,x={websocket:class extends s{createSocket(C,a,b){return rr?new p(C,a,b):a?new p(C,a):new p(C)}doWrite(C,a){this.ws.send(a)}},webtransport:class extends zi{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(C){return this.emitReserved("error",C)}this._transport.closed.then((()=>{this.onClose()})).catch((C=>{this.onError("webtransport error",C)})),this._transport.ready.then((()=>{this._transport.createBidirectionalStream().then((C=>{const a=(function(_e,Xe){ve||(ve=new TextDecoder);const Ue=[];let Rn=0,dn=-1,at=!1;return new TransformStream({transform(Et,ut){for(Ue.push(Et);;){if(Rn===0){if(mn(Ue)<1)break;const $t=In(Ue,1);at=!(128&~$t[0]),dn=127&$t[0],Rn=dn<126?3:dn===126?1:2}else if(Rn===1){if(mn(Ue)<2)break;const $t=In(Ue,2);dn=new DataView($t.buffer,$t.byteOffset,$t.length).getUint16(0),Rn=3}else if(Rn===2){if(mn(Ue)<8)break;const $t=In(Ue,8),Ht=new DataView($t.buffer,$t.byteOffset,$t.length),sn=Ht.getUint32(0);if(sn>Math.pow(2,21)-1){ut.enqueue(yi);break}dn=sn*Math.pow(2,32)+Ht.getUint32(4),Rn=3}else{if(mn(Ue)<dn)break;const $t=In(Ue,dn);ut.enqueue(Vi(at?$t:ve.decode($t),Xe)),Rn=0}if(dn===0||dn>_e){ut.enqueue(yi);break}}}})})(Number.MAX_SAFE_INTEGER,this.socket.binaryType),b=C.readable.pipeThrough(a).getReader(),N=Ri();N.readable.pipeTo(C.writable),this._writer=N.writable.getWriter();const ot=()=>{b.read().then((({done:_e,value:Xe})=>{_e||(this.onPacket(Xe),ot())})).catch((_e=>{}))};ot();const Ct={type:"open"};this.query.sid&&(Ct.data=`{"sid":"${this.query.sid}"}`),this._writer.write(Ct).then((()=>this.onOpen()))}))}))}write(C){this.writable=!1;for(let a=0;a<C.length;a++){const b=C[a],N=a===C.length-1;this._writer.write(b).then((()=>{N&&Mn((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){var C;(C=this._transport)===null||C===void 0||C.close()}},polling:class extends yr{constructor(C){super(C);const a=C&&C.forceBase64;this.supportsBinary=_r&&!a}request(C={}){return Object.assign(C,{xd:this.xd},this.opts),new Qi(pr,this.uri(),C)}}},k=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,D=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Y(C){if(C.length>8e3)throw"URI too long";const a=C,b=C.indexOf("["),N=C.indexOf("]");b!=-1&&N!=-1&&(C=C.substring(0,b)+C.substring(b,N).replace(/:/g,";")+C.substring(N,C.length));let ot=k.exec(C||""),Ct={},_e=14;for(;_e--;)Ct[D[_e]]=ot[_e]||"";return b!=-1&&N!=-1&&(Ct.source=a,Ct.host=Ct.host.substring(1,Ct.host.length-1).replace(/;/g,":"),Ct.authority=Ct.authority.replace("[","").replace("]","").replace(/;/g,":"),Ct.ipv6uri=!0),Ct.pathNames=(function(Xe,Ue){const Rn=/\/{2,9}/g,dn=Ue.replace(Rn,"/").split("/");return Ue.slice(0,1)!="/"&&Ue.length!==0||dn.splice(0,1),Ue.slice(-1)=="/"&&dn.splice(dn.length-1,1),dn})(0,Ct.path),Ct.queryKey=(function(Xe,Ue){const Rn={};return Ue.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(dn,at,Et){at&&(Rn[at]=Et)})),Rn})(0,Ct.query),Ct}const nt=typeof addEventListener=="function"&&typeof removeEventListener=="function",ct=[];nt&&addEventListener("offline",(()=>{ct.forEach((C=>C()))}),!1);class Mt extends gn{constructor(a,b){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,a&&typeof a=="object"&&(b=a,a=null),a){const N=Y(a);b.hostname=N.host,b.secure=N.protocol==="https"||N.protocol==="wss",b.port=N.port,N.query&&(b.query=N.query)}else b.host&&(b.hostname=Y(b.host).host);Wi(this,b),this.secure=b.secure!=null?b.secure:typeof location!="undefined"&&location.protocol==="https:",b.hostname&&!b.port&&(b.port=this.secure?"443":"80"),this.hostname=b.hostname||(typeof location!="undefined"?location.hostname:"localhost"),this.port=b.port||(typeof location!="undefined"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},b.transports.forEach((N=>{const ot=N.prototype.name;this.transports.push(ot),this._transportsByName[ot]=N})),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},b),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=(function(N){let ot={},Ct=N.split("&");for(let _e=0,Xe=Ct.length;_e<Xe;_e++){let Ue=Ct[_e].split("=");ot[decodeURIComponent(Ue[0])]=decodeURIComponent(Ue[1])}return ot})(this.opts.query)),nt&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},ct.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(a){const b=Object.assign({},this.opts.query);b.EIO=4,b.transport=a,this.id&&(b.sid=this.id);const N=Object.assign({},this.opts,{query:b,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[a]);return new this._transportsByName[a](N)}_open(){if(this.transports.length===0)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);const a=this.opts.rememberUpgrade&&Mt.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const b=this.createTransport(a);b.open(),this.setTransport(b)}setTransport(a){this.transport&&this.transport.removeAllListeners(),this.transport=a,a.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",(b=>this._onClose("transport close",b)))}onOpen(){this.readyState="open",Mt.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(a){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",a),this.emitReserved("heartbeat"),a.type){case"open":this.onHandshake(JSON.parse(a.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const b=new Error("server error");b.code=a.data,this._onError(b);break;case"message":this.emitReserved("data",a.data),this.emitReserved("message",a.data)}}onHandshake(a){this.emitReserved("handshake",a),this.id=a.sid,this.transport.query.sid=a.sid,this._pingInterval=a.pingInterval,this._pingTimeout=a.pingTimeout,this._maxPayload=a.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const a=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+a,this._pingTimeoutTimer=this.setTimeoutFn((()=>{this._onClose("ping timeout")}),a),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const a=this._getWritablePackets();this.transport.send(a),this._prevBufferLen=a.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let a=1;for(let N=0;N<this.writeBuffer.length;N++){const ot=this.writeBuffer[N].data;if(ot&&(a+=typeof(b=ot)=="string"?(function(Ct){let _e=0,Xe=0;for(let Ue=0,Rn=Ct.length;Ue<Rn;Ue++)_e=Ct.charCodeAt(Ue),_e<128?Xe+=1:_e<2048?Xe+=2:_e<55296||_e>=57344?Xe+=3:(Ue++,Xe+=4);return Xe})(b):Math.ceil(1.33*(b.byteLength||b.size))),N>0&&a>this._maxPayload)return this.writeBuffer.slice(0,N);a+=2}var b;return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const a=Date.now()>this._pingTimeoutTime;return a&&(this._pingTimeoutTime=0,Mn((()=>{this._onClose("ping timeout")}),this.setTimeoutFn)),a}write(a,b,N){return this._sendPacket("message",a,b,N),this}send(a,b,N){return this._sendPacket("message",a,b,N),this}_sendPacket(a,b,N,ot){if(typeof b=="function"&&(ot=b,b=void 0),typeof N=="function"&&(ot=N,N=null),this.readyState==="closing"||this.readyState==="closed")return;(N=N||{}).compress=N.compress!==!1;const Ct={type:a,data:b,options:N};this.emitReserved("packetCreate",Ct),this.writeBuffer.push(Ct),ot&&this.once("flush",ot),this.flush()}close(){const a=()=>{this._onClose("forced close"),this.transport.close()},b=()=>{this.off("upgrade",b),this.off("upgradeError",b),a()},N=()=>{this.once("upgrade",b),this.once("upgradeError",b)};return this.readyState!=="opening"&&this.readyState!=="open"||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?N():a()})):this.upgrading?N():a()),this}_onError(a){if(Mt.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",a),this._onClose("transport error",a)}_onClose(a,b){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),nt&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const N=ct.indexOf(this._offlineEventListener);N!==-1&&ct.splice(N,1)}this.readyState="closed",this.id=null,this.emitReserved("close",a,b),this.writeBuffer=[],this._prevBufferLen=0}}}Mt.protocol=4;class xt extends Mt{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let a=0;a<this._upgrades.length;a++)this._probe(this._upgrades[a])}_probe(a){let b=this.createTransport(a),N=!1;Mt.priorWebsocketSuccess=!1;const ot=()=>{N||(b.send([{type:"ping",data:"probe"}]),b.once("packet",(at=>{if(!N)if(at.type==="pong"&&at.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",b),!b)return;Mt.priorWebsocketSuccess=b.name==="websocket",this.transport.pause((()=>{N||this.readyState!=="closed"&&(dn(),this.setTransport(b),b.send([{type:"upgrade"}]),this.emitReserved("upgrade",b),b=null,this.upgrading=!1,this.flush())}))}else{const Et=new Error("probe error");Et.transport=b.name,this.emitReserved("upgradeError",Et)}})))};function Ct(){N||(N=!0,dn(),b.close(),b=null)}const _e=at=>{const Et=new Error("probe error: "+at);Et.transport=b.name,Ct(),this.emitReserved("upgradeError",Et)};function Xe(){_e("transport closed")}function Ue(){_e("socket closed")}function Rn(at){b&&at.name!==b.name&&Ct()}const dn=()=>{b.removeListener("open",ot),b.removeListener("error",_e),b.removeListener("close",Xe),this.off("close",Ue),this.off("upgrading",Rn)};b.once("open",ot),b.once("error",_e),b.once("close",Xe),this.once("close",Ue),this.once("upgrading",Rn),this._upgrades.indexOf("webtransport")!==-1&&a!=="webtransport"?this.setTimeoutFn((()=>{N||b.open()}),200):b.open()}onHandshake(a){this._upgrades=this._filterUpgrades(a.upgrades),super.onHandshake(a)}_filterUpgrades(a){const b=[];for(let N=0;N<a.length;N++)~this.transports.indexOf(a[N])&&b.push(a[N]);return b}}class Kt extends xt{constructor(a,b={}){const N=typeof a=="object"?a:b;(!N.transports||N.transports&&typeof N.transports[0]=="string")&&(N.transports=(N.transports||["polling","websocket","webtransport"]).map((ot=>x[ot])).filter((ot=>!!ot))),super(a,N)}}const zt=typeof ArrayBuffer=="function",Vt=Object.prototype.toString,ie=typeof Blob=="function"||typeof Blob!="undefined"&&Vt.call(Blob)==="[object BlobConstructor]",_n=typeof File=="function"||typeof File!="undefined"&&Vt.call(File)==="[object FileConstructor]";function nn(C){return zt&&(C instanceof ArrayBuffer||(a=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(a):a.buffer instanceof ArrayBuffer)(C))||ie&&C instanceof Blob||_n&&C instanceof File}function cn(C,a){if(!C||typeof C!="object")return!1;if(Array.isArray(C)){for(let b=0,N=C.length;b<N;b++)if(cn(C[b]))return!0;return!1}if(nn(C))return!0;if(C.toJSON&&typeof C.toJSON=="function"&&arguments.length===1)return cn(C.toJSON(),!0);for(const b in C)if(Object.prototype.hasOwnProperty.call(C,b)&&cn(C[b]))return!0;return!1}function Tn(C){const a=[],b=C.data,N=C;return N.data=ji(b,a),N.attachments=a.length,{packet:N,buffers:a}}function ji(C,a){if(!C)return C;if(nn(C)){const b={_placeholder:!0,num:a.length};return a.push(C),b}if(Array.isArray(C)){const b=new Array(C.length);for(let N=0;N<C.length;N++)b[N]=ji(C[N],a);return b}if(typeof C=="object"&&!(C instanceof Date)){const b={};for(const N in C)Object.prototype.hasOwnProperty.call(C,N)&&(b[N]=ji(C[N],a));return b}return C}function Li(C,a){return C.data=jn(C.data,a),delete C.attachments,C}function jn(C,a){if(!C)return C;if(C&&C._placeholder===!0){if(typeof C.num=="number"&&C.num>=0&&C.num<a.length)return a[C.num];throw new Error("illegal attachments")}if(Array.isArray(C))for(let b=0;b<C.length;b++)C[b]=jn(C[b],a);else if(typeof C=="object")for(const b in C)Object.prototype.hasOwnProperty.call(C,b)&&(C[b]=jn(C[b],a));return C}const rt=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],dt=5;var Nt;(function(C){C[C.CONNECT=0]="CONNECT",C[C.DISCONNECT=1]="DISCONNECT",C[C.EVENT=2]="EVENT",C[C.ACK=3]="ACK",C[C.CONNECT_ERROR=4]="CONNECT_ERROR",C[C.BINARY_EVENT=5]="BINARY_EVENT",C[C.BINARY_ACK=6]="BINARY_ACK"})(Nt||(Nt={}));class ee{constructor(a){this.replacer=a}encode(a){return a.type!==Nt.EVENT&&a.type!==Nt.ACK||!cn(a)?[this.encodeAsString(a)]:this.encodeAsBinary({type:a.type===Nt.EVENT?Nt.BINARY_EVENT:Nt.BINARY_ACK,nsp:a.nsp,data:a.data,id:a.id})}encodeAsString(a){let b=""+a.type;return a.type!==Nt.BINARY_EVENT&&a.type!==Nt.BINARY_ACK||(b+=a.attachments+"-"),a.nsp&&a.nsp!=="/"&&(b+=a.nsp+","),a.id!=null&&(b+=a.id),a.data!=null&&(b+=JSON.stringify(a.data,this.replacer)),b}encodeAsBinary(a){const b=Tn(a),N=this.encodeAsString(b.packet),ot=b.buffers;return ot.unshift(N),ot}}function be(C){return Object.prototype.toString.call(C)==="[object Object]"}class fe extends gn{constructor(a){super(),this.reviver=a}add(a){let b;if(typeof a=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");b=this.decodeString(a);const N=b.type===Nt.BINARY_EVENT;N||b.type===Nt.BINARY_ACK?(b.type=N?Nt.EVENT:Nt.ACK,this.reconstructor=new Re(b),b.attachments===0&&super.emitReserved("decoded",b)):super.emitReserved("decoded",b)}else{if(!nn(a)&&!a.base64)throw new Error("Unknown type: "+a);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");b=this.reconstructor.takeBinaryData(a),b&&(this.reconstructor=null,super.emitReserved("decoded",b))}}decodeString(a){let b=0;const N={type:Number(a.charAt(0))};if(Nt[N.type]===void 0)throw new Error("unknown packet type "+N.type);if(N.type===Nt.BINARY_EVENT||N.type===Nt.BINARY_ACK){const Ct=b+1;for(;a.charAt(++b)!=="-"&&b!=a.length;);const _e=a.substring(Ct,b);if(_e!=Number(_e)||a.charAt(b)!=="-")throw new Error("Illegal attachments");N.attachments=Number(_e)}if(a.charAt(b+1)==="/"){const Ct=b+1;for(;++b&&!(a.charAt(b)===","||b===a.length););N.nsp=a.substring(Ct,b)}else N.nsp="/";const ot=a.charAt(b+1);if(ot!==""&&Number(ot)==ot){const Ct=b+1;for(;++b;){const _e=a.charAt(b);if(_e==null||Number(_e)!=_e){--b;break}if(b===a.length)break}N.id=Number(a.substring(Ct,b+1))}if(a.charAt(++b)){const Ct=this.tryParse(a.substr(b));if(!fe.isPayloadValid(N.type,Ct))throw new Error("invalid payload");N.data=Ct}return N}tryParse(a){try{return JSON.parse(a,this.reviver)}catch(b){return!1}}static isPayloadValid(a,b){switch(a){case Nt.CONNECT:return be(b);case Nt.DISCONNECT:return b===void 0;case Nt.CONNECT_ERROR:return typeof b=="string"||be(b);case Nt.EVENT:case Nt.BINARY_EVENT:return Array.isArray(b)&&(typeof b[0]=="number"||typeof b[0]=="string"&&rt.indexOf(b[0])===-1);case Nt.ACK:case Nt.BINARY_ACK:return Array.isArray(b)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Re{constructor(a){this.packet=a,this.buffers=[],this.reconPack=a}takeBinaryData(a){if(this.buffers.push(a),this.buffers.length===this.reconPack.attachments){const b=Li(this.reconPack,this.buffers);return this.finishedReconstruction(),b}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function We(C,a,b){return C.on(a,b),function(){C.off(a,b)}}const Ke=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Nn extends gn{constructor(a,b,N){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=a,this.nsp=b,N&&N.auth&&(this.auth=N.auth),this._opts=Object.assign({},N),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const a=this.io;this.subs=[We(a,"open",this.onopen.bind(this)),We(a,"packet",this.onpacket.bind(this)),We(a,"error",this.onerror.bind(this)),We(a,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen()),this}open(){return this.connect()}send(...a){return a.unshift("message"),this.emit.apply(this,a),this}emit(a,...b){var N,ot,Ct;if(Ke.hasOwnProperty(a))throw new Error('"'+a.toString()+'" is a reserved event name');if(b.unshift(a),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(b),this;const _e={type:Nt.EVENT,data:b,options:{}};if(_e.options.compress=this.flags.compress!==!1,typeof b[b.length-1]=="function"){const Rn=this.ids++,dn=b.pop();this._registerAckCallback(Rn,dn),_e.id=Rn}const Xe=(ot=(N=this.io.engine)===null||N===void 0?void 0:N.transport)===null||ot===void 0?void 0:ot.writable,Ue=this.connected&&!(!((Ct=this.io.engine)===null||Ct===void 0)&&Ct._hasPingExpired());return this.flags.volatile&&!Xe||(Ue?(this.notifyOutgoingListeners(_e),this.packet(_e)):this.sendBuffer.push(_e)),this.flags={},this}_registerAckCallback(a,b){var N;const ot=(N=this.flags.timeout)!==null&&N!==void 0?N:this._opts.ackTimeout;if(ot===void 0)return void(this.acks[a]=b);const Ct=this.io.setTimeoutFn((()=>{delete this.acks[a];for(let Xe=0;Xe<this.sendBuffer.length;Xe++)this.sendBuffer[Xe].id===a&&this.sendBuffer.splice(Xe,1);b.call(this,new Error("operation has timed out"))}),ot),_e=(...Xe)=>{this.io.clearTimeoutFn(Ct),b.apply(this,Xe)};_e.withError=!0,this.acks[a]=_e}emitWithAck(a,...b){return new Promise(((N,ot)=>{const Ct=(_e,Xe)=>_e?ot(_e):N(Xe);Ct.withError=!0,b.push(Ct),this.emit(a,...b)}))}_addToQueue(a){let b;typeof a[a.length-1]=="function"&&(b=a.pop());const N={id:this._queueSeq++,tryCount:0,pending:!1,args:a,flags:Object.assign({fromQueue:!0},this.flags)};a.push(((ot,...Ct)=>{if(N===this._queue[0])return ot!==null?N.tryCount>this._opts.retries&&(this._queue.shift(),b&&b(ot)):(this._queue.shift(),b&&b(null,...Ct)),N.pending=!1,this._drainQueue()})),this._queue.push(N),this._drainQueue()}_drainQueue(a=!1){if(!this.connected||this._queue.length===0)return;const b=this._queue[0];b.pending&&!a||(b.pending=!0,b.tryCount++,this.flags=b.flags,this.emit.apply(this,b.args))}packet(a){a.nsp=this.nsp,this.io._packet(a)}onopen(){typeof this.auth=="function"?this.auth((a=>{this._sendConnectPacket(a)})):this._sendConnectPacket(this.auth)}_sendConnectPacket(a){this.packet({type:Nt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},a):a})}onerror(a){this.connected||this.emitReserved("connect_error",a)}onclose(a,b){this.connected=!1,delete this.id,this.emitReserved("disconnect",a,b),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach((a=>{if(!this.sendBuffer.some((b=>String(b.id)===a))){const b=this.acks[a];delete this.acks[a],b.withError&&b.call(this,new Error("socket has been disconnected"))}}))}onpacket(a){if(a.nsp===this.nsp)switch(a.type){case Nt.CONNECT:a.data&&a.data.sid?this.onconnect(a.data.sid,a.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Nt.EVENT:case Nt.BINARY_EVENT:this.onevent(a);break;case Nt.ACK:case Nt.BINARY_ACK:this.onack(a);break;case Nt.DISCONNECT:this.ondisconnect();break;case Nt.CONNECT_ERROR:this.destroy();const b=new Error(a.data.message);b.data=a.data.data,this.emitReserved("connect_error",b)}}onevent(a){const b=a.data||[];a.id!=null&&b.push(this.ack(a.id)),this.connected?this.emitEvent(b):this.receiveBuffer.push(Object.freeze(b))}emitEvent(a){if(this._anyListeners&&this._anyListeners.length){const b=this._anyListeners.slice();for(const N of b)N.apply(this,a)}super.emit.apply(this,a),this._pid&&a.length&&typeof a[a.length-1]=="string"&&(this._lastOffset=a[a.length-1])}ack(a){const b=this;let N=!1;return function(...ot){N||(N=!0,b.packet({type:Nt.ACK,id:a,data:ot}))}}onack(a){const b=this.acks[a.id];typeof b=="function"&&(delete this.acks[a.id],b.withError&&a.data.unshift(null),b.apply(this,a.data))}onconnect(a,b){this.id=a,this.recovered=b&&this._pid===b,this._pid=b,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach((a=>this.emitEvent(a))),this.receiveBuffer=[],this.sendBuffer.forEach((a=>{this.notifyOutgoingListeners(a),this.packet(a)})),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((a=>a())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Nt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(a){return this.flags.compress=a,this}get volatile(){return this.flags.volatile=!0,this}timeout(a){return this.flags.timeout=a,this}onAny(a){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(a),this}prependAny(a){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(a),this}offAny(a){if(!this._anyListeners)return this;if(a){const b=this._anyListeners;for(let N=0;N<b.length;N++)if(a===b[N])return b.splice(N,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(a){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(a),this}prependAnyOutgoing(a){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(a),this}offAnyOutgoing(a){if(!this._anyOutgoingListeners)return this;if(a){const b=this._anyOutgoingListeners;for(let N=0;N<b.length;N++)if(a===b[N])return b.splice(N,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(a){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const b=this._anyOutgoingListeners.slice();for(const N of b)N.apply(this,a.data)}}}function ci(C){C=C||{},this.ms=C.min||100,this.max=C.max||1e4,this.factor=C.factor||2,this.jitter=C.jitter>0&&C.jitter<=1?C.jitter:0,this.attempts=0}ci.prototype.duration=function(){var C=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var a=Math.random(),b=Math.floor(a*this.jitter*C);C=1&Math.floor(10*a)?C+b:C-b}return 0|Math.min(C,this.max)},ci.prototype.reset=function(){this.attempts=0},ci.prototype.setMin=function(C){this.ms=C},ci.prototype.setMax=function(C){this.max=C},ci.prototype.setJitter=function(C){this.jitter=C};class vt extends gn{constructor(a,b){var N;super(),this.nsps={},this.subs=[],a&&typeof a=="object"&&(b=a,a=void 0),(b=b||{}).path=b.path||"/socket.io",this.opts=b,Wi(this,b),this.reconnection(b.reconnection!==!1),this.reconnectionAttempts(b.reconnectionAttempts||1/0),this.reconnectionDelay(b.reconnectionDelay||1e3),this.reconnectionDelayMax(b.reconnectionDelayMax||5e3),this.randomizationFactor((N=b.randomizationFactor)!==null&&N!==void 0?N:.5),this.backoff=new ci({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(b.timeout==null?2e4:b.timeout),this._readyState="closed",this.uri=a;const ot=b.parser||A;this.encoder=new ot.Encoder,this.decoder=new ot.Decoder,this._autoConnect=b.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(a){return arguments.length?(this._reconnection=!!a,a||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(a){return a===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=a,this)}reconnectionDelay(a){var b;return a===void 0?this._reconnectionDelay:(this._reconnectionDelay=a,(b=this.backoff)===null||b===void 0||b.setMin(a),this)}randomizationFactor(a){var b;return a===void 0?this._randomizationFactor:(this._randomizationFactor=a,(b=this.backoff)===null||b===void 0||b.setJitter(a),this)}reconnectionDelayMax(a){var b;return a===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=a,(b=this.backoff)===null||b===void 0||b.setMax(a),this)}timeout(a){return arguments.length?(this._timeout=a,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(a){if(~this._readyState.indexOf("open"))return this;this.engine=new Kt(this.uri,this.opts);const b=this.engine,N=this;this._readyState="opening",this.skipReconnect=!1;const ot=We(b,"open",(function(){N.onopen(),a&&a()})),Ct=Xe=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",Xe),a?a(Xe):this.maybeReconnectOnOpen()},_e=We(b,"error",Ct);if(this._timeout!==!1){const Xe=this._timeout,Ue=this.setTimeoutFn((()=>{ot(),Ct(new Error("timeout")),b.close()}),Xe);this.opts.autoUnref&&Ue.unref(),this.subs.push((()=>{this.clearTimeoutFn(Ue)}))}return this.subs.push(ot),this.subs.push(_e),this}connect(a){return this.open(a)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const a=this.engine;this.subs.push(We(a,"ping",this.onping.bind(this)),We(a,"data",this.ondata.bind(this)),We(a,"error",this.onerror.bind(this)),We(a,"close",this.onclose.bind(this)),We(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(a){try{this.decoder.add(a)}catch(b){this.onclose("parse error",b)}}ondecoded(a){Mn((()=>{this.emitReserved("packet",a)}),this.setTimeoutFn)}onerror(a){this.emitReserved("error",a)}socket(a,b){let N=this.nsps[a];return N?this._autoConnect&&!N.active&&N.connect():(N=new Nn(this,a,b),this.nsps[a]=N),N}_destroy(a){const b=Object.keys(this.nsps);for(const N of b)if(this.nsps[N].active)return;this._close()}_packet(a){const b=this.encoder.encode(a);for(let N=0;N<b.length;N++)this.engine.write(b[N],a.options)}cleanup(){this.subs.forEach((a=>a())),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(a,b){var N;this.cleanup(),(N=this.engine)===null||N===void 0||N.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",a,b),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const a=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const b=this.backoff.duration();this._reconnecting=!0;const N=this.setTimeoutFn((()=>{a.skipReconnect||(this.emitReserved("reconnect_attempt",a.backoff.attempts),a.skipReconnect||a.open((ot=>{ot?(a._reconnecting=!1,a.reconnect(),this.emitReserved("reconnect_error",ot)):a.onreconnect()})))}),b);this.opts.autoUnref&&N.unref(),this.subs.push((()=>{this.clearTimeoutFn(N)}))}}onreconnect(){const a=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",a)}}const de={};function $e(C,a){typeof C=="object"&&(a=C,C=void 0);const b=(function(Ue,Rn="",dn){let at=Ue;dn=dn||typeof location!="undefined"&&location,Ue==null&&(Ue=dn.protocol+"//"+dn.host),typeof Ue=="string"&&(Ue.charAt(0)==="/"&&(Ue=Ue.charAt(1)==="/"?dn.protocol+Ue:dn.host+Ue),/^(https?|wss?):\/\//.test(Ue)||(Ue=dn!==void 0?dn.protocol+"//"+Ue:"https://"+Ue),at=Y(Ue)),at.port||(/^(http|ws)$/.test(at.protocol)?at.port="80":/^(http|ws)s$/.test(at.protocol)&&(at.port="443")),at.path=at.path||"/";const Et=at.host.indexOf(":")!==-1?"["+at.host+"]":at.host;return at.id=at.protocol+"://"+Et+":"+at.port+Rn,at.href=at.protocol+"://"+Et+(dn&&dn.port===at.port?"":":"+at.port),at})(C,(a=a||{}).path||"/socket.io"),N=b.source,ot=b.id,Ct=b.path,_e=de[ot]&&Ct in de[ot].nsps;let Xe;return a.forceNew||a["force new connection"]||a.multiplex===!1||_e?Xe=new vt(N,a):(de[ot]||(de[ot]=new vt(N,a)),Xe=de[ot]),b.query&&!a.query&&(a.query=b.queryKey),Xe.socket(b.path,a)}function De(C){return De=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},De(C)}Object.assign($e,{Manager:vt,Socket:Nn,io:$e,connect:$e});var Ve,di,r,f,_,E=!1,B=$e,U={connected:!1,connectedTeamMembers:[],reconnectionTeamMembers:{},ranking:void 0,firstRankingNotificationShown:!1,allowSecondaryRankingNotifications:!0};function et(C,a){if(U.connected!==!0){f=a.localErState.teamId,_=a.teamName,U.ranking=a.localErState.ranking;var b={escapeRoom:r,email:C.email,token:C.token};(function(N){N.on("connect",wt),N.on("disconnect",Lt),N.on("INITIAL_INFO",yt),N.on("JOIN",re),N.on("LEAVE",xe),N.on("HINT_RESPONSE",Zt),N.on("PUZZLE_RESPONSE",Oe),N.on("TEAM_PROGRESS",Cn),N.on("MESSAGE",Vn),N.on("connect_error",(function(ot){})),N.on("error",(function(ot){}))})(B(di,{query:b}))}}function wt(){U.connected=!0}function yt(C){C.connectedMembers instanceof Array&&(U.connectedTeamMembers=C.connectedMembers)}function Lt(){U.connected=!1}function re(C){if(De(C)==="object"&&typeof C.username=="string"){var a=Object.assign([],U.connectedTeamMembers);C.connectedMembers instanceof Array&&(U.connectedTeamMembers=C.connectedMembers);var b=C.username,N=Ve.getSettings();if(b!==N.user.email&&N.localErState.teamMembers instanceof Array&&N.localErState.teamMembers.indexOf(b)!==-1&&a.indexOf(b)===-1&&U.reconnectionTeamMembers[b]===void 0){var ot=Ve._getMemberNameFromERState(N.localErState,b);typeof ot=="string"&&(function(Ct){var _e={type:"info"};_e.text=X("i.notification_member_join",{member:Ct}),Ve.displayCustomNotification(_e.text,_e)})(ot)}}}function xe(C){if(De(C)==="object"&&typeof C.username=="string"){var a=Object.assign([],U.connectedTeamMembers);C.connectedMembers instanceof Array&&(U.connectedTeamMembers=C.connectedMembers);var b=C.username,N=Ve.getSettings();b!==N.user.email&&N.localErState.teamMembers.indexOf(b)!==-1&&a.indexOf(b)!==-1&&U.connectedTeamMembers.indexOf(b)===-1&&(typeof U.reconnectionTeamMembers[b]=="number"?U.reconnectionTeamMembers[b]=U.reconnectionTeamMembers[b]+1:U.reconnectionTeamMembers[b]=1,setTimeout((function(){if(typeof U.reconnectionTeamMembers[b]=="number"&&(U.reconnectionTeamMembers[b]=U.reconnectionTeamMembers[b]-1,U.reconnectionTeamMembers[b]===0&&delete U.reconnectionTeamMembers[b]),U.connectedTeamMembers.indexOf(b)===-1&&U.reconnectionTeamMembers[b]===void 0){var ot=Ve._getMemberNameFromERState(N.localErState,b);typeof ot=="string"&&(function(Ct){var _e={type:"info"};_e.text=X("i.notification_member_leave",{member:Ct}),Ve.displayCustomNotification(_e.text,_e)})(ot)}}),3e3))}}function Zt(C){typeof C.msg=="string"&&(function(a){var b={type:"event",autoHide:!0};b.text=X("i.notification_hint_new",{hint:a}),Ve.displayCustomNotification(b.text,b)})(C.msg)}function Oe(C){if(C.code==="OK"&&typeof C.puzzleOrder=="number"){var a=Object.assign([],Ve._getNewestState().puzzlesSolved);Ve._updateRemoteErState(C.erState),a.indexOf(C.puzzleOrder)===-1?(b=C.puzzleOrder,N={type:"event"},Ct=1,_e=3,ot=Math.floor(Math.random()*(_e-Ct+1)+Ct),N.text=X("i.notification_puzzle_success",{puzzle:b})+" "+X("i.notification_puzzle_success_end"+ot,{team:_}),Ve.displayCustomNotification(N.text,N),setTimeout((function(){Qn(C.erState)}),2e3)):Qn(C.erState)}var b,N,ot,Ct,_e}function Cn(C){De(C)==="object"&&C.ranking instanceof Array&&C.ranking.length>0&&(function(a){var b=void 0;if(U.ranking instanceof Array&&(b=Object.assign([],U.ranking)),U.ranking=a,!(!(b instanceof Array)||!(a instanceof Array)||(function(Wn){if(Wn instanceof Array){for(var ke=0;ke<Wn.length;ke++)if(Wn[ke].count>0)return!1}return!0})(a))&&!(f===void 0||typeof _!="string")){var N=Zi(b,f),ot=Zi(a,f);if(!(typeof N!="number"||typeof ot!="number")){var Ct=ot<N,_e=ot===N,Xe=ot>N,Ue=Ve._getTeamFromRanking(f,a),Rn=De(Ue)==="object"&&typeof Ue.count=="number"?Ue.count:0,dn=void 0,at=f;U.firstRankingNotificationShown===!1&&Rn>0&&(_e||Xe)&&(Ct=ot<=3,_e=!1,Xe=!1);var Et=!1;if(Rn>0&&ot<=3){switch(ot){case 1:Ct?dn=X("i.notification_ranking_1_up",{team:_}):_e&&(dn=X("i.notification_ranking_1_same",{team:_}));break;case 2:Ct?dn=X("i.notification_ranking_2_up",{team:_}):_e?dn=X("i.notification_ranking_2_same",{team:_}):Xe&&(dn=X("i.notification_ranking_2_down",{teamOther:a[0].name,team:_}));break;case 3:Ct?dn=X("i.notification_ranking_3_up",{team:_}):_e?dn=X("i.notification_ranking_3_same",{team:_}):Xe&&(dn=X("i.notification_ranking_3_down",{teamOther:b.length>0&&b[0].id!==a[0].id?a[0].name:a[1].name,team:_}))}Et=typeof dn=="string"}if(dn===void 0)if(Ct&&Rn>0)dn=X("i.notification_ranking_up",{team:_,position:ot});else if(Xe&&Rn>0){var ut=(function(Wn,ke,Le,G){if(!(Le<=0||G<=Le||Le>=Wn.length||G>ke.length)){for(var lt=[],Gt=Le;Gt<Wn.length;Gt++)lt.push(Wn[Gt].id);if(lt.length!==0){for(var le=[],Ee=G-1;Ee>=0;Ee--)lt.indexOf(ke[Ee].id)!==-1&&le.push(ke[Ee].name);if(le.length===1)return le[0]}}})(b,a,N,ot);dn=typeof ut=="string"?X("i.notification_ranking_down",{teamOther:ut,team:_,position:ot}):X("i.notification_ranking_down_generic",{team:_,position:ot})}else{if((U.firstRankingNotificationShown===!0||Rn===0)&&b instanceof Array){var $t=b.length,Ht=a.length;$t>0&&Ht>0&&(b[0].id!==a[0].id&&a[0].id!==f?(at=a[0].id,dn=X("i.notification_ranking_1_other",{teamOther:a[0].name})):$t>1&&Ht>1&&(b[1].id!==a[1].id&&a[1].id!==f?(at=a[1].id,dn=X("i.notification_ranking_2_other",{teamOther:a[1].name})):$t>2&&Ht>2&&b[2].id!==a[2].id&&a[2].id!==f&&(at=a[2].id,dn=X("i.notification_ranking_3_other",{teamOther:a[2].name}))))}dn===void 0&&(dn=X("i.notification_ranking_generic",{team:_,position:ot}))}var sn=Xe===!0&&Rn>0&&N<=3&&ot>3;(_e===!0||at!==f||Xe===!0&&Et===!1&&sn===!1)&&U.allowSecondaryRankingNotifications===!1&&(dn=void 0),typeof dn=="string"&&(U.allowSecondaryRankingNotifications=!1,setTimeout((function(){U.allowSecondaryRankingNotifications=!0}),24e4),U.firstRankingNotificationShown===!1&&at===f&&(U.firstRankingNotificationShown=!0),Sn=dn,ni={type:"ranking"},Ve.displayCustomNotification(Sn,ni));var Sn,ni}}})(C.ranking)}function Vn(C){if(C&&C.msg&&typeof C.msg=="string"&&C.msg.length){var a={type:"info"};a.text=C.msg,Ve.displayCustomNotification(a.text,a)}}function Qn(C){var a=Object.assign({},Ve.getSettings().localErState),b=Ve._isRemoteStateNewestForApp();Ve._validateStateToRestore((function(N){De(N)==="object"&&b&&Ve._isStateNewestThan(N,a)&&typeof Ve.getSettings().onNewErStateCallback=="function"&&Ve.getSettings().onNewErStateCallback(N)}))}function Zi(C,a){if(typeof a=="number"&&C instanceof Array){for(var b=0;b<C.length;b++)if(C[b].id===a)return b+1}}var Ji,ur,hr=!1,Yn=!1,Bi=void 0,hi=!1,qi=void 0,Ar=void 0,Ir=void 0,Sr=[0,1,2,5,10,15,30,45,60,75,90,105];function Dr(C,a){if(Bi===void 0&&typeof C=="number"&&typeof a=="number")if(C<=0||a<=0)hi=!0;else{ur=a;var b=(Bi=C)/3600,N=Math.floor(b),ot=Math.floor(60*(b-N)),Ct=(Bi-3600*N-60*ot)%(Ar=Bi>240?10:1);setTimeout((function(){Bi=Math.max(0,Bi-Ct),Er(),Yn&&kr()}),1e3*Ct)}}function Er(){qi!==void 0&&clearInterval(qi),typeof Bi!="number"||Bi<=0||(Ar=Bi>240?10:1,qi=setInterval((function(){Bi=Math.max(0,Bi-Ar),Ar===10?Bi<=240&&Er():Bi===0&&(hi=!0,clearInterval(qi),Yn&&Sr.indexOf(0)!==-1&&Nr(),Ji._onTimeRunOut())}),1e3*Ar))}function kr(){if(typeof Bi=="number"&&hi!==!0){Ir!==void 0&&clearTimeout(Ir);var C=void 0,a=Bi/3600;if(a>=2)C=3600*(a-Math.floor(a));else for(var b=Bi/60,N=Sr.sort((function(Ct,_e){return _e-Ct})),ot=0;ot<N.length;ot++)if(b>=N[ot]){C=60*(b-N[ot]);break}typeof C=="number"&&(Ir=setTimeout((function(){hi!==!0&&(Nr(),setTimeout((function(){kr()}),1e3*(Ar+1)))}),1e3*C))}}function Nr(){if(!(Yn!==!0||typeof Bi!="number"||Ji.isERCompleted()||Math.abs(Bi-ur)<30)){var C=void 0,a=Bi/3600,b=Math.floor(a),N=Math.round(60*(a-b)),ot=Bi-3600*b-60*N;Math.abs(ot)<=Ar+1&&(b>0?C=N===0?b===1?X("i.notification_time_one_hour"):X("i.notification_time_hours",{hours:b}):X(b===1?"i.notification_time_one_hour_and_minutes":"i.notification_time_hours_and_minutes",{hours:b,minutes:N}):N>0?C=N===1?X("i.notification_time_one_minute"):X("i.notification_time_minutes",{minutes:N}):N===0&&hi===!0&&(C=X("i.notification_time_runout"))),typeof C=="string"&&Ji.displayCustomNotification(C,{type:"time"})}}var ar=__webpack_require__(883);function or(C){return(function(a){if(Array.isArray(a))return tr(a)})(C)||(function(a){if(typeof Symbol!="undefined"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)})(C)||(function(a,b){if(a){if(typeof a=="string")return tr(a,b);var N={}.toString.call(a).slice(8,-1);return N==="Object"&&a.constructor&&(N=a.constructor.name),N==="Map"||N==="Set"?Array.from(a):N==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N)?tr(a,b):void 0}})(C)||(function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function tr(C,a){(a==null||a>C.length)&&(a=C.length);for(var b=0,N=Array(a);b<a;b++)N[b]=C[b];return N}function bi(C){return bi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},bi(C)}window.ESCAPP=function(C){var a={},b={},N={endpoint:void 0,imagesPath:"/assets/images/",linkedPuzzleIds:void 0,relatedPuzzleIds:void 0,requiredPuzzlesIds:void 0,user:{email:void 0,token:void 0},preview:!1,silent:!1,forceValidation:!0,autovalidate:!1,notifications:!1,rtc:!0,restoreState:"REQUEST_USER",I18n:void 0,browserRestrictions:{"internet explorer":">10",chrome:">41",firefox:">38"},browserRestrictionsDefault:!0,countdown:!0,jQuery:!1,initCallback:void 0,onNewErStateCallback:void 0,onErRestartCallback:void 0},ot={erId:void 0,localStorageKey:void 0,encryptKey:void 0,user:{authenticated:!1,participation:void 0},localErState:void 0,remoteErState:void 0,lastSolvedPuzzleId:void 0,nextPuzzleId:void 0,allPuzzlesSolved:!1,teamName:void 0,duration:void 0,remainingTime:void 0,puzzlesRequirements:!0},Ct={puzzleData:{},puzzlesSolved:[],progress:0,score:0,nPuzzles:void 0,hintsAllowed:void 0,startTime:void 0,remainingTime:void 0,strictTime:!1,teamId:void 0,teamMembers:void 0,ranking:void 0},_e=!1,Xe=!1,Ue=[],Rn=!1,dn=!1;this.init=function(at){if(_e!==!0){bi(at)!="object"&&(at={});var Et=this._getAppSettingsFromEnvironment();bi(Et)!=="object"&&(Et={}),bi(Et.escappClientSettings)==="object"&&(at=m(at,Object.assign({},Et.escappClientSettings))),delete(Et=Object.assign({},Et)).escappClientSettings,b=Et,(a=m(m(N,at),ot)).preview===!0?(a.silent=!0,a.rtc=!1,a.restoreState="NEVER"):a.preview=!1,a.silent===!0?(a.forceValidation=!1,a.notifications=!1,a.restoreState!=="AUTO"&&(["AUTO_NOTIFICATION","REQUEST_USER"].indexOf(a.restoreState)!==-1?a.restoreState="AUTO":a.restoreState="NEVER")):a.silent=!1,bi(a.relatedPuzzleIds)!=="object"&&bi(a.linkedPuzzleIds)==="object"&&(a.relatedPuzzleIds=a.linkedPuzzleIds);var ut,$t=I();if(typeof a.endpoint!="string"&&$t.escapp_endpoint!==void 0&&(a.endpoint=(function(ni){if(typeof ni=="string"){var Wn=ni.match(/^https?:\/\//);if(Wn instanceof Array&&Wn.length===1){var ke=Wn[0].replace("://",""),Le=R();ke!=Le&&Le==="https"&&(ni="https"+ni.replace(ke,""))}}return ni})($t.escapp_endpoint)),typeof a.endpoint=="string"?(a.erId=this._getERIdFromEscappEndpoint(a.endpoint),this._isValidEscappEndpoint(a.endpoint)!=="false"&&typeof a.erId=="string"||Ue.push("i.initialization_error_endpoint_format")):Ue.push("i.initialization_error_endpoint"),a.resourceId===void 0&&(a.linkedPuzzleIds instanceof Array&&a.linkedPuzzleIds.length>0?a.resourceId=a.linkedPuzzleIds.join("-"):a.preview?Ue.push("i.initialization_error_linkedPuzzleIds"):a.resourceId="preview"),a.localStorageKey===void 0&&(a.localStorageKey="ESCAPP_"+a.erId+"_"+a.resourceId),a.encryptKey===void 0&&(a.encryptKey=a.localStorageKey),M(a.I18n),At(a.localStorageKey,a.preview),qt(n,a.preview),ri(a.encryptKey),ut={imagesPath:a.imagesPath},ue!==!0&&(ue=!0,mt=ut.imagesPath,Tt("body").prepend('<div class="escapp-modal micromodal-slide" id="escapp-modal" aria-hidden="true"><div class="escapp-modal__overlay" tabIndex="-1"><div class="escapp-modal__container" role="dialog" aria-modal="true"><header class="escapp-modal__header"><h2 class="escapp-modal__title" id="escapp-modal-title"></h2></header><main class="escapp-modal__content" id="escapp-modal-content"><p class="content"></p></main><footer class="escapp-modal__footer"></footer></div></div>'),Tt("#escapp-modal div.escapp-modal__container").prepend('<img class="dialog_corner logo" src="'+mt+'escapp_logo_dark.png"/>'),Tt("#escapp-modal div.escapp-modal__container").prepend('<img class="dialog_corner lock" src="'+mt+'lock.svg"/>'),Tt("#escapp-modal .escapp-modal__content").prepend('<div class="escapp_content_img_wrapper"><img src="'+mt+'trophy.png"/></div>'),Pi.init({disableScroll:!0,disableFocus:!1,awaitOpenAnimation:!1,awaitCloseAnimation:!1,debugMode:!1})),pi({enabled:a.notifications}),(function(ni){Hn!==!0&&(Hn=!0,ni.imagesPath)})({imagesPath:a.imagesPath}),(function(){var ni=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(E!==!0){E=!0,Ve=ni.escapp;var Wn,ke=(function(G){var lt;try{lt=G.split("/")[2]}catch(Gt){}return lt})(ni.endpoint);if(ke!==void 0){var Le=(function(G){var lt="ws://";try{G.match("https://")&&(lt="wss://")}catch(Gt){}return lt})(ni.endpoint);di=Le+ke,Wn=ni.endpoint,r=Wn.split("/").pop()}}})({endpoint:a.endpoint,escapp:this}),(function(){var ni=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};hr!==!0&&(hr=!0,Yn=ni.notifications===!0,Ji=ni.escapp)})({notifications:Ln&&a.countdown,escapp:this}),a.preview&&this._resetForPreview(),this._getUserCredentials(a.user)===void 0){var Ht=this._getUserCredentials({email:$t.escapp_email||$t.email,token:$t.escapp_token||$t.token});if(Ht!==void 0)a.user=Ht;else{var sn=St("user");this._getUserCredentials(sn)!==void 0&&(a.user=sn)}}bi(a.user)==="object"&&(a.user.authenticated=!1);var Sn=St("localErState");this._validateERState(Sn)===!1&&(Sn=m({},Ct)),a.localErState=Sn,jt("localErState",a.localErState),this._updateAppPuzzlesState(),a.jQuery===!0&&window.jQuery===void 0&&(window.$=window.jQuery=this.getJQuery()),_e=!0,Xe=Ue.length===0,this._enableBeforeEachCheckInitialization(),this._checkInitialization()}},this._getAppSettingsFromEnvironment=function(){var at=window,Et=0;try{for(;bi(at.ESCAPP_APP_SETTINGS)!=="object"&&at.parent&&at.parent!==at&&Et<=1;)Et+=1,at=at.parent;if(bi(at.ESCAPP_APP_SETTINGS)==="object")return at.ESCAPP_APP_SETTINGS}catch(ut){}},this._isValidEscappEndpoint=function(at){return/^(https?:\/\/[a-zA-Z][^\/]*\/api\/escapeRooms\/[0-9]+)$/.test(at)},this._getERIdFromEscappEndpoint=function(at){var Et=at.match(/^(https?:\/\/[a-zA-Z][^\/]*\/api\/escapeRooms\/([0-9]+))$/);return Et?parseInt(Et[2],10)+"":void 0},this._enableBeforeEachCheckInitialization=function(){for(var at=this,Et=Object.keys(this),ut=["init","getSettings","getAppSettings","isSupported"],$t=function(){var Sn=sn[Ht],ni=typeof at[Sn]=="function",Wn=Sn.startsWith("_"),ke=ut.includes(Sn);if(!ni||Sn==="constructor"||Wn||ke)return 1;var Le=at[Sn].bind(at);at[Sn]=function(){if(at._checkInitialization()!==!1)return Le.apply(void 0,arguments)}},Ht=0,sn=Et;Ht<sn.length;Ht++)$t()},this._checkInitialization=function(){return!!Xe||(this._displayInitializationErrorDialog(),!1)},this._getUserCredentials=function(at){if(bi(at)==="object"&&typeof at.email=="string"&&(typeof at.token=="string"||typeof at.password=="string")){var Et={email:at.email};return typeof at.token=="string"?Et.token=at.token:Et.password=at.password,Et}},this.isSupported=function(){var at;try{(at=d().getParser(window.navigator.userAgent).satisfies(a.browserRestrictions))===void 0&&(at=a.browserRestrictionsDefault)}catch(ut){at=a.browserRestrictionsDefault}var Et=_t();return at&&Et},this.validate=function(at){return this.isSupported()?this.validateUser(at):a.silent?this._safeCall(at,!1):this.displayCustomEscappDialog(X("i.not_supported_title"),X("i.not_supported_text"),{},function(Et){this._safeCall(at,!1)}.bind(this))},this.validateUser=function(at){if(bi(a.user)!=="object"||typeof a.user.token!="string"){if(a.silent)return this._safeCall(at,!1);this._displayUserAuthDialog(!0,function(Et){this._onUserAuthDialogResponse(Et,function(ut){return ut?this._validateUserAfterAuth(at):this._onValidateUserFail(at)}.bind(this))}.bind(this))}else this.retrieveState(function(Et,ut){return Et||a.silent||!a.forceValidation?this._safeCall(at,Et,ut):this._onValidateUserFail(at)}.bind(this))},this._onUserAuthDialogResponse=function(at,Et){if(at.choice==="ok"||a.forceValidation!==!1){var ut={email:at.inputs[0],password:at.inputs[1]};this._auth(ut,function($t){if(a.user.authenticated!==!0)return this._displayUserAuthDialog(!1,Et);switch(a.user.participation){case"PARTICIPANT":this._safeCall(Et,!0);case"NOT_STARTED":this._startEscapeRoom(function(Ht){this._safeCall(Et,Ht)}.bind(this));break;case"NOT_A_PARTICIPANT":case"AUTHOR":case"NOT_ACTIVE":case"TOO_LATE":this._displayUserParticipationErrorDialog(function(){this._safeCall(Et,!1)}.bind(this))}}.bind(this))}else this._safeCall(Et,!a.forceValidation)},this._onValidateUserFail=function(at){return a.user.authenticated!==!0?this._retryAfterAuthFail(at):this._safeCall(at,!1)},this._retryAfterAuthFail=function(at){return this._resetUser(),this.validateUser(at)},this._resetUser=function(){a.user=Object.assign({},ot.user),L("user"),this._resetErState()},this._resetErState=function(){a.localErState=Ct,a.remoteErState=void 0,L("localErState")},this._resetForPreview=function(){this._resetErState(),An()},this._validateUserAfterAuth=function(at){this._validatePreviousPuzzles(function(Et){Et||a.forceValidation===!1?this._validateStateToRestore(function(ut){this._afterValidateUser(),this._safeCall(at,Et,ut)}.bind(this)):this._safeCall(at,!1)}.bind(this))},this._validatePreviousPuzzles=function(at){if(a.requiredPuzzlesIds instanceof Array&&a.requiredPuzzlesIds.length!==0){var Et=this._getNewestState();if(this._validateERState(Et)===!1)a.puzzlesRequirements=!1;else for(var ut=0;ut<a.requiredPuzzlesIds.length;ut++)if(Et.puzzlesSolved.indexOf(a.requiredPuzzlesIds[ut])===-1){a.puzzlesRequirements=!1;break}if(a.puzzlesRequirements===!1){if(a.silent)return this._safeCall(at,!1);this._displayPuzzleRequirementDialog(function($t){this._safeCall(at,!1)}.bind(this))}else this._safeCall(at,!0)}else this._safeCall(at,!0)},this._afterValidateUser=function(){dn!==!0&&(dn=!0,this._connect(),Dr(a.remainingTime,a.duration))},this._startEscapeRoom=function(at){this._displayStartDialog(function(Et){Et===!0?this.start(function(ut){ut===!0&&this._displayStartNotification(),this._safeCall(at,ut===!0)}.bind(this)):this._safeCall(at,!1)}.bind(this))},this._displayDialog=function(){var at=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(at=m({escapp:!0},at),!a.silent||at.ignoreSilent!==!1)return Me(at)},this.displayCustomDialog=function(at,Et,ut,$t){var Ht={title:at,text:Et,escapp:!1,icon:void 0};typeof $t=="function"&&(Ht.closeCallback=$t),bi(ut)==="object"&&(Ht=Object.assign(Ht,ut)),this._displayDialog(Ht)},this.displayCustomEscappDialog=function(at,Et,ut,$t){var Ht=m(ut||{},{escapp:!0});this.displayCustomDialog(at,Et,Ht,$t)},this.displayPuzzleDialog=function(at,Et,ut,$t){var Ht={escapp:!1,icon:"lock",inputs:[{type:"text",autocomplete:"off",validate:function(sn){return typeof(Sn=sn)=="string"&&Sn.trim()!=="";var Sn}}]};Ht.buttons=[{response:"ok",label:X("i.button_ok")},{response:"cancel",label:X("i.button_nok"),ignoreInputs:!0}],typeof $t=="function"&&(Ht.closeCallback=function(sn){sn.inputs instanceof Array&&sn.inputs.length===1&&(sn.value=sn.inputs[0]),$t(sn)}),bi(ut)==="object"&&(Ht=Object.assign(Ht,ut)),this.displayCustomDialog(at,Et,Ht,$t)},this.displayCompletionDialog=function(at,Et){var ut={escapp:!0,img:a.imagesPath+"/trophy.png"};bi(at)==="object"&&(ut=Object.assign(ut,at)),ut.closeCallback=function(){setTimeout(function(){this.stopAnimation("confetti")}.bind(this),1500),this._safeCall(Et)}.bind(this),this.startAnimation("confetti"),this.displayCustomDialog(X("i.completion_title"),X("i.completion_text",{escappURL:this._getEscappPlatformFinishURL()}),ut,Et)},this._getEscappPlatformFinishURL=function(){return this._getEscappPlatformURL()+"/finish"},this._getEscappPlatformURL=function(){return this._isValidEscappEndpoint(a.endpoint)?a.endpoint.replace("/api",""):""},this._displayUserAuthDialog=function(at,Et){var ut={requireInput:!0};at?(ut.title=X("i.auth_title"),ut.text=X("i.auth_text")):(ut.title=X("i.auth_title_wrong_credentials"),ut.text=X("i.auth_text_wrong_credentials")),ut.inputs=[{type:"text",label:X("i.auth_email_label"),validate:function($t){return(function(Ht){return typeof Ht=="string"&&/\S+@\S+\.\S+/.test(Ht)})($t)}},{type:"password",label:X("i.auth_password_label")}],ut.buttons=[{response:"ok",label:X("i.button_ok")}],a.forceValidation===!1&&ut.buttons.push({response:"cancel",label:X("i.button_nok"),ignoreInputs:!0}),ut.closeCallback=function($t){this._safeCall(Et,$t)}.bind(this),this._displayDialog(ut)},this._displayUserParticipationErrorDialog=function(at){var Et={};if(Et.title=X("i.generic_error_title"),this.isUserLoggedIn())switch(a.user.participation){case"TOO_LATE":Et.text=X("i.participation_error_TOO_LATE");break;case"NOT_ACTIVE":Et.text=X("i.participation_error_NOT_ACTIVE");break;case"NOT_STARTED":Et.text=X("i.participation_error_NOT_STARTED");break;default:Et.text=X("i.participation_error_NOT_PARTICIPANT")}else Et.text=X("i.participation_error_NOT_AUTHENTICATED");typeof at=="function"&&(Et.closeCallback=at),Et.buttons=[],a.forceValidation!==!1&&this.isUserLoggedIn()!==!1||Et.buttons.push({response:"ok",label:X("i.button_ok")}),this._displayDialog(Et)},this._displayPuzzleRequirementDialog=function(at){var Et={};Et.title=X("i.generic_error_title"),Et.text=X("i.puzzles_required"),Et.buttons=[],a.forceValidation===!1&&Et.buttons.push({response:"ok",label:X("i.button_ok")}),typeof at=="function"&&(Et.closeCallback=at),this._displayDialog(Et)},this._displayRestoreStateDialog=function(at){var Et={requireInput:!0};Et.title=X("i.restore_title"),a.restoreState==="AUTO_NOTIFICATION"?Et.text=X("i.restore_auto_text"):(Et.text=X("i.restore_request_text"),Et.buttons=[{response:"ok",label:X("i.button_ok")},{response:"nok",label:X("i.button_nok")}]),typeof at=="function"&&(Et.closeCallback=function(ut){at(a.restoreState==="AUTO_NOTIFICATION"||ut.choice==="ok")}.bind(this)),this._displayDialog(Et)},this._displayStartDialog=function(at){var Et={};Et.title=X("i.start_title"),Et.text=X("i.start_text"),Et.buttons=[{response:"ok",label:X("i.button_ok")},{response:"nok",label:X("i.button_nok")}],typeof at=="function"&&(Et.closeCallback=function(ut){at(ut.choice==="ok")}.bind(this)),this._displayDialog(Et)},this._displayInitializationErrorDialog=function(at){if(Rn!==!0){var Et;Rn=!0,Et=Ue instanceof Array&&Ue.length>0&&typeof Ue[0]=="string"&&Ue[0].trim()!==""?Ue[0]:"Escapp Client could not be started correctly due to an unknown error.";try{var ut={icon:void 0,escapp:!1,ignoreSilent:!0};try{ut.title=X("i.initialization_error_title"),ut.text=Et.startsWith("i.")?X(Et):Et}catch($t){}typeof ut.title=="string"&&ut.title.trim()!==""||(ut.title="Escapp client initialization error"),typeof ut.text=="string"&&ut.text.trim()!==""||(ut.text=Et),ut.closeCallback=function($t){Rn=!1,this._safeCall(at)}.bind(this),this._displayDialog(ut)}catch($t){alert(Et),Rn=!1,this._safeCall(at)}}},this._displayConnectionErrorDialog=function(at,Et){var ut={};ut.title=X("i.connecton_error_title"),ut.text=X("i.connecton_error_text"),ut.buttons=[{response:"retry",label:X("i.button_retry")}],at===!0&&ut.buttons.push({response:"nok",label:X("i.button_nok")}),ut.closeCallback=function($t){this._safeCall(Et,$t.choice)}.bind(this),this._displayDialog(ut)},this._displayNotification=function(){var at=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Hi(at=m({escapp:!0},at))},this.displayCustomNotification=function(at,Et){var ut={text:at,escapp:!1,icon:void 0};bi(Et)==="object"&&(ut=Object.assign(ut,Et)),this._displayNotification(ut)},this.displayCustomEscappNotification=function(at,Et){var ut=m(Et||{},{escapp:!0});this.displayCustomNotification(at,ut)},this._displayStartNotification=function(){if(a.teamName===void 0||this._getNewestState().puzzlesSolved.length!==0)return!1;var at={};at.text=X("i.notification_start",{team:a.teamName}),this._displayNotification(at)},this.startAnimation=function(at,Et){(function(ut,$t){var Ht=!0;ut==="confetti"?qe():Ht=!1,Ht!==!1&&(Bn.indexOf(ut)===-1&&Bn.push(ut),typeof $t=="number"&&setTimeout(function(){this.stopAnimation(ut)}.bind(this),$t))})(at,Et)},this.stopAnimation=function(at){(function(Et){var ut=Bn.indexOf(Et);ut!==-1&&(Et==="confetti"&&Jn(),Bn.splice(ut,1))})(at)},this._validateStateToRestore=function(at){if(a.restoreState==="NEVER")return this._safeCall(at);var Et=this._isRemoteStateNewest(),ut=this._getNewestState();return a.restoreState==="AUTO"||Et===!1||a.relatedPuzzleIds instanceof Array&&a.relatedPuzzleIds.length>0&&this._isRemoteStateNewestForApp()===!1?this._updateErStates(ut,at):void this._displayRestoreStateDialog(function($t){return $t===!1&&(ut=a.localErState),this._updateErStates(ut,at)}.bind(this))},this._updateErStates=function(at,Et){this._validateERState(at)&&(a.localErState=at,jt("localErState",a.localErState),a.remoteErState=void 0,this._updateAppPuzzlesState(),this._updateTrackingLocalErState()),this._safeCall(Et,at)},this._updateRemoteErState=function(at){if(this._validateERState(at)!==!1&&!a.preview){a.remoteErState=at;var Et=!1;this._validateERState(a.localErState)&&a.localErState.startTime!==void 0&&a.localErState.startTime!==at.startTime&&(a.localErState=a.remoteErState,Et=!0);for(var ut=["nPuzzles","hintsAllowed","startTime","remainingTime","duration","teamId","teamMembers","ranking"],$t=0;$t<ut.length;$t++)a.localErState[ut[$t]]===void 0&&at[ut[$t]]!==void 0&&(a.localErState[ut[$t]]=at[ut[$t]]);if(bi(a.remoteErState.puzzleData)==="object"&&Object.keys(a.remoteErState.puzzleData).length>0)for(var Ht=0;Ht<a.localErState.puzzlesSolved.length;Ht++){var sn=a.remoteErState.puzzleData[a.localErState.puzzlesSolved[Ht]];bi(sn)==="object"&&(a.localErState.puzzleData[a.localErState.puzzlesSolved[Ht]]=sn)}this._updateAppPuzzlesState(),this._updateTrackingLocalErState(),this._validateERState(a.localErState)&&jt("localErState",a.localErState),Et&&typeof a.onErRestartCallback=="function"&&a.onErRestartCallback(a.remoteErState)}},this._updateTrackingLocalErState=function(){a.localErState.progress=100*a.localErState.puzzlesSolved.length/a.localErState.nPuzzles;for(var at=0,Et=Object.keys(a.localErState.puzzleData),ut=0;ut<Et.length;ut++)at+=a.localErState.puzzleData[Et[ut]].score;a.localErState.score=at},this._updateSettingsFromInitialErState=function(at){if(this._validateERState(at)!==!1){var Et=this._getTeamNameFromERState(at);typeof Et=="string"&&(a.teamName=Et),typeof at.duration=="number"&&(a.duration=at.duration),typeof at.remainingTime=="number"&&(a.remainingTime=at.remainingTime),a.preview&&typeof a.remainingTime!="number"&&typeof a.duration=="number"&&(a.remainingTime=a.duration)}},this._updateAppPuzzlesState=function(){var at=void 0,Et=void 0,ut=!1,$t=this.getSolvedPuzzles();$t instanceof Array&&$t.length>0&&(at=Math.max.apply(Math,or($t)));var Ht=this.getUnsolvedPuzzles();Ht instanceof Array&&(Ht.length>0?Et=Math.min.apply(Math,or(Ht)):(ut=!0,Et=at)),a.lastSolvedPuzzleId=at,a.nextPuzzleId=Et,a.allPuzzlesSolved=ut},this._getNewestState=function(){return this._isRemoteStateNewest()?a.remoteErState:a.localErState},this._isRemoteStateNewest=function(at){var Et=this._validateERState(a.localErState);if(this._validateERState(a.remoteErState)===!1)return!1;if(Et===!1)return!0;if(at===!0&&a.relatedPuzzleIds instanceof Array&&a.relatedPuzzleIds.length>0){var ut=m({},a.localErState);ut.puzzlesSolved=ut.puzzlesSolved.filter((function(Ht){return a.relatedPuzzleIds.indexOf(Ht)!==-1}));var $t=m({},a.remoteErState);return $t.puzzlesSolved=$t.puzzlesSolved.filter((function(Ht){return a.relatedPuzzleIds.indexOf(Ht)!==-1})),this._isStateNewestThan($t,ut)}return this._isStateNewestThan(a.remoteErState,a.localErState)},this._isStateNewestThan=function(at,Et){return at.puzzlesSolved.length!==0&&(Et.puzzlesSolved.length===0||at.puzzlesSolved.length>Et.puzzlesSolved.length)},this._isRemoteStateNewestForApp=function(){return this._isRemoteStateNewest(!0)},this._validateERState=function(at){return bi(at)==="object"&&at.puzzlesSolved instanceof Array},this._auth=function(at,Et){var ut=this._getUserCredentials(at);if(ut===void 0)return this._safeCall(Et,!1);var $t=this,Ht=a.endpoint+"/auth",sn=Object.assign({},ut);sn.preview=a.preview,fetch(Ht,{method:"POST",body:JSON.stringify(sn),headers:{"Content-type":"application/json","Accept-Language":"es-ES"}}).then((function(Sn){return Sn.json()})).then((function(Sn){delete ut.password,a.user=ut,typeof Sn.token=="string"&&(a.user.token=Sn.token),a.user.authenticated=Sn.authentication===!0,a.user.participation=Sn.participation,jt("user",a.user),$t._updateSettingsFromInitialErState(Sn.erState),$t._updateRemoteErState(Sn.erState),$t._safeCall(Et,a.user.authenticated)})).catch((function(Sn){$t._displayConnectionErrorDialog(!1,(function(){$t._auth(at,Et)}))}))},this.retrieveState=function(at){this._auth(a.user,function(Et){if(Et&&a.user.authenticated)return a.preview?["AUTHOR","PARTICIPANT"].indexOf(a.user.participation)!==-1?this._validateUserAfterAuth(at):this._safeCall(at,!1):["PARTICIPANT","NOT_STARTED"].indexOf(a.user.participation)!==-1?a.user.participation==="NOT_STARTED"?a.silent?this._safeCall(at,!1):this._startEscapeRoom(function(ut){return ut===!0?this._validateUserAfterAuth(at):this.validateUser(at)}.bind(this)):this._validateUserAfterAuth(at):a.silent?this._safeCall(at,!1):this._displayUserParticipationErrorDialog(function(){this._safeCall(at,!1)}.bind(this));this._safeCall(at,!1)}.bind(this))},this.submitPuzzle=function(at,Et){var ut=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},$t=arguments.length>3?arguments[3]:void 0;if(this.isUserValidParticipant()===!1&&!a.silent)return this._displayUserParticipationErrorDialog($t);var Ht=this._getUserCredentials(a.user);if(Ht===void 0)return this._safeCall($t,!1,{msg:"Invalid params"});if(at===void 0)return this._safeCall($t,!1,{msg:"Puzzle id not provided"});if(a.puzzlesRequirements!==!0)return this._safeCall($t,!1,{msg:"Invalid puzzle requirements"});a.preview&&(ut.readonly=!0);var sn=this,Sn=a.endpoint+"/puzzles/"+at+(ut.readonly===!0?"/check_solution":"/submit"),ni=Ht;ni.solution=Et,ni.preview=a.preview,fetch(Sn,{method:"POST",body:JSON.stringify(ni),headers:{"Content-type":"application/json","Accept-Language":"es-ES"}}).then((function(Wn){return Wn.json()})).then((function(Wn){if(!(Wn.participation==="PARTICIPANT"||a.preview&&["AUTHOR"].indexOf(a.user.participation)!==-1))return a.silent?sn._safeCall($t,!1,Wn):sn._displayUserParticipationErrorDialog(function(){this._safeCall($t,!1,Wn)}.bind(sn));var ke=Wn.code==="OK"&&Wn.correctAnswer===!0;ut.readonly!==!0&&(ke&&sn._validateERState(a.localErState)&&a.localErState.puzzlesSolved.indexOf(at)===-1&&(a.localErState.puzzlesSolved.push(at),jt("localErState",a.localErState)),sn._updateRemoteErState(Wn.erState)),sn._safeCall($t,ke,Wn)})).catch((function(Wn){if(a.silent)return sn._safeCall($t,!1);sn._displayConnectionErrorDialog(!0,(function(ke){ke==="retry"&&sn.submitPuzzle(at,Et,ut,$t)}))}))},this.checkPuzzle=function(at,Et){var ut=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},$t=arguments.length>3?arguments[3]:void 0;ut.readonly=!0,this.submitPuzzle(at,Et,ut,$t)},this.submitNextPuzzle=function(at){var Et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ut=arguments.length>2?arguments[2]:void 0;this.submitPuzzle(this.getNextPuzzle(),at,Et,ut)},this.checkNextPuzzle=function(at){var Et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ut=arguments.length>2?arguments[2]:void 0;Et.readonly=!0,this.checkPuzzle(this.getNextPuzzle(),at,Et,ut)},this.start=function(at){var Et=this._getUserCredentials(a.user);if(Et===void 0||this.isUserLoggedIn()===!1)return this._safeCall(at,!1);var ut=this,$t=a.endpoint+"/start",Ht=Et;fetch($t,{method:"POST",body:JSON.stringify(Ht),headers:{"Content-type":"application/json","Accept-Language":"es-ES"}}).then((function(sn){return sn.json()})).then((function(sn){ut._updateRemoteErState(sn.erState);var Sn=sn.code==="OK";Sn&&(ut._updateSettingsFromInitialErState(sn.erState),a.user.participation=sn.participation,jt("user",a.user)),ut._safeCall(at,Sn,sn)})).catch((function(sn){if(a.silent)return ut._safeCall(at,!1);ut._displayConnectionErrorDialog(!0,function(Sn){Sn==="retry"?ut.start(at):ut._safeCall(at,!1)}.bind(ut))}))},this._connect=function(){if(a.rtc===!0){var at=this._getUserCredentials(a.user);at!==void 0&&et(at,a)}},this._getTeamNameFromERState=function(at){var Et=this._getTeamFromERState(at);return bi(Et)==="object"?Et.name:void 0},this._getMemberNameFromERState=function(at,Et){var ut=this._getTeamFromERState(at);if(ut!==void 0&&ut.teamMembers instanceof Array){for(var $t=0;$t<ut.teamMembers.length;$t++)if(ut.teamMembers[$t].username===Et)return ut.teamMembers[$t].name}},this._getTeamFromERState=function(at){return this._getTeamFromRanking(at.teamId,at.ranking)},this._getTeamFromRanking=function(at,Et){if(typeof at=="number"&&Et instanceof Array){for(var ut=0;ut<Et.length;ut++)if(Et[ut].id===at)return Et[ut]}},this._hasBeenSuccesfullyInitialized=function(){return Xe},this.getSettings=function(){return a},this.getAppSettings=function(){return b},this.registerCallback=function(at,Et){typeof at=="string"&&["initCallback","onNewErStateCallback","onErRestartCallback"].indexOf(at)!=-1&&typeof Et=="function"&&(a[at]=Et)},this.getStorage=function(){return T},this.getJQuery=function(){return ar},this.isUserLoggedIn=function(){return a.user.authenticated===!0},this.isUserValidParticipant=function(){return this._getUserCredentials(a.user)!==void 0&&a.user.authenticated===!0&&(a.user.participation==="PARTICIPANT"||!(!a.preview||["AUTHOR"].indexOf(a.user.participation)===-1))},this.isPreviewMode=function(){return a.preview},this.getSolvedPuzzles=function(){return a.linkedPuzzleIds instanceof Array&&this._validateERState(a.localErState)&&a.localErState.puzzlesSolved instanceof Array?a.localErState.puzzlesSolved.filter((function(at){return a.linkedPuzzleIds.includes(at)})):[]},this.getUnsolvedPuzzles=function(){var at=this.getSolvedPuzzles();return a.linkedPuzzleIds instanceof Array&&at instanceof Array?a.linkedPuzzleIds.filter((function(Et){return!at.includes(Et)})):[]},this.getLastSolvedPuzzle=function(){return a.lastSolvedPuzzleId},this.getLastSolution=function(){if(a.lastSolvedPuzzleId!==void 0&&this._validateERState(a.localErState)&&bi(a.localErState.puzzleData)==="object"){var at=a.localErState.puzzleData[a.lastSolvedPuzzleId];if(bi(at)==="object"&&typeof at.solution=="string")return at.solution}},this.getNextPuzzle=function(){return a.nextPuzzleId},this.getAllPuzzlesSolved=function(){return a.allPuzzlesSolved},this._onTimeRunOut=function(){this._validateERState(a.localErState)&&a.localErState.strictTime===!0&&(a.user.participation="TOO_LATE",a.silent||Yn!==!1||this.displayCustomEscappDialog(X("i.notification_time_runout_title"),X("i.notification_time_runout"),{}))},this.isERCompleted=function(){var at=this._getNewestState();return!!(this._validateERState(at)&&at.puzzlesSolved instanceof Array&&typeof at.nPuzzles=="number")&&at.puzzlesSolved.length===at.nPuzzles},this.isEREnded=function(){return this.isERCompleted()||hi},this.reset=function(at){this._resetUser(),An(),this._safeCall(at)},this.encrypt=function(at,Et){return(function(ut,$t){var Ht=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof ut!="string"||ut.trim()==="")return ut;switch($t){case"MD5":return on(ut);case"SHA-256":var sn=typeof Ht.key=="string"?Ht.key:Ti;return typeof sn!="string"||sn.trim()===""?ut:Fn.hmac(sn,ut);default:return ut}})(at,Et,arguments.length>2&&arguments[2]!==void 0?arguments[2]:{})},this.addEscappSettingsToUrl=function(at){return this._addEndpointParamToUrl(this._addLocaleParamToUrl(this._addUserCredentialsToUrl(at)))},this._addUserCredentialsToUrl=function(at){var Et=this._getUserCredentials(a.user);return Et===void 0?at:(at=y(at,"escapp_email",Et.email),at=y(at,"escapp_token",Et.token))},this._addLocaleParamToUrl=function(at){var Et=I();return typeof Et.locale=="string"&&(at=y(at,"locale",Et.locale)),at},this._addEndpointParamToUrl=function(at){var Et=I();return typeof Et.escapp_endpoint=="string"&&(at=y(at,"escapp_endpoint",Et.escapp_endpoint)),at},this._safeCall=function(at){if(typeof at=="function"){for(var Et=arguments.length,ut=new Array(Et>1?Et-1:0),$t=1;$t<Et;$t++)ut[$t-1]=arguments[$t];at.apply(void 0,ut)}},this.init(C),a.autovalidate===!0?this.validate(a.initCallback):typeof a.initCallback=="function"&&a.initCallback()},window.escapp_client_environment="production"})()})();var SceneMaker=SceneMaker||{};SceneMaker.Locales={en:{"i.ActionEvent":"Triggering event:","i.ActionEventPuzzleSolved":"Puzzle solved","i.ActionEventSlideRevealed":"Screen or view accessed","i.ActionEventSlideRevealedFirstTime":"Screen or view accessed for the first time","i.ActionParamsDelay":"Delay (seconds):","i.ActionParamsPuzzle":"Puzzle:","i.ActionParamsPuzzleSolution":"Puzzle solution:","i.ActionParamsScreen":"Screen:","i.ActionParamsScreenReplacement":"Replace with:","i.ActionParamsSlide":"Screen or view:","i.ActionParamsText":"Text:","i.ActionParamsURL":"URL:","i.ActionParamsView":"View","i.ActionType":"Action:","i.ActionTypeChangeBackground":"Change background of screen or view","i.ActionTypeChangeScreen":"Change screen","i.ActionTypeDisableHotzone":"Disable zone","i.ActionTypeEnableHotzone":"Enable zone","i.ActionTypeGoToScreen":"Go to screen","i.ActionTypeHideHotspot":"Hide hotspot","i.ActionTypeOpenLink":"Open link","i.ActionTypeOpenView":"Open view","i.ActionTypePlaySound":"Play sound","i.ActionTypeShowHotspot":"Show hotspot","i.ActionTypeShowText":"Show text","i.ActionTypeSolvePuzzle":"Solve escape room puzzle","i.ActionTypeStopSound":"Stop sound","i.ActionWarningChangeBackground":"If the new background image has different dimensions from the original, the position of the zones will vary.","i.AddCaption":"Caption","i.AddContent":"Add Content","i.AddHotspot":"Add hotspot","i.AddImageURL":"Add image URL","i.AddMultimediaURL":"Add video or audio URL (HTML5 or YouTube)","i.AddScreen":"Add Screen","i.AddView":"Add View","i.AddWebURL":"Add web URL","i.AddZone":"Add zone","i.AreYouSure":"Are you sure?","i.AreYouSureContent":"Are you sure you want to delete this content?","i.AreYouSureDeleteHotspot":"Are you sure you want to delete this hotspot?","i.AreYouSureDeleteHotzone":"Are you sure you want to delete this zone?","i.AreYouSureDeleteScreen":"Are you sure you want to delete this screen?","i.AreYouSureDeleteView":"Are you sure you want to delete this view?","i.AspectRatio":"Aspect ratio","i.Background":"Background","i.cancel":"cancel","i.Continue":"Continue","i.CursorVisibility":"Cursor on hover:","i.CursorVisibilityDefault":"No change","i.CursorVisibilityPointer":"Pointer","i.Delete":"Delete","i.delete":"delete","i.Description":"Description","i.Done":"Done","i.Enabled":"Enabled:","i.Exit":"Exit","i.ExitConfirmation":"You are about to leave Scene Maker. Any changes not saved will be lost.","i.ExitConfirmationMenu":"The scene has been modified. Closing without saving will discard your changes. What would you like to do?","i.exitWSaving":"exit without saving","i.Export":"Export","i.HotspotActions":"Actions to perform when the hotspot is clicked","i.HotspotID":"Hotspot ID:","i.HotzoneActions":"Actions to perform when the zone is clicked","i.HotzoneID":"Zone ID:","i.Image":"Image","i.ImageSource":"Source:","i.ImageSourceGallery":"Gallery","i.ImageSourceURL":"URL","i.ImageURL":"URL:","i.Import":"Import","i.ImportText":"You can import a scene from a JSON file. If you do so, the current scene will be replaced by the imported one.","i.LockAspectRatio":"Maintain aspect ratio:","i.Multimedia":"Video & audio","i.NewAction":"Add action","i.no":"no","i.No":"No","i.NoSlidesOnSaveNotification":"Create at least one screen before saving.","i.Object":"Object","i.Ok":"Ok","i.OSettingsPreview":"Include preview param in the URL.","i.OSettingsUnload":"Unload the web page when hiding the view.","i.Position":"Position","i.PositionX":"X (px):","i.PositionY":"Y (px):","i.Preview":"Preview","i.Properties":"Properties","i.PuzzleOption":"Puzzle #{number}","i.Rotation":"Rotation angle (\xB0):","i.Save":"Save","i.saveAndExit":"save and exit","i.Saved":"Saved","i.Saving":"Saving","i.SceneActions":"Actions","i.SceneCaption":"Scene caption","i.SceneCaptionText":"Text","i.SceneCaptionMode":"Display mode:","i.SceneCaptionModeClosable":"Can be closed","i.SceneCaptionModeFixed":"Always visible","i.SceneCaptionModeMinimizable":"Can be minimized","i.Screen":"Screen","i.ScreenOption":"Screen #{number}","i.Settings":"Settings","i.Size":"Size","i.SizeHeight":"Height (px):","i.SizeWidth":"Width (px):","i.Text":"Text","i.Title":"Scene title","i.Unspecified":"Unspecified","i.Untitled":"Untitled","i.Url":"Url","i.url":"url","i.Video":"Video","i.View":"View","i.ViewOption":"View #{viewNumber} - Screen #{screenNumber}","i.Views":"Views","i.ViewsType":"Choose view type","i.ViewsTypeImage":"Image","i.ViewsTypeOther":"Other content","i.Visibility":"Visibility:","i.VisibilityHidden":"Hidden","i.VisibilityVisible":"Visible","i.WrongImportedFile":"The file must be a JSON file.","i.WrongResource":"This resource is corrupted or incompatible with the current version of Scene Maker and cannot be loaded.","i.yes":"yes","i.Yes":"Yes","i.ZoneTooltip":"Click here to add content"},es:{"i.ActionEvent":"Evento desencadenante:","i.ActionEventPuzzleSolved":"Reto resuelto","i.ActionEventSlideRevealed":"Pantalla o vista accedida","i.ActionEventSlideRevealedFirstTime":"Pantalla o vista accedida por primera vez","i.ActionParamsDelay":"Retraso (segundos):","i.ActionParamsPuzzle":"Reto:","i.ActionParamsPuzzleSolution":"Soluci\xF3n del reto:","i.ActionParamsScreen":"Pantalla:","i.ActionParamsScreenReplacement":"Reemplazar con:","i.ActionParamsSlide":"Pantalla o vista:","i.ActionParamsText":"Texto:","i.ActionParamsURL":"URL:","i.ActionParamsView":"Vista","i.ActionType":"Acci\xF3n:","i.ActionTypeChangeBackground":"Cambiar fondo de una pantalla o vista","i.ActionTypeChangeScreen":"Cambiar pantalla","i.ActionTypeDisableHotzone":"Deshabilitar zona","i.ActionTypeEnableHotzone":"Habilitar zona","i.ActionTypeGoToScreen":"Ir a la pantalla","i.ActionTypeHideHotspot":"Ocultar hotspot","i.ActionTypeOpenLink":"Abrir enlace","i.ActionTypeOpenView":"Abrir vista","i.ActionTypePlaySound":"Reproducir sonido","i.ActionTypeShowHotspot":"Mostrar hotspot","i.ActionTypeShowText":"Mostrar texto","i.ActionTypeSolvePuzzle":"Resolver reto de la escape room","i.ActionTypeStopSound":"Detener sonido","i.ActionWarningChangeBackground":"Si la nueva imagen de fondo tiene dimensiones diferentes a la original, la posici\xF3n de las zonas variar\xE1.","i.AddCaption":"R\xF3tulo","i.AddContent":"A\xF1adir contenido","i.AddHotspot":"A\xF1adir hotspot","i.AddImageURL":"A\xF1adir URL de una imagen","i.AddMultimediaURL":"A\xF1adir URL de video o audio (HTML5 o YouTube)","i.AddScreen":"A\xF1adir pantalla","i.AddView":"A\xF1adir vista","i.AddWebURL":"A\xF1adir URL de una web","i.AddZone":"A\xF1adir zona","i.AreYouSure":"\xBFEst\xE1 seguro?","i.AreYouSureContent":"\xBFEst\xE1 seguro de que desea eliminar este contenido?","i.AreYouSureDeleteHotspot":"\xBFEst\xE1 seguro de que desea eliminar este hotspot?","i.AreYouSureDeleteHotzone":"\xBFEst\xE1 seguro de que desea eliminar esta zona?","i.AreYouSureDeleteScreen":"\xBFEst\xE1 seguro de que desea eliminar esta pantalla?","i.AreYouSureDeleteView":"\xBFEst\xE1 seguro de que desea eliminar esta vista?","i.AspectRatio":"Relaci\xF3n de aspecto","i.Background":"Fondo","i.cancel":"cancelar","i.Continue":"Continuar","i.CursorVisibility":"Cursor al pasar el rat\xF3n:","i.CursorVisibilityDefault":"No cambiar","i.CursorVisibilityPointer":"Puntero","i.Delete":"Borrar","i.delete":"borrar","i.Description":"Descripci\xF3n","i.Done":"Hecho","i.Enabled":"Habilitado:","i.Exit":"Salir","i.ExitConfirmation":"Est\xE1 a punto de salir de Scene Maker. Los cambios no guardados se perder\xE1n.","i.ExitConfirmationMenu":"El escenario ha sido modificado. Si cierra sin guardar, se perder\xE1n los cambios. \xBFQu\xE9 desea hacer?","i.exitWSaving":"salir sin guardar","i.Export":"Exportar","i.HotspotActions":"Acciones al hacer clic en el hotspot","i.HotspotID":"ID del hotspot:","i.HotzoneActions":"Acciones al hacer clic en la zona","i.HotzoneID":"ID de la zona:","i.Image":"Imagen","i.ImageSource":"Fuente:","i.ImageSourceGallery":"Galer\xEDa","i.ImageSourceURL":"URL","i.ImageURL":"URL:","i.Import":"Importar","i.ImportText":"Puedes importar un escenario de un archivo JSON. Si lo haces, el escenario actual ser\xE1 reemplazado por el importado.","i.LockAspectRatio":"Mantener relaci\xF3n de aspecto:","i.Multimedia":"V\xEDdeo & audio","i.NewAction":"A\xF1adir acci\xF3n","i.no":"no","i.No":"No","i.NoSlidesOnSaveNotification":"Cree al menos una pantalla antes de guardar.","i.Object":"Objeto","i.Ok":"Aceptar","i.OSettingsPreview":"Incluir par\xE1metro de previsualizaci\xF3n en la URL.","i.OSettingsUnload":"Cerrar la p\xE1gina web al ocultar la vista.","i.Position":"Posici\xF3n","i.PositionX":"X (px):","i.PositionY":"Y (px):","i.Preview":"Vista previa","i.Properties":"Propiedades","i.PuzzleOption":"Reto #{number}","i.Rotation":"\xC1ngulo de rotaci\xF3n (\xB0):","i.Save":"Guardar","i.saveAndExit":"guardar y salir","i.Saved":"Guardado","i.Saving":"Guardando","i.SceneActions":"Acciones","i.SceneCaption":"R\xF3tulo del escenario","i.SceneCaptionText":"Texto","i.SceneCaptionMode":"Modo de visualizaci\xF3n:","i.SceneCaptionModeClosable":"Se puede cerrar","i.SceneCaptionModeFixed":"Siempre visible","i.SceneCaptionModeMinimizable":"Se puede minimizar","i.Screen":"Pantalla","i.ScreenOption":"Pantalla #{number}","i.Settings":"Configuraci\xF3n","i.Size":"Tama\xF1o","i.SizeHeight":"Alto (px):","i.SizeWidth":"Ancho (px):","i.Text":"Texto","i.Title":"T\xEDtulo del escenario","i.Unspecified":"No especificado","i.Untitled":"Sin t\xEDtulo","i.Url":"Url","i.url":"url","i.Video":"Video","i.View":"Vista","i.ViewOption":"Vista #{viewNumber} - Pantalla #{screenNumber}","i.Views":"Vistas","i.ViewsType":"Elige tipo de vista","i.ViewsTypeImage":"Imagen","i.ViewsTypeOther":"Otro contenido","i.Visibility":"Visibilidad:","i.VisibilityHidden":"Oculto","i.VisibilityVisible":"Visible","i.WrongImportedFile":"El archivo debe ser un archivo JSON.","i.WrongResource":"Este recurso est\xE1 da\xF1ado o es incompatible con la versi\xF3n actual de Scene Maker y no se puede cargar.","i.yes":"s\xED","i.Yes":"S\xED","i.ZoneTooltip":"Haz clic aqu\xED para a\xF1adir contenido"},sr:{"i.ActionEvent":"Triger Doga\u0111aj:","i.ActionEventPuzzleSolved":"Zagonetka re\u0161ena","i.ActionEventSlideRevealed":"Pristupljeno je ekranu ili prikazu","i.ActionEventSlideRevealedFirstTime":"Prvi put je pristupljeno ekranu ili prikazu","i.ActionParamsDelay":"Ka\u0161njenje (sekunde):","i.ActionParamsPuzzle":"Zagonetka:","i.ActionParamsPuzzleSolution":"Re\u0161enje zagonetke:","i.ActionParamsScreen":"Ekran:","i.ActionParamsScreenReplacement":"Zameni sa:","i.ActionParamsSlide":"Ekran ili prikaz:","i.ActionParamsText":"Tekst:","i.ActionParamsURL":"URL:","i.ActionParamsView":"Prikaz","i.ActionType":"Akcija:","i.ActionTypeChangeBackground":"Promeni pozadinu ekrana ili prikaza","i.ActionTypeChangeScreen":"Promeni ekran","i.ActionTypeDisableHotzone":"Onemoguc\u0301i zonu","i.ActionTypeEnableHotzone":"Omoguc\u0301i zonu","i.ActionTypeGoToScreen":"Idi na ekran","i.ActionTypeHideHotspot":"Sakrij hotspot","i.ActionTypeOpenLink":"Otvori link","i.ActionTypeOpenView":"Otvori prikaz","i.ActionTypePlaySound":"Reprodukuj zvuk","i.ActionTypeShowHotspot":"Prika\u017Ei hotspot","i.ActionTypeShowText":"Prika\u017Ei tekst","i.ActionTypeSolvePuzzle":"Re\u0161i zagonetku escape sobe","i.ActionTypeStopSound":"Zaustavi zvuk","i.ActionWarningChangeBackground":"Ako nova pozadinska slika ima druga\u010Dije dimenzije od originalne, polo\u017Eaj zona c\u0301e varirati.","i.AddCaption":"Natpis","i.AddContent":"Dodaj sadr\u017Eaj","i.AddHotspot":"Dodaj hotspot","i.AddImageURL":"Dodaj URL slike","i.AddMultimediaURL":"Dodaj URL videa ili audio zapisa (HTML5 ili YouTube)","i.AddScreen":"Dodaj ekran","i.AddView":"Dodaj prikaz","i.AddWebURL":"Dodaj veb URL","i.AddZone":"Dodaj zonu","i.AreYouSure":"Da li ste sigurni?","i.AreYouSureContent":"Da li ste sigurni da \u017Eelite da obri\u0161ete ovaj sadr\u017Eaj?","i.AreYouSureDeleteHotspot":"Da li ste sigurni da \u017Eelite da obri\u0161ete ovaj hotspot?","i.AreYouSureDeleteHotzone":"Da li ste sigurni da \u017Eelite da obri\u0161ete ovu zonu?","i.AreYouSureDeleteScreen":"Da li ste sigurni da \u017Eelite da obri\u0161ete ovaj ekran?","i.AreYouSureDeleteView":"Da li ste sigurni da \u017Eelite da obri\u0161ete ovaj prikaz?","i.AspectRatio":"Odnos \u0161irine i visine (aspect ratio)","i.Background":"Pozadina","i.cancel":"otka\u017Ei","i.Continue":"Nastavi","i.CursorVisibility":"Kursor pri zadr\u017Eavanju mi\u0161em (on hover):","i.CursorVisibilityDefault":"Bez promena","i.CursorVisibilityPointer":"Pokaziva\u010D","i.Delete":"Obri\u0161i","i.delete":"Obri\u0161i","i.Description":"Opis","i.Done":"Gotovo","i.Enabled":"Omoguc\u0301eno:","i.Exit":"Izlaz","i.ExitConfirmation":"Upravo c\u0301ete napustiti Scene Maker. Sve izmene koje nisu sa\u010Duvane bic\u0301e izgubljene.","i.ExitConfirmationMenu":"Scena je izmenjena. Zatvaranje bez \u010Duvanja c\u0301e odbaciti va\u0161e izmene. \u0160ta \u017Eelite da uradite?","i.exitWSaving":"izlaz bez \u010Duvanja","i.Export":"Izvezi","i.HotspotActions":"Radnje koje se izvr\u0161avaju kada se klikne na hotspot","i.HotspotID":"ID hotspota:","i.HotzoneActions":"Radnje koje se izvr\u0161avaju kada se klikne na zonu","i.HotzoneID":"ID zone:","i.Image":"Slika","i.ImageSource":"Izvor:","i.ImageSourceGallery":"Galerija","i.ImageSourceURL":"URL","i.ImageURL":"URL:","i.Import":"Uvezi","i.ImportText":"Mo\u017Eete uvesti scenario iz JSON datoteke. Ako to u\u010Dinite, trenutni scenario \u0107e biti zamenjen uvezenim.","i.LockAspectRatio":"Odr\u017Eavaj odnos \u0161irine i visine (aspect ratio):","i.Multimedia":"Video i audio","i.NewAction":"Dodaj akciju","i.no":"ne","i.No":"Ne","i.NoSlidesOnSaveNotification":"Napravi barem jedan ekran pre \u010Duvanja.","i.Object":"Objekat","i.Ok":"U redu","i.OSettingsPreview":"Uklju\u010Di parametar pregleda u URL.","i.OSettingsUnload":"Isprazni veb stranicu prilikom skrivanja prikaza.","i.Position":"Polo\u017Eaj","i.PositionX":"X (px):","i.PositionY":"Y (px):","i.Preview":"Pregled","i.Properties":"Svojstva","i.PuzzleOption":"Slagalica #{number}","i.Rotation":"Ugao rotacije (\xB0):","i.Save":"Sa\u010Duvaj","i.saveAndExit":"sa\u010Duvaj i iza\u0111i","i.Saved":"Sa\u010Duvano","i.Saving":"\u010Cuva se","i.SceneActions":"Radnje","i.SceneCaption":"Natpis scene","i.SceneCaptionText":"Tekst","i.SceneCaptionMode":"Re\u017Eim prikaza:","i.SceneCaptionModeClosable":"Mo\u017Ee se zatvoriti","i.SceneCaptionModeFixed":"Uvek vidljivo","i.SceneCaptionModeMinimizable":"Mo\u017Ee se minimizirati","i.Screen":"Ekran","i.ScreenOption":"Ekran #{number}","i.Settings":"Pode\u0161avanja","i.Size":"Veli\u010Dina","i.SizeHeight":"Visina (px):","i.SizeWidth":"\u0160irina (px):","i.Text":"Tekst","i.Title":"Naslov scene","i.Unspecified":"Neodre\u0111eno","i.Untitled":"Bez naslova","i.Url":"URL","i.url":"url","i.Video":"Video","i.View":"Prikaz","i.ViewOption":"Prikaz #{viewNumber} - Ekran #{screenNumber}","i.Views":"Prikazi","i.ViewsType":"Izaberite tip prikaza","i.ViewsTypeImage":"Slika","i.ViewsTypeOther":"Drugi sadr\u017Eaj","i.Visibility":"Vidljivost:","i.VisibilityHidden":"Sakriveno","i.VisibilityVisible":"Vidljivo","i.WrongImportedFile":"Datoteka mora biti JSON datoteka.","i.WrongResource":"Ovaj resurs je o\u0161tec\u0301en ili nije kompatibilan sa trenutnom verzijom Scene Maker-a i ne mo\u017Ee se u\u010Ditati.","i.yes":"da","i.Yes":"Da","i.ZoneTooltip":"Kliknite ovde da biste dodali sadr\u017Eaj"}},SceneMaker.Constant=SceneMaker.Constant||{},SceneMaker.Constant.NONE="none",SceneMaker.Constant.UNKNOWN="Unknown",SceneMaker.Constant.SCREEN="screen",SceneMaker.Constant.VIEW="view",SceneMaker.Constant.VIEW_IMAGE="view_image",SceneMaker.Constant.VIEW_CONTENT="view_content",SceneMaker.Constant.TEXT="text",SceneMaker.Constant.IMAGE="image",SceneMaker.Constant.AUDIO="audio",SceneMaker.Constant.VIDEO="video",SceneMaker.Constant.OBJECT="object",SceneMaker.Constant.IE="Internet Explorer",SceneMaker.Constant.FIREFOX="Mozilla Firefox",SceneMaker.Constant.CHROME="Google Chrome",SceneMaker.Constant.SAFARI="Safari",SceneMaker.Constant.ANDROID_BROWSER="Android Browser",SceneMaker.Constant.MEDIA={},SceneMaker.Constant.MEDIA.IMAGE="image",SceneMaker.Constant.MEDIA.HTML5_VIDEO="HTML5_VIDEO",SceneMaker.Constant.MEDIA.YOUTUBE_VIDEO="YouTube",SceneMaker.Constant.MEDIA.HTML5_AUDIO="HTML5_AUDIO",SceneMaker.Constant.MEDIA.WEB="web",SceneMaker.Constant.MEDIA.REUSABLE_PUZZLE_INSTANCE="reusable_puzzle_instance",SceneMaker.Constant.MEDIA.PDF="pdf",SceneMaker.Constant.MEDIA.DOC="doc",SceneMaker.Constant.MEDIA.PPT="ppt",SceneMaker.Constant.MEDIA.JSON="json",SceneMaker.Constant.WRAPPER={},SceneMaker.Constant.WRAPPER.EMBED="EMBED",SceneMaker.Constant.WRAPPER.OBJECT="OBJECT",SceneMaker.Constant.WRAPPER.IFRAME="IFRAME",SceneMaker.Constant.WRAPPER.VIDEO="VIDEO",SceneMaker.Constant.WRAPPER.AUDIO="AUDIO",SceneMaker.Constant.WRAPPER.IMAGE="IMG",SceneMaker.Configuration=(function(n,T,A){var u,d=function(m){typeof m=="undefined"&&(m={}),u=m,n.ImagesPath=u.ImagesPath,n.StylesheetsPath=u.StylesheetsPath,n.PreviewPath=u.PreviewPath,n.UploadScenePath=u.UploadScenePath},v=function(){return typeof u=="undefined"?{}:u};return{init:d,getConfiguration:v}})(SceneMaker,jQuery),SceneMaker.I18n=(function(n,T,A){var u="en",d,v,m,I,y,S,R=function(g,St){var jt=n.Configuration.getConfiguration();if(d=it(),m=Q(),M(jt.defaultLanguage)&&(u=jt.defaultLanguage),M(g.lang))I=g.lang;else{var L=navigator.language||navigator.userLanguage;M(L)?I=L:typeof St=="object"&&M(St.language)?I=St.language:I=u}S=n.Locales,typeof v=="object"?y=v:y=S},Q=function(){for(var g=[],St=it(),jt=0;jt<St.length;jt++)for(var L=Object.keys(St[jt]),An=0;An<L.length;An++)g.indexOf(L[An])==-1&&g.push(L[An]);return g},F=function(){return m instanceof Array?m:Q()},it=function(){var g=[],St=n.Configuration.getConfiguration();return typeof n.Locales=="object"&&g.push(n.Locales),typeof St=="object"&&typeof St.locales=="object"&&(g.push(St.locales),v=St.locales),g},V=function(){return d instanceof Array?d:it()},M=function(g){return typeof g=="string"&&F().indexOf(g)!=-1},H=function(){T("[i18n-key]").each(function(g,St){var jt=q(T(St).attr("i18n-key"));if(typeof jt!="undefined")switch(St.tagName){case"INPUT":X(St,jt);break;case"TEXTAREA":st(St,jt);break;case"DIV":Z(St,jt);break;case"LI":Pt(St,jt);break;case"IMG":pt(St,jt);break;default:ft(St,jt);break}}),T("[i18n-key-tooltip]").each(function(g,St){var jt=q(T(St).attr("i18n-key-tooltip"));typeof jt!="undefined"&&T(St).attr("title",jt)}),T("[i18n-key-href]").each(function(g,St){var jt=q(T(St).attr("i18n-key-href"));typeof jt!="undefined"&&T(St).attr("href",jt)})},X=function(g,St){T(g).val()!==""&&T(g).val(St),T(g).attr("placeholder")&&T(g).attr("placeholder",St)},Z=function(g,St){T(g).attr("data-text")!=A&&T(g).attr("data-text",St),T(g).attr("title")!=A&&T(g).attr("title",St),T(g).attr("translateContent")==="true"&&T(g).html(St)},st=function(g,St){T(g).attr("placeholder",St)},Pt=function(g,St){T(g).attr("data-text")!=A?T(g).attr("data-text",St):ft(g,St)},pt=function(g,St){var jt="src";typeof T(g).attr("srctoload")!="undefined"&&(jt="srctoload"),T(g).attr(jt,n.ImagesPath+St)},ft=function(g,St){T(g).text(St)},q=function(g,St){var jt=At(y,g,St);if(typeof jt=="string"||(jt=At(S,g,St),typeof jt=="string"))return jt;var L=/^i\./g;return L.exec(g)!=null?A:g},At=function(g,St,jt){return typeof g[I]!="undefined"&&typeof g[I][St]=="string"?_t(g[I][St],jt):I!=u&&typeof g[u]!="undefined"&&typeof g[u][St]=="string"?_t(g[u][St],jt):A},_t=function(g,St){if(typeof St!="object")return g;for(var jt in St){var L="#{"+jt+"}";g.indexOf(L)!=-1&&(g=g.replaceAll(L,St[jt]))}return g},Jt=function(){return I};return{init:R,getAvailableLanguages:F,getAvailableLocales:V,getLanguage:Jt,getTrans:q,translateUI:H}})(SceneMaker,jQuery),SceneMaker.User=(function(n,T,A){var u,d=function(Q){var F={};typeof Q=="object"&&(F=Q.user),m(F)},v=function(){return Object.keys(u).length>0?u:A},m=function(Q){typeof Q=="object"?u=Q:u={}},I=function(){return u&&typeof u.token=="string"&&u.id},y=function(){return u.name},S=function(){return u.id},R=function(){return u.token};return{init:d,getUser:v,setUser:m,isLogged:I,getName:y,getId:S,getToken:R}})(SceneMaker,jQuery),SceneMaker.Object=(function(n,T,A){var u=function(){n.Object.PDF.init(),n.Object.GoogleDOC.init()};function d(H,X,Z){this.wrapper=H,this.source=X,this.type=Z}var v=function(H){var X=null;if(typeof H=="string"){var Z=new RegExp("^<video","g");Z.exec(H)!==null&&(X="VIDEO");var st=new RegExp("^<audio","g");st.exec(H)!==null&&(X="AUDIO")}if(X===null||typeof X=="undefined"){var Pt=T(H)[0];typeof Pt!="undefined"&&(X=Pt.tagName)}var pt=m(H,X),ft;switch(X){case"VIDEO":ft=n.Constant.MEDIA.HTML5_VIDEO;break;case"AUDIO":ft=n.Constant.MEDIA.HTML5_AUDIO;break;case"IFRAME":default:ft=V(pt)}return new d(X,pt,ft)},m=function(H,X){var Z=null;switch(X){case null:Z=H;break;case n.Constant.WRAPPER.IMAGE:case n.Constant.WRAPPER.EMBED:case n.Constant.WRAPPER.IFRAME:Z=T(H).attr("src");break;case n.Constant.WRAPPER.OBJECT:typeof T(H).attr("src")!="undefined"?Z=T(H).attr("src"):typeof T(H).attr("data")!="undefined"&&(Z=T(H).attr("data"));break;case n.Constant.WRAPPER.VIDEO:return n.Video.HTML5.getSources(H);case n.Constant.WRAPPER.AUDIO:return n.Audio.HTML5.getSources(H);default:n.Debugging.log("Unrecognized object wrapper: "+X);break}if(X==null||X==n.Constant.WRAPPER.IFRAME){var st=/(^https?:\/\/docs.google.com\/viewer\?url=)/g,Pt=Z.match(st);Pt instanceof Array&&Pt.length===1&&(Z=Z.replace(Pt[0],"").replace("&embedded=true",""))}return Z},I=/(http(s)?:\/\/)([aA-zZ0-9%=_&+?])+([./-][aA-zZ0-9%=_&+?]+)*[/]?/g,y=/(www[.])([aA-zZ0-9%=_&+?])+([./-][aA-zZ0-9%=_&+?]+)*[/]?/g,S=/(http(s)?:\/\/)?(((youtu.be\/)([aA-zZ0-9-]+))|((www.youtube.com\/((watch\?v=)|(embed\/)|(v\/)))([aA-z0-9-Z&=.])+))/g,R=/^https?:\/\/[^\/]+\/escapeRooms\/[A-Za-z0-9]+\/reusablePuzzleInstances\/[A-Za-z0-9]+\/render$/,Q=["mp4","webm","ogg"],F=["jpg","jpeg","png","gif","bmp","svg"],it=["mp3","wav","ogg"],V=function(H){if(typeof H=="object"&&H!==null&&typeof H.length=="number"&&H.length>0&&(H=H[0]),typeof H!="string")return null;if(H.match(R)!==null)return n.Constant.MEDIA.REUSABLE_PUZZLE_INSTANCE;if(H.match(S)!==null)return n.Constant.MEDIA.YOUTUBE_VIDEO;H=H.split("?")[0];var X=M(H);return F.indexOf(X)!==-1?n.Constant.MEDIA.IMAGE:X==="pdf"?n.Constant.MEDIA.PDF:Q.indexOf(X)!==-1?n.Constant.MEDIA.HTML5_VIDEO:it.indexOf(X)!==-1?n.Constant.MEDIA.HTML5_AUDIO:X==="json"?n.Constant.MEDIA.JSON:X==="doc"||X==="docx"?n.Constant.MEDIA.DOC:X==="ppt"||X==="pptx"||X==="odp"?n.Constant.MEDIA.PPT:H.match(I)!==null||H.match(y)!==null?n.Constant.MEDIA.WEB:X},M=function(H){return H.split(".").pop().split("&")[0].toLowerCase()};return{init:u,getExtensionFromSrc:M,getObjectInfo:v}})(SceneMaker,jQuery),SceneMaker.Object.PDF=(function(n,T,A){var u=!1,d=function(){u=n.Status.getDevice().features.pdfReader},v=function(I){return I=n.Utils.checkUrlProtocol(I),u?"<iframe src='"+I+"'></iframe>":n.Object.GoogleDOC.generateWrapper(I)},m=function(I,y){if(typeof y!="object"||typeof y.source!="string")return"";var S=I.style?I.style:"",R=v(y.source),Q="objectelement";return y.extraClasses&&(Q=Q+" "+y.extraClasses),"<div id='"+I.id+"' class='"+Q+"' objectStyle='"+S+`' objectWrapper="`+R+'"></div>'};return{init:d,generateWrapper:v,renderPDFFromJSON:m}})(SceneMaker,jQuery),SceneMaker.Object.GoogleDOC=(function(n,T,A){var u=function(){},d=function(v){return v=n.Utils.checkUrlProtocol(v),"<iframe src='https://docs.google.com/viewer?url="+v+"&embedded=true'></iframe>"};return{init:u,generateWrapper:d}})(SceneMaker,jQuery),SceneMaker.Renderer=(function(n,T,A){var u=function(){},d=function(M){var H=v(M);if(H){T("section.slides").append(T(H)),n.Marker.drawSlideWithMarkers(M);for(var X=M.views.length,Z=0;Z<X;Z++){var st=M.views[Z];n.Marker.drawSlideWithMarkers(st)}}},v=function(M){for(var H="",X=M.views.length,Z=0;Z<X;Z++){var st=M.views[Z];H+=m(st)}return T("<article type='"+M.type+"' id='"+M.id+"'>"+H+"</article>")},m=function(M){if(M.type===n.Constant.VIEW_CONTENT)return y(M);if(M.type===n.Constant.VIEW_IMAGE)return I(M)},I=function(M){var H="hide_in_screen",X="<div class='close_view' id='close"+M.id+"'></div>";return"<article class='"+H+"' type='"+n.Constant.VIEW_IMAGE+"' id='"+M.id+"'>"+X+"</article>"},y=function(M){for(var H="",X="hide_in_screen",Z="<div class='close_view' id='close"+M.id+"'></div>",st=M.elements.length,Pt=0;Pt<st;Pt++){var pt=M.elements[Pt];pt.type===n.Constant.TEXT?H+=R(pt):pt.type===n.Constant.IMAGE?H+=Q(pt):pt.type===n.Constant.VIDEO?H+=F(pt):pt.type===n.Constant.AUDIO?H+=it(pt):pt.type===n.Constant.OBJECT?(H+=V(pt),X+=" object"):H+=S(pt)}return"<article class='"+X+"' type='"+n.Constant.VIEW_CONTENT+"' id='"+M.id+"'>"+Z+H+"</article>"},S=function(M){return"<div id='"+M.id+"' class='view_content_text'></div>"},R=function(M){return"<div id='"+M.id+"' class='view_content_text textArea'>"+M.body+"</div>"},Q=function(M){var H=T("<div id='"+M.id+"' class='view_content_image_wrapper'></div>"),X=T("<img class='view_content_image' src='"+M.body+"' style='"+M.style+"' />");if(M.hyperlink){var Z=T("<a href='"+M.hyperlink+"' target='blank_'></a>");T(Z).append(X),T(H).append(Z)}else T(H).append(X);return n.Utils.getOuterHTML(H)},F=function(M){var H="<div id='"+M.id+"' class='view_content_video_wrapper'>",X=n.Video.HTML5.renderVideoFromJSON(M,{id:n.Utils.getId(M.id+"_video"),extraClasses:["view_content_video"],timestamp:!0});return H=H+X+"</div>",H},it=function(M){var H="<div id='"+M.id+"' class='view_content_audio_wrapper'>",X=n.Audio.HTML5.renderAudioFromJSON(M,{id:n.Utils.getId(M.id+"_audio"),extraClasses:["view_content_audio"],timestamp:!0});return H=H+X+"</div>",H},V=function(M){var H=M.settings||{},X=H.unloadObject===!1?"unloadableObject":"",Z=n.Object.getObjectInfo(M.body);switch(Z.type){case n.Constant.MEDIA.YOUTUBE_VIDEO:return n.Video.Youtube.renderVideoFromJSON(M,{extraClasses:"objectelement youtubeelement "+X});case n.Constant.MEDIA.PDF:return n.Object.PDF.renderPDFFromJSON(M,{extraClasses:X,source:Z.source});default:var st=T(M.body),Pt=st.attr("src");typeof Pt!="undefined"&&(Pt=n.Utils.checkWebUrl(Pt),(Z.type===n.Constant.MEDIA.REUSABLE_PUZZLE_INSTANCE||H.addPreviewParamToObject===!0)&&(Pt=n.Utils.addParamToUrl(Pt,"escapp_preview",""+n.Status.isPreview())),st.attr("src",Pt)),Z.type===n.Constant.MEDIA.REUSABLE_PUZZLE_INSTANCE&&st.attr("reusablepuzzleinstance","true");var pt=n.Utils.getOuterHTML(st),ft=M.style?M.style:"";return"<div id='"+M.id+"' class='objectelement "+X+"' objectStyle='"+ft+"' objectWrapper='"+pt+"'></div>"}};return{init:u,renderScreen:d}})(SceneMaker,jQuery),SceneMaker.Debugging=(function(n,T,A){var u=!1,d,v=function(F){F&&typeof F.developping=="boolean"?(u=F.developping,u&&F.developmentSettings&&(d=F.developmentSettings)):(u=!1,d=null)},m=function(...F){window.console&&window.console.log&&u&&console.log(...F)},I=function(){u=!0},y=function(){u=!1},S=function(){return u},R=function(){return d?d.actionInit:"nothing"},Q=function(){return d&&d.testing_scene?d.testing_scene:(m("Error: Please specify development settings"),null)};return{init:v,log:m,enableDevelopingMode:I,disableDevelopingMode:y,isDevelopping:S,getActionInit:R,getTestingScene:Q}})(SceneMaker,jQuery),SceneMaker.Scene=(function(n,T){var A=function(u,d){n.ViewerAdapter.applyAspectRatio(u.aspectRatio),n.Renderer.init();for(var v=u.screens,m=0;m<v.length;m++)n.Renderer.renderScreen(v[m]);typeof d=="function"&&d()};return{init:A}})(SceneMaker),SceneMaker.Video=(function(n,T,A){var u=function(){n.Video.HTML5.init(),n.Video.Youtube.init()};return{init:u}})(SceneMaker,jQuery),SceneMaker.Video.HTML5=(function(n,T,A){var u=function(){},d=function(){var M=T("video, audio");T.each(M,function(H,X){var Z=X.tagName==="VIDEO";Z&&T(X).focus(function(st){this.blur()})})},v=function(M){var H=T(M).find("video, audio");T.each(H,function(X,Z){T(Z).attr("wasplayingonslideleave")=="true"?Z.play():T(Z).attr("wasplayingonslideleave")=="false"||typeof T(Z).attr("wasplayingonslideleave")=="undefined"&&T(Z).attr("autoplayonslideenter")=="true"&&Z.play()})},m=function(M){var H=T(M).find("video, audio");T.each(H,function(X,Z){var st=!Z.paused;T(Z).attr("wasplayingonslideleave",st),st&&Z.pause()})},I=function(M,H){var X=H||{};return typeof X.id=="undefined"&&(X.id=typeof M!="undefined"&&M.id?M.id:n.Utils.getId()),typeof X.controls=="undefined"&&(X.controls=M.controls),X.style=M.style,X.autoplay=M.autoplay,X.loop=M.loop,y(it(M),X)},y=function(M,H){var X=T("<video></video>");if(T(X).attr("preload","metadata"),H&&H.extraAttrs)for(var Z in H.extraAttrs)T(X).attr(Z,H.extraAttrs[Z]);if(H){if(H.id&&T(X).attr("id",H.id),typeof H.onVideoReady=="string")try{for(var st=H.onVideoReady.split("."),Pt=window[st[0]],pt=1;pt<st.length;pt++)Pt=Pt[st[pt]];typeof Pt=="function"&&T(X).attr("onloadeddata",H.onVideoReady+"(this)")}catch(At){}if(H.extraClasses)for(var ft=H.extraClasses.length,q=0;q<ft;q++)T(X).addClass(H.extraClasses[q]);H.controls!==!1&&T(X).attr("controls","controls"),typeof H.autoplay!="undefined"&&T(X).attr("autoplayonslideenter",H.autoplay),typeof H.poster=="string"&&T(X).attr("poster",H.poster),H.loop===!0&&T(X).attr("loop","loop"),H.style&&T(X).attr("style",H.style)}return typeof T(X).attr("onloadeddata")=="undefined"&&T(X).attr("onloadeddata","SceneMaker.Video.HTML5.onVideoReady(this)"),X=n.Utils.getOuterHTML(X),X=X.split("</video>")[0],(!H||H.loadSources!==!1)&&(T.each(M,function(At,_t){if(typeof _t.src=="string"){var Jt=_t.src;typeof H!="undefined"&&H.timestamp===!0&&(Jt=n.Utils.addParamToUrl(Jt,"timestamp",""+new Date().getTime()));var g=_t.mimeType?"type='"+_t.mimeType+"' ":"";X=X+"<source src='"+Jt+"' "+g+">"}}),M.length>0&&(X=X+"<p>Your browser does not support HTML5 video.</p>")),X=X+"</video>",X},S=function(M,H,Z){var Z=Z||{};T.each(M,function(st,Pt){if(typeof Pt.src=="string"){var pt=Pt.src;Z.timestamp===!0&&(pt=n.Utils.addParamToUrl(pt,"timestamp",""+new Date().getTime()));var ft=Pt.mimeType?"type='"+Pt.mimeType+"' ":"";T(H).append("<source src='"+pt+"' "+ft+">")}}),M.length>0&&T(H).append("<p>Your browser does not support HTML5 video.</p>")},R=function(M){typeof M!="undefined"&&(M.readyState==4||M.readyState==3)&&T(M).attr("loaded","true")},Q=function(M){if(typeof M=="string"){for(var H=[],X=new RegExp(`src=('||")([a-z-.://0-9]+)`,"g"),Z;Z=X.exec(M);)Z.length>2&&H.push(Z[2]),X.lastIndex=Z.index+1;return H.map(function(st){return{src:st,mimeType:F(st)}})}try{return T(M).find("source").map(function(){return{src:this.src,mimeType:F(this.src)}})}catch(st){return[]}return[]},F=function(M){var H=n.Object.getObjectInfo(M).source;return"video/"+H.split(".").pop().split("?")[0]},it=function(M){if(typeof M!="object")return[];if(typeof M.sources=="string")try{var H=JSON.parse(M.sources)}catch(X){return[]}else if(typeof M.sources=="object")var H=M.sources;return H},V=function(M){if(typeof M=="string"){var H=new RegExp(`poster=('||")([a-z.://0-9?=%]+)`,"g"),X=H.exec(M);return typeof X!="undefined"&&X!=null&&X.length>2?X[2]:A}return T(M).attr("poster")};return{init:u,setMultimediaEvents:d,playMultimedia:v,stopMultimedia:m,renderVideoFromJSON:I,renderVideoFromSources:y,addSourcesToVideoTag:S,getSources:Q,getSourcesFromJSON:it,getPoster:V,onVideoReady:R}})(SceneMaker,jQuery),SceneMaker.Video.Youtube=(function(n,T,A){var u=function(){},d=function(y,Q){var R=y.body||y.source,Q=Q||{};return Q.id=y.id?y.id:n.Utils.getId(),Q.objectStyle=y.style,m(R,Q)},v=function(y){var S="https://www.youtube.com/embed/"+I(y),R="<iframe src='"+S+"' title='YouTube video player' frameborder='0' allowfullscreen></iframe>";return R},m=function(y,S){var R=S&&S.id?S.id:n.Utils.getId(),Q="",F="";S&&(S.extraClasses&&(Q=Q+" "+S.extraClasses),S.objectStyle?F=S.objectStyle:S.style&&(F=S.style));var it=v(y);return"<div id='"+R+"' class='"+Q+"' objectStyle='"+F+`' objectWrapper="`+it+'"></div>'},I=function(y){var S=null;if(!y)return S;var R=/https?:\/\/?youtu.be\/([aA-zZ0-9-]+)/g,Q=/(https?:\/\/)?(www.youtube.com\/watch\?v=|embed\/)([aA-zZ0-9-]+)[&=.]*/g,F=/(https?:\/\/)?(www.youtube.com\/v\/)([aA-zZ0-9-]+)/g,it=/(https?:\/\/)?(www.youtube.com\/embed\/)([aA-zZ0-9-]+)/g;if(y.match(R)!=null){var V=R.exec(y);return V&&V[1]&&(S=V[1]),S}if(y.match(Q)!=null){var V=y.split("&")[0],V=Q.exec(y);return V&&V[3]&&(S=V[3]),S}if(y.match(F)!=null){var V=y.split("&")[0],V=F.exec(y);return V&&V[3]&&(S=V[3]),S}if(y.match(it)!=null){var V=y.split("&")[0],V=it.exec(y);return V&&V[3]&&(S=V[3]),S}return S};return{init:u,renderVideoFromJSON:d,renderVideoFromSource:m,getYoutubeIdFromURL:I}})(SceneMaker,jQuery),SceneMaker.Audio=(function(n,T,A){var u=function(){n.Audio.HTML5.init()};return{init:u}})(SceneMaker,jQuery),SceneMaker.Audio.HTML5=(function(n,T,A){var u,d=function(){var V=new Audio;u={player:V,url:A},V.addEventListener("ended",()=>{u.url=A})},v=function(V){typeof u=="undefined"||typeof u.player=="undefined"||typeof V=="string"&&u.url===V||(u.url=V,u.player.pause(),u.player.currentTime=0,u.player.src=V,u.player.play().then(()=>{}).catch(M=>{u.url=A}))},m=function(V){typeof u=="undefined"||typeof u.player=="undefined"||typeof V=="string"&&u.url===V&&(u.player.pause(),u.url=A)},I=function(V,M){var H=M||{};return typeof H.id=="undefined"&&(H.id=typeof V!="undefined"&&V.id?V.id:n.Utils.getId()),typeof H.controls=="undefined"&&(H.controls=V.controls),H.style=V.style,H.autoplay=V.autoplay,H.loop=V.loop,y(F(V),H)},y=function(V,M){var H=T("<audio></audio>");if(T(H).attr("preload","metadata"),T(H).addClass("veaudioelement"),M&&M.extraAttrs)for(var X in M.extraAttrs)T(H).attr(X,M.extraAttrs[X]);if(M){if(M.id&&T(H).attr("id",M.id),typeof M.onAudioReady=="string")try{for(var Z=M.onAudioReady.split("."),st=window[Z[0]],Pt=1;Pt<Z.length;Pt++)st=st[Z[Pt]];typeof st=="function"&&T(H).attr("onloadeddata",M.onAudioReady+"(this)")}catch(q){}if(M.extraClasses)for(var pt=M.extraClasses.length,ft=0;ft<pt;ft++)T(H).addClass(M.extraClasses[ft]);M.controls!==!1&&T(H).attr("controls","controls"),typeof M.autoplay!="undefined"&&T(H).attr("autoplayonslideenter",M.autoplay),M.loop===!0&&T(H).attr("loop","loop"),M.style&&T(H).attr("style",M.style)}return typeof T(H).attr("onloadeddata")=="undefined"&&T(H).attr("onloadeddata","SceneMaker.Audio.HTML5.onAudioReady(this)"),H=n.Utils.getOuterHTML(H),H=H.split("</audio>")[0],(!M||M.loadSources!==!1)&&(T.each(V,function(q,At){if(typeof At.src=="string"){var _t=At.src;typeof M!="undefined"&&M.timestamp===!0&&(_t=n.Utils.addParamToUrl(_t,"timestamp",""+new Date().getTime()));var Jt=At.mimeType?"type='"+At.mimeType+"' ":"";H=H+"<source src='"+_t+"' "+Jt+">"}}),V.length>0&&(H=H+"<p>Your browser does not support HTML5 audio.</p>")),H=H+"</audio>",H},S=function(V,M,X){var X=X||{};T.each(V,function(Z,st){if(typeof st.src=="string"){var Pt=st.src;X.timestamp===!0&&(Pt=n.Utils.addParamToUrl(Pt,"timestamp",""+new Date().getTime()));var pt=st.mimeType?"type='"+st.mimeType+"' ":"";T(M).append("<source src='"+Pt+"' "+pt+">")}}),V.length>0&&T(M).append("<p>Your browser does not support HTML5 audio.</p>")},R=function(V){typeof V!="undefined"&&(V.readyState==4||V.readyState==3)&&T(V).attr("loaded","true")},Q=function(V){if(typeof V=="string"){var M=n.Video.HTML5.getSources(V);return M.map(function(H){return{src:H.src,mimeType:it(H.src)}})}try{return T(V).find("source").map(function(){return{src:this.src,mimeType:it(this.src)}})}catch(H){return[]}return[]},F=function(V){return n.Video.HTML5.getSourcesFromJSON(V)},it=function(V){var M=n.Object.getObjectInfo(V).source,H=M.split(".").pop().split("?")[0],X;switch(H){case"ogg":X="ogg";break;case"mp3":X="mpeg";break;case"wav":X="wav";break;default:X=H;break}return"audio/"+X};return{init:d,playAudio:v,stopAudio:m,renderAudioFromJSON:I,renderAudioFromSources:y,addSourcesToAudioTag:S,onAudioReady:R,getSources:Q,getSourcesFromJSON:F,getAudioMimeType:it}})(SceneMaker,jQuery),SceneMaker.ObjectPlayer=(function(n,T,A){var u=function(m){T.each(m.children(".objectelement"),function(I,y){if(!T(y).hasClass("loadedObject")){T(y).addClass("loadedObject");var S=T(T(y).attr("objectWrapper"));T(y).html("<div style='"+T(y).attr("objectStyle")+"'>"+n.Utils.getOuterHTML(S)+"</div>")}})},d=function(m){T.each(T(m).children('.objectelement:not(".unloadableObject")'),function(I,y){T(y).removeClass("loadedObject"),T(y).html("")})},v=function(m){T(".current").hasClass("object")&&u(T(".current"))};return{loadObject:u,unloadObject:d,aftersetupSize:v}})(SceneMaker,jQuery),SceneMaker.Viewer=(function(n,T,A){var u,d,v=function(){m(n.getOptions())},m=function(it){n.Editing=!1,T("body").addClass("SceneMakerViewerBody"),u=typeof it=="object"?it:{},n.Debugging.init(it),u.configuration&&n.Configuration&&n.Configuration.init(u.configuration);var V=it.scene;if(n.Utils.init(),n.I18n.init(u,V),n.Debugging.log(`

Scene Maker initiated with scene:
`),n.Debugging.log(JSON.stringify(V)),V=n.Utils.fixScene(V),V===null){n.Utils.showPNotValidDialog();return}d=V,n.Status.init(function(){I(it,V)})},I=function(it,V){n.ViewerAdapter.applyLanguageCSS(),n.EventsNotifier.init(),n.Object.init(),n.Screen.init(),n.View.init(),n.Marker.init(),n.Actions.init(V),n.Caption.init(),n.Slides.init(),n.I18n.translateUI(),n.User.init(it),n.Events.init(),n.Video.init(),n.Audio.init(),n.FullScreen.init(),n.Scene.init(V,function(){y(it,V)})},y=function(it,V){n.Video.HTML5.setMultimediaEvents(),n.Screen.updateCurrentScreenFromHash(),n.Screen.updateScreens(),n.ViewerAdapter.init(it),n.Utils.Loader.preloadResources(V),n.Screen.getCurrentScreenNumber()>0&&n.Slides.triggerSlideEnterEvent(T(n.Screen.getCurrentScreen()).attr("id")),n.Status.isExternalDomain()||window.focus(),n.Escapp.init(it,V)},S=function(){return u},R=function(it){var V=it.target,M=n.Slides.isView(V);if(it.stopPropagation(),M){var H=T(V);H.hasClass(n.Constant.OBJECT)&&setTimeout(function(){var X=n.View.getCurrentView();X!==null&&T(X).attr("id")===H.attr("id")&&n.ObjectPlayer.loadObject(H)},0),n.Video.HTML5.playMultimedia(V)}else n.Screen.onEnterScreen(V);n.Actions.checkActionsForSlideEnterEvent(V.id)},Q=function(it){var V=it.target,M=n.Slides.isView(V);if(it.stopPropagation(),M){var H=T(V);H.hasClass(n.Constant.OBJECT)&&setTimeout(function(){var X=n.View.getCurrentView();(X===null||T(X).attr("id")!==H.attr("id"))&&n.ObjectPlayer.unloadObject(H)},800),n.Video.HTML5.stopMultimedia(V)}else n.Screen.onLeaveScreen(V)},F=function(){return d};return{init:v,getOptions:S,getCurrentScene:F,onSlideEnterViewer:R,onSlideLeaveViewer:Q}})(SceneMaker,jQuery),SceneMaker.Utils=(function(n,T){var A=!1,u,d,v=function(){A||(A=!0,u=[],d=new Array,jQuery.fn.cssNumber=function(l){var Bt=parseInt(this.css(l),10);return isNaN(Bt)?0:Bt},jQuery.fn.reverse=[].reverse,String.prototype.replaceAll=function(l,Bt){var qt=this;return qt.replace(new RegExp(l.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),Bt)},Array.prototype.filter||(Array.prototype.filter=function(l){"use strict";if(this===void 0||this===null)throw new TypeError;var Bt=Object(this),qt=Bt.length>>>0;if(typeof l!="function")throw new TypeError;for(var we=[],ce=arguments.length>=2?arguments[1]:void 0,He=0;He<qt;He++)if(He in Bt){var yn=Bt[He];l.call(ce,yn,He,Bt)&&we.push(yn)}return we}),Array.prototype.map||(Array.prototype.map=function(l){"use strict";if(this===void 0||this===null)throw new TypeError;var Bt=Object(this),qt=Bt.length>>>0;if(typeof l!="function")throw new TypeError;for(var we=new Array(qt),ce=arguments.length>=2?arguments[1]:void 0,He=0;He<qt;He++)He in Bt&&(we[He]=l.call(ce,Bt[He],He,Bt));return we}),Array.prototype.indexOf||(Array.prototype.indexOf=function(l){var Bt=this.length>>>0,qt=Number(arguments[1])||0;for(qt=qt<0?Math.ceil(qt):Math.floor(qt),qt<0&&(qt+=Bt);qt<Bt;qt++)if(qt in this&&this[qt]===l)return qt;return-1}),Object.keys||(Object.keys=(function(){"use strict";var l=Object.prototype.hasOwnProperty,Bt=!{toString:null}.propertyIsEnumerable("toString"),qt=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],we=qt.length;return function(ce){if(typeof ce!="object"&&(typeof ce!="function"||ce===null))throw new TypeError("Object.keys called on non-object");var He=[],yn,on;for(yn in ce)l.call(ce,yn)&&He.push(yn);if(Bt)for(on=0;on<we;on++)l.call(ce,qt[on])&&He.push(qt[on]);return He}})()),typeof Array.prototype.forEach!="function"&&(Array.prototype.forEach=function(l){for(var Bt=0;Bt<this.length;Bt++)l.apply(this,[this[Bt],Bt,this])}),typeof String.prototype.trim!="function"&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),n.Utils.Loader.init())},m=function(){return n.Editing?n.Editor.getOptions():n.Viewer.getOptions()},I=function(l,Bt,qt){if(Bt){var we=l;l=l.replace(l[l.length-1],"")}else{typeof l!="string"&&(l="unicID"),typeof qt!="string"&&(qt=""),typeof d[l]=="undefined"&&(d[l]=0),d[l]=d[l]+1;var we=l+qt+d[l]}return $("#"+we).length===0&&u.indexOf(we)===-1?(u.push(we),we):I(l,!1,qt)},y=function(l){u.indexOf(l)===-1&&u.push(l)},S=function(){u=[],d=new Array},R=function(l,Bt){if(typeof l=="object"&&typeof Bt=="object"&&!(l instanceof Array)){let qt=Object.keys(Object.assign({},l,Bt)),we=qt.length;for(let ce=0;ce<we;ce++)l[qt[ce]]=R(l[qt[ce]],Bt[qt[ce]]);return l}else return typeof Bt!="undefined"?Bt:l},Q=function(l){return typeof l!="object"||!Array.isArray(l.screens)||l.screens.length<1||typeof l.SMVersion!="string"?null:l},F=function(l){return typeof $(l)[0].outerHTML=="undefined"?$(l).clone().wrap("<div></div>").parent().html():$(l)[0].outerHTML},it=function(l,Bt){if(typeof l!="string"||typeof Bt!="string")return l;var qt=l.split("#");l=qt[0];var we=l.split("?");if(we.length===2){l=we[0];for(var ce=we[1],He=[],we=ce.split("&"),yn=we.length,on=0;on<yn;on++){var Fn=we[on].split("=");Fn[0]!=Bt&&He.push({key:Fn[0],value:Fn[1]})}for(var vi=He.length,Ti=0;Ti<vi;Ti++){var ri=He[Ti];Ti===0?l=l+"?":l=l+"&",l=l+ri.key+"="+ri.value}}return qt.length>1&&(l=l+"#"+qt[1]),l},V=function(l,Bt,qt){if(typeof l!="string"||typeof Bt!="string"||typeof qt!="string")return l;l=it(l,Bt);var we=l.split("#");l=we[0];var ce=Bt+"="+qt;return l.indexOf("?")>-1?l+="&"+ce:l+="?"+ce,we.length>1&&(l=l+"#"+we[1]),l},M=function(l){var Bt={};if(typeof l!="string")return Bt;var qt=l.split("?");if(qt.length<=1)return Bt;for(var we=qt[1].split("#")[0].split("&"),ce=0;ce<we.length;ce++){var He=we[ce].split("=");He.length===2&&(Bt[He[0]]=He[1])}return Bt},H=function(){try{var l=window.location;if(typeof l=="undefined")return;var Bt=Math.max(1,Math.min(n.Screen.getScreensQuantity(),parseInt(l.hash.split("?")[0].split("#").pop())));return isNaN(Bt)?T:Bt}catch(qt){return T}},X=function(l){return l.split("#")[0]},Z=function(l){try{if(typeof l=="string"&&l.indexOf("url")===0&&l.length>3){var Bt=l[4];return Bt=='"'||Bt=="'"?l.substring(5,l.length-2):l.substring(4,l.length-1)}}catch(qt){}return l},st=function(l,Bt){return pt(l,Bt)[0]},Pt=function(l,Bt){return pt(l,Bt)[1]},pt=function(l,Bt){var qt=[],we=null,ce=null;return $.each(l.split(";"),function(He,yn){var on=/width:\s?([0-9]+(\.[0-9]+)?)%/g,Fn=/width:\s?([0-9]+(\.?[0-9]+)?)px/g,vi=/height:\s?([0-9]+(\.[0-9]+)?)%/g,Ti=/height:\s?([0-9]+(\.?[0-9]+)?)px/g;if(yn.indexOf("width")!==-1){if(yn.match(Fn)){var ri=Fn.exec(yn);ri[1]&&(we=ri[1])}else if(yn.match(on)){var ri=on.exec(yn);if(ri[1]){var Ft=ri[1];Bt&&(we=$(Bt).width()*Ft/100)}}}else if(yn.indexOf("height")!==-1){if(yn.match(Ti)){var ri=Ti.exec(yn);ri[1]&&(ce=ri[1])}else if(yn.match(vi)){var ri=vi.exec(yn);if(ri[1]){var Ft=ri[1];Bt&&(ce=$(Bt).height()*Ft/100)}}}}),qt.push(we),qt.push(ce),qt},ft=function(l){if(l){var Bt=null;return $.each(l.split(";"),function(qt,we){var ce=/font-size\s*:\s*((\d*\.)?\d+)px/i;if(we.match(ce)!=null){var He=ce.exec(we);if(He!==null&&He[1]!==null)return Bt=parseFloat(He[1]),!1}}),Bt}},q=function(l,Bt){if(typeof l!="string")return null;var qt="";return $.each(l.split(";"),function(we,ce){ce.indexOf("font-size")===-1&&ce!==""&&(qt=qt+ce+"; ")}),Bt&&(qt=qt+"font-size:"+Bt+";"),qt},At=function(){var l={};l.width=650,l.height=220,l.text=n.I18n.getTrans("i.WrongResource");var Bt={};Bt.text=n.I18n.getTrans("i.Ok"),Bt.callback=function(){$.fancybox.close()},l.buttons=[Bt],n.Utils.showDialog(l)},_t=function(l){Jt();var Bt=$("#notification_template");if($(Bt).length!==0&&!(!l||!l.text)){var qt="90%",we,ce=!1,He;n.Editing&&(He=n.ImagesPath+"thumbs/content_fail.png"),l.width&&(qt=l.width),l.showCloseButton&&(ce=l.showCloseButton),l.notificationIconSrc&&(He=l.notificationIconSrc),He||(l.textWrapperClass="forceCenter"),typeof qt=="string"&&qt.indexOf("%")!=0&&(qt=qt.split("%")[0].trim(),qt=qt*$(window).width()/100);var yn=$(Bt).parent();$(Bt).width(qt);var on=$(Bt).find(".notification_row1"),Fn=$(Bt).find(".notification_row2"),vi=$(on).find(".notificationIcon");if(He&&($(vi).attr("src",He),$(vi).css("display","inline")),l.notificationIconClass&&$(vi).addClass(l.notificationIconClass),l.textWrapperClass&&$(on).addClass(l.textWrapperClass),l.buttonsWrapperClass&&$(Fn).addClass(l.buttonsWrapperClass),$(on).find(".notification_text").html(l.text),l.buttons){var Ti=l.buttons.length;$(l.buttons).reverse().each(function($n,Ei){var Pi=Ti-$n,kt=$('<a href="#" buttonNumber="'+Pi+'" class="button notification_button">'+Ei.text+"</a>");Ei.extraclass&&$(kt).addClass(Ei.extraclass),$(Fn).append(kt)})}if(l.middlerow){var ri=document.createElement("div");$(ri).addClass("notification_middlerow"),$(ri).append(l.middlerow),l.middlerowExtraClass&&$(ri).addClass(l.middlerowExtraClass),$(Fn).before(ri)}n.Utils.addTempShown(yn);var Ft=$(on).outerHeight(!0)+$(Fn).outerHeight(!0);if(l.middlerow){var ri=$(Bt).find(".notification_middlerow");Ft=Ft+$(ri).outerHeight(!0)}n.Utils.removeTempShown(yn);var Se=$(Bt).clone();$(Se).attr("id","notification_template_cloned"),$(yn).append(Se);var ln=$("#notification_template_cloned");if(l.buttons){Fn=$(ln).find(".notification_row2"),$(Fn).html("");var Ti=l.buttons.length;$(l.buttons).reverse().each(function(Ei,Pi){var kt=Ti-Ei,Qt=$('<a href="#" buttonNumber="'+kt+'" class="button notification_button">'+Pi.text+"</a>");Pi.extraclass&&$(Qt).addClass(Pi.extraclass),$(Fn).append(Qt),$(Fn).find(".button[buttonNumber='"+kt+"']").click(function(pe){pe.preventDefault(),Pi.callback()})})}$("a#link_to_notification_template").fancybox({autoDimensions:!1,autoScale:!0,scrolling:"no",width:qt,height:Ft,padding:0,hideOnOverlayClick:!0,hideOnContentClick:!1,showCloseButton:ce,onStart:function($n){},onComplete:function($n){},onClosed:function($n){Jt(),l&&typeof l.onClosedCallback=="function"&&l.onClosedCallback()}}),$("a#link_to_notification_template").trigger("click")}},Jt=function(){var l=$("#notification_template_wrapper");$(l).html("");var Bt=document.createElement("div");$(Bt).attr("id","notification_template");var qt=document.createElement("div");$(qt).addClass("notification_row1");var we=document.createElement("img");$(we).addClass("notificationIcon"),$(we).attr("style","display:none");var ce=document.createElement("span");$(ce).addClass("notification_text"),$(qt).append(we),$(qt).append(ce),$(Bt).append(qt);var He=document.createElement("div");$(He).addClass("notification_row2"),$(Bt).append(He),$(l).append(Bt)},g=function(l){return St(n.VERSION)>St(l)},St=function(l){var Bt=0,qt=[100,10,1];try{for(var we=l.split("."),ce=0;ce<we.length;ce++)Bt+=parseFloat(we[ce])*qt[ce]}catch(He){return 0}return Bt},jt={},L=function(l){$(l).each(function(Bt,qt){var we=$(qt).attr("id");typeof we=="undefined"&&(we=n.Utils.getId("TmpShownId"),$(qt).attr("id",we));var ce=typeof jt[we]!="undefined"?jt[we]:0;jt[we]=ce+1,ce==0&&$(qt).addClass("temp_shown")})},An=function(l){$(l).each(function(Bt,qt){var we=$(qt).attr("id");typeof we=="undefined"&&(we=n.Utils.getId("TmpShownId"),$(qt).attr("id",we));var ce=typeof jt[we]!="undefined"?jt[we]:0,He=Math.max(0,ce-1);jt[we]=He,He==0&&setTimeout(function(){jt[we]===0&&$(qt).removeClass("temp_shown")},1)})},te=function(l){if(typeof l=="string"){var Bt=l.match(/^https?:\/\//);if(Bt instanceof Array&&Bt.length===1){var qt=Bt[0].replace("://",""),we=n.Status.getProtocol();if(qt!=we)switch(we){case"https":l="https"+l.replace(qt,"");break;case"http":break;default:break}}}return l},Ot=function(l){return typeof l!="string"||(l=te(l)),l},ye=function(l){if(typeof l!="string")return l;l=te(l);var Bt=n.Utils.getOptions();if(typeof Bt!="undefined"&&typeof Bt.escapp!="undefined"&&typeof Bt.escapp.endpoint=="string")try{var qt=new URL(Bt.escapp.endpoint).hostname,we=new URL(l).hostname;if(qt===we)return n.Utils.addParamToUrl(l,"escapp_preview",""+n.Status.isPreview())}catch(ce){}return l};return{init:v,getOptions:m,getId:I,registerId:y,resetIds:S,deepMerge:R,fixScene:Q,getOuterHTML:F,getSrcFromCSS:Z,addFontSizeToStyle:q,getFontSizeFromStyle:ft,getWidthFromStyle:st,getHeightFromStyle:Pt,getPixelDimensionsFromStyle:pt,addParamToUrl:V,removeParamFromUrl:it,getParamsFromUrl:M,removeHashFromUrlString:X,getScreenNumberFromHash:H,showDialog:_t,showPNotValidDialog:At,isObseleteVersion:g,addTempShown:L,removeTempShown:An,checkUrlProtocol:te,checkWebUrl:Ot,checkReusablePuzzleInstanceUrl:ye}})(SceneMaker),SceneMaker.Utils.Loader=(function(n,T){var A=function(){},u=function(M){if(M.screens&&Array.isArray(M.screens))for(let Z=0;Z<M.screens.length;Z++){var H=M.screens[Z];if(H.hotspots&&Array.isArray(H.hotspots))for(let st=0;st<H.hotspots.length;st++){var X=H.hotspots[st];if(X.actions&&Array.isArray(X.actions))for(let Pt=0;Pt<X.actions.length;Pt++)d(X.actions[Pt])}}},d=function(M){if(M.actionType&&M.actionParams&&typeof M.actionParams=="object")switch(M.actionType){case"changeBackground":typeof M.actionParams.url=="string"&&v([M.actionParams.url]);break;case"playSound":typeof M.actionParams.url=="string"&&m([M.actionParams.url]);break;default:break}},v=function(M){for(let H=0;H<M.length;H++){const X=new Image;X.src=M[H]}},m=function(M){for(let H=0;H<M.length;H++){const X=new Audio;X.src=M[H],X.preload="auto"}},I=function(M,H){if(!(typeof M!="string"||typeof H!="function")){var X=document.getElementsByTagName("head")[0];if(X){var Z=document.createElement("script");Z.setAttribute("src",M),Z.setAttribute("type","text/javascript");var st=!1,Pt=function(){st||typeof H=="function"&&(st=!0,H())},pt=function(){(this.readyState=="complete"||this.readyState=="loaded")&&Pt()};Z.onreadystatechange=pt,Z.onload=Pt,X.appendChild(Z)}}},y,S=function(){F()||(y=Date.now(),$("#fancyLoad").trigger("click"))},R=function(M){var H=Date.now()-y;if(H<1250)setTimeout(function(){R(M)},Math.max(0,Math.min(1250-H,1250)));else{var X=!1,Z=0;F()&&($.fancybox.close(),X=!0,Z=800),typeof M=="function"&&setTimeout(function(){M(X)},Z)}},Q=function(){$("#fancybox-outer").css("background","rgba(255,255,255,0.9)"),$("#fancybox-wrap").css("margin-top","20px"),$("#fancybox-wrap").css("margin-left","20px")},F=function(){return $("#loading_fancy").is(":visible")},it=function(M,H){var X=document.createElement("img");$(X).addClass("loading_fancy_img"),$(X).attr("src",n.ImagesPath+"icon_loader.gif"),H&&H.style&&$(X).addClass(H.style);var Z=document.createElement("div");$(Z).addClass("loading_fancy"),$(Z).append(X),$(M).html(""),$(M).append(Z),$(M).addClass("loadingtmpShown")},V=function(M){$(M).find(".loading_fancy_img").parent().remove(),$(M).removeClass("loadingtmpShown")};return{init:A,preloadResources:u,loadScript:I,prepareFancyboxForFullLoading:Q,startLoading:S,stopLoading:R,startLoadingInContainer:it,stopLoadingInContainer:V}})(SceneMaker),SceneMaker.Status=(function(n,T,A){var u,d,v,m,I,y,S,R=function(q){Q(),F(),it(),V(),M(),n.Status.Device.init(function(At){u=At,typeof q=="function"&&q()})},Q=function(){return d=window.location!=window.parent.location,d},F=function(){if(I=!1,Q())try{for(var q=window.parent;q!=window.top;)if(typeof q.location.href=="undefined"){I=!0;break}else q=q.parent;typeof window.top.location.href=="undefined"&&(I=!0)}catch(At){I=!0}return I},it=function(){if(v=A,m="undefined",d&&!I)try{switch(window.frameElement.tagName){case"OBJECT":case"IFRAME":default:m=window.frameElement.tagName,v=window.frameElement}}catch(q){}},V=function(){var q;try{q=document.location.protocol}catch(_t){}if(typeof q=="string"){var At=q.match(/[\w]+/);At instanceof Array&&typeof At[0]=="string"?q=At[0]:q=A}typeof q=="string"?S=q:S="unknown"},M=function(){var q=n.Utils.getOptions();typeof q.preview=="boolean"?y=q.preview:y=!1},H=function(){return u},X=function(){return d},Z=function(){return v},st=function(){return m},Pt=function(){return I},pt=function(){return typeof S=="undefined"&&V(),S},ft=function(){return y};return{init:R,getDevice:H,isExternalDomain:Pt,isEmbed:X,getContainer:Z,getContainerType:st,getProtocol:pt,isPreview:ft}})(SceneMaker,jQuery),SceneMaker.Status.Device=(function(n,T,A){var u=function(Q){n.Status.Device.Browser.init(),n.Status.Device.Features.init(),d(Q)},d=function(Q){var F={};F.browser=n.Status.Device.Browser.fillBrowser(),F.features={},v(F),m(F,function(){F.features=n.Status.Device.Features.fillFeatures(),typeof Q=="function"&&Q(F)})},v=function(Q){Q.iPhone=/iPhone/i.test(navigator.userAgent),Q.iPad=/iPad/i.test(navigator.userAgent),Q.iOS=Q.iPhone||Q.iPad,Q.android=/android/i.test(navigator.userAgent)},m=function(Q,F){Q.iOS&&Q.browser.name===n.Constant.SAFARI?R(F):Q.android?Q.browser.name===n.Constant.CHROME?S(F):Q.browser.name===n.Constant.ANDROID_BROWSER&&y(F):typeof F=="function"&&F()},I=function(Q,F){var it=T("head>meta[name='viewport']");it.length===0?T("head").prepend('<meta name="viewport" content="'+Q+'"/>'):T(it).attr("content",Q),setTimeout(function(){typeof F=="function"&&F()},1250)},y=function(Q){I("user-scalable=yes",Q)},S=function(Q){I("width=device-width,height=device-height,user-scalable=yes",Q)},R=function(Q){I("user-scalable=yes",Q)};return{init:u}})(SceneMaker,jQuery),SceneMaker.Status.Device.Browser=(function(n,T,A){var u="Microsoft Internet Explorer",d="Netscape",v=function(){},m=function(){var Q={},F=y();if(F!==-1)return Q.name=n.Constant.FIREFOX,Q.version=F,Q;if(F=S(),F!==-1)return Q.name=n.Constant.CHROME,Q.version=F,Q;if(F=I(),F!==-1)return Q.name=n.Constant.IE,Q.version=F,Q;if(F=R(),F!==-1){var it=/android/i.test(navigator.userAgent);return it?Q.name=n.Constant.ANDROID_BROWSER:Q.name=n.Constant.SAFARI,Q.version=F,Q}return Q.name=n.Constant.UNKNOWN,Q.version=-1,Q},I=function(){var Q=-1;if(navigator.appName===u){var F=navigator.userAgent,it=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");it.exec(F)!=null&&(Q=parseFloat(RegExp.$1))}else if(navigator.appName===d){var F=navigator.userAgent,it=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})");it.exec(F)!=null&&(Q=parseFloat(RegExp.$1))}return Q},y=function(){var Q=-1;if(navigator.appName===d){var F=navigator.userAgent,it=new RegExp(".* Firefox/([0-9.]+)");it.exec(F)!=null&&(Q=parseFloat(RegExp.$1))}return Q},S=function(){var Q=-1;if(navigator.appName===d){var F=navigator.userAgent,it=new RegExp(".* Chrome/([0-9.]+)");it.exec(F)!=null&&(Q=parseFloat(RegExp.$1))}return Q},R=function(){var Q=-1;if(navigator.appName===d){var F=navigator.userAgent;if(F.indexOf("Safari")!==-1&&F.indexOf("Chrome")===-1&&F.indexOf("crmo")==-1){var Q=-2,it=new RegExp(".* Version/([0-9.]+)");it.exec(F)!=null&&(Q=parseFloat(RegExp.$1))}}return Q};return{init:v,fillBrowser:m}})(SceneMaker,jQuery),SceneMaker.Status.Device.Features=(function(n,T,A){var u=function(){},d=function(){var m={};return m.fullscreen=n.FullScreen.isFullScreenSupported(),m.touchScreen="ontouchstart"in window,m.localStorage=v(),m.history=typeof history=="object"&&typeof history.back=="function"&&typeof history.go=="function",m.history&&typeof history.pushState=="function"?m.historypushState=!0:m.historypushState=!1,window.File&&window.FileReader&&window.FileList&&window.Blob?m.reader=!0:m.reader=!1,m.pdfReader=!1,typeof navigator.mimeTypes=="object"&&"application/pdf"in navigator.mimeTypes&&(m.pdfReader=!0),m},v=function(){var m=typeof Storage!="undefined";if(m)try{return localStorage.setItem("myKey","myKeyValue"),localStorage.getItem("myKey"),localStorage.removeItem("myKey"),!0}catch(I){return!1}else return!1};return{init:u,fillFeatures:d}})(SceneMaker,jQuery),SceneMaker.ViewerAdapter=(function(n,T,A){var u=!1,d,v,m,I,y,S,R,Q,F,it=function(q){u||(u=!0,d=n.FullScreen.canFullScreen(),d=d&&!n.Status.isPreview(),T("#viewbar").show(),n.Status.isPreview()&&T("div#viewerpreview").show(),d?(n.FullScreen.enableFullScreen(),T("#page-fullscreen").show()):T("#page-fullscreen").hide(),X(),n.Text.init())},V=function(q){typeof q!="string"||["4:3","16:9"].indexOf(q)===-1||S!==q&&(S=q,T("body").attr("aspectRatio",q),q==="16:9"?(R=16/9,_referenceSlideWidth=1024,F=576):(R=4/3,_referenceSlideWidth=800,F=600))},M=function(){return S},H=function(){var q=n.I18n.getLanguage();typeof q!="undefined"&&T("body").attr("locale",q)},X=function(){if(typeof R!="undefined"){var q=T(window).width(),At=T(window).height();q===v&&At===m||(v=q,m=At,Z())}},Z=function(){var q,At,_t=25,Jt=10,g=st(m),St=m-g,jt=v,L=(jt-Jt)/(St-_t);if(L>R){At=St-_t,q=At*R;var An=jt-q;if(An<Jt){var te=Jt-An;q=q-te}}else{q=jt-Jt,At=q/R;var Ot=St-At;if(Ot<_t){var ye=_t-Ot;At=At-ye}}typeof y!="number"&&(y=F),typeof I!="number"&&(I=_referenceSlideWidth);var l=At/y;y=At,I=q,T("#viewbar").height(g);var Bt=T(".slides > article"),qt=T(".slides > article > article"),we=T(".slides article");T(we).css("height",At),T(we).css("width",q);var ce=At/2+g/2,He=q/2;T(Bt).css("margin-top","-"+ce+"px"),T(qt).css("margin-top","-"+At/2+"px"),T(we).css("margin-left","-"+He+"px");var yn=3/100*q,on=5/100*q;T(we).css("padding-left",on),T(we).css("padding-right",on),T(we).css("padding-top",yn),T(we).css("padding-bottom",yn);var Fn=23;l<=1?Fn=Fn*ft(l,.7):Fn=Fn*ft(l,.2),T("div.close_view").css("width",Fn+"px"),T("div.close_view").css("height",Fn+"px"),T("#page-fullscreen").width(T("#page-fullscreen").height()),pt(l),Pt(l),n.Text.aftersetupSize(l),n.ObjectPlayer.aftersetupSize(l),n.Screen.afterSetupSize(l)},st=function(q){var At=26,_t=40,Jt=q/F,g=40*ft(Jt,.7);return Math.min(Math.max(g,At),_t)},Pt=function(q){var At=T("#fancybox-overlay");if(!(T(At).length<1||!T(At).is(":visible"))){var _t=T("#fancybox-wrap"),Jt=T("#fancybox-content"),g=T("#"+T(Jt).attr("id")+" > div"),St=T(".current"),jt=T(St).cssNumber("padding-top"),L=T(St).cssNumber("padding-left"),An=T(St).cssNumber("padding-right"),te=T(St).offset(),Ot=23;q<=1?Ot=Ot*ft(q,.7):Ot=Ot*ft(q,.2);var ye=T("#fancybox-close");T(ye).width(Ot+"px"),T(ye).height(Ot+"px"),T(ye).css("padding","10px"),T(ye).css("padding-left","4px"),T(_t).css("margin-top","0px"),T(_t).css("margin-left","0px"),T(_t).width(T(St).width()+L+An),T(_t).height(T(St).height()+2*jt),T(_t).css("top",te.top+"px"),T(_t).css("left",te.left+"px"),T(Jt).width("100%"),T(Jt).height("100%"),T(g).width("100%"),T(g).height("100%")}},pt=function(q){var At=T("div[data-tippy-root]:visible");At.length>0&&At.each(function(_t,Jt){T("[markertooltipid="+T(Jt).attr("id")+"]").each(function(g,St){typeof St._tippy!="undefined"&&(St._tippy.hide(),St._tippy.show())})})},ft=function(q,At){var _t=(q-1)*At;return 1+_t};return{init:it,getAspectRatio:M,applyAspectRatio:V,applyLanguageCSS:H,updateInterface:X}})(SceneMaker,jQuery),SceneMaker.Text=(function(n,T,A){var u=12,d=function(){v(T("article > div.textArea")),T("article > div.textArea > table").each(function(F,it){v(T(it).find("caption")),T(it).find("td").each(function(Pt,pt){v(pt)});var V=T(it).attr("style");if(V){var M="",H=n.Utils.getWidthFromStyle(V);if(H){var X=H*100/800;M+="width:"+X+"%;"}var Z=n.Utils.getHeightFromStyle(V);if(Z){var st=Z*100/600;M+="height:"+st+"%;"}M!==""&&T(it).attr("style",M)}})},v=function(F){I(T(F).find("font")),m(T(F).find("[style]"))},m=function(F){T(F).each(function(it,V){var M=T(V).attr("style");if(typeof M=="string"){var H=n.Utils.getFontSizeFromStyle(M);if(!(typeof H!="number"||isNaN(H))){var X=H/u+"rem",Z=n.Utils.addFontSizeToStyle(M,X);T(V).attr("style",Z)}}})},I=function(F){T(F).each(function(it,V){var M=T(V).attr("size");if(M){var H=parseInt(M);if(!isNaN(H)){T(V).hide();var X=Q(H),Z=X/u+"rem",st=T("<span style='font-size:"+Z+"'></span>");T(st).html(T(V).html()),T(V).before(st),T(V).remove()}}})},y=function(F){F=F*S(F);var it=u,V=T("html");T(V).css("font-size",it*F+"px")},S=function(F){return F<.25?.5:R(F,.25,.3)?.55:R(F,.3,.35)?.65:R(F,.35,.4)?.7:R(F,.4,.5)?.8:R(F,.5,.6)?.85:R(F,.6,.75)?.9:R(F,.75,.95)?.95:(R(F,.95,1.5)||F>1.5,1)},R=function(F,it,V){return F>it&&F<=V},Q=function(F){switch(F){case 7:return 48;case 6:return 32;case 5:return 24;case 4:return 18;case 3:return 16;case 2:return 14;case 1:return 12;default:break}};return{init:d,aftersetupSize:y}})(SceneMaker,jQuery),SceneMaker.Screen=(function(n,T,A){var u,d,v=function(){},m=function(){return u},I=function(g){u=g,T.each(u,function(St,jt){T(jt).attr("slidenumber",St+1)})},y=function(){var g=T("section.slides > article");I(g),g.removeClass("current"),T(it(d+1)).addClass("current")},S=function(){return u[d]},R=function(){return d+1},Q=function(g){F(g-1)},F=function(g){d=g},it=function(g){var St=g-1;return St<0||St>=u.length?null:u[St]},V=function(){var g=n.Utils.getScreenNumberFromHash();Q(g||1)},M=function(){return T("section.slides > article").length},H=function(g){var St=T(g).children("article.show_in_screen");if(St.length===1){var jt=St[0],L=T(jt).attr("id");n.Slides.triggerSlideEnterEvent(L)}},X=function(g){n.View.closeCurrentView()},Z=function(g){Pt(1)},st=function(){Pt(-1)},Pt=function(g){var St=d+g+1;St=Math.min(Math.max(1,St),u.length),pt(St)},pt=function(g,St){St!==!0&&g===R()||g>u.length||g<=0||(!n.Editing&&T.fancybox&&T.fancybox.close(),n.View.closeCurrentView(),ft(g))},ft=function(g){var St=g-1;St<u.length&&St>=0&&(Jt(d+1),F(St),y(),_t(d+1))},q=function(){pt(u.length)},At=function(g,St){},_t=function(g){var St=n.Screen.getScreenWithNumber(g);St&&n.Slides.triggerSlideEnterEvent(St.id)},Jt=function(g){var St=n.Screen.getScreenWithNumber(g);St&&n.Slides.triggerSlideLeaveEvent(St.id)};return{init:v,getScreens:m,setScreens:I,updateScreens:y,getCurrentScreen:S,getCurrentScreenNumber:R,setCurrentScreenNumber:Q,getScreenWithNumber:it,updateCurrentScreenFromHash:V,getScreensQuantity:M,onEnterScreen:H,onLeaveScreen:X,forwardOneScreen:Z,backwardOneScreen:st,goToScreenWithNumber:pt,goToLastScreen:q,afterSetupSize:At,triggerScreenEnterEvent:_t,triggerScreenLeaveEvent:Jt}})(SceneMaker,jQuery),SceneMaker.View=(function(n,T,A){var u=null,d=function(){},v=function(){return n.Editing?n.Editor.View.getCurrentView():u===null?null:T("#"+u)},m=function(){var F=v();if(typeof F=="undefined"||F===null)return A;var it=T(F).attr("slidenumber");if(typeof it=="string")try{return parseInt(it)}catch(V){return A}},I=function(F,it){return T(F).children("article[slidenumber='"+it+"']")},y=function(F){var it=F.target.id.substring(5);R(it)},S=function(F){var it=v();if(typeof it!="undefined"&&it!==null){var V=T(it).attr("id");if(F===V)return;R(V)}n.Editing===!1&&n.Caption.unloadScreenCaptionBeforeOpenView(n.Screen.getCurrentScreen()),u=F;var M=T("#"+F);M.removeClass("hide_in_screen"),M.addClass("show_in_screen"),n.Slides.triggerSlideEnterEvent(F)},R=function(F){u=null;var it=T("#"+F);it.removeClass("show_in_screen"),it.addClass("hide_in_screen"),n.Editing===!1&&n.Caption.loadScreenCaptionAfterCloseView(n.Screen.getCurrentScreen()),n.Slides.triggerSlideLeaveEvent(F)},Q=function(){var F=v();typeof F!="undefined"&&F!==null&&R(T(F).attr("id"))};return{init:d,getCurrentView:v,getCurrentViewNumber:m,getViewWithNumber:I,onCloseViewClicked:y,openView:S,closeView:R,closeCurrentView:Q}})(SceneMaker,jQuery),SceneMaker.Marker=(function(n,T,A){var u,d,v,m,I=function(){u={},d={},v={},m=n.ImagesPath+"hotspotgallery/hotspot.png"},y=function(){return m},S=function(Z){var st=T("#"+Z.id);if(typeof Z.background=="string"){var Pt=Z.id+"_background",pt=T("<img>",{id:Pt,class:"slide_background",src:Z.background});st.append(pt)}if(Array.isArray(Z.hotzones)&&Z.hotzones.length>0)for(j in Z.hotzones)Q(st,Z.hotzones[j]);if(Array.isArray(Z.hotspots)&&Z.hotspots.length>0)for(i in Z.hotspots)R(st,Z.hotspots[i]);typeof Z.caption!="undefined"&&n.Caption.drawCaption(st,Z.caption)},R=function(Z,st){if(!(!st||!st.id)){var Pt=10;if(st.x&&st.y&&!(!st.width||st.width<=0)&&!(!st.height||st.height<=0)){typeof st.image!="string"&&(st.image=m);var pt=parseFloat(st.rotationAngle);(typeof pt!="number"||isNaN(pt)||pt<0||pt>360)&&(pt=0);var ft="",q=st.visibility!=="hidden";q===!1&&(ft+=" hotspot_hidden");var At=st.cursorVisibility==="pointer";At===!0&&(ft+=" hotspot_cursor_pointer");var _t=n.Slides.getSlideBackgroundImg(Z),Jt=T("<img>",{src:st.image,class:"hotspot"+ft,id:st.id,rotationAngle:pt,css:{position:"absolute",left:st.x+"%",top:st.y+"%",width:st.width+"%",height:st.height+"%",transform:"rotate("+pt+"deg)"}}).appendTo(_t.parent());if(Array.isArray(st.actions)&&st.actions.length>0){Jt.addClass("hotspot_with_actions"),d[st.id]=st,Jt.on("click",function(){H(st.id)});for(i in st.actions)n.Actions.addActionToHotspot(Jt,st.actions[i])}}}},Q=function(Z,st){if(!(!st||!st.id)&&Array.isArray(st.points)){var Pt=Z.attr("id"),pt=st.id,ft=it(Pt),q=V(pt,st.points);ft.addAnnotation(q),F(q.id,function(At){if(st.cursorVisibility==="pointer"&&T(At).attr("hotzone_cursor_visibility",st.cursorVisibility),st.enabled===!1?T(At).attr("hotzone_enabled","false"):T(At).attr("hotzone_enabled","true"),Array.isArray(st.actions)&&st.actions.length>0){v[pt]=st;for(i in st.actions)n.Actions.addActionToHotzone(At,st.actions[i])}})}},F=function(Z,st){var Pt,pt=Date.now();function ft(){var q=M(Z);return q.length>0?(clearInterval(Pt),st(q),!0):(Date.now()-pt>=1e3&&clearInterval(Pt),!1)}setTimeout(function(){ft()||(Pt=setInterval(ft,200))},0)},it=function(Z){if(typeof u[Z]=="undefined"&&(u[Z]={}),typeof u[Z].annotator!="undefined")return u[Z].annotator;var st=n.Slides.getSlideBackgroundImg(T("#"+Z)),Pt=Annotorious.createImageAnnotator(st.attr("id"),{drawingEnabled:!1,userSelectAction:"SELECT",style:{fill:"#dddddd00",fillOpacity:0,stroke:"#00000000",strokeWidth:1}});return Pt.on("selectionChanged",function(pt){Array.isArray(pt)&&pt.length===1&&X(pt[0].id)}),u[Z].annotator=Pt,Pt},V=function(Z,st){var Pt=st.map(([g])=>g),pt=st.map(([,g])=>g),ft=Math.min(...Pt),q=Math.max(...Pt),At=Math.min(...pt),_t=Math.max(...pt),Jt={id:Z,target:{selector:{type:"POLYGON",geometry:{bounds:{minX:ft,minY:At,maxX:q,maxY:_t},points:st}}}};return Jt},M=function(Z){return T("g.[data-id='"+Z+"']")},H=function(Z){typeof d[Z]!="object"||typeof d[Z].actions=="undefined"||n.Actions.performActions(d[Z].actions,Z)},X=function(Z){var st=M(Z);T(st).attr("hotzone_enabled")!=="false"&&(typeof v[Z]!="object"||typeof v[Z].actions=="undefined"||n.Actions.performActions(v[Z].actions,v[Z].idAlias))};return{init:I,getDefaultHotspotImg:y,getHotzoneDOM:M,drawSlideWithMarkers:S,createAnnotationFromPointsArray:V}})(SceneMaker,jQuery),SceneMaker.Actions=(function(n,T,A){var u,d,v,m=function(H){if(u={},d={},v={},Array.isArray(H.actions)){var X=H.actions.filter(Z=>typeof Z.event!="undefined"&&typeof Z.event.eventType=="string");X.filter(Z=>Z.event.eventType==="slideRevealedFirstTime"&&typeof Z.event.eventParams!="undefined"&&typeof Z.event.eventParams.slide=="string").forEach(Z=>{var st=Z.event.eventParams.slide;d[st]||(d[st]={performed:!1,actions:[]}),d[st].actions.push(Z)}),X.filter(Z=>Z.event.eventType==="slideRevealed"&&typeof Z.event.eventParams!="undefined"&&typeof Z.event.eventParams.slide=="string").forEach(Z=>{var st=Z.event.eventParams.slide;v[st]||(v[st]={actions:[]}),v[st].actions.push(Z)})}},I=function(H){return typeof u[H]=="string"?u[H]:H},y=function(H,X){if(!(typeof X!="string"||X===H||T("#"+X).length===0)){for(var Z in u)if(H===u[Z])if(Z===X){delete u[Z];continue}else u[Z]=X;u[H]=X}},S=function(H,X){switch(X.actionType){case"showText":X.actionParams&&typeof X.actionParams.text=="string"&&Q(T(H)[0],X.actionParams.text,X.actionParams.delay);break;default:break}},R=function(H,X){switch(X.actionType){case"showText":X.actionParams&&typeof X.actionParams.text=="string"&&Q(T(H)[0],X.actionParams.text,X.actionParams.delay);break;default:break}},Q=function(H,X,Z){let st=0;if(typeof Z=="string"){let Pt=parseInt(Z,10);!Number.isNaN(Pt)&&Pt>0&&(st=Pt*1e3)}tippy(H,{content:X,trigger:"click",placement:"top",inlinePositioning:!0,arrow:!0,theme:"",animation:"scale",duration:1e3,inertia:!1,interactive:!1,interactiveBorder:2,hideOnClick:!0,maxWidth:"none",offset:[2,6],delay:[st,0],popperOptions:{modifiers:[{name:"eventListeners",options:{scroll:!1,resize:!1}}]},onCreate(Pt){var pt=Pt.popper.id;T(H).attr("markertooltipid",pt)}})},F=function(H,X){Array.isArray(H)&&H.forEach((Z,st)=>{it(Z,X)})},it=function(H,X){if(H&&H.actionParams&&typeof H.actionParams.delay=="string"){const Z=parseInt(H.actionParams.delay,10);if(!Number.isNaN(Z)&&Z>0){setTimeout(function(){V(H,X)},Z*1e3);return}}V(H,X)},V=function(H,X){switch(H.actionType){case"goToScreen":if(H.actionParams&&typeof H.actionParams.screen=="string"){var Z=I(H.actionParams.screen),st=T("#"+Z);st.length>0&&n.Screen.goToScreenWithNumber(st.attr("slideNumber"))}break;case"openView":if(H.actionParams&&typeof H.actionParams.view=="string"){var Pt=H.actionParams.view,pt=T("#"+Pt);pt.length>0&&n.View.openView(Pt)}break;case"openLink":H.actionParams&&typeof H.actionParams.url=="string"&&window.open(H.actionParams.url,"_blank","noopener,noreferrer");break;case"showText":break;case"changeBackground":H.actionParams&&typeof H.actionParams.slide=="string"&&typeof H.actionParams.url=="string"&&n.Slides.changeSlideBackground(T("#"+H.actionParams.slide),H.actionParams.url);break;case"changeScreen":if(H.actionParams&&typeof H.actionParams.screen=="string"&&typeof H.actionParams.screenReplacement=="string"){var Z=H.actionParams.screen,ft=H.actionParams.screenReplacement;y(Z,ft),T(n.Screen.getCurrentScreen()).attr("id")===Z&&it({actionType:"goToScreen",actionParams:{screen:Z}})}break;case"showHotspot":case"hideHotspot":if(H.actionParams&&typeof H.actionParams.hotspotId=="string"){var q=H.actionParams.hotspotId,At=T("#"+q);At.length>0&&(H.actionType==="showHotspot"?At.show():At.hide())}break;case"enableHotzone":case"disableHotzone":if(H.actionParams&&typeof H.actionParams.hotzoneId=="string"){var _t=n.Marker.getHotzoneDOM(H.actionParams.hotzoneId);_t.length>0&&(H.actionType==="enableHotzone"?_t.attr("hotzone_enabled","true"):_t.attr("hotzone_enabled","false"))}break;case"playSound":H.actionParams&&typeof H.actionParams.url=="string"&&n.Audio.HTML5.playAudio(H.actionParams.url);break;case"stopSound":H.actionParams&&typeof H.actionParams.url=="string"&&n.Audio.HTML5.stopAudio(H.actionParams.url);break;case"solvePuzzle":H.actionParams&&typeof H.actionParams.puzzleId=="string"&&n.Escapp.submitPuzzleSolution(H.actionParams.puzzleId,X);break;default:break}},M=function(H){typeof d[H]!="undefined"&&d[H].performed!==!0&&(d[H].performed=!0,F(d[H].actions)),typeof v[H]!="undefined"&&F(v[H].actions)};return{init:m,addActionToHotspot:S,addActionToHotzone:R,performActions:F,checkActionsForSlideEnterEvent:M}})(SceneMaker,jQuery),SceneMaker.Caption=(function(n,T,A){var u=function(){},d=function(R,Q){if(v(Q)!==!1){var F=T(R),it=T("div.captionWrapperTemplate").clone().removeClass("captionWrapperTemplate");switch(it.find("div.captionBodyWrapper").html(Q.text),typeof Q.mode!="undefined"&&it.attr("mode",Q.mode),Q.mode){case"minimizable":break;case"closable":break;case"fixed":it.find("div.captionHeaderWrapper").remove();break}F.append(it),it.show()}},v=function(R){return!(typeof R!="object"||typeof R.text!="string"||R.text.trim()==="")},m=function(R){var Q=T(R.target).closest(".captionWrapper");Q.length===1&&I(Q)},I=function(R){var Q=R.attr("mode");switch(Q){case"minimizable":var F=R.attr("state");F==="minimized"?(R.find("div.captionHeaderWrapper img").attr("src",n.ImagesPath+"vicons/close.png"),R.attr("state","maximized")):(R.find("div.captionHeaderWrapper img").attr("src",n.ImagesPath+"vicons/maximize.png"),R.attr("state","minimized"));break;case"closable":R.hide();break;case"fixed":break}},y=function(R){var Q=T(R).children(".captionWrapper");Q.length===1&&setTimeout(function(){n.Screen.getCurrentScreen()===R&&n.View.getCurrentView()!==null||(Q.animate({opacity:1},400),Q.css("z-index",9999))},600)},S=function(R){var Q=T(R).children(".captionWrapper");Q.length===1&&(Q.css("opacity",0),Q.css("z-index",1))};return{init:u,drawCaption:d,onCaptionButtonClicked:m,loadScreenCaptionAfterCloseView:y,unloadScreenCaptionBeforeOpenView:S}})(SceneMaker,jQuery),SceneMaker.Slides=(function(n,T,A){var u=function(){},d=function(){var V=n.View.getCurrentView();return typeof V=="undefined"||V===null?n.Screen.getCurrentScreen():V},v=function(){var V=n.View.getCurrentViewNumber();return typeof V!="undefined"?V:n.Screen.getCurrentScreenNumber()},m=function(V){var M=T(V),H=M.attr("id");return M.find("img.slide_background#"+H+"_background")},I=function(V){var M=m(V);return M.length>0?M.attr("src"):A},y=function(V,M){var H=T(V);if(H.attr("type")!==n.Constant.VIEW_CONTENT){var X=m(H);X.attr("src",M)}},S=function(V){return V&&V.tagName==="ARTICLE"||typeof V=="object"&&V.length===1&&V[0].tagName==="ARTICLE"?T(V).attr("type"):typeof V=="object"&&typeof V.type=="string"?V.type:null},R=function(V){var M;return typeof V=="string"?M=V:M=T(V).attr("type"),M===n.Constant.SCREEN},Q=function(V){var M;return typeof V=="string"?M=V:M=T(V).attr("type"),M===n.Constant.VIEW_IMAGE||M===n.Constant.VIEW_CONTENT},F=function(V){var M=T("#"+V)[0];if(typeof M!="undefined"){if(document.createEvent){var H=document.createEvent("Event");H.initEvent("slideenter",!0,!0),M.dispatchEvent(H)}else if(document.createEventObject){var H=document.createEventObject();M.fireEvent("onslideenter",H)}}},it=function(V){var M=T("#"+V)[0];if(typeof M!="undefined"){if(document.createEvent){var H=document.createEvent("Event");H.initEvent("slideleave",!0,!0),M.dispatchEvent(H)}else if(document.createEventObject){var H=document.createEventObject();M.fireEvent("onslideleave",H)}}};return{init:u,getCurrentSlide:d,getCurrentSlideNumber:v,getSlideBackgroundImg:m,getSlideBackground:I,changeSlideBackground:y,getSlideType:S,isScreen:R,isView:Q,triggerSlideEnterEvent:F,triggerSlideLeaveEvent:it}})(SceneMaker,jQuery),SceneMaker.Events=(function(n,T,A){var u=!1,d=function(){if(!u){u=!0,T("article").live("slideenter",n.Viewer.onSlideEnterViewer),T("article").live("slideleave",n.Viewer.onSlideLeaveViewer),T(document).on("click",".close_view",n.View.onCloseViewClicked),T(document).on("click",".captionHeaderWrapper img",n.Caption.onCaptionButtonClicked);var m=A;window.onresize=function(){typeof m=="undefined"?(m=!1,setTimeout(function(){m?(m=A,window.onresize()):(m=A,v())},600)):m=!0},T(window).on("orientationchange",function(){T(window).trigger("resize")}),window.onbeforeunload=function(){n.EventsNotifier.notifyEvent("EXIT")}}},v=function(){n.ViewerAdapter.updateInterface()};return{init:d}})(SceneMaker,jQuery),SceneMaker.EventsNotifier=(function(n,T,A){var u=!1,d,v=function(){u||(u=!0,d=new Array)},m=function(S,R){S in d||(d[S]=[]),d[S].push(R)},I=function(S,R){S in d&&d[S].indexOf(R)!==-1&&d[S].splice(d[S].indexOf(R),1)},y=function(S,R,Q){if(d){R=R||{},R.triggeredByUser=Q!==!1;var F=d[S];if(F)for(var it=0;it<F.length;it++)F[it](R)}};return{init:v,notifyEvent:y,registerCallback:m,unRegisterCallback:I}})(SceneMaker,jQuery),SceneMaker.FullScreen=(function(n,T,A){var u,d,v,m=function(){I(),y()},I=function(){try{var ft=n.Status.getContainer();if(typeof ft!="undefined"){if(typeof T(ft).attr("allowfullscreen")=="undefined")T(ft).attr("allowfullscreen","true"),T(ft).attr("webkitAllowFullScreen","true"),T(ft).attr("mozallowfullscreen","true");else if(T(ft).attr("allowfullscreen")==="false"){T(ft).removeAttr("allowfullscreen"),T(ft).removeAttr("webkitAllowFullScreen"),T(ft).removeAttr("mozallowfullscreen");return}var q=pt();n.Status.getContainerType()==="OBJECT"&&(T(ft).addClass("ScreenMakerFS"),T(q).addClass("ScreenMakerFS"),T(window.parent.document).find("head").append("<style>.ScreenMakerFS:full-screen, :full-screen > object.ScreenMakerFS {width: 100% !important;height: 100% !important;}</style>"),T(window.parent.document).find("head").append("<style>.ScreenMakerFS:-webkit-full-screen, :-webkit-full-screen > object.ScreenMakerFS {width: 100% !important;height: 100% !important;}</style>"),T(window.parent.document).find("head").append("<style>.ScreenMakerFS:-moz-full-screen, :-moz-full-screen > object.ScreenMakerFS {width: 100% !important;height: 100% !important;}</style>"))}}catch(At){}},y=function(){X()?T("#page-fullscreen").removeClass("fsoff").addClass("fson"):T("#page-fullscreen").removeClass("fson").addClass("fsoff")},S=function(){var ft=document.createElement("div");return!!(ft&&(ft.requestFullScreen||ft.mozRequestFullScreen||ft.webkitRequestFullScreen||ft.msRequestFullscreen))},R=function(){return!n.Editing&&Q()},Q=function(){return n.Status.getDevice().features.fullscreen&&F(Pt())},F=function(ft){return ft.fullscreenEnabled||ft.mozFullScreenEnabled||ft.webkitFullscreenEnabled||ft.msFullscreenEnabled},it=function(){T(document).on("click","#page-fullscreen",V),T(Pt()).on("webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange",function(ft){d=u,u=st(Pt()),v=new Date,y()})},V=function(){var ft=Pt(),q=pt();X()?H(ft):M(ft,q)},M=function(ft,q){q.requestFullscreen?q.requestFullscreen():q.mozRequestFullScreen?q.mozRequestFullScreen():q.webkitRequestFullscreen?(q.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT),setTimeout(function(){ft.webkitCurrentFullScreenElement||q.webkitRequestFullScreen()},250)):q.msRequestFullscreen&&q.msRequestFullscreen()},H=function(ft){ft.exitFullscreen?ft.exitFullscreen():ft.cancelFullScreen?ft.cancelFullScreen():ft.mozCancelFullScreen?ft.mozCancelFullScreen():ft.webkitExitFullscreen?ft.webkitExitFullscreen():ft.webkitCancelFullScreen?ft.webkitCancelFullScreen():ft.msExitFullscreen&&ft.msExitFullscreen()},X=function(){return n.Status.getContainerType()==="OBJECT"?Z():T(st(Pt())).is("html")},Z=function(){var ft=st(Pt());return typeof ft!="undefined"&&ft!==null},st=function(ft){return ft.fullscreenElement||ft.mozFullScreenElement||ft.webkitFullscreenElement||ft.msFullscreenElement},Pt=function(){return n.Status.getContainerType()=="OBJECT"?window.parent.document:document},pt=function(){return n.Status.getContainerType()==="OBJECT"?n.Status.getContainer().parentElement:document.documentElement};return{init:m,isFullScreenSupported:S,canFullScreen:R,enableFullScreen:it,isFullScreen:X}})(SceneMaker,jQuery),SceneMaker.Escapp=(function(n,T,A){var u,d,v,m,I,y=function(Z,st){if(d=[],I={},v=R(st),m=F(st),!(v.length===0&&m.length===0)&&n.Status.isPreview()!==!0){var Pt=S(Z,st),pt=n.Utils.deepMerge(Z.escapp||{},Pt);pt.onNewErStateCallback=function(ft){V(ft)},pt.onErRestartCallback=function(ft){d=[],V(ft)},u=new ESCAPP(pt),n.Debugging.log("Escapp client initiated with settings:",u.getSettings()),u.validate((ft,q)=>{try{n.Debugging.log("Escapp validation",ft,q),ft&&V(q)}catch(At){n.Debugging.log("Error in escapp validate callback",At)}})}},S=function(Z,st){var Pt={imagesPath:n.ImagesPath+"libs/escapp/",linkedPuzzleIds:v,relatedPuzzleIds:m,preview:n.Status.isPreview(),silent:n.Debugging.isDevelopping()!==!0,forceValidation:!0,notifications:"FALSE",rtc:!0,restoreState:"AUTO",I18n:{locale:n.I18n.getLanguage()}};return typeof Z.user!="undefined"&&(Pt.user=Z.user),Pt},R=function(Z){var st=[];for(var Pt in Z.screens){var pt=Z.screens[Pt];for(var ft in pt.hotspots){var q=pt.hotspots[ft];st=st.concat(Q(q.actions))}for(var At in pt.hotzones){var _t=pt.hotzones[At];st=st.concat(Q(_t.actions))}}return st=[...new Set(st.map(Number).filter(Jt=>!isNaN(Jt)))].sort((Jt,g)=>Jt-g),st},Q=function(Z){var st=[];if(Array.isArray(Z))for(var Pt in Z){var pt=Z[Pt];pt.actionType==="solvePuzzle"&&typeof pt.actionParams!="undefined"&&typeof pt.actionParams.puzzleId=="string"&&st.push(pt.actionParams.puzzleId)}return st},F=function(Z){var st=it(Z.actions);return st=st.map(Number).filter(Pt=>!isNaN(Pt)).concat(v),st=[...new Set(st)].sort((Pt,pt)=>Pt-pt),st},it=function(Z){var st=[];if(Array.isArray(Z))for(var Pt in Z){var pt=Z[Pt];if(typeof pt.event!="undefined"){var ft=pt.event;ft.eventType==="puzzleSolved"&&typeof ft.eventParams!="undefined"&&typeof ft.eventParams.puzzleId=="string"&&(st.push(ft.eventParams.puzzleId),typeof I[ft.eventParams.puzzleId]=="undefined"&&(I[ft.eventParams.puzzleId]=[]),I[ft.eventParams.puzzleId].push(pt))}}return st},V=function(Z,st=!1){if(typeof Z!="undefined"&&Array.isArray(Z.puzzlesSolved)){var Pt=Z.puzzlesSolved.filter(ft=>!d.includes(ft)&&m.includes(ft)).sort((ft,q)=>ft-q),pt=[];Pt.forEach(function(ft){d.push(ft);var q=I[ft];Array.isArray(q)&&(pt=pt.concat(q))}),d=d.sort((ft,q)=>ft-q),M(pt,st)}},M=function(Z,st){var Pt=Z.map(ft=>ft.actionType).reduce((ft,q,At)=>q==="goToScreen"||q==="openView"?At:ft,-1);Z=Z.filter((ft,q)=>!(ft.actionType==="goToScreen"||ft.actionType==="openView")||q===Pt);var pt=Z.map(ft=>ft.actionType).reduce((ft,q,At)=>q==="playSound"?At:ft,-1);Z=Z.filter((ft,q)=>ft.actionType!=="playSound"||q===pt),st===!1&&(Z=Z.map(ft=>({...ft,actionParams:ft.actionParams?(({delay:q,...At})=>At)(ft.actionParams):ft.actionParams}))),n.Actions.performActions(Z)},H=function(Pt,st){var Pt=Number(Pt);if(!isNaN(Pt)&&v.includes(Pt)&&!d.includes(Pt))if(n.Status.isPreview()!==!0)typeof u!="undefined"&&u.submitPuzzle(Pt,st,{},(ft,q)=>{ft&&V(q.erState,!0)});else{var pt={puzzlesSolved:JSON.parse(JSON.stringify(d))};pt.puzzlesSolved.push(Pt),V(pt,!0)}},X=function(){return u};return{init:y,getEscapp:X,submitPuzzleSolution:H}})(SceneMaker,jQuery);
